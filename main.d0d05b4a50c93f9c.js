"use strict";(self.webpackChunkapregolfer=self.webpackChunkapregolfer||[]).push([[179],{6217:(Wt,Ge,O)=>{O.d(Ge,{nm:()=>ki});var _=O(2122);O(4650),O(259);var He=O(5861),De=O(9681),pe=O(4859),ze=O(2090),Xe=O(1877);const ge=new Map,Ce={activated:!1,tokenObservers:[]},$e={initialized:!1,enabled:!1};function mt(Qe){return ge.get(Qe)||Object.assign({},Ce)}function Pt(){return $e}const rt="https://content-firebaseappcheck.googleapis.com/v1",kt="exchangeDebugToken",It={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class St{constructor(je,lt,Bt,Zt,mn){if(this.operation=je,this.retryPolicy=lt,this.getWaitDuration=Bt,this.lowerBound=Zt,this.upperBound=mn,this.pending=null,this.nextErrorWaitInterval=Zt,Zt>mn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(je){var lt=this;return(0,He.Z)(function*(){lt.stop();try{lt.pending=new ze.BH,yield function bt(Qe){return new Promise(je=>{setTimeout(je,Qe)})}(lt.getNextRun(je)),lt.pending.resolve(),yield lt.pending.promise,lt.pending=new ze.BH,yield lt.operation(),lt.pending.resolve(),yield lt.pending.promise,lt.process(!0).catch(()=>{})}catch(Bt){lt.retryPolicy(Bt)?lt.process(!1).catch(()=>{}):lt.stop()}})()}getNextRun(je){if(je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const lt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),lt}}}const at=new ze.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function On(Qe,je){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,He.Z)(function*({url:Qe,body:je},lt){const Bt={"Content-Type":"application/json"},Zt=lt.getImmediate({optional:!0});if(Zt){const Nr=yield Zt.getHeartbeatsHeader();Nr&&(Bt["X-Firebase-Client"]=Nr)}const mn={method:"POST",body:JSON.stringify(je),headers:Bt};let Jn,Wn;try{Jn=yield fetch(Qe,mn)}catch(Nr){throw at.create("fetch-network-error",{originalErrorMessage:Nr?.message})}if(200!==Jn.status)throw at.create("fetch-status-error",{httpStatus:Jn.status});try{Wn=yield Jn.json()}catch(Nr){throw at.create("fetch-parse-error",{originalErrorMessage:Nr?.message})}const ti=Wn.ttl.match(/^([\d.]+)(s)$/);if(!ti||!ti[2]||isNaN(Number(ti[1])))throw at.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Wn.ttl}`});const lr=1e3*Number(ti[1]),Pr=Date.now();return{token:Wn.token,expireTimeMillis:Pr+lr,issuedAtTimeMillis:Pr}})).apply(this,arguments)}const _n="firebase-app-check-database",ii=1,fi="firebase-app-check-store";let ai=null;function Ci(Qe,je){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,He.Z)(function*(Qe,je){const Bt=(yield function dn(){return ai||(ai=new Promise((Qe,je)=>{try{const lt=indexedDB.open(_n,ii);lt.onsuccess=Bt=>{Qe(Bt.target.result)},lt.onerror=Bt=>{var Zt;je(at.create("storage-open",{originalErrorMessage:null===(Zt=Bt.target.error)||void 0===Zt?void 0:Zt.message}))},lt.onupgradeneeded=Bt=>{0===Bt.oldVersion&&Bt.target.result.createObjectStore(fi,{keyPath:"compositeKey"})}}catch(lt){je(at.create("storage-open",{originalErrorMessage:lt?.message}))}}),ai)}()).transaction(fi,"readwrite"),mn=Bt.objectStore(fi).put({compositeKey:Qe,value:je});return new Promise((Jn,Wn)=>{mn.onsuccess=ti=>{Jn()},Bt.onerror=ti=>{var lr;Wn(at.create("storage-set",{originalErrorMessage:null===(lr=ti.target.error)||void 0===lr?void 0:lr.message}))}})})).apply(this,arguments)}const Ot=new Xe.Yd("@firebase/app-check");function Nt(Qe,je){return(0,ze.hl)()?function Wi(Qe,je){return Ci(function Un(Qe){return`${Qe.options.appId}-${Qe.name}`}(Qe),je)}(Qe,je).catch(lt=>{Ot.warn(`Failed to write token to IndexedDB. Error: ${lt}`)}):Promise.resolve()}function kn(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,He.Z)(function*(){const Qe=Pt();if(Qe.enabled&&Qe.token)return Qe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $t={error:"UNKNOWN_ERROR"};function Re(Qe){return ze.US.encodeString(JSON.stringify(Qe),!1)}function K(Qe){return P.apply(this,arguments)}function P(){return(P=(0,He.Z)(function*(Qe,je=!1){const lt=Qe.app;!function rn(Qe){if(!mt(Qe).activated)throw at.create("use-before-activation",{appName:Qe.name})}(lt);const Bt=mt(lt);let mn,Zt=Bt.token;if(Zt&&!Fe(Zt)&&(Bt.token=void 0,Zt=void 0),!Zt){const ti=yield Bt.cachedTokenPromise;ti&&(Fe(ti)?Zt=ti:yield Nt(lt,void 0))}if(!je&&Zt&&Fe(Zt))return{token:Zt.token};let Wn,Jn=!1;if(function Ui(){return Pt().enabled}()){Bt.exchangeTokenPromise||(Bt.exchangeTokenPromise=On(function _i(Qe,je){const{projectId:lt,appId:Bt,apiKey:Zt}=Qe.options;return{url:`${rt}/projects/${lt}/apps/${Bt}:${kt}?key=${Zt}`,body:{debug_token:je}}}(lt,yield kn()),Qe.heartbeatServiceProvider).finally(()=>{Bt.exchangeTokenPromise=void 0}),Jn=!0);const ti=yield Bt.exchangeTokenPromise;return yield Nt(lt,ti),Bt.token=ti,{token:ti.token}}try{Bt.exchangeTokenPromise||(Bt.exchangeTokenPromise=Bt.provider.getToken().finally(()=>{Bt.exchangeTokenPromise=void 0}),Jn=!0),Zt=yield mt(lt).exchangeTokenPromise}catch(ti){"appCheck/throttled"===ti.code?Ot.warn(ti.message):Ot.error(ti),mn=ti}return Zt?mn?Wn=Fe(Zt)?{token:Zt.token,internalError:mn}:ot(mn):(Wn={token:Zt.token},Bt.token=Zt,yield Nt(lt,Zt)):Wn=ot(mn),Jn&&function be(Qe,je){const lt=mt(Qe).tokenObservers;for(const Bt of lt)try{"EXTERNAL"===Bt.type&&null!=je.error?Bt.error(je.error):Bt.next(je)}catch{}}(lt,Wn),Wn})).apply(this,arguments)}function ue(Qe,je){const lt=mt(Qe),Bt=lt.tokenObservers.filter(Zt=>Zt.next!==je);0===Bt.length&&lt.tokenRefresher&&lt.tokenRefresher.isRunning()&&lt.tokenRefresher.stop(),lt.tokenObservers=Bt}function Ie(Qe){const{app:je}=Qe,lt=mt(je);let Bt=lt.tokenRefresher;Bt||(Bt=function se(Qe){const{app:je}=Qe;return new St((0,He.Z)(function*(){let Bt;if(Bt=mt(je).token?yield K(Qe,!0):yield K(Qe),Bt.error)throw Bt.error;if(Bt.internalError)throw Bt.internalError}),()=>!0,()=>{const lt=mt(je);if(lt.token){let Bt=lt.token.issuedAtTimeMillis+.5*(lt.token.expireTimeMillis-lt.token.issuedAtTimeMillis)+3e5;return Bt=Math.min(Bt,lt.token.expireTimeMillis-3e5),Math.max(0,Bt-Date.now())}return 0},It.RETRIAL_MIN_WAIT,It.RETRIAL_MAX_WAIT)}(Qe),lt.tokenRefresher=Bt),!Bt.isRunning()&&lt.isTokenAutoRefreshEnabled&&Bt.start()}function Fe(Qe){return Qe.expireTimeMillis-Date.now()>0}function ot(Qe){return{token:Re($t),error:Qe}}class Ye{constructor(je,lt){this.app=je,this.heartbeatServiceProvider=lt}_delete(){const{tokenObservers:je}=mt(this.app);for(const lt of je)ue(this.app,lt.next);return Promise.resolve()}}const Or="app-check-internal";!function rs(){(0,De._registerComponent)(new pe.wA("app-check",Qe=>function sn(Qe,je){return new Ye(Qe,je)}(Qe.getProvider("app").getImmediate(),Qe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Qe,je,lt)=>{Qe.getProvider(Or).initialize()})),(0,De._registerComponent)(new pe.wA(Or,Qe=>function Ne(Qe){return{getToken:je=>K(Qe,je),addTokenListener:je=>function j(Qe,je,lt,Bt){const{app:Zt}=Qe,mn=mt(Zt);if(mn.tokenObservers=[...mn.tokenObservers,{next:lt,error:Bt,type:je}],mn.token&&Fe(mn.token)){const Wn=mn.token;Promise.resolve().then(()=>{lt({token:Wn.token}),Ie(Qe)}).catch(()=>{})}mn.cachedTokenPromise.then(()=>Ie(Qe))}(Qe,"INTERNAL",je),removeTokenListener:je=>ue(Qe.app,je)}}(Qe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)("@firebase/app-check","0.6.5")}();class ki{constructor(){return(0,_.vb)("app-check")}}typeof window<"u"&&window},3385:(Wt,Ge,O)=>{O.d(Ge,{zQ:()=>mt,ww:()=>en,rT:()=>Xe,f7:()=>Ce,L6:()=>pe,_Q:()=>ze,lh:()=>ge,Qv:()=>De,nw:()=>$e});var _=O(4650),h=O(7579),X=O(9646),ve=O(9751),Ae=O(8996),Se=O(6451),we=O(5363),ce=O(3900),xe=O(4004),ie=O(3151),ye=O(590),me=O(576);function nt(Pt,rt){return(0,me.m)(rt)?(0,ce.w)(()=>Pt,rt):(0,ce.w)(()=>Pt)}var Ke=O(9468),xt=O(9300),ht=O(2122),qe=O(2011),Le=O(6895),Ee=O(6217),Ct=O(9260);const De=new _.OlP("angularfire2.auth.use-emulator"),pe=new _.OlP("angularfire2.auth.settings"),ze=new _.OlP("angularfire2.auth.tenant-id"),Xe=new _.OlP("angularfire2.auth.langugage-code"),ge=new _.OlP("angularfire2.auth.use-device-language"),Ce=new _.OlP("angularfire.auth.persistence"),$e=(Pt,rt,ft,Et,kt,It,Rt,St)=>(0,qe.cc)(`${Pt.name}.auth`,"AngularFireAuth",Pt.name,()=>{const bt=rt.runOutsideAngular(()=>Pt.auth());if(ft&&bt.useEmulator(...ft),Et&&(bt.tenantId=Et),bt.languageCode=kt,It&&bt.useDeviceLanguage(),Rt)for(const[et,at]of Object.entries(Rt))bt.settings[et]=at;return St&&bt.setPersistence(St),bt},[ft,Et,kt,It,Rt,St]);let mt=(()=>{class Pt{constructor(ft,Et,kt,It,Rt,St,bt,et,at,wn,rn,Tn){const En=new h.x,On=(0,X.of)(void 0).pipe((0,we.Q)(Rt.outsideAngular),(0,ce.w)(()=>It.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,6689)))),(0,xe.U)(()=>(0,qe.on)(ft,It,Et)),(0,xe.U)(Vn=>$e(Vn,It,St,et,at,wn,bt,rn)),(0,ie.d)({bufferSize:1,refCount:!1}));if((0,Le.PM)(kt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,X.of)(null);else{On.pipe((0,ye.P)()).subscribe();const Ei=On.pipe((0,ce.w)(_n=>_n.getRedirectResult().then(ii=>ii,()=>null)),ht.iC,(0,ie.d)({bufferSize:1,refCount:!1})),Hn=On.pipe((0,ce.w)(_n=>new ve.y(ii=>({unsubscribe:It.runOutsideAngular(()=>_n.onAuthStateChanged(fi=>ii.next(fi),fi=>ii.error(fi),()=>ii.complete()))})))),_i=On.pipe((0,ce.w)(_n=>new ve.y(ii=>({unsubscribe:It.runOutsideAngular(()=>_n.onIdTokenChanged(fi=>ii.next(fi),fi=>ii.error(fi),()=>ii.complete()))}))));this.authState=Ei.pipe(nt(Hn),(0,Ke.R)(Rt.outsideAngular),(0,we.Q)(Rt.insideAngular)),this.user=Ei.pipe(nt(_i),(0,Ke.R)(Rt.outsideAngular),(0,we.Q)(Rt.insideAngular)),this.idToken=this.user.pipe((0,ce.w)(_n=>_n?(0,Ae.D)(_n.getIdToken()):(0,X.of)(null))),this.idTokenResult=this.user.pipe((0,ce.w)(_n=>_n?(0,Ae.D)(_n.getIdTokenResult()):(0,X.of)(null))),this.credential=(0,Se.T)(Ei,En,this.authState.pipe((0,xt.h)(_n=>!_n))).pipe((0,xe.U)(_n=>_n?.user?_n:null),(0,Ke.R)(Rt.outsideAngular),(0,we.Q)(Rt.insideAngular))}return(0,qe.pX)(this,On,It,{spy:{apply:(Vn,Ei,Hn)=>{(Vn.startsWith("signIn")||Vn.startsWith("createUser"))&&Hn.then(_i=>En.next(_i))}}})}}return Pt.\u0275fac=function(ft){return new(ft||Pt)(_.LFG(qe.Dh),_.LFG(qe.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(ht.HU),_.LFG(De,8),_.LFG(pe,8),_.LFG(ze,8),_.LFG(Xe,8),_.LFG(ge,8),_.LFG(Ce,8),_.LFG(Ee.nm,8))},Pt.\u0275prov=_.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"any"}),Pt})(),en=(()=>{class Pt{constructor(){Ct.Z.registerVersion("angularfire",ht.q4.full,"auth-compat")}}return Pt.\u0275fac=function(ft){return new(ft||Pt)},Pt.\u0275mod=_.oAB({type:Pt}),Pt.\u0275inj=_.cJS({providers:[mt]}),Pt})()},3101:(Wt,Ge,O)=>{O.d(Ge,{ST:()=>qp,yb:()=>$y});var _=O(4650),h=O(4986),X=O(9751),ve=O(8996),Ae=O(9646),Se=O(2122),we=O(8675),ce=O(4482),xe=O(5403);function ie(){return(0,ce.e)((a,t)=>{let i,c=!1;a.subscribe((0,xe.x)(t,m=>{const v=i;i=m,c&&t.next([v,m]),c=!0}))})}var ge,ye=O(4004),me=O(5026),nt=O(1884),Ke=O(9300),xt=O(2011),ht=O(6895),Le=(O(6689),O(3942)),Ee=O(5861),Ct=O(9681),He=O(4859),De=O(1877),pe=O(2090),ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xe={},Ce=Ce||{},$e=ze||self;function mt(){}function en(a){var t=typeof a;return"array"==(t="object"!=t?t:a?Array.isArray(a)?"array":t:"null")||"object"==t&&"number"==typeof a.length}function Pt(a){var t=typeof a;return"object"==t&&null!=a||"function"==t}var ft="closure_uid_"+(1e9*Math.random()>>>0),Et=0;function kt(a,t,i){return a.call.apply(a.bind,arguments)}function It(a,t,i){if(!a)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,c),a.apply(t,m)}}return function(){return a.apply(t,arguments)}}function Rt(a,t,i){return(Rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kt:It).apply(null,arguments)}function St(a,t){var i=Array.prototype.slice.call(arguments,1);return function(){var c=i.slice();return c.push.apply(c,arguments),a.apply(this,c)}}function bt(a,t){function i(){}i.prototype=t.prototype,a.X=t.prototype,a.prototype=new i,a.prototype.constructor=a,a.Wb=function(c,m,v){for(var E=Array(arguments.length-2),k=2;k<arguments.length;k++)E[k-2]=arguments[k];return t.prototype[m].apply(c,E)}}function et(){this.s=this.s,this.o=this.o}et.prototype.s=!1,et.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function rt(a){Object.prototype.hasOwnProperty.call(a,ft)&&a[ft]||(a[ft]=++Et)}(this)},et.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wn=Array.prototype.indexOf?function(a,t){return Array.prototype.indexOf.call(a,t,void 0)}:function(a,t){if("string"==typeof a)return"string"!=typeof t||1!=t.length?-1:a.indexOf(t,0);for(let i=0;i<a.length;i++)if(i in a&&a[i]===t)return i;return-1};function rn(a){const t=a.length;if(0<t){const i=Array(t);for(let c=0;c<t;c++)i[c]=a[c];return i}return[]}function Tn(a,t){for(let i=1;i<arguments.length;i++){const c=arguments[i];if(en(c)){const m=a.length||0,v=c.length||0;a.length=m+v;for(let E=0;E<v;E++)a[m+E]=c[E]}else a.push(c)}}function En(a,t){this.type=a,this.g=this.target=t,this.defaultPrevented=!1}En.prototype.h=function(){this.defaultPrevented=!0};var On=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var a=!1,t=Object.defineProperty({},"passive",{get:function(){a=!0}});try{$e.addEventListener("test",mt,t),$e.removeEventListener("test",mt,t)}catch{}return a}();function Vn(a){return/^[\s\xa0]*$/.test(a)}var Ei=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Hn(a,t){return a<t?-1:a>t?1:0}function _i(){var a=$e.navigator;return a&&(a=a.userAgent)?a:""}function _n(a){return-1!=_i().indexOf(a)}function ii(a){return ii[" "](a),a}ii[" "]=mt;var Ci,a,ci=_n("Opera"),ai=_n("Trident")||_n("MSIE"),dn=_n("Edge"),yi=dn||ai,Wi=_n("Gecko")&&!(-1!=_i().toLowerCase().indexOf("webkit")&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),di=-1!=_i().toLowerCase().indexOf("webkit")&&!_n("Edge");function pi(){var a=$e.document;return a?a.documentMode:void 0}e:{var Sn="",on=(a=_i(),Wi?/rv:([^\);]+)(\)|;)/.exec(a):dn?/Edge\/([\d\.]+)/.exec(a):ai?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):di?/WebKit\/(\S+)/.exec(a):ci?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(on&&(Sn=on?on[1]:""),ai){var Dt=pi();if(null!=Dt&&Dt>parseFloat(Sn)){Ci=String(Dt);break e}}Ci=Sn}var Un={};var Nt=$e.document&&ai&&(pi()||parseInt(Ci,10))||void 0;function Pn(a,t){if(En.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var i=this.type=a.type,c=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=t,t=a.relatedTarget){if(Wi){e:{try{ii(t.nodeName);var m=!0;break e}catch{}m=!1}m||(t=null)}}else"mouseover"==i?t=a.fromElement:"mouseout"==i&&(t=a.toElement);this.relatedTarget=t,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:Cn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Pn.X.h.call(this)}}bt(Pn,En);var Cn={2:"touch",3:"pen",4:"mouse"};Pn.prototype.h=function(){Pn.X.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ui="closure_listenable_"+(1e6*Math.random()|0),kn=0;function Ai(a,t,i,c,m){this.listener=a,this.proxy=null,this.src=t,this.type=i,this.capture=!!c,this.ha=m,this.key=++kn,this.ba=this.ea=!1}function ri(a){a.ba=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function $t(a,t,i){for(const c in a)t.call(i,a[c],c,a)}function Re(a){const t={};for(const i in a)t[i]=a[i];return t}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,t){let i,c;for(let m=1;m<arguments.length;m++){for(i in c=arguments[m],c)a[i]=c[i];for(let v=0;v<K.length;v++)i=K[v],Object.prototype.hasOwnProperty.call(c,i)&&(a[i]=c[i])}}function j(a){this.src=a,this.g={},this.h=0}function ue(a,t){var i=t.type;if(i in a.g){var v,c=a.g[i],m=wn(c,t);(v=0<=m)&&Array.prototype.splice.call(c,m,1),v&&(ri(t),0==a.g[i].length&&(delete a.g[i],a.h--))}}function Ie(a,t,i,c){for(var m=0;m<a.length;++m){var v=a[m];if(!v.ba&&v.listener==t&&v.capture==!!i&&v.ha==c)return m}return-1}j.prototype.add=function(a,t,i,c,m){var v=a.toString();(a=this.g[v])||(a=this.g[v]=[],this.h++);var E=Ie(a,t,c,m);return-1<E?(t=a[E],i||(t.ea=!1)):((t=new Ai(t,this.src,v,!!c,m)).ea=i,a.push(t)),t};var se="closure_lm_"+(1e6*Math.random()|0),be={};function Fe(a,t,i,c,m){if(c&&c.once)return sn(a,t,i,c,m);if(Array.isArray(t)){for(var v=0;v<t.length;v++)Fe(a,t[v],i,c,m);return null}return i=tn(i),a&&a[Ui]?a.N(t,i,Pt(c)?!!c.capture:!!c,m):ot(a,t,i,!1,c,m)}function ot(a,t,i,c,m,v){if(!t)throw Error("Invalid event type");var E=Pt(m)?!!m.capture:!!m,k=yt(a);if(k||(a[se]=k=new j(a)),(i=k.add(t,i,c,E,v)).proxy)return i;if(c=function Ye(){const t=Be;return function a(i){return t.call(a.src,a.listener,i)}}(),i.proxy=c,c.src=a,c.listener=i,a.addEventListener)On||(m=E),void 0===m&&(m=!1),a.addEventListener(t.toString(),c,m);else if(a.attachEvent)a.attachEvent(de(t.toString()),c);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(c)}return i}function sn(a,t,i,c,m){if(Array.isArray(t)){for(var v=0;v<t.length;v++)sn(a,t[v],i,c,m);return null}return i=tn(i),a&&a[Ui]?a.O(t,i,Pt(c)?!!c.capture:!!c,m):ot(a,t,i,!0,c,m)}function Ne(a,t,i,c,m){if(Array.isArray(t))for(var v=0;v<t.length;v++)Ne(a,t[v],i,c,m);else c=Pt(c)?!!c.capture:!!c,i=tn(i),a&&a[Ui]?(a=a.i,(t=String(t).toString())in a.g&&-1<(i=Ie(v=a.g[t],i,c,m))&&(ri(v[i]),Array.prototype.splice.call(v,i,1),0==v.length&&(delete a.g[t],a.h--))):a&&(a=yt(a))&&(t=a.g[t.toString()],a=-1,t&&(a=Ie(t,i,c,m)),(i=-1<a?t[a]:null)&&Oe(i))}function Oe(a){if("number"!=typeof a&&a&&!a.ba){var t=a.src;if(t&&t[Ui])ue(t.i,a);else{var i=a.type,c=a.proxy;t.removeEventListener?t.removeEventListener(i,c,a.capture):t.detachEvent?t.detachEvent(de(i),c):t.addListener&&t.removeListener&&t.removeListener(c),(i=yt(t))?(ue(i,a),0==i.h&&(i.src=null,t[se]=null)):ri(a)}}}function de(a){return a in be?be[a]:be[a]="on"+a}function Be(a,t){if(a.ba)a=!0;else{t=new Pn(t,this);var i=a.listener,c=a.ha||a.src;a.ea&&Oe(a),a=i.call(c,t)}return a}function yt(a){return(a=a[se])instanceof j?a:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function tn(a){return"function"==typeof a?a:(a[Lt]||(a[Lt]=function(t){return a.handleEvent(t)}),a[Lt])}function Mn(){et.call(this),this.i=new j(this),this.P=this,this.I=null}function Vt(a,t){var i,c=a.I;if(c)for(i=[];c;c=c.I)i.push(c);if(a=a.P,c=t.type||t,"string"==typeof t)t=new En(t,a);else if(t instanceof En)t.target=t.target||a;else{var m=t;P(t=new En(c,a),m)}if(m=!0,i)for(var v=i.length-1;0<=v;v--){var E=t.g=i[v];m=qr(E,c,!0,t)&&m}if(m=qr(E=t.g=a,c,!0,t)&&m,m=qr(E,c,!1,t)&&m,i)for(v=0;v<i.length;v++)m=qr(E=t.g=i[v],c,!1,t)&&m}function qr(a,t,i,c){if(!(t=a.i.g[String(t)]))return!0;t=t.concat();for(var m=!0,v=0;v<t.length;++v){var E=t[v];if(E&&!E.ba&&E.capture==i){var k=E.listener,$=E.ha||E.src;E.ea&&ue(a.i,E),m=!1!==k.call($,c)&&m}}return m&&!c.defaultPrevented}bt(Mn,et),Mn.prototype[Ui]=!0,Mn.prototype.removeEventListener=function(a,t,i,c){Ne(this,a,t,i,c)},Mn.prototype.M=function(){if(Mn.X.M.call(this),this.i){var t,a=this.i;for(t in a.g){for(var i=a.g[t],c=0;c<i.length;c++)ri(i[c]);delete a.g[t],a.h--}}this.I=null},Mn.prototype.N=function(a,t,i,c){return this.i.add(String(a),t,!1,i,c)},Mn.prototype.O=function(a,t,i,c){return this.i.add(String(a),t,!0,i,c)};var mr=$e.JSON.stringify;function $s(){var a=ws;let t=null;return a.g&&(t=a.g,a.g=a.g.next,a.g||(a.h=null),t.next=null),t}var ui,Co=new class{constructor(a,t){this.i=a,this.j=t,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}(()=>new Ws,a=>a.reset());class Ws{constructor(){this.next=this.g=this.h=null}set(t,i){this.h=t,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function uo(a){$e.setTimeout(()=>{throw a},0)}function bs(a,t){ui||function ar(){var a=$e.Promise.resolve(void 0);ui=function(){a.then(is)}}(),qi||(ui(),qi=!0),ws.add(a,t)}var qi=!1,ws=new class fs{constructor(){this.h=this.g=null}add(t,i){const c=Co.get();c.set(t,i),this.h?this.h.next=c:this.g=c,this.h=c}};function is(){for(var a;a=$s();){try{a.h.call(a.g)}catch(i){uo(i)}var t=Co;t.j(a),100>t.h&&(t.h++,a.next=t.g,t.g=a)}qi=!1}function Mi(a,t){Mn.call(this),this.h=a||1,this.g=t||$e,this.j=Rt(this.lb,this),this.l=Date.now()}function fn(a){a.ca=!1,a.R&&(a.g.clearTimeout(a.R),a.R=null)}function Nn(a,t,i){if("function"==typeof a)i&&(a=Rt(a,i));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=Rt(a.handleEvent,a)}return 2147483647<Number(t)?-1:$e.setTimeout(a,t||0)}function Di(a){a.g=Nn(()=>{a.g=null,a.i&&(a.i=!1,Di(a))},a.j);const t=a.h;a.h=null,a.m.apply(null,t)}bt(Mi,Mn),(ge=Mi.prototype).ca=!1,ge.R=null,ge.lb=function(){if(this.ca){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-a):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Vt(this,"tick"),this.ca&&(fn(this),this.start()))}},ge.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ge.M=function(){Mi.X.M.call(this),fn(this),delete this.g};class Or extends et{constructor(t,i){super(),this.m=t,this.j=i,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Di(this)}M(){super.M(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(a){et.call(this),this.h=a,this.g={}}bt(rs,et);var Gn=[];function Ki(a,t,i,c){Array.isArray(i)||(i&&(Gn[0]=i.toString()),i=Gn);for(var m=0;m<i.length;m++){var v=Fe(t,i[m],c||a.handleEvent,!1,a.h||a);if(!v)break;a.g[v.key]=v}}function ki(a){$t(a.g,function(t,i){this.g.hasOwnProperty(i)&&Oe(t)},a),a.g={}}function Er(){this.g=!0}function Hr(a,t,i,c){a.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Ea(a,t){if(!a.g)return t;if(!t)return null;try{var i=JSON.parse(t);if(i)for(a=0;a<i.length;a++)if(Array.isArray(i[a])){var c=i[a];if(!(2>c.length)){var m=c[1];if(Array.isArray(m)&&!(1>m.length)){var v=m[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var E=1;E<m.length;E++)m[E]=""}}}return mr(i)}catch{return t}}(a,i)+(c?" "+c:"")})}rs.prototype.M=function(){rs.X.M.call(this),ki(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Er.prototype.Aa=function(){this.g=!1},Er.prototype.info=function(){};var Dr={},tr=null;function ms(){return tr=tr||new Mn}function Rs(a){En.call(this,Dr.Pa,a)}function es(a){const t=ms();Vt(t,new Rs(t))}function xs(a,t){En.call(this,Dr.STAT_EVENT,a),this.stat=t}function Ir(a){const t=ms();Vt(t,new xs(t,a))}function Vi(a,t){En.call(this,Dr.Qa,a),this.size=t}function Ks(a,t){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){a()},t)}Dr.Pa="serverreachability",bt(Rs,En),Dr.STAT_EVENT="statevent",bt(xs,En),Dr.Qa="timingevent",bt(Vi,En);var Qe={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},je={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function lt(){}function Zt(){}lt.prototype.h=null;var ti,mn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Jn(){En.call(this,"d")}function Wn(){En.call(this,"c")}function lr(){}function Pr(a,t,i,c){this.l=a,this.j=t,this.m=i,this.U=c||1,this.S=new rs(this),this.O=ps,this.T=new Mi(a=yi?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Nr}function Nr(){this.i=null,this.g="",this.h=!1}bt(Jn,En),bt(Wn,En),bt(lr,lt),lr.prototype.g=function(){return new XMLHttpRequest},lr.prototype.i=function(){return{}},ti=new lr;var ps=45e3,Ya={},jr={};function ss(a,t,i){a.K=1,a.v=Ps(Io(t)),a.s=i,a.P=!0,Do(a,null)}function Do(a,t){a.F=Date.now(),Ho(a),a.A=Io(a.v);var i=a.A,c=a.U;Array.isArray(c)||(c=[String(c)]),io(i.i,"t",c),a.C=0,i=a.l.H,a.h=new Nr,a.g=Ao(a.l,i?t:null,!a.s),0<a.N&&(a.L=new Or(Rt(a.La,a,a.g),a.N)),Ki(a.S,a.g,"readystatechange",a.ib),t=a.H?Re(a.H):{},a.s?(a.u||(a.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",a.g.da(a.A,a.u,a.s,t)):(a.u="GET",a.g.da(a.A,a.u,null,t)),es(),function Cr(a,t,i,c,m,v){a.info(function(){if(a.g)if(v)for(var E="",k=v.split("&"),$=0;$<k.length;$++){var te=k[$].split("=");if(1<te.length){var fe=te[0];te=te[1];var Ue=fe.split("_");E=2<=Ue.length&&"type"==Ue[1]?E+(fe+"=")+te+"&":E+(fe+"=redacted&")}}else E=null;else E=v;return"XMLHTTP REQ ("+c+") [attempt "+m+"]: "+t+"\n"+i+"\n"+E})}(a.j,a.u,a.A,a.m,a.U,a.s)}function ra(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Da}function Os(a,t,i){let m,c=!0;for(;!a.I&&a.C<i.length;){if(m=qa(a,i),m==jr){4==t&&(a.o=4,Ir(14),c=!1),Hr(a.j,a.m,null,"[Incomplete Response]");break}if(m==Ya){a.o=4,Ir(15),Hr(a.j,a.m,i,"[Invalid Chunk]"),c=!1;break}Hr(a.j,a.m,m,null),sa(a,m)}ra(a)&&m!=jr&&m!=Ya&&(a.h.g="",a.C=0),4!=t||0!=i.length||a.h.h||(a.o=1,Ir(16),c=!1),a.i=a.i&&c,c?0<i.length&&!a.$&&(a.$=!0,(t=a.l).g==a&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),Sa(t),t.K=!0,Ir(11))):(Hr(a.j,a.m,i,"[Invalid Chunked Response]"),gs(a),Za(a))}function qa(a,t){var i=a.C,c=t.indexOf("\n",i);return-1==c?jr:(i=Number(t.substring(i,c)),isNaN(i)?Ya:(c+=1)+i>t.length?jr:(t=t.substr(c,i),a.C=c+i,t))}function Ho(a){a.V=Date.now()+a.O,Ca(a,a.O)}function Ca(a,t){if(null!=a.B)throw Error("WatchDog timer not null");a.B=Ks(Rt(a.gb,a),t)}function ho(a){a.B&&($e.clearTimeout(a.B),a.B=null)}function Za(a){0==a.l.G||a.I||vc(a.l,a)}function gs(a){ho(a);var t=a.L;t&&"function"==typeof t.na&&t.na(),a.L=null,fn(a.T),ki(a.S),a.g&&(t=a.g,a.g=null,t.abort(),t.na())}function sa(a,t){try{var i=a.l;if(0!=i.G&&(i.g==a||Fs(i.h,a)))if(!a.J&&Fs(i.h,a)&&3==i.G){try{var c=i.Fa.g.parse(t)}catch{c=null}if(Array.isArray(c)&&3==c.length){var m=c;if(0==m[0]){e:if(!i.u){if(i.g){if(!(i.g.F+3e3<a.F))break e;Kl(i),Al(i)}Wo(i),Ir(18)}}else i.Ba=m[1],0<i.Ba-i.T&&37500>m[2]&&i.L&&0==i.A&&!i.v&&(i.v=Ks(Rt(i.cb,i),6e3));if(1>=So(i.h)&&i.ja){try{i.ja()}catch{}i.ja=void 0}}else To(i,11)}else if((a.J||i.g==a)&&Kl(i),!Vn(t))for(m=i.Fa.g.parse(t),t=0;t<m.length;t++){let te=m[t];if(i.T=te[0],te=te[1],2==i.G)if("c"==te[0]){i.I=te[1],i.ka=te[2];const fe=te[3];null!=fe&&(i.ma=fe,i.j.info("VER="+i.ma));const Ue=te[4];null!=Ue&&(i.Ca=Ue,i.j.info("SVER="+i.Ca));const dt=te[5];null!=dt&&"number"==typeof dt&&0<dt&&(i.J=c=1.5*dt,i.j.info("backChannelRequestTimeoutMs_="+c)),c=i;const Ft=a.g;if(Ft){const nn=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nn){var v=c.h;v.g||-1==nn.indexOf("spdy")&&-1==nn.indexOf("quic")&&-1==nn.indexOf("h2")||(v.j=v.l,v.g=new Set,v.h&&(cs(v,v.h),v.h=null))}if(c.D){const bn=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;bn&&(c.za=bn,Hi(c.F,c.D,bn))}}i.G=3,i.l&&i.l.xa(),i.$&&(i.P=Date.now()-a.F,i.j.info("Handshake RTT: "+i.P+"ms"));var E=a;if((c=i).sa=ts(c,c.H?c.ka:null,c.V),E.J){Cl(c.h,E);var k=E,$=c.J;$&&k.setTimeout($),k.B&&(ho(k),Ho(k)),c.g=E}else il(c);0<i.i.length&&el(i)}else"stop"!=te[0]&&"close"!=te[0]||To(i,7);else 3==i.G&&("stop"==te[0]||"close"==te[0]?"stop"==te[0]?To(i,7):yc(i):"noop"!=te[0]&&i.l&&i.l.wa(te),i.A=0)}es()}catch{}}function jo(a,t){if(a.forEach&&"function"==typeof a.forEach)a.forEach(t,void 0);else if(en(a)||"string"==typeof a)Array.prototype.forEach.call(a,t,void 0);else for(var i=function Js(a){if(a.oa&&"function"==typeof a.oa)return a.oa();if(!a.W||"function"!=typeof a.W){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(en(a)||"string"==typeof a){var t=[];a=a.length;for(var i=0;i<a;i++)t.push(i);return t}t=[],i=0;for(const c in a)t[i++]=c;return t}}}(a),c=function fo(a){if(a.W&&"function"==typeof a.W)return a.W();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if("string"==typeof a)return a.split("");if(en(a)){for(var t=[],i=a.length,c=0;c<i;c++)t.push(a[c]);return t}for(c in t=[],i=0,a)t[i++]=a[c];return t}(a),m=c.length,v=0;v<m;v++)t.call(void 0,c[v],i&&i[v],a)}(ge=Pr.prototype).setTimeout=function(a){this.O=a},ge.ib=function(a){a=a.target;const t=this.L;t&&3==Qi(a)?t.l():this.La(a)},ge.La=function(a){try{if(a==this.g)e:{const fe=Qi(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>fe)&&(3!=fe||yi||this.g&&(this.h.h||this.g.fa()||Ls(this.g)))){this.I||4!=fe||7==t||es(),ho(this);var i=this.g.aa();this.Y=i;t:if(ra(this)){var c=Ls(this.g);a="";var m=c.length,v=4==Qi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),Za(this);var E="";break t}this.h.i=new $e.TextDecoder}for(t=0;t<m;t++)this.h.h=!0,a+=this.h.i.decode(c[t],{stream:v&&t==m-1});c.splice(0,m),this.h.g+=a,this.C=0,E=this.h.g}else E=this.g.fa();if(this.i=200==i,function qn(a,t,i,c,m,v,E){a.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+m+"]: "+t+"\n"+i+"\n"+v+" "+E})}(this.j,this.u,this.A,this.m,this.U,fe,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var k,$=this.g;if((k=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vn(k)){var te=k;break t}}te=null}if(!(i=te)){this.i=!1,this.o=3,Ir(12),gs(this),Za(this);break e}Hr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sa(this,i)}this.P?(Os(this,fe,E),yi&&this.i&&3==fe&&(Ki(this.S,this.T,"tick",this.hb),this.T.start())):(Hr(this.j,this.m,E,null),sa(this,E)),4==fe&&gs(this),this.i&&!this.I&&(4==fe?vc(this.l,this):(this.i=!1,Ho(this)))}else 400==i&&0<E.indexOf("Unknown SID")?(this.o=3,Ir(12)):(this.o=0,Ir(13)),gs(this),Za(this)}}}catch{}},ge.hb=function(){if(this.g){var a=Qi(this.g),t=this.g.fa();this.C<t.length&&(ho(this),Os(this,a,t),this.i&&4!=a&&Ho(this))}},ge.cancel=function(){this.I=!0,gs(this)},ge.gb=function(){this.B=null;const a=Date.now();0<=a-this.V?(function ia(a,t){a.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(es(),Ir(17)),gs(this),this.o=2,Za(this)):Ca(this,this.V-a)};var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function os(a,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,a instanceof os){this.h=void 0!==t?t:a.h,Es(this,a.j),this.s=a.s,this.g=a.g,pr(this,a.m),this.l=a.l,t=a.i;var i=new Ns;i.i=t.i,t.g&&(i.g=new Map(t.g),i.h=t.h),as(this,i),this.o=a.o}else a&&(i=String(a).match(eo))?(this.h=!!t,Es(this,i[1]||"",!0),this.s=mo(i[2]||""),this.g=mo(i[3]||"",!0),pr(this,i[4]),this.l=mo(i[5]||"",!0),as(this,i[6]||"",!0),this.o=mo(i[7]||"")):(this.h=!!t,this.i=new Ns(null,this.h))}function Io(a){return new os(a)}function Es(a,t,i){a.j=i?mo(t,!0):t,a.j&&(a.j=a.j.replace(/:$/,""))}function pr(a,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);a.m=t}else a.m=null}function as(a,t,i){t instanceof Ns?(a.i=t,function El(a,t){t&&!a.j&&(vr(a),a.i=null,a.g.forEach(function(i,c){var m=c.toLowerCase();c!=m&&(mi(this,c),io(this,m,i))},a)),a.j=t}(a.i,a.h)):(i||(t=to(t,Qa)),a.i=new Ns(t,a.h))}function Hi(a,t,i){a.i.set(t,i)}function Ps(a){return Hi(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function mo(a,t){return a?t?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function to(a,t,i){return"string"==typeof a?(a=encodeURI(a).replace(t,Gl),i&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Gl(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}os.prototype.toString=function(){var a=[],t=this.j;t&&a.push(to(t,no,!0),":");var i=this.g;return(i||"file"==t)&&(a.push("//"),(t=this.s)&&a.push(to(t,no,!0),"@"),a.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&a.push(":",String(i))),(i=this.l)&&(this.g&&"/"!=i.charAt(0)&&a.push("/"),a.push(to(i,"/"==i.charAt(0)?zo:Da,!0))),(i=this.i.toString())&&a.push("?",i),(i=this.o)&&a.push("#",to(i,Zr)),a.join("")};var no=/[#\/\?@]/g,Da=/[#\?:]/g,zo=/[#\?]/g,Qa=/[#\?@]/g,Zr=/#/g;function Ns(a,t){this.h=this.g=null,this.i=a||null,this.j=!!t}function vr(a){a.g||(a.g=new Map,a.h=0,a.i&&function nr(a,t){if(a){a=a.split("&");for(var i=0;i<a.length;i++){var c=a[i].indexOf("="),m=null;if(0<=c){var v=a[i].substring(0,c);m=a[i].substring(c+1)}else v=a[i];t(v,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}(a.i,function(t,i){a.add(decodeURIComponent(t.replace(/\+/g," ")),i)}))}function mi(a,t){vr(a),t=ji(a,t),a.g.has(t)&&(a.i=null,a.h-=a.g.get(t).length,a.g.delete(t))}function ls(a,t){return vr(a),t=ji(a,t),a.g.has(t)}function io(a,t,i){mi(a,t),0<i.length&&(a.i=null,a.g.set(ji(a,t),rn(i)),a.h+=i.length)}function ji(a,t){return t=String(t),a.j&&(t=t.toLowerCase()),t}function ro(a){this.l=a||gr,a=$e.PerformanceNavigationTiming?0<(a=$e.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!($e.g&&$e.g.Ga&&$e.g.Ga()&&$e.g.Ga().$b),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ge=Ns.prototype).add=function(a,t){vr(this),this.i=null,a=ji(this,a);var i=this.g.get(a);return i||this.g.set(a,i=[]),i.push(t),this.h+=1,this},ge.forEach=function(a,t){vr(this),this.g.forEach(function(i,c){i.forEach(function(m){a.call(t,m,c,this)},this)},this)},ge.oa=function(){vr(this);const a=Array.from(this.g.values()),t=Array.from(this.g.keys()),i=[];for(let c=0;c<t.length;c++){const m=a[c];for(let v=0;v<m.length;v++)i.push(t[c])}return i},ge.W=function(a){vr(this);let t=[];if("string"==typeof a)ls(this,a)&&(t=t.concat(this.g.get(ji(this,a))));else{a=Array.from(this.g.values());for(let i=0;i<a.length;i++)t=t.concat(a[i])}return t},ge.set=function(a,t){return vr(this),this.i=null,ls(this,a=ji(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[t]),this.h+=1,this},ge.get=function(a,t){return a&&0<(a=this.W(a)).length?String(a[0]):t},ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],t=Array.from(this.g.keys());for(var i=0;i<t.length;i++){var c=t[i];const v=encodeURIComponent(String(c)),E=this.W(c);for(c=0;c<E.length;c++){var m=v;""!==E[c]&&(m+="="+encodeURIComponent(String(E[c]))),a.push(m)}}return this.i=a.join("&")};var gr=10;function aa(a){return!!a.h||!!a.g&&a.g.size>=a.j}function So(a){return a.h?1:a.g?a.g.size:0}function Fs(a,t){return a.h?a.h==t:!!a.g&&a.g.has(t)}function cs(a,t){a.g?a.g.add(t):a.h=t}function Cl(a,t){a.h&&a.h==t?a.h=null:a.g&&a.g.has(t)&&a.g.delete(t)}function la(a){if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){let t=a.i;for(const i of a.g.values())t=t.concat(i.D);return t}return rn(a.i)}function Ln(){}function Ys(){this.g=new Ln}function $l(a,t,i){const c=i||"";try{jo(a,function(m,v){let E=m;Pt(m)&&(E=mr(m)),t.push(c+v+"="+encodeURIComponent(E))})}catch(m){throw t.push(c+"type="+encodeURIComponent("_badmap")),m}}function Y(a,t,i,c,m){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,m(c)}catch{}}function G(a){this.l=a.ac||null,this.j=a.jb||!1}function z(a,t){Mn.call(this),this.D=a,this.u=t,this.m=void 0,this.readyState=he,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ro.prototype.cancel=function(){if(this.i=la(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const a of this.g.values())a.cancel();this.g.clear()}},Ln.prototype.stringify=function(a){return $e.JSON.stringify(a,void 0)},Ln.prototype.parse=function(a){return $e.JSON.parse(a,void 0)},bt(G,lt),G.prototype.g=function(){return new z(this.l,this.j)},G.prototype.i=function(a){return function(){return a}}({}),bt(z,Mn);var he=0;function Tt(a){a.j.read().then(a.Ta.bind(a)).catch(a.ga.bind(a))}function ut(a){a.readyState=4,a.l=null,a.j=null,a.A=null,Bn(a)}function Bn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(ge=z.prototype).open=function(a,t){if(this.readyState!=he)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=t,this.readyState=1,Bn(this)},ge.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(t.body=a),(this.D||$e).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ut(this)),this.readyState=he},ge.Wa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tt(this)}else a.text().then(this.Va.bind(this),this.ga.bind(this))},ge.Ta=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var t=a.value?a.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!a.done}))&&(this.response=this.responseText+=t)}a.done?ut(this):Bn(this),3==this.readyState&&Tt(this)}},ge.Va=function(a){this.g&&(this.response=this.responseText=a,ut(this))},ge.Ua=function(a){this.g&&(this.response=a,ut(this))},ge.ga=function(){this.g&&ut(this)},ge.setRequestHeader=function(a,t){this.v.append(a,t)},ge.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},ge.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],t=this.h.entries();for(var i=t.next();!i.done;)a.push((i=i.value)[0]+": "+i[1]),i=t.next();return a.join("\r\n")},Object.defineProperty(z.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var vi=$e.JSON.parse;function Ii(a){Mn.call(this),this.headers=new Map,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=br,this.K=this.L=!1}bt(Ii,Mn);var br="",Wl=/^https?$/i,Go=["POST","PUT"];function Dl(a,t){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=t,a.m=5,Il(a),Bc(a)}function Il(a){a.D||(a.D=!0,Vt(a,"complete"),Vt(a,"error"))}function Sl(a){if(a.h&&typeof Ce<"u"&&(!a.C[1]||4!=Qi(a)||2!=a.aa()))if(a.v&&4==Qi(a))Nn(a.Ha,0,a);else if(Vt(a,"readystatechange"),4==Qi(a)){a.h=!1;try{const k=a.aa();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var i;if(!(i=t)){var c;if(c=0===k){var m=String(a.H).match(eo)[1]||null;if(!m&&$e.self&&$e.self.location){var v=$e.self.location.protocol;m=v.substr(0,v.length-1)}c=!Wl.test(m?m.toLowerCase():"")}i=c}if(i)Vt(a,"complete"),Vt(a,"success");else{a.m=6;try{var E=2<Qi(a)?a.g.statusText:""}catch{E=""}a.j=E+" ["+a.aa()+"]",Il(a)}}finally{Bc(a)}}}function Bc(a,t){if(a.g){Tl(a);const i=a.g,c=a.C[0]?mt:null;a.g=null,a.C=null,t||Vt(a,"ready");try{i.onreadystatechange=c}catch{}}}function Tl(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&($e.clearTimeout(a.A),a.A=null)}function Qi(a){return a.g?a.g.readyState:0}function Ls(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case br:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Ja(a){let t="";return $t(a,function(i,c){t+=c,t+=":",t+=i,t+="\r\n"}),t}function Ds(a,t,i){e:{for(c in i){var c=!1;break e}c=!0}c||(i=Ja(i),"string"==typeof a?null!=i&&encodeURIComponent(String(i)):Hi(a,t,i))}function Qr(a,t,i){return i&&i.internalChannelParams&&i.internalChannelParams[a]||t}function ca(a){this.Ca=0,this.i=[],this.j=new Er,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Qr("failFast",!1,a),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Qr("baseRetryDelayMs",5e3,a),this.bb=Qr("retryDelaySeedMs",1e4,a),this.$a=Qr("forwardChannelMaxRetries",2,a),this.ta=Qr("forwardChannelRequestTimeoutMs",2e4,a),this.ra=a&&a.xmlHttpFactory||void 0,this.Da=a&&a.Zb||!1,this.J=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.I="",this.h=new ro(a&&a.concurrentRequestLimit),this.Fa=new Ys,this.O=a&&a.fastHandshake||!1,this.N=a&&a.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=a&&a.Xb||!1,a&&a.Aa&&this.j.Aa(),a&&a.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&a&&a.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function yc(a){if(Ia(a),3==a.G){var t=a.U++,i=Io(a.F);Hi(i,"SID",a.I),Hi(i,"RID",t),Hi(i,"TYPE","terminate"),$o(a,i),(t=new Pr(a,a.j,t,void 0)).K=2,t.v=Ps(Io(i)),i=!1,$e.navigator&&$e.navigator.sendBeacon&&(i=$e.navigator.sendBeacon(t.v.toString(),"")),!i&&$e.Image&&((new Image).src=t.v,i=!0),i||(t.g=Ao(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ho(t)}mu(a)}function Al(a){a.g&&(Sa(a),a.g.cancel(),a.g=null)}function Ia(a){Al(a),a.u&&($e.clearTimeout(a.u),a.u=null),Kl(a),a.h.cancel(),a.m&&("number"==typeof a.m&&$e.clearTimeout(a.m),a.m=null)}function el(a){aa(a.h)||a.m||(a.m=!0,bs(a.Ja,a),a.C=0)}function Ml(a,t){var i;i=t?t.m:a.U++;const c=Io(a.F);Hi(c,"SID",a.I),Hi(c,"RID",i),Hi(c,"AID",a.T),$o(a,c),a.o&&a.s&&Ds(c,a.o,a.s),i=new Pr(a,a.j,i,a.C+1),null===a.o&&(i.H=a.s),t&&(a.i=t.D.concat(a.i)),t=nl(a,i,1e3),i.setTimeout(Math.round(.5*a.ta)+Math.round(.5*a.ta*Math.random())),cs(a.h,i),ss(i,c,t)}function $o(a,t){a.ia&&$t(a.ia,function(i,c){Hi(t,c,i)}),a.l&&jo({},function(i,c){Hi(t,c,i)})}function nl(a,t,i){i=Math.min(a.i.length,i);var c=a.l?Rt(a.l.Ra,a.l,a):null;e:{var m=a.i;let v=-1;for(;;){const E=["count="+i];-1==v?0<i?(v=m[0].h,E.push("ofs="+v)):v=0:E.push("ofs="+v);let k=!0;for(let $=0;$<i;$++){let te=m[$].h;const fe=m[$].g;if(te-=v,0>te)v=Math.max(0,m[$].h-100),k=!1;else try{$l(fe,E,"req"+te+"_")}catch{c&&c(fe)}}if(k){c=E.join("&");break e}}}return a=a.i.splice(0,i),t.D=a,c}function il(a){a.g||a.u||(a.Z=1,bs(a.Ia,a),a.A=0)}function Wo(a){return!(a.g||a.u||3<=a.A||(a.Z++,a.u=Ks(Rt(a.Ia,a),Uc(a,a.A)),a.A++,0))}function Sa(a){null!=a.B&&($e.clearTimeout(a.B),a.B=null)}function Ta(a){a.g=new Pr(a,a.j,"rpc",a.Z),null===a.o&&(a.g.H=a.s),a.g.N=0;var t=Io(a.sa);Hi(t,"RID","rpc"),Hi(t,"SID",a.I),Hi(t,"CI",a.L?"0":"1"),Hi(t,"AID",a.T),Hi(t,"TYPE","xmlhttp"),$o(a,t),a.o&&a.s&&Ds(t,a.o,a.s),a.J&&a.g.setTimeout(a.J);var i=a.g;a=a.ka,i.K=1,i.v=Ps(Io(t)),i.s=null,i.P=!0,Do(i,a)}function Kl(a){null!=a.v&&($e.clearTimeout(a.v),a.v=null)}function vc(a,t){var i=null;if(a.g==t){Kl(a),Sa(a),a.g=null;var c=2}else{if(!Fs(a.h,t))return;i=t.D,Cl(a.h,t),c=1}if(0!=a.G)if(a.pa=t.Y,t.i)if(1==c){i=t.s?t.s.length:0,t=Date.now()-t.F;var m=a.C;Vt(c=ms(),new Vi(c,i)),el(a)}else il(a);else if(3==(m=t.o)||0==m&&0<a.pa||!(1==c&&function tl(a,t){return!(So(a.h)>=a.h.j-(a.m?1:0)||(a.m?(a.i=t.D.concat(a.i),0):1==a.G||2==a.G||a.C>=(a.Za?0:a.$a)||(a.m=Ks(Rt(a.Ja,a,t),Uc(a,a.C)),a.C++,0)))}(a,t)||2==c&&Wo(a)))switch(i&&0<i.length&&(t=a.h,t.i=t.i.concat(i)),m){case 1:To(a,5);break;case 4:To(a,10);break;case 3:To(a,6);break;default:To(a,2)}}function Uc(a,t){let i=a.Xa+Math.floor(Math.random()*a.bb);return a.l||(i*=2),i*t}function To(a,t){if(a.j.info("Error code "+t),2==t){var i=null;a.l&&(i=null);var c=Rt(a.kb,a);i||(i=new os("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||Es(i,"https"),Ps(i)),function Xa(a,t){const i=new Er;if($e.Image){const c=new Image;c.onload=St(Y,i,c,"TestLoadImage: loaded",!0,t),c.onerror=St(Y,i,c,"TestLoadImage: error",!1,t),c.onabort=St(Y,i,c,"TestLoadImage: abort",!1,t),c.ontimeout=St(Y,i,c,"TestLoadImage: timeout",!1,t),$e.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=a}else t(!1)}(i.toString(),c)}else Ir(2);a.G=0,a.l&&a.l.va(t),mu(a),Ia(a)}function mu(a){if(a.G=0,a.la=[],a.l){const t=la(a.h);(0!=t.length||0!=a.i.length)&&(Tn(a.la,t),Tn(a.la,a.i),a.h.i.length=0,rn(a.i),a.i.length=0),a.l.ua()}}function ts(a,t,i){var c=i instanceof os?Io(i):new os(i,void 0);if(""!=c.g)t&&(c.g=t+"."+c.g),pr(c,c.m);else{var m=$e.location;c=m.protocol,t=t?t+"."+m.hostname:m.hostname,m=+m.port;var v=new os(null,void 0);c&&Es(v,c),t&&(v.g=t),m&&pr(v,m),i&&(v.l=i),c=v}return t=a.za,(i=a.D)&&t&&Hi(c,i,t),Hi(c,"VER",a.ma),$o(a,c),c}function Ao(a,t,i){if(t&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ii(i&&a.Da&&!a.ra?new G({jb:!0}):a.ra)).Ka(a.H),t}function _r(){}function rl(){if(ai&&!(10<=Number(Nt)))throw Error("Environmental error: no available transport.")}function Bs(a,t){Mn.call(this),this.g=new ca(t),this.l=a,this.h=t&&t.messageUrlParams||null,a=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(a?a["X-WebChannel-Content-Type"]=t.messageContentType:a={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(a?a["X-WebChannel-Client-Profile"]=t.ya:a={"X-WebChannel-Client-Profile":t.ya}),this.g.S=a,(a=t&&t.Yb)&&!Vn(a)&&(this.g.o=a),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vn(t)&&(this.g.D=t,null!==(a=this.h)&&t in a&&t in(a=this.h)&&delete a[t]),this.j=new wr(this)}function Vc(a){Jn.call(this);var t=a.__sm__;if(t){e:{for(const i in t){a=i;break e}a=void 0}(this.i=a)&&(a=this.i,t=null!==t&&a in t?t[a]:void 0),this.data=t}else this.data=a}function da(){Wn.call(this),this.status=1}function wr(a){this.g=a}(ge=Ii.prototype).Ka=function(a){this.L=a},ge.da=function(a,t,i,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);t=t?t.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ti.g(),this.C=function Bt(a){return a.h||(a.h=a.i())}(this.u?this.u:ti),this.g.onreadystatechange=Rt(this.Ha,this);try{this.F=!0,this.g.open(t,String(a),!0),this.F=!1}catch(v){return void Dl(this,v)}if(a=i||"",i=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var m in c)i.set(m,c[m]);else{if("function"!=typeof c.keys||"function"!=typeof c.get)throw Error("Unknown input type for opt_headers: "+String(c));for(const v of c.keys())i.set(v,c.get(v))}c=Array.from(i.keys()).find(v=>"content-type"==v.toLowerCase()),m=$e.FormData&&a instanceof $e.FormData,!(0<=wn(Go,t))||c||m||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[v,E]of i)this.g.setRequestHeader(v,E);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Tl(this),0<this.B&&((this.K=function Cs(a){return ai&&function Ot(){return function fi(a){var t=Un;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=a(9)}(function(){let a=0;const t=Ei(String(Ci)).split("."),i=Ei("9").split("."),c=Math.max(t.length,i.length);for(let E=0;0==a&&E<c;E++){var m=t[E]||"",v=i[E]||"";do{if(m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==m[0].length&&0==v[0].length)break;a=Hn(0==m[1].length?0:parseInt(m[1],10),0==v[1].length?0:parseInt(v[1],10))||Hn(0==m[2].length,0==v[2].length)||Hn(m[2],v[2]),m=m[3],v=v[3]}while(0==a)}return 0<=a})}()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rt(this.qa,this)):this.A=Nn(this.qa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(v){Dl(this,v)}},ge.qa=function(){typeof Ce<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))},ge.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,Vt(this,"complete"),Vt(this,"abort"),Bc(this))},ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bc(this,!0)),Ii.X.M.call(this)},ge.Ha=function(){this.s||(this.F||this.v||this.l?Sl(this):this.fb())},ge.fb=function(){Sl(this)},ge.aa=function(){try{return 2<Qi(this)?this.g.status:-1}catch{return-1}},ge.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ge.Sa=function(a){if(this.g){var t=this.g.responseText;return a&&0==t.indexOf(a)&&(t=t.substring(a.length)),vi(t)}},ge.Ea=function(){return this.m},ge.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ge=ca.prototype).ma=8,ge.G=1,ge.Ja=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const m=new Pr(this,this.j,a,void 0);let v=this.s;if(this.S&&(v?(v=Re(v),P(v,this.S)):v=this.S),null!==this.o||this.N||(m.H=v,v=null),this.O)e:{for(var t=0,i=0;i<this.i.length;i++){var c=this.i[i];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(t+=c)){t=i;break e}if(4096===t||i===this.i.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=nl(this,m,t),Hi(i=Io(this.F),"RID",a),Hi(i,"CVER",22),this.D&&Hi(i,"X-HTTP-Session-Id",this.D),$o(this,i),v&&(this.N?t="headers="+encodeURIComponent(String(Ja(v)))+"&"+t:this.o&&Ds(i,this.o,v)),cs(this.h,m),this.Ya&&Hi(i,"TYPE","init"),this.O?(Hi(i,"$req",t),Hi(i,"SID","null"),m.Z=!0,ss(m,i,null)):ss(m,i,t),this.G=2}}else 3==this.G&&(a?Ml(this,a):0==this.i.length||aa(this.h)||Ml(this))},ge.Ia=function(){if(this.u=null,Ta(this),this.$&&!(this.K||null==this.g||0>=this.P)){var a=2*this.P;this.j.info("BP detection timer enabled: "+a),this.B=Ks(Rt(this.eb,this),a)}},ge.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ir(10),Al(this),Ta(this))},ge.cb=function(){null!=this.v&&(this.v=null,Al(this),Wo(this),Ir(19))},ge.kb=function(a){a?(this.j.info("Successfully pinged google.com"),Ir(2)):(this.j.info("Failed to ping google.com"),Ir(1))},(ge=_r.prototype).xa=function(){},ge.wa=function(){},ge.va=function(){},ge.ua=function(){},ge.Ra=function(){},rl.prototype.g=function(a,t){return new Bs(a,t)},bt(Bs,Mn),Bs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var a=this.g,t=this.l,i=this.h||void 0;Ir(0),a.V=t,a.ia=i||{},a.L=a.Y,a.F=ts(a,null,a.V),el(a)},Bs.prototype.close=function(){yc(this.g)},Bs.prototype.u=function(a){var t=this.g;if("string"==typeof a){var i={};i.__data__=a,a=i}else this.v&&((i={}).__data__=mr(a),a=i);t.i.push(new class{constructor(a,t){this.h=a,this.g=t}}(t.ab++,a)),3==t.G&&el(t)},Bs.prototype.M=function(){this.g.l=null,delete this.j,yc(this.g),delete this.g,Bs.X.M.call(this)},bt(Vc,Jn),bt(da,Wn),bt(wr,_r),wr.prototype.xa=function(){Vt(this.g,"a")},wr.prototype.wa=function(a){Vt(this.g,new Vc(a))},wr.prototype.va=function(a){Vt(this.g,new da)},wr.prototype.ua=function(){Vt(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,Bs.prototype.send=Bs.prototype.u,Bs.prototype.open=Bs.prototype.m,Bs.prototype.close=Bs.prototype.close,Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,je.COMPLETE="complete",Zt.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",Mn.prototype.listen=Mn.prototype.N,Ii.prototype.listenOnce=Ii.prototype.O,Ii.prototype.getLastError=Ii.prototype.Oa,Ii.prototype.getLastErrorCode=Ii.prototype.Ea,Ii.prototype.getStatus=Ii.prototype.aa,Ii.prototype.getResponseJson=Ii.prototype.Sa,Ii.prototype.getResponseText=Ii.prototype.fa,Ii.prototype.send=Ii.prototype.da,Ii.prototype.setWithCredentials=Ii.prototype.Ka;var fd=Xe.createWebChannelTransport=function(){return new rl},_s=Xe.getStatEventTarget=function(){return ms()},sl=Xe.ErrorCode=Qe,Yl=Xe.EventType=je,md=Xe.Event=Dr,Hc=Xe.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},N=Xe.FetchXmlHttpFactory=G,J=Xe.WebChannel=Zt,H=Xe.XhrIo=Ii;const oe="@firebase/firestore";class ke{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ke.UNAUTHENTICATED=new ke(null),ke.GOOGLE_CREDENTIALS=new ke("google-credentials-uid"),ke.FIRST_PARTY=new ke("first-party-uid"),ke.MOCK_USER=new ke("mock-user");let wt="9.20.0";const Ut=new De.Yd("@firebase/firestore");function gn(){return Ut.logLevel}function At(a,...t){if(Ut.logLevel<=De.in.DEBUG){const i=t.map(ir);Ut.debug(`Firestore (${wt}): ${a}`,...i)}}function Kn(a,...t){if(Ut.logLevel<=De.in.ERROR){const i=t.map(ir);Ut.error(`Firestore (${wt}): ${a}`,...i)}}function $n(a,...t){if(Ut.logLevel<=De.in.WARN){const i=t.map(ir);Ut.warn(`Firestore (${wt}): ${a}`,...i)}}function ir(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Xt(a="Unexpected state"){const t=`FIRESTORE (${wt}) INTERNAL ASSERTION FAILED: `+a;throw Kn(t),new Error(t)}function hn(a,t){a||Xt()}function Jt(a,t){return a}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends pe.ZR{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class Mo{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Aa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(ke.UNAUTHENTICATED))}shutdown(){}}class hh{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class pd{constructor(t){this.t=t,this.currentUser=ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var c=this;let m=this.i;const v=te=>this.i!==m?(m=this.i,i(te)):Promise.resolve();let E=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new cr,t.enqueueRetryable(()=>v(this.currentUser))};const k=()=>{const te=E;t.enqueueRetryable((0,Ee.Z)(function*(){yield te.promise,yield v(c.currentUser)}))},$=te=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(te=>$(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?$(te):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new cr)}},0),k()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(c=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(hn("string"==typeof c.accessToken),new Mo(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return hn(null===t||"string"==typeof t),new ke(t)}}class Ma{constructor(t,i,c){this.h=t,this.l=i,this.m=c,this.type="FirstParty",this.user=ke.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Cf{constructor(t,i,c){this.h=t,this.l=i,this.m=c}getToken(){return Promise.resolve(new Ma(this.h,this.l,this.m))}start(t,i){t.enqueueRetryable(()=>i(ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Is{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pu{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,i){const c=v=>{null!=v.error&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const E=v.token!==this.T;return this.T=v.token,At("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?i(v.token):Promise.resolve()};this.o=v=>{t.enqueueRetryable(()=>c(v))};const m=v=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.appCheck.addTokenListener(this.o)};this.I.onInit(v=>m(v)),setTimeout(()=>{if(!this.appCheck){const v=this.I.getImmediate({optional:!0});v?m(v):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(hn("string"==typeof i.token),this.T=i.token,new Is(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ql(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let c=0;c<a;c++)i[c]=Math.floor(256*Math.random());return i}class ol{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let c="";for(;c.length<20;){const m=ql(40);for(let v=0;v<m.length;++v)c.length<20&&m[v]<i&&(c+=t.charAt(m[v]%t.length))}return c}}function Yn(a,t){return a<t?-1:a>t?1:0}function Sr(a,t,i){return a.length===t.length&&a.every((c,m)=>i(c,t[m]))}function xr(a){return a+"\0"}class Oi{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new Ht(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ht(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new Ht(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ht(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Oi.fromMillis(Date.now())}static fromDate(t){return Oi.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),c=Math.floor(1e6*(t-1e3*i));return new Oi(i,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Yn(this.nanoseconds,t.nanoseconds):Yn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Rn(t)}static min(){return new Rn(new Oi(0,0))}static max(){return new Rn(new Oi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ka{constructor(t,i,c){void 0===i?i=0:i>t.length&&Xt(),void 0===c?c=t.length-i:c>t.length-i&&Xt(),this.segments=t,this.offset=i,this.len=c}get length(){return this.len}isEqual(t){return 0===ka.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ka?t.forEach(c=>{i.push(c)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,c=this.limit();i<c;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const c=Math.min(t.length,i.length);for(let m=0;m<c;m++){const v=t.get(m),E=i.get(m);if(v<E)return-1;if(v>E)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class gi extends ka{construct(t,i,c){return new gi(t,i,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const i=[];for(const c of t){if(c.indexOf("//")>=0)throw new Ht(pt.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);i.push(...c.split("/").filter(m=>m.length>0))}return new gi(i)}static emptyPath(){return new gi([])}}const jc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends ka{construct(t,i,c){return new dr(t,i,c)}static isValidIdentifier(t){return jc.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(t){const i=[];let c="",m=0;const v=()=>{if(0===c.length)throw new Ht(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(c),c=""};let E=!1;for(;m<t.length;){const k=t[m];if("\\"===k){if(m+1===t.length)throw new Ht(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const $=t[m+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new Ht(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);c+=$,m+=2}else"`"===k?(E=!E,m++):"."!==k||E?(c+=k,m++):(v(),m++)}if(v(),E)throw new Ht(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new dr(i)}static emptyPath(){return new dr([])}}class cn{constructor(t){this.path=t}static fromPath(t){return new cn(gi.fromString(t))}static fromName(t){return new cn(gi.fromString(t).popFirst(5))}static empty(){return new cn(gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===gi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return gi.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new cn(new gi(t.slice()))}}class qs{constructor(t,i,c,m){this.indexId=t,this.collectionGroup=i,this.fields=c,this.indexState=m}}function Us(a){return a.fields.find(t=>2===t.kind)}function Fr(a){return a.fields.filter(t=>2!==t.kind)}qs.UNKNOWN_ID=-1;class zr{constructor(t,i){this.fieldPath=t,this.kind=i}}class Gr{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new Gr(0,Vs.min())}}function ko(a,t){const i=a.toTimestamp().seconds,c=a.toTimestamp().nanoseconds+1,m=Rn.fromTimestamp(1e9===c?new Oi(i+1,0):new Oi(i,c));return new Vs(m,cn.empty(),t)}function ll(a){return new Vs(a.readTime,a.key,-1)}class Vs{constructor(t,i,c){this.readTime=t,this.documentKey=i,this.largestBatchId=c}static min(){return new Vs(Rn.min(),cn.empty(),-1)}static max(){return new Vs(Rn.max(),cn.empty(),-1)}}function po(a,t){let i=a.readTime.compareTo(t.readTime);return 0!==i?i:(i=cn.comparator(a.documentKey,t.documentKey),0!==i?i:Yn(a.largestBatchId,t.largestBatchId))}const Ra="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ro(a){return dl.apply(this,arguments)}function dl(){return dl=(0,Ee.Z)(function*(a){if(a.code!==pt.FAILED_PRECONDITION||a.message!==Ra)throw a;At("LocalStore","Unexpectedly lost primary lease")}),dl.apply(this,arguments)}class gt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new gt((c,m)=>{this.nextCallback=v=>{this.wrapSuccess(t,v).next(c,m)},this.catchCallback=v=>{this.wrapFailure(i,v).next(c,m)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof gt?i:gt.resolve(i)}catch(i){return gt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):gt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):gt.reject(i)}static resolve(t){return new gt((i,c)=>{i(t)})}static reject(t){return new gt((i,c)=>{c(t)})}static waitFor(t){return new gt((i,c)=>{let m=0,v=0,E=!1;t.forEach(k=>{++m,k.next(()=>{++v,E&&v===m&&i()},$=>c($))}),E=!0,v===m&&i()})}static or(t){let i=gt.resolve(!1);for(const c of t)i=i.next(m=>m?gt.resolve(m):c());return i}static forEach(t,i){const c=[];return t.forEach((m,v)=>{c.push(i.call(this,m,v))}),this.waitFor(c)}static mapArray(t,i){return new gt((c,m)=>{const v=t.length,E=new Array(v);let k=0;for(let $=0;$<v;$++){const te=$;i(t[te]).next(fe=>{E[te]=fe,++k,k===v&&c(E)},fe=>m(fe))}})}static doWhile(t,i){return new gt((c,m)=>{const v=()=>{!0===t()?i().next(()=>{v()},m):c()};v()})}}class gu{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.R=new cr,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{i.error?this.R.reject(new Zl(t,i.error)):this.R.resolve()},this.transaction.onerror=c=>{const m=Df(c.target.error);this.R.reject(new Zl(t,m))}}static open(t,i,c,m){try{return new gu(i,t.transaction(m,c))}catch(v){throw new Zl(i,v)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(At("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new fh(i)}}class $r{constructor(t,i,c){this.name=t,this.version=i,this.V=c,12.2===$r.S((0,pe.z$)())&&Kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return At("SimpleDb","Removing database:",t),Ql(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,pe.hl)())return!1;if($r.C())return!0;const t=(0,pe.z$)(),i=$r.S(t),c=0<i&&i<10,m=$r.N(t),v=0<m&&m<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||c||v)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static O(t,i){return t.store(i)}static S(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static N(t){const i=t.match(/Android ([\d.]+)/i),c=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(c)}$(t){var i=this;return(0,Ee.Z)(function*(){return i.db||(At("SimpleDb","Opening database:",i.name),i.db=yield new Promise((c,m)=>{const v=indexedDB.open(i.name,i.version);v.onsuccess=E=>{c(E.target.result)},v.onblocked=()=>{m(new Zl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=E=>{const k=E.target.error;m("VersionError"===k.name?new Ht(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new Ht(pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new Zl(t,k))},v.onupgradeneeded=E=>{At("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',E.oldVersion),i.V.M(E.target.result,v.transaction,E.oldVersion,i.version).next(()=>{At("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.F&&(i.db.onversionchange=c=>i.F(c)),i.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,c,m){var v=this;return(0,Ee.Z)(function*(){const E="readonly"===i;let k=0;for(;;){++k;try{v.db=yield v.$(t);const $=gu.open(v.db,t,E?"readonly":"readwrite",c),te=m($).next(fe=>($.P(),fe)).catch(fe=>($.abort(fe),gt.reject(fe))).toPromise();return te.catch(()=>{}),yield $.v,te}catch($){const te=$,fe="FirebaseError"!==te.name&&k<3;if(At("SimpleDb","Transaction failed with error:",te.message,"Retrying:",fe),v.close(),!fe)return Promise.reject(te)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ur{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Ql(this.L.delete())}}class Zl extends Ht{constructor(t,i){super(pt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Oa(a){return"IndexedDbTransactionError"===a.name}class fh{constructor(t){this.store=t}put(t,i){let c;return void 0!==i?(At("SimpleDb","PUT",this.store.name,t,i),c=this.store.put(i,t)):(At("SimpleDb","PUT",this.store.name,"<auto-key>",t),c=this.store.put(t)),Ql(c)}add(t){return At("SimpleDb","ADD",this.store.name,t,t),Ql(this.store.add(t))}get(t){return Ql(this.store.get(t)).next(i=>(void 0===i&&(i=null),At("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return At("SimpleDb","DELETE",this.store.name,t),Ql(this.store.delete(t))}count(){return At("SimpleDb","COUNT",this.store.name),Ql(this.store.count())}j(t,i){const c=this.options(t,i);if(c.index||"function"!=typeof this.store.getAll){const m=this.cursor(c),v=[];return this.W(m,(E,k)=>{v.push(k)}).next(()=>v)}{const m=this.store.getAll(c.range);return new gt((v,E)=>{m.onerror=k=>{E(k.target.error)},m.onsuccess=k=>{v(k.target.result)}})}}H(t,i){const c=this.store.getAll(t,null===i?void 0:i);return new gt((m,v)=>{c.onerror=E=>{v(E.target.error)},c.onsuccess=E=>{m(E.target.result)}})}J(t,i){At("SimpleDb","DELETE ALL",this.store.name);const c=this.options(t,i);c.Y=!1;const m=this.cursor(c);return this.W(m,(v,E,k)=>k.delete())}Z(t,i){let c;i?c=t:(c={},i=t);const m=this.cursor(c);return this.W(m,i)}X(t){const i=this.cursor({});return new gt((c,m)=>{i.onerror=v=>{const E=Df(v.target.error);m(E)},i.onsuccess=v=>{const E=v.target.result;E?t(E.primaryKey,E.value).next(k=>{k?E.continue():c()}):c()}})}W(t,i){const c=[];return new gt((m,v)=>{t.onerror=E=>{v(E.target.error)},t.onsuccess=E=>{const k=E.target.result;if(!k)return void m();const $=new ur(k),te=i(k.primaryKey,k.value,$);if(te instanceof gt){const fe=te.catch(Ue=>($.done(),gt.reject(Ue)));c.push(fe)}$.isDone?m():null===$.K?k.continue():k.continue($.K)}}).next(()=>gt.waitFor(c))}options(t,i){let c;return void 0!==t&&("string"==typeof t?c=t:i=t),{index:c,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const c=this.store.index(t.index);return t.Y?c.openKeyCursor(t.range,i):c.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function Ql(a){return new gt((t,i)=>{a.onsuccess=c=>{t(c.target.result)},a.onerror=c=>{const m=Df(c.target.error);i(m)}})}let Xl=!1;function Df(a){const t=$r.S((0,pe.z$)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(i)>=0){const c=new Ht("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xl||(Xl=!0,setTimeout(()=>{throw c},0)),c}}return a}class _u{constructor(t,i){this.asyncQueue=t,this.tt=i,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var i=this;At("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ee.Z)(function*(){i.task=null;try{At("IndexBackiller",`Documents written: ${yield i.tt.nt()}`)}catch(c){Oa(c)?At("IndexBackiller","Ignoring IndexedDB error during index backfill: ",c):yield Ro(c)}yield i.et(6e4)}))}}class ul{constructor(t,i){this.localStore=t,this.persistence=i}nt(t=50){var i=this;return(0,Ee.Z)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",c=>i.st(c,t))})()}st(t,i){const c=new Set;let m=i,v=!0;return gt.doWhile(()=>!0===v&&m>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(E=>{if(null!==E&&!c.has(E))return At("IndexBackiller",`Processing collection: ${E}`),this.it(t,E,m).next(k=>{m-=k,c.add(E)});v=!1})).next(()=>i-m)}it(t,i,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(m=>this.localStore.localDocuments.getNextDocuments(t,i,m,c).next(v=>{const E=v.changes;return this.localStore.indexManager.updateIndexEntries(t,E).next(()=>this.rt(m,v)).next(k=>(At("IndexBackiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(t,i,k))).next(()=>E.size)}))}rt(t,i){let c=t;return i.changes.forEach((m,v)=>{const E=ll(v);po(E,c)>0&&(c=E)}),new Vs(c.readTime,c.documentKey,Math.max(i.batchId,t.largestBatchId))}}let Oo=(()=>{class a{constructor(i,c){this.previousValue=i,c&&(c.sequenceNumberHandler=m=>this.ot(m),this.ut=m=>c.writeSequenceNumber(m))}ot(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ut&&this.ut(i),i}}return a.ct=-1,a})();function zc(a){return null==a}function Lr(a){return 0===a&&1/a==-1/0}function Jl(a){return"number"==typeof a&&Number.isInteger(a)&&!Lr(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function Br(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=Zs(t)),t=yu(a.get(i),t);return Zs(t)}function yu(a,t){let i=t;const c=a.length;for(let m=0;m<c;m++){const v=a.charAt(m);switch(v){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=v}}return i}function Zs(a){return a+"\x01\x01"}function Ss(a){const t=a.length;if(hn(t>=2),2===t)return hn("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),gi.emptyPath();const i=t-2,c=[];let m="";for(let v=0;v<t;){const E=a.indexOf("\x01",v);switch((E<0||E>i)&&Xt(),a.charAt(E+1)){case"\x01":const k=a.substring(v,E);let $;0===m.length?$=k:(m+=k,$=m,m=""),c.push($);break;case"\x10":m+=a.substring(v,E),m+="\0";break;case"\x11":m+=a.substring(v,E+1);break;default:Xt()}v=E+2}return new gi(c)}const kl=["userId","batchId"];function Pa(a,t){return[a,Br(t)]}function A(a,t,i){return[a,Br(t),i]}const M={},D=["prefixPath","collectionGroup","readTime","documentId"],L=["prefixPath","collectionGroup","documentId"],q=["collectionGroup","readTime","prefixPath","documentId"],re=["canonicalId","targetId"],_e=["targetId","path"],tt=["path","targetId"],zt=["collectionId","parent"],pn=["indexId","uid"],yn=["uid","sequenceNumber"],bi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],us=["indexId","uid","orderedDocumentKey"],hl=["userId","collectionPath","documentId"],Na=["userId","collectionPath","largestBatchId"],Ts=["userId","collectionGroup","largestBatchId"],Qs=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Po=[...Qs,"documentOverlays"],Fa=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ua=Fa,mh=[...ua,"indexConfiguration","indexState","indexEntries"];class fl extends cl{constructor(t,i){super(),this.at=t,this.currentSequenceNumber=i}}function Hs(a,t){const i=Jt(a);return $r.O(i.at,t)}function ph(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function V(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function W(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class ne{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new ne(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const c=this.comparator(t,i.key);if(0===c)return i.value;c<0?i=i.left:c>0&&(i=i.right)}return null}indexOf(t){let i=0,c=this.root;for(;!c.isEmpty();){const m=this.comparator(t,c.key);if(0===m)return i+c.left.size;m<0?c=c.left:(i+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,c)=>(t(i,c),!1))}toString(){const t=[];return this.inorderTraversal((i,c)=>(t.push(`${i}:${c}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pe(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pe(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pe(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pe(this.root,t,this.comparator,!0)}}class Pe{constructor(t,i,c,m){this.isReverse=m,this.nodeStack=[];let v=1;for(;!t.isEmpty();)if(v=i?c(t.key,i):1,i&&m&&(v*=-1),v<0)t=this.isReverse?t.left:t.right;else{if(0===v){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,c,m,v){this.key=t,this.value=i,this.color=c??Ze.RED,this.left=m??Ze.EMPTY,this.right=v??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,c,m,v){return new Ze(t??this.key,i??this.value,c??this.color,m??this.left,v??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,c){let m=this;const v=c(t,m.key);return m=v<0?m.copy(null,null,null,m.left.insert(t,i,c),null):0===v?m.copy(null,i,null,null,null):m.copy(null,null,null,null,m.right.insert(t,i,c)),m.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let c,m=this;if(i(t,m.key)<0)m.left.isEmpty()||m.left.isRed()||m.left.left.isRed()||(m=m.moveRedLeft()),m=m.copy(null,null,null,m.left.remove(t,i),null);else{if(m.left.isRed()&&(m=m.rotateRight()),m.right.isEmpty()||m.right.isRed()||m.right.left.isRed()||(m=m.moveRedRight()),0===i(t,m.key)){if(m.right.isEmpty())return Ze.EMPTY;c=m.right.min(),m=m.copy(c.key,c.value,null,null,m.right.removeMin())}m=m.copy(null,null,null,null,m.right.remove(t,i))}return m.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xt();const t=this.left.check();if(t!==this.right.check())throw Xt();return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1,Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt()}get value(){throw Xt()}get color(){throw Xt()}get left(){throw Xt()}get right(){throw Xt()}copy(a,t,i,c,m){return this}insert(a,t,i){return new Ze(a,t)}remove(a,t){return this}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,c)=>(t(i),!1))}forEachInRange(t,i){const c=this.data.getIteratorFrom(t[0]);for(;c.hasNext();){const m=c.getNext();if(this.comparator(m.key,t[1])>=0)return;i(m.key)}}forEachWhile(t,i){let c;for(c=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();c.hasNext();)if(!t(c.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Kt(this.data.getIterator())}getIteratorFrom(t){return new Kt(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(c=>{i=i.add(c)}),i}isEqual(t){if(!(t instanceof it)||this.size!==t.size)return!1;const i=this.data.getIterator(),c=t.data.getIterator();for(;i.hasNext();){const m=i.getNext().key,v=c.getNext().key;if(0!==this.comparator(m,v))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new it(this.comparator);return i.data=t,i}}class Kt{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dn(a){return a.hasNext()?a.getNext():void 0}class An{constructor(t){this.fields=t,t.sort(dr.comparator)}static empty(){return new An([])}unionWith(t){let i=new it(dr.comparator);for(const c of this.fields)i=i.add(c);for(const c of t)i=i.add(c);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Sr(this.fields,t.fields,(i,c)=>i.isEqual(c))}}class Zn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(c){try{return atob(c)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new Zn("Invalid base64 string: "+m):m}}(t);return new Fn(i)}static fromUint8Array(t){const i=function(c){let m="";for(let v=0;v<c.length;++v)m+=String.fromCharCode(c[v]);return m}(t);return new Fn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let c=0;c<t.length;c++)i[c]=t.charCodeAt(c);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const ha=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(a){if(hn(!!a),"string"==typeof a){let t=0;const i=ha.exec(a);if(hn(!!i),i[1]){let m=i[1];m=(m+"000000000").substr(0,9),t=Number(m)}const c=new Date(a);return{seconds:Math.floor(c.getTime()/1e3),nanos:t}}return{seconds:yr(a.seconds),nanos:yr(a.nanos)}}function yr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function fa(a){return"string"==typeof a?Fn.fromBase64String(a):Fn.fromUint8Array(a)}function ec(a){var t,i;return"server_timestamp"===(null===(i=((null===(t=a?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function go(a){const t=a.mapValue.fields.__previous_value__;return ec(t)?go(t):t}function Ko(a){const t=Wr(a.mapValue.fields.__local_write_time__.timestampValue);return new Oi(t.seconds,t.nanos)}class gh{constructor(t,i,c,m,v,E,k,$){this.databaseId=t,this.appId=i,this.persistenceKey=c,this.host=m,this.ssl=v,this.forceLongPolling=E,this.autoDetectLongPolling=k,this.useFetchStreams=$}}class Rl{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Rl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}const gd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vu={nullValue:"NULL_VALUE"};function tc(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ec(a)?4:xu(a)?9007199254740991:10:Xt()}function Yo(a,t){if(a===t)return!0;const i=tc(a);if(i!==tc(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ko(a).isEqual(Ko(t));case 3:return function(c,m){if("string"==typeof c.timestampValue&&"string"==typeof m.timestampValue&&c.timestampValue.length===m.timestampValue.length)return c.timestampValue===m.timestampValue;const v=Wr(c.timestampValue),E=Wr(m.timestampValue);return v.seconds===E.seconds&&v.nanos===E.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return m=t,fa(a.bytesValue).isEqual(fa(m.bytesValue));case 7:return a.referenceValue===t.referenceValue;case 8:return function(c,m){return yr(c.geoPointValue.latitude)===yr(m.geoPointValue.latitude)&&yr(c.geoPointValue.longitude)===yr(m.geoPointValue.longitude)}(a,t);case 2:return function(c,m){if("integerValue"in c&&"integerValue"in m)return yr(c.integerValue)===yr(m.integerValue);if("doubleValue"in c&&"doubleValue"in m){const v=yr(c.doubleValue),E=yr(m.doubleValue);return v===E?Lr(v)===Lr(E):isNaN(v)&&isNaN(E)}return!1}(a,t);case 9:return Sr(a.arrayValue.values||[],t.arrayValue.values||[],Yo);case 10:return function(c,m){const v=c.mapValue.fields||{},E=m.mapValue.fields||{};if(ph(v)!==ph(E))return!1;for(const k in v)if(v.hasOwnProperty(k)&&(void 0===E[k]||!Yo(v[k],E[k])))return!1;return!0}(a,t);default:return Xt()}var m}function _h(a,t){return void 0!==(a.values||[]).find(i=>Yo(i,t))}function js(a,t){if(a===t)return 0;const i=tc(a),c=tc(t);if(i!==c)return Yn(i,c);switch(i){case 0:case 9007199254740991:return 0;case 1:return Yn(a.booleanValue,t.booleanValue);case 2:return function(m,v){const E=yr(m.integerValue||m.doubleValue),k=yr(v.integerValue||v.doubleValue);return E<k?-1:E>k?1:E===k?0:isNaN(E)?isNaN(k)?0:-1:1}(a,t);case 3:return bu(a.timestampValue,t.timestampValue);case 4:return bu(Ko(a),Ko(t));case 5:return Yn(a.stringValue,t.stringValue);case 6:return function(m,v){const E=fa(m),k=fa(v);return E.compareTo(k)}(a.bytesValue,t.bytesValue);case 7:return function(m,v){const E=m.split("/"),k=v.split("/");for(let $=0;$<E.length&&$<k.length;$++){const te=Yn(E[$],k[$]);if(0!==te)return te}return Yn(E.length,k.length)}(a.referenceValue,t.referenceValue);case 8:return function(m,v){const E=Yn(yr(m.latitude),yr(v.latitude));return 0!==E?E:Yn(yr(m.longitude),yr(v.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return function(m,v){const E=m.values||[],k=v.values||[];for(let $=0;$<E.length&&$<k.length;++$){const te=js(E[$],k[$]);if(te)return te}return Yn(E.length,k.length)}(a.arrayValue,t.arrayValue);case 10:return function(m,v){if(m===gd.mapValue&&v===gd.mapValue)return 0;if(m===gd.mapValue)return 1;if(v===gd.mapValue)return-1;const E=m.fields||{},k=Object.keys(E),$=v.fields||{},te=Object.keys($);k.sort(),te.sort();for(let fe=0;fe<k.length&&fe<te.length;++fe){const Ue=Yn(k[fe],te[fe]);if(0!==Ue)return Ue;const dt=js(E[k[fe]],$[te[fe]]);if(0!==dt)return dt}return Yn(k.length,te.length)}(a.mapValue,t.mapValue);default:throw Xt()}}function bu(a,t){if("string"==typeof a&&"string"==typeof t&&a.length===t.length)return Yn(a,t);const i=Wr(a),c=Wr(t),m=Yn(i.seconds,c.seconds);return 0!==m?m:Yn(i.nanos,c.nanos)}function nc(a){return yh(a)}function yh(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(c){const m=Wr(c);return`time(${m.seconds},${m.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?fa(a.bytesValue).toBase64():"referenceValue"in a?cn.fromName(a.referenceValue).toString():"geoPointValue"in a?`geo(${(t=a.geoPointValue).latitude},${t.longitude})`:"arrayValue"in a?function(c){let m="[",v=!0;for(const E of c.values||[])v?v=!1:m+=",",m+=yh(E);return m+"]"}(a.arrayValue):"mapValue"in a?function(c){const m=Object.keys(c.fields||{}).sort();let v="{",E=!0;for(const k of m)E?E=!1:v+=",",v+=`${k}:${yh(c.fields[k])}`;return v+"}"}(a.mapValue):Xt();var t}function _d(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function eg(a){return!!a&&"integerValue"in a}function yd(a){return!!a&&"arrayValue"in a}function If(a){return!!a&&"nullValue"in a}function Nm(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function bc(a){return!!a&&"mapValue"in a}function wu(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return V(a.mapValue.fields,(i,c)=>t.mapValue.fields[i]=wu(c)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wu(a.arrayValue.values[i]);return t}return Object.assign({},a)}function xu(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fm(a){return"nullValue"in a?vu:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?_d(Rl.empty(),cn.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?{mapValue:{}}:Xt()}function Ol(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?_d(Rl.empty(),cn.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?{mapValue:{}}:"mapValue"in a?gd:Xt()}function ma(a,t){const i=js(a.value,t.value);return 0!==i?i:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function vd(a,t){const i=js(a.value,t.value);return 0!==i?i:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class As{constructor(t){this.value=t}static empty(){return new As({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let c=0;c<t.length-1;++c)if(i=(i.mapValue.fields||{})[t.get(c)],!bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wu(i)}setAll(t){let i=dr.emptyPath(),c={},m=[];t.forEach((E,k)=>{if(!i.isImmediateParentOf(k)){const $=this.getFieldsMap(i);this.applyChanges($,c,m),c={},m=[],i=k.popLast()}E?c[k.lastSegment()]=wu(E):m.push(k.lastSegment())});const v=this.getFieldsMap(i);this.applyChanges(v,c,m)}delete(t){const i=this.field(t.popLast());bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Yo(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let c=0;c<t.length;++c){let m=i.mapValue.fields[t.get(c)];bc(m)&&m.mapValue.fields||(m={mapValue:{fields:{}}},i.mapValue.fields[t.get(c)]=m),i=m}return i.mapValue.fields}applyChanges(t,i,c){V(i,(m,v)=>t[m]=v);for(const m of c)delete t[m]}clone(){return new As(wu(this.value))}}function Lm(a){const t=[];return V(a.fields,(i,c)=>{const m=new dr([i]);if(bc(c)){const v=Lm(c.mapValue).fields;if(0===v.length)t.push(m);else for(const E of v)t.push(m.child(E))}else t.push(m)}),new An(t)}class Tr{constructor(t,i,c,m,v,E,k){this.key=t,this.documentType=i,this.version=c,this.readTime=m,this.createTime=v,this.data=E,this.documentState=k}static newInvalidDocument(t){return new Tr(t,0,Rn.min(),Rn.min(),Rn.min(),As.empty(),0)}static newFoundDocument(t,i,c,m){return new Tr(t,1,i,Rn.min(),c,m,0)}static newNoDocument(t,i){return new Tr(t,2,i,Rn.min(),Rn.min(),As.empty(),0)}static newUnknownDocument(t,i){return new Tr(t,3,i,Rn.min(),Rn.min(),As.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=As.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=As.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Tr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gc{constructor(t,i){this.position=t,this.inclusive=i}}function Bm(a,t,i){let c=0;for(let m=0;m<a.position.length;m++){const v=t[m],E=a.position[m];if(c=v.field.isKeyField()?cn.comparator(cn.fromName(E.referenceValue),i.key):js(E,i.data.field(v.field)),"desc"===v.dir&&(c*=-1),0!==c)break}return c}function vh(a,t){if(null===a)return null===t;if(null===t||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Yo(a.position[i],t.position[i]))return!1;return!0}class bd{constructor(t,i="asc"){this.field=t,this.dir=i}}function H_(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class Sf{}class ni extends Sf{constructor(t,i,c){super(),this.field=t,this.op=i,this.value=c}static create(t,i,c){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,c):new tg(t,i,c):"array-contains"===i?new j_(t,c):"in"===i?new Tf(t,c):"not-in"===i?new jm(t,c):"array-contains-any"===i?new xh(t,c):new ni(t,i,c)}static createKeyFieldInFilter(t,i,c){return"in"===i?new ng(t,c):new Hm(t,c)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(js(i,this.value)):null!==i&&tc(this.value)===tc(i)&&this.matchesComparison(js(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rr extends Sf{constructor(t,i){super(),this.filters=t,this.op=i,this.ht=null}static create(t,i){return new rr(t,i)}matches(t){return wd(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(i=>i.isInequality());return null!==t?t.field:null}lt(t){for(const i of this.getFlattenedFilters())if(t(i))return i;return null}}function wd(a){return"and"===a.op}function bh(a){return"or"===a.op}function ao(a){return Eu(a)&&wd(a)}function Eu(a){for(const t of a.filters)if(t instanceof rr)return!1;return!0}function Cu(a){if(a instanceof ni)return a.field.canonicalString()+a.op.toString()+nc(a.value);if(ao(a))return a.filters.map(t=>Cu(t)).join(",");{const t=a.filters.map(i=>Cu(i)).join(",");return`${a.op}(${t})`}}function Du(a,t){return a instanceof ni?(i=a,(c=t)instanceof ni&&i.op===c.op&&i.field.isEqual(c.field)&&Yo(i.value,c.value)):a instanceof rr?function(i,c){return c instanceof rr&&i.op===c.op&&i.filters.length===c.filters.length&&i.filters.reduce((m,v,E)=>m&&Du(v,c.filters[E]),!0)}(a,t):void Xt();var i,c}function Um(a,t){const i=a.filters.concat(t);return rr.create(i,a.op)}function Vm(a){return a instanceof ni?`${(t=a).field.canonicalString()} ${t.op} ${nc(t.value)}`:a instanceof rr?function(t){return t.op.toString()+" {"+t.getFilters().map(Vm).join(" ,")+"}"}(a):"Filter";var t}class tg extends ni{constructor(t,i,c){super(t,i,c),this.key=cn.fromName(c.referenceValue)}matches(t){const i=cn.comparator(t.key,this.key);return this.matchesComparison(i)}}class ng extends ni{constructor(t,i){super(t,"in",i),this.keys=wh(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Hm extends ni{constructor(t,i){super(t,"not-in",i),this.keys=wh(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function wh(a,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(c=>cn.fromName(c.referenceValue))}class j_ extends ni{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return yd(i)&&_h(i.arrayValue,this.value)}}class Tf extends ni{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&_h(this.value.arrayValue,i)}}class jm extends ni{constructor(t,i){super(t,"not-in",i)}matches(t){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!_h(this.value.arrayValue,i)}}class xh extends ni{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!yd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(c=>_h(this.value.arrayValue,c))}}class zm{constructor(t,i=null,c=[],m=[],v=null,E=null,k=null){this.path=t,this.collectionGroup=i,this.orderBy=c,this.filters=m,this.limit=v,this.startAt=E,this.endAt=k,this.ft=null}}function ic(a,t=null,i=[],c=[],m=null,v=null,E=null){return new zm(a,t,i,c,m,v,E)}function xd(a){const t=Jt(a);if(null===t.ft){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(c=>Cu(c)).join(","),i+="|ob:",i+=t.orderBy.map(c=>{return(m=c).field.canonicalString()+m.dir;var m}).join(","),zc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(c=>nc(c)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(c=>nc(c)).join(",")),t.ft=i}return t.ft}function Gm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!H_(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Du(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!vh(a.startAt,t.startAt)&&vh(a.endAt,t.endAt)}function Ed(a){return cn.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function Iu(a,t){return a.filters.filter(i=>i instanceof ni&&i.field.isEqual(t))}function rc(a,t,i){let c=vu,m=!0;for(const v of Iu(a,t)){let E=vu,k=!0;switch(v.op){case"<":case"<=":E=Fm(v.value);break;case"==":case"in":case">=":E=v.value;break;case">":E=v.value,k=!1;break;case"!=":case"not-in":E=vu}ma({value:c,inclusive:m},{value:E,inclusive:k})<0&&(c=E,m=k)}if(null!==i)for(let v=0;v<a.orderBy.length;++v)if(a.orderBy[v].field.isEqual(t)){const E=i.position[v];ma({value:c,inclusive:m},{value:E,inclusive:i.inclusive})<0&&(c=E,m=i.inclusive);break}return{value:c,inclusive:m}}function $c(a,t,i){let c=gd,m=!0;for(const v of Iu(a,t)){let E=gd,k=!0;switch(v.op){case">=":case">":E=Ol(v.value),k=!1;break;case"==":case"in":case"<=":E=v.value;break;case"<":E=v.value,k=!1;break;case"!=":case"not-in":E=gd}vd({value:c,inclusive:m},{value:E,inclusive:k})>0&&(c=E,m=k)}if(null!==i)for(let v=0;v<a.orderBy.length;++v)if(a.orderBy[v].field.isEqual(t)){const E=i.position[v];vd({value:c,inclusive:m},{value:E,inclusive:i.inclusive})>0&&(c=E,m=i.inclusive);break}return{value:c,inclusive:m}}class ml{constructor(t,i=null,c=[],m=[],v=null,E="F",k=null,$=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=c,this.filters=m,this.limit=v,this.limitType=E,this.startAt=k,this.endAt=$,this.dt=null,this.wt=null}}function $m(a,t,i,c,m,v,E,k){return new ml(a,t,i,c,m,v,E,k)}function Su(a){return new ml(a)}function Af(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function Wm(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function Tu(a){for(const t of a.filters){const i=t.getFirstInequalityField();if(null!==i)return i}return null}function wc(a){return null!==a.collectionGroup}function Cd(a){const t=Jt(a);if(null===t.dt){t.dt=[];const i=Tu(t),c=Wm(t);if(null!==i&&null===c)i.isKeyField()||t.dt.push(new bd(i)),t.dt.push(new bd(dr.keyField(),"asc"));else{let m=!1;for(const v of t.explicitOrderBy)t.dt.push(v),v.field.isKeyField()&&(m=!0);if(!m){const v=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new bd(dr.keyField(),v))}}}return t.dt}function Xs(a){const t=Jt(a);if(!t.wt)if("F"===t.limitType)t.wt=ic(t.path,t.collectionGroup,Cd(t),t.filters,t.limit,t.startAt,t.endAt);else{const i=[];for(const v of Cd(t))i.push(new bd(v.field,"desc"===v.dir?"asc":"desc"));const c=t.endAt?new Gc(t.endAt.position,t.endAt.inclusive):null,m=t.startAt?new Gc(t.startAt.position,t.startAt.inclusive):null;t.wt=ic(t.path,t.collectionGroup,i,t.filters,t.limit,c,m)}return t.wt}function pa(a,t){t.getFirstInequalityField(),Tu(a);const i=a.filters.concat([t]);return new ml(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Wc(a,t,i){return new ml(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Dd(a,t){return Gm(Xs(a),Xs(t))&&a.limitType===t.limitType}function Eh(a){return`${xd(Xs(a))}|lt:${a.limitType}`}function La(a){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(c=>Vm(c)).join(", ")}]`),zc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(c=>{return`${(m=c).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(c=>nc(c)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(c=>nc(c)).join(",")),`Target(${i})`}(Xs(a))}; limitType=${a.limitType})`}function xc(a,t){return t.isFoundDocument()&&function(i,c){const m=c.key.path;return null!==i.collectionGroup?c.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(m):cn.isDocumentKey(i.path)?i.path.isEqual(m):i.path.isImmediateParentOf(m)}(a,t)&&function(i,c){for(const m of Cd(i))if(!m.field.isKeyField()&&null===c.data.field(m.field))return!1;return!0}(a,t)&&function(i,c){for(const m of i.filters)if(!m.matches(c))return!1;return!0}(a,t)&&(c=t,!((i=a).startAt&&!function(m,v,E){const k=Bm(m,v,E);return m.inclusive?k<=0:k<0}(i.startAt,Cd(i),c)||i.endAt&&!function(m,v,E){const k=Bm(m,v,E);return m.inclusive?k>=0:k>0}(i.endAt,Cd(i),c)));var i,c}function Mf(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function kf(a){return(t,i)=>{let c=!1;for(const m of Cd(a)){const v=Au(m,t,i);if(0!==v)return v;c=c||m.field.isKeyField()}return 0}}function Au(a,t,i){const c=a.field.isKeyField()?cn.comparator(t.key,i.key):function(m,v,E){const k=v.data.field(m),$=E.data.field(m);return null!==k&&null!==$?js(k,$):Xt()}(a.field,t,i);switch(a.dir){case"asc":return c;case"desc":return-1*c;default:return Xt()}}class qo{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),c=this.inner[i];if(void 0!==c)for(const[m,v]of c)if(this.equalsFn(m,t))return v}has(t){return void 0!==this.get(t)}set(t,i){const c=this.mapKeyFn(t),m=this.inner[c];if(void 0===m)return this.inner[c]=[[t,i]],void this.innerSize++;for(let v=0;v<m.length;v++)if(this.equalsFn(m[v][0],t))return void(m[v]=[t,i]);m.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),c=this.inner[i];if(void 0===c)return!1;for(let m=0;m<c.length;m++)if(this.equalsFn(c[m][0],t))return 1===c.length?delete this.inner[i]:c.splice(m,1),this.innerSize--,!0;return!1}forEach(t){V(this.inner,(i,c)=>{for(const[m,v]of c)t(m,v)})}isEmpty(){return W(this.inner)}size(){return this.innerSize}}const Rf=new ne(cn.comparator);function lo(){return Rf}const z_=new ne(cn.comparator);function Mu(...a){let t=z_;for(const i of a)t=t.insert(i.key,i);return t}function Ch(a){let t=z_;return a.forEach((i,c)=>t=t.insert(i,c.overlayedDocument)),t}function sc(){return Sd()}function Id(){return Sd()}function Sd(){return new qo(a=>a.toString(),(a,t)=>a.isEqual(t))}const Of=new ne(cn.comparator),Td=new it(cn.comparator);function hi(...a){let t=Td;for(const i of a)t=t.add(i);return t}const ga=new it(Yn);function Pl(){return ga}function Dh(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lr(t)?"-0":t}}function ku(a){return{integerValue:""+a}}function oc(a,t){return Jl(t)?ku(t):Dh(a,t)}class Ad{constructor(){this._=void 0}}function Ih(a,t,i){return a instanceof Sh?function(c,m){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return m&&(v.fields.__previous_value__=m),{mapValue:v}}(i,t):a instanceof Ru?G_(a,t):a instanceof Md?Ou(a,t):function(c,m){const v=Km(c,m),E=kd(v)+kd(c._t);return eg(v)&&eg(c._t)?ku(E):Dh(c.serializer,E)}(a,t)}function dv(a,t,i){return a instanceof Ru?G_(a,t):a instanceof Md?Ou(a,t):i}function Km(a,t){return a instanceof Kc?eg(i=t)||(c=i)&&"doubleValue"in c?t:{integerValue:0}:null;var c,i}class Sh extends Ad{}class Ru extends Ad{constructor(t){super(),this.elements=t}}function G_(a,t){const i=Rd(t);for(const c of a.elements)i.some(m=>Yo(m,c))||i.push(c);return{arrayValue:{values:i}}}class Md extends Ad{constructor(t){super(),this.elements=t}}function Ou(a,t){let i=Rd(t);for(const c of a.elements)i=i.filter(m=>!Yo(m,c));return{arrayValue:{values:i}}}class Kc extends Ad{constructor(t,i){super(),this.serializer=t,this._t=i}}function kd(a){return yr(a.integerValue||a.doubleValue)}function Rd(a){return yd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Yc{constructor(t,i){this.field=t,this.transform=i}}class Ym{constructor(t,i){this.version=t,this.transformResults=i}}class Ar{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ar}static exists(t){return new Ar(void 0,t)}static updateTime(t){return new Ar(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Od(a,t){return void 0!==a.updateTime?t.isFoundDocument()&&t.version.isEqual(a.updateTime):void 0===a.exists||a.exists===t.isFoundDocument()}class Th{}function Pd(a,t){if(!a.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return a.isNoDocument()?new qc(a.key,Ar.none()):new Nl(a.key,a.data,Ar.none());{const i=a.data,c=As.empty();let m=new it(dr.comparator);for(let v of t.fields)if(!m.has(v)){let E=i.field(v);null===E&&v.length>1&&(v=v.popLast(),E=i.field(v)),null===E?c.delete(v):c.set(v,E),m=m.add(v)}return new No(a.key,c,new An(m.toArray()),Ar.none())}}function Nd(a,t,i){a instanceof Nl?function(c,m,v){const E=c.value.clone(),k=Nf(c.fieldTransforms,m,v.transformResults);E.setAll(k),m.convertToFoundDocument(v.version,E).setHasCommittedMutations()}(a,t,i):a instanceof No?function(c,m,v){if(!Od(c.precondition,m))return void m.convertToUnknownDocument(v.version);const E=Nf(c.fieldTransforms,m,v.transformResults),k=m.data;k.setAll(ig(c)),k.setAll(E),m.convertToFoundDocument(v.version,k).setHasCommittedMutations()}(a,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function ac(a,t,i,c){return a instanceof Nl?function(m,v,E,k){if(!Od(m.precondition,v))return E;const $=m.value.clone(),te=Ff(m.fieldTransforms,k,v);return $.setAll(te),v.convertToFoundDocument(v.version,$).setHasLocalMutations(),null}(a,t,i,c):a instanceof No?function(m,v,E,k){if(!Od(m.precondition,v))return E;const $=Ff(m.fieldTransforms,k,v),te=v.data;return te.setAll(ig(m)),te.setAll($),v.convertToFoundDocument(v.version,te).setHasLocalMutations(),null===E?null:E.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(fe=>fe.field))}(a,t,i,c):(E=i,Od(a.precondition,v=t)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):E);var v,E}function $_(a,t){let i=null;for(const c of a.fieldTransforms){const m=t.data.field(c.field),v=Km(c.transform,m||null);null!=v&&(null===i&&(i=As.empty()),i.set(c.field,v))}return i||null}function Zo(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&(c=t.fieldTransforms,!!(void 0===(i=a.fieldTransforms)&&void 0===c||i&&c&&Sr(i,c,(m,v)=>function Pf(a,t){return a.field.isEqual(t.field)&&(c=t.transform,(i=a.transform)instanceof Ru&&c instanceof Ru||i instanceof Md&&c instanceof Md?Sr(i.elements,c.elements,Yo):i instanceof Kc&&c instanceof Kc?Yo(i._t,c._t):i instanceof Sh&&c instanceof Sh);var i,c}(m,v))))&&(0===a.type?a.value.isEqual(t.value):1!==a.type||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask));var i,c}class Nl extends Th{constructor(t,i,c,m=[]){super(),this.key=t,this.value=i,this.precondition=c,this.fieldTransforms=m,this.type=0}getFieldMask(){return null}}class No extends Th{constructor(t,i,c,m,v=[]){super(),this.key=t,this.data=i,this.fieldMask=c,this.precondition=m,this.fieldTransforms=v,this.type=1}getFieldMask(){return this.fieldMask}}function ig(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const c=a.data.field(i);t.set(i,c)}}),t}function Nf(a,t,i){const c=new Map;hn(a.length===i.length);for(let m=0;m<i.length;m++){const v=a[m],E=v.transform,k=t.data.field(v.field);c.set(v.field,dv(E,k,i[m]))}return c}function Ff(a,t,i){const c=new Map;for(const m of a){const v=m.transform,E=i.data.field(m.field);c.set(m.field,Ih(v,E,t))}return c}class qc extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fd extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _a{constructor(t,i,c,m){this.batchId=t,this.localWriteTime=i,this.baseMutations=c,this.mutations=m}applyToRemoteDocument(t,i){const c=i.mutationResults;for(let m=0;m<this.mutations.length;m++){const v=this.mutations[m];v.key.isEqual(t.key)&&Nd(v,t,c[m])}}applyToLocalView(t,i){for(const c of this.baseMutations)c.key.isEqual(t.key)&&(i=ac(c,t,i,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(t.key)&&(i=ac(c,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const c=Id();return this.mutations.forEach(m=>{const v=t.get(m.key),E=v.overlayedDocument;let k=this.applyToLocalView(E,v.mutatedFields);k=i.has(m.key)?null:k;const $=Pd(E,k);null!==$&&c.set(m.key,$),E.isValidDocument()||E.convertToNoDocument(Rn.min())}),c}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),hi())}isEqual(t){return this.batchId===t.batchId&&Sr(this.mutations,t.mutations,(i,c)=>Zo(i,c))&&Sr(this.baseMutations,t.baseMutations,(i,c)=>Zo(i,c))}}class Qo{constructor(t,i,c,m){this.batch=t,this.commitVersion=i,this.mutationResults=c,this.docVersions=m}static from(t,i,c){hn(t.mutations.length===c.length);let m=Of;const v=t.mutations;for(let E=0;E<v.length;E++)m=m.insert(v[E].key,c[E].version);return new Qo(t,i,c,m)}}class Ld{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uf{constructor(t){this.count=t}}var Xi,Li;function Pu(a){switch(a){default:return Xt();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function rg(a){if(void 0===a)return Kn("GRPC error has no .code"),pt.UNKNOWN;switch(a){case Xi.OK:return pt.OK;case Xi.CANCELLED:return pt.CANCELLED;case Xi.UNKNOWN:return pt.UNKNOWN;case Xi.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Xi.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Xi.INTERNAL:return pt.INTERNAL;case Xi.UNAVAILABLE:return pt.UNAVAILABLE;case Xi.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Xi.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Xi.NOT_FOUND:return pt.NOT_FOUND;case Xi.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Xi.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Xi.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Xi.ABORTED:return pt.ABORTED;case Xi.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Xi.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Xi.DATA_LOSS:return pt.DATA_LOSS;default:return Xt()}}(Li=Xi||(Xi={}))[Li.OK=0]="OK",Li[Li.CANCELLED=1]="CANCELLED",Li[Li.UNKNOWN=2]="UNKNOWN",Li[Li.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Li[Li.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Li[Li.NOT_FOUND=5]="NOT_FOUND",Li[Li.ALREADY_EXISTS=6]="ALREADY_EXISTS",Li[Li.PERMISSION_DENIED=7]="PERMISSION_DENIED",Li[Li.UNAUTHENTICATED=16]="UNAUTHENTICATED",Li[Li.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Li[Li.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Li[Li.ABORTED=10]="ABORTED",Li[Li.OUT_OF_RANGE=11]="OUT_OF_RANGE",Li[Li.UNIMPLEMENTED=12]="UNIMPLEMENTED",Li[Li.INTERNAL=13]="INTERNAL",Li[Li.UNAVAILABLE=14]="UNAVAILABLE",Li[Li.DATA_LOSS=15]="DATA_LOSS";class Ba{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Zc}static getOrCreateInstance(){return null===Zc&&(Zc=new Ba),Zc}onExistenceFilterMismatch(t){const i=Symbol();return this.onExistenceFilterMismatchCallbacks.set(i,t),()=>this.onExistenceFilterMismatchCallbacks.delete(i)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(i=>i(t))}}let Zc=null;class Ec{constructor(t,i,c,m,v){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=c,this.documentUpdates=m,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(t,i,c){const m=new Map;return m.set(t,Ua.createSynthesizedTargetChangeForCurrentChange(t,i,c)),new Ec(Rn.min(),m,Pl(),lo(),hi())}}class Ua{constructor(t,i,c,m,v){this.resumeToken=t,this.current=i,this.addedDocuments=c,this.modifiedDocuments=m,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(t,i,c){return new Ua(c,i,hi(),hi(),hi())}}class Qc{constructor(t,i,c,m){this.It=t,this.removedTargetIds=i,this.key=c,this.Tt=m}}class Ah{constructor(t,i){this.targetId=t,this.Et=i}}class sg{constructor(t,i,c=Fn.EMPTY_BYTE_STRING,m=null){this.state=t,this.targetIds=i,this.resumeToken=c,this.cause=m}}class og{constructor(){this.At=0,this.Rt=C(),this.vt=Fn.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=hi(),i=hi(),c=hi();return this.Rt.forEach((m,v)=>{switch(v){case 0:t=t.add(m);break;case 2:i=i.add(m);break;case 1:c=c.add(m);break;default:Xt()}}),new Ua(this.vt,this.bt,t,i,c)}xt(){this.Pt=!1,this.Rt=C()}Nt(t,i){this.Pt=!0,this.Rt=this.Rt.insert(t,i)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Xc{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=lo(),this.qt=Cc(),this.Ut=new it(Yn)}Kt(t){for(const i of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(i,t.Tt):this.Qt(i,t.key,t.Tt);for(const i of t.removedTargetIds)this.Qt(i,t.key,t.Tt)}zt(t){this.forEachTarget(t,i=>{const c=this.jt(i);switch(t.state){case 0:this.Wt(i)&&c.Dt(t.resumeToken);break;case 1:c.$t(),c.Vt||c.xt(),c.Dt(t.resumeToken);break;case 2:c.$t(),c.Vt||this.removeTarget(i);break;case 3:this.Wt(i)&&(c.Mt(),c.Dt(t.resumeToken));break;case 4:this.Wt(i)&&(this.Ht(i),c.Dt(t.resumeToken));break;default:Xt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Bt.forEach((c,m)=>{this.Wt(m)&&i(m)})}Jt(t){var i;const c=t.targetId,m=t.Et.count,v=this.Yt(c);if(v){const E=v.target;if(Ed(E))if(0===m){const k=new cn(E.path);this.Qt(c,k,Tr.newNoDocument(k,Rn.min()))}else hn(1===m);else{const k=this.Zt(c);k!==m&&(this.Ht(c),this.Ut=this.Ut.add(c),null===(i=Ba.instance)||void 0===i||i.notifyOnExistenceFilterMismatch({localCacheCount:k,existenceFilterCount:t.Et.count}))}}}Xt(t){const i=new Map;this.Bt.forEach((v,E)=>{const k=this.Yt(E);if(k){if(v.current&&Ed(k.target)){const $=new cn(k.target.path);null!==this.Lt.get($)||this.te(E,$)||this.Qt(E,$,Tr.newNoDocument($,t))}v.St&&(i.set(E,v.Ct()),v.xt())}});let c=hi();this.qt.forEach((v,E)=>{let k=!0;E.forEachWhile($=>{const te=this.Yt($);return!te||2===te.purpose||(k=!1,!1)}),k&&(c=c.add(v))}),this.Lt.forEach((v,E)=>E.setReadTime(t));const m=new Ec(t,i,this.Ut,this.Lt,c);return this.Lt=lo(),this.qt=Cc(),this.Ut=new it(Yn),m}Gt(t,i){if(!this.Wt(t))return;const c=this.te(t,i.key)?2:0;this.jt(t).Nt(i.key,c),this.Lt=this.Lt.insert(i.key,i),this.qt=this.qt.insert(i.key,this.ee(i.key).add(t))}Qt(t,i,c){if(!this.Wt(t))return;const m=this.jt(t);this.te(t,i)?m.Nt(i,1):m.kt(i),this.qt=this.qt.insert(i,this.ee(i).delete(t)),c&&(this.Lt=this.Lt.insert(i,c))}removeTarget(t){this.Bt.delete(t)}Zt(t){const i=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let i=this.Bt.get(t);return i||(i=new og,this.Bt.set(t,i)),i}ee(t){let i=this.qt.get(t);return i||(i=new it(Yn),this.qt=this.qt.insert(t,i)),i}Wt(t){const i=null!==this.Yt(t);return i||At("WatchChangeAggregator","Detected inactive target",t),i}Yt(t){const i=this.Bt.get(t);return i&&i.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new og),this.Ft.getRemoteKeysForTarget(t).forEach(i=>{this.Qt(t,i,null)})}te(t,i){return this.Ft.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new ne(cn.comparator)}function C(){return new ne(cn.comparator)}const y={asc:"ASCENDING",desc:"DESCENDING"},b={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T={and:"AND",or:"OR"};class Z{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function F(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ve(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function ct(a,t){return F(a,t.toTimestamp())}function jt(a){return hn(!!a),Rn.fromTimestamp(function(t){const i=Wr(t);return new Oi(i.seconds,i.nanos)}(a))}function an(a,t){return(i=a,new gi(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function In(a){const t=gi.fromString(a);return hn(ug(t)),t}function vn(a,t){return an(a.databaseId,t.path)}function Xn(a,t){const i=In(t);if(i.get(1)!==a.databaseId.projectId)throw new Ht(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new Ht(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new cn(Vf(i))}function Ni(a,t){return an(a.databaseId,t)}function Bd(a){const t=In(a);return 4===t.length?gi.emptyPath():Vf(t)}function Mr(a){return new gi(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Vf(a){return hn(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function Zm(a,t,i){return{name:vn(a,t),fields:i.value.mapValue.fields}}function Mh(a,t,i){const c=Xn(a,t.name),m=jt(t.updateTime),v=t.createTime?jt(t.createTime):Rn.min(),E=new As({mapValue:{fields:t.fields}}),k=Tr.newFoundDocument(c,m,v,E);return i&&k.setHasCommittedMutations(),i?k.setHasCommittedMutations():k}function Ud(a,t){let i;if(t instanceof Nl)i={update:Zm(a,t.key,t.value)};else if(t instanceof qc)i={delete:vn(a,t.key)};else if(t instanceof No)i={update:Zm(a,t.key,t.data),updateMask:Xo(t.fieldMask)};else{if(!(t instanceof Fd))return Xt();i={verify:vn(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(c=>function(m,v){const E=v.transform;if(E instanceof Sh)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Ru)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Md)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Kc)return{fieldPath:v.field.canonicalString(),increment:E._t};throw Xt()}(0,c))),t.precondition.isNone||(i.currentDocument=void 0!==(m=t.precondition).updateTime?{updateTime:ct(a,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Xt()),i;var m}function Nu(a,t){const i=t.currentDocument?void 0!==(m=t.currentDocument).updateTime?Ar.updateTime(jt(m.updateTime)):void 0!==m.exists?Ar.exists(m.exists):Ar.none():Ar.none(),c=t.updateTransforms?t.updateTransforms.map(m=>function(v,E){let k=null;"setToServerValue"in E?(hn("REQUEST_TIME"===E.setToServerValue),k=new Sh):"appendMissingElements"in E?k=new Ru(E.appendMissingElements.values||[]):"removeAllFromArray"in E?k=new Md(E.removeAllFromArray.values||[]):"increment"in E?k=new Kc(v,E.increment):Xt();const $=dr.fromServerFormat(E.fieldPath);return new Yc($,k)}(a,m)):[];var m;if(t.update){const m=Xn(a,t.update.name),v=new As({mapValue:{fields:t.update.fields}});if(t.updateMask){const E=new An((t.updateMask.fieldPaths||[]).map(te=>dr.fromServerFormat(te)));return new No(m,v,E,i,c)}return new Nl(m,v,i,c)}if(t.delete){const m=Xn(a,t.delete);return new qc(m,i)}if(t.verify){const m=Xn(a,t.verify);return new Fd(m,i)}return Xt()}function Qm(a,t){return{documents:[Ni(a,t.path)]}}function jf(a,t){const i={structuredQuery:{}},c=t.path;null!==t.collectionGroup?(i.parent=Ni(a,c),i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i.parent=Ni(a,c.popLast()),i.structuredQuery.from=[{collectionId:c.lastSegment()}]);const m=function($){if(0!==$.length)return Rh(rr.create($,"and"))}(t.filters);m&&(i.structuredQuery.where=m);const v=function($){if(0!==$.length)return $.map(te=>{return{field:Vd((fe=te).field),direction:uv(fe.dir)};var fe})}(t.orderBy);v&&(i.structuredQuery.orderBy=v);const E=(te=t.limit,a.useProto3Json||zc(te)?te:{value:te});var te,k,$;return null!==E&&(i.structuredQuery.limit=E),t.startAt&&(i.structuredQuery.startAt={before:(k=t.startAt).inclusive,values:k.position}),t.endAt&&(i.structuredQuery.endAt={before:!($=t.endAt).inclusive,values:$.position}),i}function cg(a){let t=Bd(a.parent);const i=a.structuredQuery,c=i.from?i.from.length:0;let m=null;if(c>0){hn(1===c);const fe=i.from[0];fe.allDescendants?m=fe.collectionId:t=t.child(fe.collectionId)}let v=[];i.where&&(v=function(fe){const Ue=dg(fe);return Ue instanceof rr&&ao(Ue)?Ue.getFilters():[Ue]}(i.where));let E=[];i.orderBy&&(E=i.orderBy.map(fe=>{return new bd(Jc((Ue=fe).field),function(dt){switch(dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ue.direction));var Ue}));let k=null;i.limit&&(k=function(fe){let Ue;return Ue="object"==typeof fe?fe.value:fe,zc(Ue)?null:Ue}(i.limit));let $=null;var fe;i.startAt&&($=new Gc((fe=i.startAt).values||[],!!fe.before));let te=null;return i.endAt&&(te=function(fe){return new Gc(fe.values||[],!fe.before)}(i.endAt)),$m(t,m,E,v,k,"F",$,te)}function dg(a){return void 0!==a.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Jc(t.unaryFilter.field);return ni.create(i,"==",{doubleValue:NaN});case"IS_NULL":const c=Jc(t.unaryFilter.field);return ni.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=Jc(t.unaryFilter.field);return ni.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Jc(t.unaryFilter.field);return ni.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Xt()}}(a):void 0!==a.fieldFilter?ni.create(Jc((t=a).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==a.compositeFilter?function(t){return rr.create(t.compositeFilter.filters.map(i=>dg(i)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xt()}}(t.compositeFilter.op))}(a):Xt();var t}function uv(a){return y[a]}function kh(a){return b[a]}function W_(a){return T[a]}function Vd(a){return{fieldPath:a.canonicalString()}}function Jc(a){return dr.fromServerFormat(a.fieldPath)}function Rh(a){return a instanceof ni?function(t){if("=="===t.op){if(Nm(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NAN"}};if(If(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Nm(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NOT_NAN"}};if(If(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vd(t.field),op:kh(t.op),value:t.value}}}(a):a instanceof rr?function(t){const i=t.getFilters().map(c=>Rh(c));return 1===i.length?i[0]:{compositeFilter:{op:W_(t.op),filters:i}}}(a):Xt()}function Xo(a){const t=[];return a.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function ug(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class Oh{constructor(t,i,c,m,v=Rn.min(),E=Rn.min(),k=Fn.EMPTY_BYTE_STRING){this.target=t,this.targetId=i,this.purpose=c,this.sequenceNumber=m,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=k}withSequenceNumber(t){return new Oh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,i){return new Oh(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Oh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class hg{constructor(t){this.se=t}}function fg(a,t){const i=t.key,c={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Jm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())c.document={name:vn(m=a.se,(v=t).key),fields:v.data.value.mapValue.fields,updateTime:F(m,v.version.toTimestamp()),createTime:F(m,v.createTime.toTimestamp())};else if(t.isNoDocument())c.noDocument={path:i.path.toArray(),readTime:Dc(t.version)};else{if(!t.isUnknownDocument())return Xt();c.unknownDocument={path:i.path.toArray(),version:Dc(t.version)}}var m,v;return c}function Jm(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function Dc(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function pl(a){const t=new Oi(a.seconds,a.nanoseconds);return Rn.fromTimestamp(t)}function Hd(a,t){const i=(t.baseMutations||[]).map(v=>Nu(a.se,v));for(let v=0;v<t.mutations.length-1;++v)v+1<t.mutations.length&&void 0!==t.mutations[v+1].transform&&(t.mutations[v].updateTransforms=t.mutations[v+1].transform.fieldTransforms,t.mutations.splice(v+1,1),++v);const c=t.mutations.map(v=>Nu(a.se,v)),m=Oi.fromMillis(t.localWriteTimeMs);return new _a(t.batchId,m,i,c)}function jd(a){const t=pl(a.readTime),i=void 0!==a.lastLimboFreeSnapshotVersion?pl(a.lastLimboFreeSnapshotVersion):Rn.min();let c;var m;return void 0!==a.query.documents?(hn(1===(m=a.query).documents.length),c=Xs(Su(Bd(m.documents[0])))):c=Xs(cg(a.query)),new Oh(c,a.targetId,0,a.lastListenSequenceNumber,t,i,Fn.fromBase64String(a.resumeToken))}function Fl(a,t){const i=Dc(t.snapshotVersion),c=Dc(t.lastLimboFreeSnapshotVersion);let m;m=Ed(t.target)?Qm(a.se,t.target):jf(a.se,t.target);const v=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xd(t.target),readTime:i,resumeToken:v,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:c,query:m}}function mg(a){const t=cg({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Wc(t,t.limit,"L"):t}function lc(a,t){return new Ld(t.largestBatchId,Nu(a.se,t.overlayMutation))}function zf(a,t){const i=t.path.lastSegment();return[a,Br(t.path.popLast()),i]}function Fu(a,t,i,c){return{indexId:a,uid:t.uid||"",sequenceNumber:i,readTime:Dc(c.readTime),documentKey:Br(c.documentKey.path),largestBatchId:c.largestBatchId}}class ep{getBundleMetadata(t,i){return pg(t).get(i).next(c=>{if(c)return{id:(m=c).bundleId,createTime:pl(m.createTime),version:m.version};var m})}saveBundleMetadata(t,i){return pg(t).put({bundleId:(c=i).id,createTime:Dc(jt(c.createTime)),version:c.version});var c}getNamedQuery(t,i){return hv(t).get(i).next(c=>{if(c)return{name:(m=c).name,query:mg(m.bundledQuery),readTime:pl(m.readTime)};var m})}saveNamedQuery(t,i){return hv(t).put({name:(c=i).name,readTime:Dc(jt(c.readTime)),bundledQuery:c.bundledQuery});var c}}function pg(a){return Hs(a,"bundles")}function hv(a){return Hs(a,"namedQueries")}class gg{constructor(t,i){this.serializer=t,this.userId=i}static ie(t,i){return new gg(t,i.uid||"")}getOverlay(t,i){return Gf(t).get(zf(this.userId,i)).next(c=>c?lc(this.serializer,c):null)}getOverlays(t,i){const c=sc();return gt.forEach(i,m=>this.getOverlay(t,m).next(v=>{null!==v&&c.set(m,v)})).next(()=>c)}saveOverlays(t,i,c){const m=[];return c.forEach((v,E)=>{const k=new Ld(i,E);m.push(this.re(t,k))}),gt.waitFor(m)}removeOverlaysForBatchId(t,i,c){const m=new Set;i.forEach(E=>m.add(Br(E.getCollectionPath())));const v=[];return m.forEach(E=>{const k=IDBKeyRange.bound([this.userId,E,c],[this.userId,E,c+1],!1,!0);v.push(Gf(t).J("collectionPathOverlayIndex",k))}),gt.waitFor(v)}getOverlaysForCollection(t,i,c){const m=sc(),v=Br(i),E=IDBKeyRange.bound([this.userId,v,c],[this.userId,v,Number.POSITIVE_INFINITY],!0);return Gf(t).j("collectionPathOverlayIndex",E).next(k=>{for(const $ of k){const te=lc(this.serializer,$);m.set(te.getKey(),te)}return m})}getOverlaysForCollectionGroup(t,i,c,m){const v=sc();let E;const k=IDBKeyRange.bound([this.userId,i,c],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Gf(t).Z({index:"collectionGroupOverlayIndex",range:k},($,te,fe)=>{const Ue=lc(this.serializer,te);v.size()<m||Ue.largestBatchId===E?(v.set(Ue.getKey(),Ue),E=Ue.largestBatchId):fe.done()}).next(()=>v)}re(t,i){return Gf(t).put(function(c,m,v){const[E,k,$]=zf(m,v.mutation.key);return{userId:m,collectionPath:k,documentId:$,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:Ud(c.se,v.mutation)}}(this.serializer,this.userId,i))}}function Gf(a){return Hs(a,"documentOverlays")}class cc{constructor(){}oe(t,i){this.ue(t,i),i.ce()}ue(t,i){if("nullValue"in t)this.ae(i,5);else if("booleanValue"in t)this.ae(i,10),i.he(t.booleanValue?1:0);else if("integerValue"in t)this.ae(i,15),i.he(yr(t.integerValue));else if("doubleValue"in t){const c=yr(t.doubleValue);isNaN(c)?this.ae(i,13):(this.ae(i,15),Lr(c)?i.he(0):i.he(c))}else if("timestampValue"in t){const c=t.timestampValue;this.ae(i,20),"string"==typeof c?i.le(c):(i.le(`${c.seconds||""}`),i.he(c.nanos||0))}else if("stringValue"in t)this.fe(t.stringValue,i),this.de(i);else if("bytesValue"in t)this.ae(i,30),i.we(fa(t.bytesValue)),this.de(i);else if("referenceValue"in t)this._e(t.referenceValue,i);else if("geoPointValue"in t){const c=t.geoPointValue;this.ae(i,45),i.he(c.latitude||0),i.he(c.longitude||0)}else"mapValue"in t?xu(t)?this.ae(i,Number.MAX_SAFE_INTEGER):(this.me(t.mapValue,i),this.de(i)):"arrayValue"in t?(this.ge(t.arrayValue,i),this.de(i)):Xt()}fe(t,i){this.ae(i,25),this.ye(t,i)}ye(t,i){i.le(t)}me(t,i){const c=t.fields||{};this.ae(i,55);for(const m of Object.keys(c))this.fe(m,i),this.ue(c[m],i)}ge(t,i){const c=t.values||[];this.ae(i,50);for(const m of c)this.ue(m,i)}_e(t,i){this.ae(i,37),cn.fromName(t).path.forEach(c=>{this.ae(i,60),this.ye(c,i)})}ae(t,i){t.he(i)}de(t){t.he(2)}}function zb(a){if(0===a)return 8;let t=0;return!(a>>4)&&(t+=4,a<<=4),!(a>>6)&&(t+=2,a<<=2),!(a>>7)&&(t+=1),t}function fv(a){const t=64-function(i){let c=0;for(let m=0;m<8;++m){const v=zb(255&i[m]);if(c+=v,8!==v)break}return c}(a);return Math.ceil(t/8)}cc.pe=new cc;class Gb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(t){const i=t[Symbol.iterator]();let c=i.next();for(;!c.done;)this.Te(c.value),c=i.next();this.Ee()}Ae(t){const i=t[Symbol.iterator]();let c=i.next();for(;!c.done;)this.Re(c.value),c=i.next();this.ve()}be(t){for(const i of t){const c=i.charCodeAt(0);if(c<128)this.Te(c);else if(c<2048)this.Te(960|c>>>6),this.Te(128|63&c);else if(i<"\ud800"||"\udbff"<i)this.Te(480|c>>>12),this.Te(128|63&c>>>6),this.Te(128|63&c);else{const m=i.codePointAt(0);this.Te(240|m>>>18),this.Te(128|63&m>>>12),this.Te(128|63&m>>>6),this.Te(128|63&m)}}this.Ee()}Pe(t){for(const i of t){const c=i.charCodeAt(0);if(c<128)this.Re(c);else if(c<2048)this.Re(960|c>>>6),this.Re(128|63&c);else if(i<"\ud800"||"\udbff"<i)this.Re(480|c>>>12),this.Re(128|63&c>>>6),this.Re(128|63&c);else{const m=i.codePointAt(0);this.Re(240|m>>>18),this.Re(128|63&m>>>12),this.Re(128|63&m>>>6),this.Re(128|63&m)}}this.ve()}Ve(t){const i=this.Se(t),c=fv(i);this.De(1+c),this.buffer[this.position++]=255&c;for(let m=i.length-c;m<i.length;++m)this.buffer[this.position++]=255&i[m]}Ce(t){const i=this.Se(t),c=fv(i);this.De(1+c),this.buffer[this.position++]=~(255&c);for(let m=i.length-c;m<i.length;++m)this.buffer[this.position++]=~(255&i[m])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(t){this.De(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Se(t){const i=function(m){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,m,!1),new Uint8Array(v.buffer)}(t),c=0!=(128&i[0]);i[0]^=c?255:128;for(let m=1;m<i.length;++m)i[m]^=c?255:0;return i}Te(t){const i=255&t;0===i?(this.Ne(0),this.Ne(255)):255===i?(this.Ne(255),this.Ne(0)):this.Ne(i)}Re(t){const i=255&t;0===i?(this.Oe(0),this.Oe(255)):255===i?(this.Oe(255),this.Oe(0)):this.Oe(t)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(t){this.De(1),this.buffer[this.position++]=t}Oe(t){this.De(1),this.buffer[this.position++]=~t}De(t){const i=t+this.position;if(i<=this.buffer.length)return;let c=2*this.buffer.length;c<i&&(c=i);const m=new Uint8Array(c);m.set(this.buffer),this.buffer=m}}class K_{constructor(t){this.Me=t}we(t){this.Me.Ie(t)}le(t){this.Me.be(t)}he(t){this.Me.Ve(t)}ce(){this.Me.xe()}}class Ll{constructor(t){this.Me=t}we(t){this.Me.Ae(t)}le(t){this.Me.Pe(t)}he(t){this.Me.Ce(t)}ce(){this.Me.ke()}}class Lu{constructor(){this.Me=new Gb,this.Fe=new K_(this.Me),this.Be=new Ll(this.Me)}seed(t){this.Me.seed(t)}Le(t){return 0===t?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class zd{constructor(t,i,c,m){this.indexId=t,this.documentKey=i,this.arrayValue=c,this.directionalValue=m}qe(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,c=new Uint8Array(i);return c.set(this.directionalValue,0),i!==t?c.set([0],this.directionalValue.length):++c[c.length-1],new zd(this.indexId,this.documentKey,this.arrayValue,c)}}function ed(a,t){let i=a.indexId-t.indexId;return 0!==i?i:(i=$b(a.arrayValue,t.arrayValue),0!==i?i:(i=$b(a.directionalValue,t.directionalValue),0!==i?i:cn.comparator(a.documentKey,t.documentKey)))}function $b(a,t){for(let i=0;i<a.length&&i<t.length;++i){const c=a[i]-t[i];if(0!==c)return c}return a.length-t.length}class mv{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];for(const i of t.filters){const c=i;c.isInequality()?this.Ge=c:this.Ke.push(c)}}Qe(t){hn(t.collectionGroup===this.collectionId);const i=Us(t);if(void 0!==i&&!this.ze(i))return!1;const c=Fr(t);let m=0,v=0;for(;m<c.length&&this.ze(c[m]);++m);if(m===c.length)return!0;if(void 0!==this.Ge){const E=c[m];if(!this.je(this.Ge,E)||!this.We(this.Ue[v++],E))return!1;++m}for(;m<c.length;++m)if(v>=this.Ue.length||!this.We(this.Ue[v++],c[m]))return!1;return!0}ze(t){for(const i of this.Ke)if(this.je(i,t))return!0;return!1}je(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function Ph(a){var t,i;if(hn(a instanceof ni||a instanceof rr),a instanceof ni){if(a instanceof Tf){const m=(null===(i=null===(t=a.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(v=>ni.create(a.field,"==",v)))||[];return rr.create(m,"or")}return a}const c=a.filters.map(m=>Ph(m));return rr.create(c,a.op)}function Wb(a){if(0===a.getFilters().length)return[];const t=$f(Ph(a));return hn(Ic(t)),Bu(t)||Nh(t)?[t]:t.getFilters()}function Bu(a){return a instanceof ni}function Nh(a){return a instanceof rr&&ao(a)}function Ic(a){return Bu(a)||Nh(a)||function(t){if(t instanceof rr&&bh(t)){for(const i of t.getFilters())if(!Bu(i)&&!Nh(i))return!1;return!0}return!1}(a)}function $f(a){if(hn(a instanceof ni||a instanceof rr),a instanceof ni)return a;if(1===a.filters.length)return $f(a.filters[0]);const t=a.filters.map(c=>$f(c));let i=rr.create(t,a.op);return i=tp(i),Ic(i)?i:(hn(i instanceof rr),hn(wd(i)),hn(i.filters.length>1),i.filters.reduce((c,m)=>Y_(c,m)))}function Y_(a,t){let i;return hn(a instanceof ni||a instanceof rr),hn(t instanceof ni||t instanceof rr),i=a instanceof ni?t instanceof ni?rr.create([a,t],"and"):pv(a,t):t instanceof ni?pv(t,a):function(c,m){if(hn(c.filters.length>0&&m.filters.length>0),wd(c)&&wd(m))return Um(c,m.getFilters());const v=bh(c)?c:m,E=bh(c)?m:c,k=v.filters.map($=>Y_($,E));return rr.create(k,"or")}(a,t),tp(i)}function pv(a,t){if(wd(t))return Um(t,a.getFilters());{const i=t.filters.map(c=>Y_(a,c));return rr.create(i,"or")}}function tp(a){if(hn(a instanceof ni||a instanceof rr),a instanceof ni)return a;const t=a.getFilters();if(1===t.length)return tp(t[0]);if(Eu(a))return a;const i=t.map(m=>tp(m)),c=[];return i.forEach(m=>{m instanceof ni?c.push(m):m instanceof rr&&(m.op===a.op?c.push(...m.filters):c.push(m))}),1===c.length?c[0]:rr.create(c,a.op)}class gv{constructor(){this.He=new Fo}addToCollectionParentIndex(t,i){return this.He.add(i),gt.resolve()}getCollectionParents(t,i){return gt.resolve(this.He.getEntries(i))}addFieldIndex(t,i){return gt.resolve()}deleteFieldIndex(t,i){return gt.resolve()}getDocumentsMatchingTarget(t,i){return gt.resolve(null)}getIndexType(t,i){return gt.resolve(0)}getFieldIndexes(t,i){return gt.resolve([])}getNextCollectionGroupToUpdate(t){return gt.resolve(null)}getMinOffset(t,i){return gt.resolve(Vs.min())}getMinOffsetFromCollectionGroup(t,i){return gt.resolve(Vs.min())}updateCollectionGroup(t,i,c){return gt.resolve()}updateIndexEntries(t,i){return gt.resolve()}}class Fo{constructor(){this.index={}}add(t){const i=t.lastSegment(),c=t.popLast(),m=this.index[i]||new it(gi.comparator),v=!m.has(c);return this.index[i]=m.add(c),v}has(t){const i=t.lastSegment(),c=t.popLast(),m=this.index[i];return m&&m.has(c)}getEntries(t){return(this.index[t]||new it(gi.comparator)).toArray()}}const Gd=new Uint8Array(0);class q_{constructor(t,i){this.user=t,this.databaseId=i,this.Je=new Fo,this.Ye=new qo(c=>xd(c),(c,m)=>Gm(c,m)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.Je.has(i)){const c=i.lastSegment(),m=i.popLast();t.addOnCommittedListener(()=>{this.Je.add(i)});const v={collectionId:c,parent:Br(m)};return Wf(t).put(v)}return gt.resolve()}getCollectionParents(t,i){const c=[],m=IDBKeyRange.bound([i,""],[xr(i),""],!1,!0);return Wf(t).j(m).next(v=>{for(const E of v){if(E.collectionId!==i)break;c.push(Ss(E.parent))}return c})}addFieldIndex(t,i){const c=Uu(t),m={indexId:(E=i).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var E;delete m.indexId;const v=c.add(m);if(i.indexState){const E=Kf(t);return v.next(k=>{E.put(Fu(k,this.user,i.indexState.sequenceNumber,i.indexState.offset))})}return v.next()}deleteFieldIndex(t,i){const c=Uu(t),m=Kf(t),v=Fh(t);return c.delete(i.indexId).next(()=>m.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>v.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,i){const c=Fh(t);let m=!0;const v=new Map;return gt.forEach(this.Ze(i),E=>this.Xe(t,E).next(k=>{m&&(m=!!k),v.set(E,k)})).next(()=>{if(m){let E=hi();const k=[];return gt.forEach(v,($,te)=>{var fe;At("IndexedDbIndexManager",`Using index ${fe=$,`id=${fe.indexId}|cg=${fe.collectionGroup}|f=${fe.fields.map(zi=>`${zi.fieldPath}:${zi.kind}`).join(",")}`} to execute ${xd(i)}`);const Ue=function(zi,co){const Rr=Us(co);if(void 0===Rr)return null;for(const Yr of Iu(zi,Rr.fieldPath))switch(Yr.op){case"array-contains-any":return Yr.value.arrayValue.values||[];case"array-contains":return[Yr.value]}return null}(te,$),dt=function(zi,co){const Rr=new Map;for(const Yr of Fr(co))for(const wa of Iu(zi,Yr.fieldPath))switch(wa.op){case"==":case"in":Rr.set(Yr.fieldPath.canonicalString(),wa.value);break;case"not-in":case"!=":return Rr.set(Yr.fieldPath.canonicalString(),wa.value),Array.from(Rr.values())}return null}(te,$),Ft=function(zi,co){const Rr=[];let Yr=!0;for(const wa of Fr(co)){const gc=0===wa.kind?rc(zi,wa.fieldPath,zi.startAt):$c(zi,wa.fieldPath,zi.startAt);Rr.push(gc.value),Yr&&(Yr=gc.inclusive)}return new Gc(Rr,Yr)}(te,$),nn=function(zi,co){const Rr=[];let Yr=!0;for(const wa of Fr(co)){const gc=0===wa.kind?$c(zi,wa.fieldPath,zi.endAt):rc(zi,wa.fieldPath,zi.endAt);Rr.push(gc.value),Yr&&(Yr=gc.inclusive)}return new Gc(Rr,Yr)}(te,$),bn=this.tn($,te,Ft),jn=this.tn($,te,nn),sr=this.en($,te,dt),vs=this.nn($.indexId,Ue,bn,Ft.inclusive,jn,nn.inclusive,sr);return gt.forEach(vs,zi=>c.H(zi,i.limit).next(co=>{co.forEach(Rr=>{const Yr=cn.fromSegments(Rr.documentKey);E.has(Yr)||(E=E.add(Yr),k.push(Yr))})}))}).next(()=>k)}return gt.resolve(null)})}Ze(t){let i=this.Ye.get(t);return i||(i=0===t.filters.length?[t]:Wb(rr.create(t.filters,"and")).map(c=>ic(t.path,t.collectionGroup,t.orderBy,c.getFilters(),t.limit,t.startAt,t.endAt)),this.Ye.set(t,i),i)}nn(t,i,c,m,v,E,k){const $=(null!=i?i.length:1)*Math.max(c.length,v.length),te=$/(null!=i?i.length:1),fe=[];for(let Ue=0;Ue<$;++Ue){const dt=i?this.sn(i[Ue/te]):Gd,Ft=this.rn(t,dt,c[Ue%te],m),nn=this.on(t,dt,v[Ue%te],E),bn=k.map(jn=>this.rn(t,dt,jn,!0));fe.push(...this.createRange(Ft,nn,bn))}return fe}rn(t,i,c,m){const v=new zd(t,cn.empty(),i,c);return m?v:v.qe()}on(t,i,c,m){const v=new zd(t,cn.empty(),i,c);return m?v.qe():v}Xe(t,i){const c=new mv(i),m=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,m).next(v=>{let E=null;for(const k of v)c.Qe(k)&&(!E||k.fields.length>E.fields.length)&&(E=k);return E})}getIndexType(t,i){let c=2;const m=this.Ze(i);return gt.forEach(m,v=>this.Xe(t,v).next(E=>{E?0!==c&&E.fields.length<function(k){let $=new it(dr.comparator),te=!1;for(const fe of k.filters)for(const Ue of fe.getFlattenedFilters())Ue.field.isKeyField()||("array-contains"===Ue.op||"array-contains-any"===Ue.op?te=!0:$=$.add(Ue.field));for(const fe of k.orderBy)fe.field.isKeyField()||($=$.add(fe.field));return $.size+(te?1:0)}(v)&&(c=1):c=0})).next(()=>null!==i.limit&&m.length>1&&2===c?1:c)}un(t,i){const c=new Lu;for(const m of Fr(t)){const v=i.data.field(m.fieldPath);if(null==v)return null;const E=c.Le(m.kind);cc.pe.oe(v,E)}return c.$e()}sn(t){const i=new Lu;return cc.pe.oe(t,i.Le(0)),i.$e()}cn(t,i){const c=new Lu;return cc.pe.oe(_d(this.databaseId,i),c.Le(function(m){const v=Fr(m);return 0===v.length?0:v[v.length-1].kind}(t))),c.$e()}en(t,i,c){if(null===c)return[];let m=[];m.push(new Lu);let v=0;for(const E of Fr(t)){const k=c[v++];for(const $ of m)if(this.an(i,E.fieldPath)&&yd(k))m=this.hn(m,E,k);else{const te=$.Le(E.kind);cc.pe.oe(k,te)}}return this.ln(m)}tn(t,i,c){return this.en(t,i,c.position)}ln(t){const i=[];for(let c=0;c<t.length;++c)i[c]=t[c].$e();return i}hn(t,i,c){const m=[...t],v=[];for(const E of c.arrayValue.values||[])for(const k of m){const $=new Lu;$.seed(k.$e()),cc.pe.oe(E,$.Le(i.kind)),v.push($)}return v}an(t,i){return!!t.filters.find(c=>c instanceof ni&&c.field.isEqual(i)&&("in"===c.op||"not-in"===c.op))}getFieldIndexes(t,i){const c=Uu(t),m=Kf(t);return(i?c.j("collectionGroupIndex",IDBKeyRange.bound(i,i)):c.j()).next(v=>{const E=[];return gt.forEach(v,k=>m.get([k.indexId,this.uid]).next($=>{E.push(function(te,fe){const Ue=fe?new Gr(fe.sequenceNumber,new Vs(pl(fe.readTime),new cn(Ss(fe.documentKey)),fe.largestBatchId)):Gr.empty(),dt=te.fields.map(([Ft,nn])=>new zr(dr.fromServerFormat(Ft),nn));return new qs(te.indexId,te.collectionGroup,dt,Ue)}(k,$))})).next(()=>E)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((c,m)=>{const v=c.indexState.sequenceNumber-m.indexState.sequenceNumber;return 0!==v?v:Yn(c.collectionGroup,m.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,c){const m=Uu(t),v=Kf(t);return this.fn(t).next(E=>m.j("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(k=>gt.forEach(k,$=>v.put(Fu($.indexId,this.user,E,c)))))}updateIndexEntries(t,i){const c=new Map;return gt.forEach(i,(m,v)=>{const E=c.get(m.collectionGroup);return(E?gt.resolve(E):this.getFieldIndexes(t,m.collectionGroup)).next(k=>(c.set(m.collectionGroup,k),gt.forEach(k,$=>this.dn(t,m,$).next(te=>{const fe=this.wn(v,$);return te.isEqual(fe)?gt.resolve():this._n(t,v,$,te,fe)}))))})}mn(t,i,c,m){return Fh(t).put({indexId:m.indexId,uid:this.uid,arrayValue:m.arrayValue,directionalValue:m.directionalValue,orderedDocumentKey:this.cn(c,i.key),documentKey:i.key.path.toArray()})}gn(t,i,c,m){return Fh(t).delete([m.indexId,this.uid,m.arrayValue,m.directionalValue,this.cn(c,i.key),i.key.path.toArray()])}dn(t,i,c){const m=Fh(t);let v=new it(ed);return m.Z({index:"documentKeyIndex",range:IDBKeyRange.only([c.indexId,this.uid,this.cn(c,i)])},(E,k)=>{v=v.add(new zd(c.indexId,i,k.arrayValue,k.directionalValue))}).next(()=>v)}wn(t,i){let c=new it(ed);const m=this.un(i,t);if(null==m)return c;const v=Us(i);if(null!=v){const E=t.data.field(v.fieldPath);if(yd(E))for(const k of E.arrayValue.values||[])c=c.add(new zd(i.indexId,t.key,this.sn(k),m))}else c=c.add(new zd(i.indexId,t.key,Gd,m));return c}_n(t,i,c,m,v){At("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const E=[];return function(k,$,te,fe,Ue){const dt=k.getIterator(),Ft=$.getIterator();let nn=Dn(dt),bn=Dn(Ft);for(;nn||bn;){let jn=!1,sr=!1;if(nn&&bn){const vs=te(nn,bn);vs<0?sr=!0:vs>0&&(jn=!0)}else null!=nn?sr=!0:jn=!0;jn?(fe(bn),bn=Dn(Ft)):sr?(Ue(nn),nn=Dn(dt)):(nn=Dn(dt),bn=Dn(Ft))}}(m,v,ed,k=>{E.push(this.mn(t,i,c,k))},k=>{E.push(this.gn(t,i,c,k))}),gt.waitFor(E)}fn(t){let i=1;return Kf(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(c,m,v)=>{v.done(),i=m.sequenceNumber+1}).next(()=>i)}createRange(t,i,c){c=c.sort((E,k)=>ed(E,k)).filter((E,k,$)=>!k||0!==ed(E,$[k-1]));const m=[];m.push(t);for(const E of c){const k=ed(E,t),$=ed(E,i);if(0===k)m[0]=t.qe();else if(k>0&&$<0)m.push(E),m.push(E.qe());else if($>0)break}m.push(i);const v=[];for(let E=0;E<m.length;E+=2){if(this.yn(m[E],m[E+1]))return[];v.push(IDBKeyRange.bound([m[E].indexId,this.uid,m[E].arrayValue,m[E].directionalValue,Gd,[]],[m[E+1].indexId,this.uid,m[E+1].arrayValue,m[E+1].directionalValue,Gd,[]]))}return v}yn(t,i){return ed(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(_v)}getMinOffset(t,i){return gt.mapArray(this.Ze(i),c=>this.Xe(t,c).next(m=>m||Xt())).next(_v)}}function Wf(a){return Hs(a,"collectionParents")}function Fh(a){return Hs(a,"indexEntries")}function Uu(a){return Hs(a,"indexConfiguration")}function Kf(a){return Hs(a,"indexState")}function _v(a){hn(0!==a.length);let t=a[0].indexState.offset,i=t.largestBatchId;for(let c=1;c<a.length;c++){const m=a[c].indexState.offset;po(m,t)<0&&(t=m),i<m.largestBatchId&&(i=m.largestBatchId)}return new Vs(t.readTime,t.documentKey,i)}const _g={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Va{constructor(t,i,c){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=c}static withCacheSize(t){return new Va(t,Va.DEFAULT_COLLECTION_PERCENTILE,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Z_(a,t,i){const c=a.store("mutations"),m=a.store("documentMutations"),v=[],E=IDBKeyRange.only(i.batchId);let k=0;const $=c.Z({range:E},(fe,Ue,dt)=>(k++,dt.delete()));v.push($.next(()=>{hn(1===k)}));const te=[];for(const fe of i.mutations){const Ue=A(t,fe.key.path,i.batchId);v.push(m.delete(Ue)),te.push(fe.key)}return gt.waitFor(v).next(()=>te)}function yg(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw Xt();t=a.noDocument}return JSON.stringify(t).length}Va.DEFAULT_COLLECTION_PERCENTILE=10,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Va.DEFAULT=new Va(41943040,Va.DEFAULT_COLLECTION_PERCENTILE,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Va.DISABLED=new Va(-1,0,0);class vg{constructor(t,i,c,m){this.userId=t,this.serializer=i,this.indexManager=c,this.referenceDelegate=m,this.pn={}}static ie(t,i,c,m){hn(""!==t.uid);const v=t.isAuthenticated()?t.uid:"";return new vg(v,i,c,m)}checkEmpty(t){let i=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hs(t).Z({index:"userMutationsIndex",range:c},(m,v,E)=>{i=!1,E.done()}).next(()=>i)}addMutationBatch(t,i,c,m){const v=$d(t),E=hs(t);return E.add({}).next(k=>{hn("number"==typeof k);const $=new _a(k,i,c,m),te=function(dt,Ft,nn){const bn=nn.baseMutations.map(sr=>Ud(dt.se,sr)),jn=nn.mutations.map(sr=>Ud(dt.se,sr));return{userId:Ft,batchId:nn.batchId,localWriteTimeMs:nn.localWriteTime.toMillis(),baseMutations:bn,mutations:jn}}(this.serializer,this.userId,$),fe=[];let Ue=new it((dt,Ft)=>Yn(dt.canonicalString(),Ft.canonicalString()));for(const dt of m){const Ft=A(this.userId,dt.key.path,k);Ue=Ue.add(dt.key.path.popLast()),fe.push(E.put(te)),fe.push(v.put(Ft,M))}return Ue.forEach(dt=>{fe.push(this.indexManager.addToCollectionParentIndex(t,dt))}),t.addOnCommittedListener(()=>{this.pn[k]=$.keys()}),gt.waitFor(fe).next(()=>$)})}lookupMutationBatch(t,i){return hs(t).get(i).next(c=>c?(hn(c.userId===this.userId),Hd(this.serializer,c)):null)}In(t,i){return this.pn[i]?gt.resolve(this.pn[i]):this.lookupMutationBatch(t,i).next(c=>{if(c){const m=c.keys();return this.pn[i]=m,m}return null})}getNextMutationBatchAfterBatchId(t,i){const c=i+1,m=IDBKeyRange.lowerBound([this.userId,c]);let v=null;return hs(t).Z({index:"userMutationsIndex",range:m},(E,k,$)=>{k.userId===this.userId&&(hn(k.batchId>=c),v=Hd(this.serializer,k)),$.done()}).next(()=>v)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return hs(t).Z({index:"userMutationsIndex",range:i,reverse:!0},(m,v,E)=>{c=v.batchId,E.done()}).next(()=>c)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hs(t).j("userMutationsIndex",i).next(c=>c.map(m=>Hd(this.serializer,m)))}getAllMutationBatchesAffectingDocumentKey(t,i){const c=Pa(this.userId,i.path),m=IDBKeyRange.lowerBound(c),v=[];return $d(t).Z({range:m},(E,k,$)=>{const[te,fe,Ue]=E,dt=Ss(fe);if(te===this.userId&&i.path.isEqual(dt))return hs(t).get(Ue).next(Ft=>{if(!Ft)throw Xt();hn(Ft.userId===this.userId),v.push(Hd(this.serializer,Ft))});$.done()}).next(()=>v)}getAllMutationBatchesAffectingDocumentKeys(t,i){let c=new it(Yn);const m=[];return i.forEach(v=>{const E=Pa(this.userId,v.path),k=IDBKeyRange.lowerBound(E),$=$d(t).Z({range:k},(te,fe,Ue)=>{const[dt,Ft,nn]=te,bn=Ss(Ft);dt===this.userId&&v.path.isEqual(bn)?c=c.add(nn):Ue.done()});m.push($)}),gt.waitFor(m).next(()=>this.Tn(t,c))}getAllMutationBatchesAffectingQuery(t,i){const c=i.path,m=c.length+1,v=Pa(this.userId,c),E=IDBKeyRange.lowerBound(v);let k=new it(Yn);return $d(t).Z({range:E},($,te,fe)=>{const[Ue,dt,Ft]=$,nn=Ss(dt);Ue===this.userId&&c.isPrefixOf(nn)?nn.length===m&&(k=k.add(Ft)):fe.done()}).next(()=>this.Tn(t,k))}Tn(t,i){const c=[],m=[];return i.forEach(v=>{m.push(hs(t).get(v).next(E=>{if(null===E)throw Xt();hn(E.userId===this.userId),c.push(Hd(this.serializer,E))}))}),gt.waitFor(m).next(()=>c)}removeMutationBatch(t,i){return Z_(t.at,this.userId,i).next(c=>(t.addOnCommittedListener(()=>{this.En(i.batchId)}),gt.forEach(c,m=>this.referenceDelegate.markPotentiallyOrphaned(t,m))))}En(t){delete this.pn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return gt.resolve();const c=IDBKeyRange.lowerBound([this.userId]),m=[];return $d(t).Z({range:c},(v,E,k)=>{if(v[0]===this.userId){const $=Ss(v[1]);m.push($)}else k.done()}).next(()=>{hn(0===m.length)})})}containsKey(t,i){return ya(t,this.userId,i)}An(t){return yv(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ya(a,t,i){const c=Pa(t,i.path),m=c[1],v=IDBKeyRange.lowerBound(c);let E=!1;return $d(a).Z({range:v,Y:!0},(k,$,te)=>{const[fe,Ue,dt]=k;fe===t&&Ue===m&&(E=!0),te.done()}).next(()=>E)}function hs(a){return Hs(a,"mutations")}function $d(a){return Hs(a,"documentMutations")}function yv(a){return Hs(a,"mutationQueues")}class Yf{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new Yf(0)}static bn(){return new Yf(-1)}}class np{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.Pn(t).next(i=>{const c=new Yf(i.highestTargetId);return i.highestTargetId=c.next(),this.Vn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Pn(t).next(i=>Rn.fromTimestamp(new Oi(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Pn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,c){return this.Pn(t).next(m=>(m.highestListenSequenceNumber=i,c&&(m.lastRemoteSnapshotVersion=c.toTimestamp()),i>m.highestListenSequenceNumber&&(m.highestListenSequenceNumber=i),this.Vn(t,m)))}addTargetData(t,i){return this.Sn(t,i).next(()=>this.Pn(t).next(c=>(c.targetCount+=1,this.Dn(i,c),this.Vn(t,c))))}updateTargetData(t,i){return this.Sn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>Sc(t).delete(i.targetId)).next(()=>this.Pn(t)).next(c=>(hn(c.targetCount>0),c.targetCount-=1,this.Vn(t,c)))}removeTargets(t,i,c){let m=0;const v=[];return Sc(t).Z((E,k)=>{const $=jd(k);$.sequenceNumber<=i&&null===c.get($.targetId)&&(m++,v.push(this.removeTargetData(t,$)))}).next(()=>gt.waitFor(v)).next(()=>m)}forEachTarget(t,i){return Sc(t).Z((c,m)=>{const v=jd(m);i(v)})}Pn(t){return vv(t).get("targetGlobalKey").next(i=>(hn(null!==i),i))}Vn(t,i){return vv(t).put("targetGlobalKey",i)}Sn(t,i){return Sc(t).put(Fl(this.serializer,i))}Dn(t,i){let c=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,c=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,c=!0),c}getTargetCount(t){return this.Pn(t).next(i=>i.targetCount)}getTargetData(t,i){const c=xd(i),m=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let v=null;return Sc(t).Z({range:m,index:"queryTargetsIndex"},(E,k,$)=>{const te=jd(k);Gm(i,te.target)&&(v=te,$.done())}).next(()=>v)}addMatchingKeys(t,i,c){const m=[],v=Wd(t);return i.forEach(E=>{const k=Br(E.path);m.push(v.put({targetId:c,path:k})),m.push(this.referenceDelegate.addReference(t,c,E))}),gt.waitFor(m)}removeMatchingKeys(t,i,c){const m=Wd(t);return gt.forEach(i,v=>{const E=Br(v.path);return gt.waitFor([m.delete([c,E]),this.referenceDelegate.removeReference(t,c,v)])})}removeMatchingKeysForTargetId(t,i){const c=Wd(t),m=IDBKeyRange.bound([i],[i+1],!1,!0);return c.delete(m)}getMatchingKeysForTargetId(t,i){const c=IDBKeyRange.bound([i],[i+1],!1,!0),m=Wd(t);let v=hi();return m.Z({range:c,Y:!0},(E,k,$)=>{const te=Ss(E[1]),fe=new cn(te);v=v.add(fe)}).next(()=>v)}containsKey(t,i){const c=Br(i.path),m=IDBKeyRange.bound([c],[xr(c)],!1,!0);let v=0;return Wd(t).Z({index:"documentTargetsIndex",Y:!0,range:m},([E,k],$,te)=>{0!==E&&(v++,te.done())}).next(()=>v>0)}ne(t,i){return Sc(t).get(i).next(c=>c?jd(c):null)}}function Sc(a){return Hs(a,"targets")}function vv(a){return Hs(a,"targetGlobal")}function Wd(a){return Hs(a,"targetDocuments")}function bg([a,t],[i,c]){const m=Yn(a,i);return 0===m?Yn(t,c):m}class Kb{constructor(t){this.Cn=t,this.buffer=new it(bg),this.xn=0}Nn(){return++this.xn}kn(t){const i=[t,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(i);else{const c=this.buffer.last();bg(i,c)<0&&(this.buffer=this.buffer.delete(c).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bv{constructor(t,i,c){this.garbageCollector=t,this.asyncQueue=i,this.localStore=c,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(t){var i=this;At("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ee.Z)(function*(){i.On=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(c){Oa(c)?At("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Ro(c)}yield i.$n(3e5)}))}}class Yb{constructor(t,i){this.Mn=t,this.params=i}calculateTargetCount(t,i){return this.Mn.Fn(t).next(c=>Math.floor(i/100*c))}nthSequenceNumber(t,i){if(0===i)return gt.resolve(Oo.ct);const c=new Kb(i);return this.Mn.forEachTarget(t,m=>c.kn(m.sequenceNumber)).next(()=>this.Mn.Bn(t,m=>c.kn(m))).next(()=>c.maxValue)}removeTargets(t,i,c){return this.Mn.removeTargets(t,i,c)}removeOrphanedDocuments(t,i){return this.Mn.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(_g)):this.getCacheSize(t).next(c=>c<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_g):this.Ln(t,i))}getCacheSize(t){return this.Mn.getCacheSize(t)}Ln(t,i){let c,m,v,E,k,$,te;const fe=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ue=>(Ue>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ue}`),m=this.params.maximumSequenceNumbersToCollect):m=Ue,E=Date.now(),this.nthSequenceNumber(t,m))).next(Ue=>(c=Ue,k=Date.now(),this.removeTargets(t,c,i))).next(Ue=>(v=Ue,$=Date.now(),this.removeOrphanedDocuments(t,c))).next(Ue=>(te=Date.now(),gn()<=De.in.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-fe}ms\n\tDetermined least recently used ${m} in `+(k-E)+`ms\n\tRemoved ${v} targets in `+($-k)+`ms\n\tRemoved ${Ue} documents in `+(te-$)+`ms\nTotal Duration: ${te-fe}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:m,targetsRemoved:v,documentsRemoved:Ue})))}}class qb{constructor(t,i){this.db=t,this.garbageCollector=new Yb(this,i)}Fn(t){const i=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(c=>i.next(m=>c+m))}qn(t){let i=0;return this.Bn(t,c=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Bn(t,i){return this.Un(t,(c,m)=>i(m))}addReference(t,i,c){return Ha(t,c)}removeReference(t,i,c){return Ha(t,c)}removeTargets(t,i,c){return this.db.getTargetCache().removeTargets(t,i,c)}markPotentiallyOrphaned(t,i){return Ha(t,i)}Kn(t,i){return function(c,m){let v=!1;return yv(c).X(E=>ya(c,E,m).next(k=>(k&&(v=!0),gt.resolve(!k)))).next(()=>v)}(t,i)}removeOrphanedDocuments(t,i){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),m=[];let v=0;return this.Un(t,(E,k)=>{if(k<=i){const $=this.Kn(t,E).next(te=>{if(!te)return v++,c.getEntry(t,E).next(()=>(c.removeEntry(E,Rn.min()),Wd(t).delete([0,Br(E.path)])))});m.push($)}}).next(()=>gt.waitFor(m)).next(()=>c.apply(t)).next(()=>v)}removeTarget(t,i){const c=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,c)}updateLimboDocument(t,i){return Ha(t,i)}Un(t,i){const c=Wd(t);let m,v=Oo.ct;return c.Z({index:"documentTargetsIndex"},([E,k],{path:$,sequenceNumber:te})=>{0===E?(v!==Oo.ct&&i(new cn(Ss(m)),v),v=te,m=$):v=Oo.ct}).next(()=>{v!==Oo.ct&&i(new cn(Ss(m)),v)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Ha(a,t){return Wd(a).put((c=a.currentSequenceNumber,{targetId:0,path:Br(t.path),sequenceNumber:c}));var c}class Q_{constructor(){this.changes=new qo(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Tr.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const c=this.changes.get(i);return void 0!==c?gt.resolve(c):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ip{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,c){return Vu(t).put(c)}removeEntry(t,i,c){return Vu(t).delete(function(m,v){const E=m.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Jm(v),E[E.length-1]]}(i,c))}updateMetadata(t,i){return this.getMetadata(t).next(c=>(c.byteSize+=i,this.Gn(t,c)))}getEntry(t,i){let c=Tr.newInvalidDocument(i);return Vu(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qf(i))},(m,v)=>{c=this.Qn(i,v)}).next(()=>c)}zn(t,i){let c={size:0,document:Tr.newInvalidDocument(i)};return Vu(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qf(i))},(m,v)=>{c={document:this.Qn(i,v),size:yg(v)}}).next(()=>c)}getEntries(t,i){let c=lo();return this.jn(t,i,(m,v)=>{const E=this.Qn(m,v);c=c.insert(m,E)}).next(()=>c)}Wn(t,i){let c=lo(),m=new ne(cn.comparator);return this.jn(t,i,(v,E)=>{const k=this.Qn(v,E);c=c.insert(v,k),m=m.insert(v,yg(E))}).next(()=>({documents:c,Hn:m}))}jn(t,i,c){if(i.isEmpty())return gt.resolve();let m=new it(va);i.forEach($=>m=m.add($));const v=IDBKeyRange.bound(qf(m.first()),qf(m.last())),E=m.getIterator();let k=E.getNext();return Vu(t).Z({index:"documentKeyIndex",range:v},($,te,fe)=>{const Ue=cn.fromSegments([...te.prefixPath,te.collectionGroup,te.documentId]);for(;k&&va(k,Ue)<0;)c(k,null),k=E.getNext();k&&k.isEqual(Ue)&&(c(k,te),k=E.hasNext()?E.getNext():null),k?fe.G(qf(k)):fe.done()}).next(()=>{for(;k;)c(k,null),k=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(t,i,c,m){const v=i.path,E=[v.popLast().toArray(),v.lastSegment(),Jm(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],k=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vu(t).j(IDBKeyRange.bound(E,k,!0)).next($=>{let te=lo();for(const fe of $){const Ue=this.Qn(cn.fromSegments(fe.prefixPath.concat(fe.collectionGroup,fe.documentId)),fe);Ue.isFoundDocument()&&(xc(i,Ue)||m.has(Ue.key))&&(te=te.insert(Ue.key,Ue))}return te})}getAllFromCollectionGroup(t,i,c,m){let v=lo();const E=xv(i,c),k=xv(i,Vs.max());return Vu(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,k,!0)},($,te,fe)=>{const Ue=this.Qn(cn.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);v=v.insert(Ue.key,Ue),v.size===m&&fe.done()}).next(()=>v)}newChangeBuffer(t){return new Zb(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return wv(t).get("remoteDocumentGlobalKey").next(i=>(hn(!!i),i))}Gn(t,i){return wv(t).put("remoteDocumentGlobalKey",i)}Qn(t,i){if(i){const c=function jb(a,t){let i;if(t.document)i=Mh(a.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const c=cn.fromSegments(t.noDocument.path),m=pl(t.noDocument.readTime);i=Tr.newNoDocument(c,m),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return Xt();{const c=cn.fromSegments(t.unknownDocument.path),m=pl(t.unknownDocument.version);i=Tr.newUnknownDocument(c,m)}}return t.readTime&&i.setReadTime(function(c){const m=new Oi(c[0],c[1]);return Rn.fromTimestamp(m)}(t.readTime)),i}(this.serializer,i);if(!c.isNoDocument()||!c.version.isEqual(Rn.min()))return c}return Tr.newInvalidDocument(t)}}function wg(a){return new ip(a)}class Zb extends Q_{constructor(t,i){super(),this.Jn=t,this.trackRemovals=i,this.Yn=new qo(c=>c.toString(),(c,m)=>c.isEqual(m))}applyChanges(t){const i=[];let c=0,m=new it((v,E)=>Yn(v.canonicalString(),E.canonicalString()));return this.changes.forEach((v,E)=>{const k=this.Yn.get(v);if(i.push(this.Jn.removeEntry(t,v,k.readTime)),E.isValidDocument()){const $=fg(this.Jn.serializer,E);m=m.add(v.path.popLast());const te=yg($);c+=te-k.size,i.push(this.Jn.addEntry(t,v,$))}else if(c-=k.size,this.trackRemovals){const $=fg(this.Jn.serializer,E.convertToNoDocument(Rn.min()));i.push(this.Jn.addEntry(t,v,$))}}),m.forEach(v=>{i.push(this.Jn.indexManager.addToCollectionParentIndex(t,v))}),i.push(this.Jn.updateMetadata(t,c)),gt.waitFor(i)}getFromCache(t,i){return this.Jn.zn(t,i).next(c=>(this.Yn.set(i,{size:c.size,readTime:c.document.readTime}),c.document))}getAllFromCache(t,i){return this.Jn.Wn(t,i).next(({documents:c,Hn:m})=>(m.forEach((v,E)=>{this.Yn.set(v,{size:E,readTime:c.get(v).readTime})}),c))}}function wv(a){return Hs(a,"remoteDocumentGlobal")}function Vu(a){return Hs(a,"remoteDocumentsV14")}function qf(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xv(a,t){const i=t.documentKey.path.toArray();return[a,Jm(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function va(a,t){const i=a.path.toArray(),c=t.path.toArray();let m=0;for(let v=0;v<i.length-2&&v<c.length-2;++v)if(m=Yn(i[v],c[v]),m)return m;return m=Yn(i.length,c.length),m||(m=Yn(i[i.length-2],c[c.length-2]),m||Yn(i[i.length-1],c[c.length-1]))}class X_{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class wi{constructor(t,i,c,m){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=c,this.indexManager=m}getDocument(t,i){let c=null;return this.documentOverlayCache.getOverlay(t,i).next(m=>(c=m,this.remoteDocumentCache.getEntry(t,i))).next(m=>(null!==c&&ac(c.mutation,m,An.empty(),Oi.now()),m))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(c=>this.getLocalViewOfDocuments(t,c,hi()).next(()=>c))}getLocalViewOfDocuments(t,i,c=hi()){const m=sc();return this.populateOverlays(t,m,i).next(()=>this.computeViews(t,i,m,c).next(v=>{let E=Mu();return v.forEach((k,$)=>{E=E.insert(k,$.overlayedDocument)}),E}))}getOverlayedDocuments(t,i){const c=sc();return this.populateOverlays(t,c,i).next(()=>this.computeViews(t,i,c,hi()))}populateOverlays(t,i,c){const m=[];return c.forEach(v=>{i.has(v)||m.push(v)}),this.documentOverlayCache.getOverlays(t,m).next(v=>{v.forEach((E,k)=>{i.set(E,k)})})}computeViews(t,i,c,m){let v=lo();const E=Sd(),k=Sd();return i.forEach(($,te)=>{const fe=c.get(te.key);m.has(te.key)&&(void 0===fe||fe.mutation instanceof No)?v=v.insert(te.key,te):void 0!==fe?(E.set(te.key,fe.mutation.getFieldMask()),ac(fe.mutation,te,fe.mutation.getFieldMask(),Oi.now())):E.set(te.key,An.empty())}),this.recalculateAndSaveOverlays(t,v).next($=>($.forEach((te,fe)=>E.set(te,fe)),i.forEach((te,fe)=>{var Ue;return k.set(te,new X_(fe,null!==(Ue=E.get(te))&&void 0!==Ue?Ue:null))}),k))}recalculateAndSaveOverlays(t,i){const c=Sd();let m=new ne((E,k)=>E-k),v=hi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(E=>{for(const k of E)k.keys().forEach($=>{const te=i.get($);if(null===te)return;let fe=c.get($)||An.empty();fe=k.applyToLocalView(te,fe),c.set($,fe);const Ue=(m.get(k.batchId)||hi()).add($);m=m.insert(k.batchId,Ue)})}).next(()=>{const E=[],k=m.getReverseIterator();for(;k.hasNext();){const $=k.getNext(),te=$.key,fe=$.value,Ue=Id();fe.forEach(dt=>{if(!v.has(dt)){const Ft=Pd(i.get(dt),c.get(dt));null!==Ft&&Ue.set(dt,Ft),v=v.add(dt)}}),E.push(this.documentOverlayCache.saveOverlays(t,te,Ue))}return gt.waitFor(E)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(c=>this.recalculateAndSaveOverlays(t,c))}getDocumentsMatchingQuery(t,i,c){return cn.isDocumentKey((m=i).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):wc(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,c):this.getDocumentsMatchingCollectionQuery(t,i,c);var m}getNextDocuments(t,i,c,m){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,c,m).next(v=>{const E=m-v.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,c.largestBatchId,m-v.size):gt.resolve(sc());let k=-1,$=v;return E.next(te=>gt.forEach(te,(fe,Ue)=>(k<Ue.largestBatchId&&(k=Ue.largestBatchId),v.get(fe)?gt.resolve():this.remoteDocumentCache.getEntry(t,fe).next(dt=>{$=$.insert(fe,dt)}))).next(()=>this.populateOverlays(t,te,v)).next(()=>this.computeViews(t,$,te,hi())).next(fe=>({batchId:k,changes:Ch(fe)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new cn(i)).next(c=>{let m=Mu();return c.isFoundDocument()&&(m=m.insert(c.key,c)),m})}getDocumentsMatchingCollectionGroupQuery(t,i,c){const m=i.collectionGroup;let v=Mu();return this.indexManager.getCollectionParents(t,m).next(E=>gt.forEach(E,k=>{const $=(te=i,fe=k.child(m),new ml(fe,null,te.explicitOrderBy.slice(),te.filters.slice(),te.limit,te.limitType,te.startAt,te.endAt));var te,fe;return this.getDocumentsMatchingCollectionQuery(t,$,c).next(te=>{te.forEach((fe,Ue)=>{v=v.insert(fe,Ue)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(t,i,c){let m;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,c.largestBatchId).next(v=>(m=v,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,c,m))).next(v=>{m.forEach((k,$)=>{const te=$.getKey();null===v.get(te)&&(v=v.insert(te,Tr.newInvalidDocument(te)))});let E=Mu();return v.forEach((k,$)=>{const te=m.get(k);void 0!==te&&ac(te.mutation,$,An.empty(),Oi.now()),xc(i,$)&&(E=E.insert(k,$))}),E})}}class Lh{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,i){return gt.resolve(this.Zn.get(i))}saveBundleMetadata(t,i){var c;return this.Zn.set(i.id,{id:(c=i).id,version:c.version,createTime:jt(c.createTime)}),gt.resolve()}getNamedQuery(t,i){return gt.resolve(this.Xn.get(i))}saveNamedQuery(t,i){return this.Xn.set(i.name,{name:(c=i).name,query:mg(c.bundledQuery),readTime:jt(c.readTime)}),gt.resolve();var c}}class J_{constructor(){this.overlays=new ne(cn.comparator),this.ts=new Map}getOverlay(t,i){return gt.resolve(this.overlays.get(i))}getOverlays(t,i){const c=sc();return gt.forEach(i,m=>this.getOverlay(t,m).next(v=>{null!==v&&c.set(m,v)})).next(()=>c)}saveOverlays(t,i,c){return c.forEach((m,v)=>{this.re(t,i,v)}),gt.resolve()}removeOverlaysForBatchId(t,i,c){const m=this.ts.get(c);return void 0!==m&&(m.forEach(v=>this.overlays=this.overlays.remove(v)),this.ts.delete(c)),gt.resolve()}getOverlaysForCollection(t,i,c){const m=sc(),v=i.length+1,E=new cn(i.child("")),k=this.overlays.getIteratorFrom(E);for(;k.hasNext();){const $=k.getNext().value,te=$.getKey();if(!i.isPrefixOf(te.path))break;te.path.length===v&&$.largestBatchId>c&&m.set($.getKey(),$)}return gt.resolve(m)}getOverlaysForCollectionGroup(t,i,c,m){let v=new ne((te,fe)=>te-fe);const E=this.overlays.getIterator();for(;E.hasNext();){const te=E.getNext().value;if(te.getKey().getCollectionGroup()===i&&te.largestBatchId>c){let fe=v.get(te.largestBatchId);null===fe&&(fe=sc(),v=v.insert(te.largestBatchId,fe)),fe.set(te.getKey(),te)}}const k=sc(),$=v.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((te,fe)=>k.set(te,fe)),!(k.size()>=m)););return gt.resolve(k)}re(t,i,c){const m=this.overlays.get(c.key);if(null!==m){const E=this.ts.get(m.largestBatchId).delete(c.key);this.ts.set(m.largestBatchId,E)}this.overlays=this.overlays.insert(c.key,new Ld(i,c));let v=this.ts.get(i);void 0===v&&(v=hi(),this.ts.set(i,v)),this.ts.set(i,v.add(c.key))}}class xg{constructor(){this.es=new it(Lo.ns),this.ss=new it(Lo.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,i){const c=new Lo(t,i);this.es=this.es.add(c),this.ss=this.ss.add(c)}os(t,i){t.forEach(c=>this.addReference(c,i))}removeReference(t,i){this.us(new Lo(t,i))}cs(t,i){t.forEach(c=>this.removeReference(c,i))}hs(t){const i=new cn(new gi([])),c=new Lo(i,t),m=new Lo(i,t+1),v=[];return this.ss.forEachInRange([c,m],E=>{this.us(E),v.push(E.key)}),v}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const i=new cn(new gi([])),c=new Lo(i,t),m=new Lo(i,t+1);let v=hi();return this.ss.forEachInRange([c,m],E=>{v=v.add(E.key)}),v}containsKey(t){const i=new Lo(t,0),c=this.es.firstAfterOrEqual(i);return null!==c&&t.isEqual(c.key)}}class Lo{constructor(t,i){this.key=t,this.ds=i}static ns(t,i){return cn.comparator(t.key,i.key)||Yn(t.ds,i.ds)}static rs(t,i){return Yn(t.ds,i.ds)||cn.comparator(t.key,i.key)}}class Tc{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.ws=1,this._s=new it(Lo.ns)}checkEmpty(t){return gt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,c,m){const v=this.ws;this.ws++;const E=new _a(v,i,c,m);this.mutationQueue.push(E);for(const k of m)this._s=this._s.add(new Lo(k.key,v)),this.indexManager.addToCollectionParentIndex(t,k.key.path.popLast());return gt.resolve(E)}lookupMutationBatch(t,i){return gt.resolve(this.gs(i))}getNextMutationBatchAfterBatchId(t,i){const m=this.ys(i+1),v=m<0?0:m;return gt.resolve(this.mutationQueue.length>v?this.mutationQueue[v]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const c=new Lo(i,0),m=new Lo(i,Number.POSITIVE_INFINITY),v=[];return this._s.forEachInRange([c,m],E=>{const k=this.gs(E.ds);v.push(k)}),gt.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(t,i){let c=new it(Yn);return i.forEach(m=>{const v=new Lo(m,0),E=new Lo(m,Number.POSITIVE_INFINITY);this._s.forEachInRange([v,E],k=>{c=c.add(k.ds)})}),gt.resolve(this.ps(c))}getAllMutationBatchesAffectingQuery(t,i){const c=i.path,m=c.length+1;let v=c;cn.isDocumentKey(v)||(v=v.child(""));const E=new Lo(new cn(v),0);let k=new it(Yn);return this._s.forEachWhile($=>{const te=$.key.path;return!!c.isPrefixOf(te)&&(te.length===m&&(k=k.add($.ds)),!0)},E),gt.resolve(this.ps(k))}ps(t){const i=[];return t.forEach(c=>{const m=this.gs(c);null!==m&&i.push(m)}),i}removeMutationBatch(t,i){hn(0===this.Is(i.batchId,"removed")),this.mutationQueue.shift();let c=this._s;return gt.forEach(i.mutations,m=>{const v=new Lo(m.key,i.batchId);return c=c.delete(v),this.referenceDelegate.markPotentiallyOrphaned(t,m.key)}).next(()=>{this._s=c})}En(t){}containsKey(t,i){const c=new Lo(i,0),m=this._s.firstAfterOrEqual(c);return gt.resolve(i.isEqual(m&&m.key))}performConsistencyCheck(t){return gt.resolve()}Is(t,i){return this.ys(t)}ys(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}gs(t){const i=this.ys(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Ev{constructor(t){this.Ts=t,this.docs=new ne(cn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const c=i.key,m=this.docs.get(c),v=m?m.size:0,E=this.Ts(i);return this.docs=this.docs.insert(c,{document:i.mutableCopy(),size:E}),this.size+=E-v,this.indexManager.addToCollectionParentIndex(t,c.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const c=this.docs.get(i);return gt.resolve(c?c.document.mutableCopy():Tr.newInvalidDocument(i))}getEntries(t,i){let c=lo();return i.forEach(m=>{const v=this.docs.get(m);c=c.insert(m,v?v.document.mutableCopy():Tr.newInvalidDocument(m))}),gt.resolve(c)}getDocumentsMatchingQuery(t,i,c,m){let v=lo();const E=i.path,k=new cn(E.child("")),$=this.docs.getIteratorFrom(k);for(;$.hasNext();){const{key:te,value:{document:fe}}=$.getNext();if(!E.isPrefixOf(te.path))break;te.path.length>E.length+1||po(ll(fe),c)<=0||(m.has(fe.key)||xc(i,fe))&&(v=v.insert(fe.key,fe.mutableCopy()))}return gt.resolve(v)}getAllFromCollectionGroup(t,i,c,m){Xt()}Es(t,i){return gt.forEach(this.docs,c=>i(c))}newChangeBuffer(t){return new Qb(this)}getSize(t){return gt.resolve(this.size)}}class Qb extends Q_{constructor(t){super(),this.Jn=t}applyChanges(t){const i=[];return this.changes.forEach((c,m)=>{m.isValidDocument()?i.push(this.Jn.addEntry(t,m)):this.Jn.removeEntry(c)}),gt.waitFor(i)}getFromCache(t,i){return this.Jn.getEntry(t,i)}getAllFromCache(t,i){return this.Jn.getEntries(t,i)}}class Cv{constructor(t){this.persistence=t,this.As=new qo(i=>xd(i),Gm),this.lastRemoteSnapshotVersion=Rn.min(),this.highestTargetId=0,this.Rs=0,this.vs=new xg,this.targetCount=0,this.bs=Yf.vn()}forEachTarget(t,i){return this.As.forEach((c,m)=>i(m)),gt.resolve()}getLastRemoteSnapshotVersion(t){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return gt.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,c){return c&&(this.lastRemoteSnapshotVersion=c),i>this.Rs&&(this.Rs=i),gt.resolve()}Sn(t){this.As.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.bs=new Yf(i),this.highestTargetId=i),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,i){return this.Sn(i),this.targetCount+=1,gt.resolve()}updateTargetData(t,i){return this.Sn(i),gt.resolve()}removeTargetData(t,i){return this.As.delete(i.target),this.vs.hs(i.targetId),this.targetCount-=1,gt.resolve()}removeTargets(t,i,c){let m=0;const v=[];return this.As.forEach((E,k)=>{k.sequenceNumber<=i&&null===c.get(k.targetId)&&(this.As.delete(E),v.push(this.removeMatchingKeysForTargetId(t,k.targetId)),m++)}),gt.waitFor(v).next(()=>m)}getTargetCount(t){return gt.resolve(this.targetCount)}getTargetData(t,i){const c=this.As.get(i)||null;return gt.resolve(c)}addMatchingKeys(t,i,c){return this.vs.os(i,c),gt.resolve()}removeMatchingKeys(t,i,c){this.vs.cs(i,c);const m=this.persistence.referenceDelegate,v=[];return m&&i.forEach(E=>{v.push(m.markPotentiallyOrphaned(t,E))}),gt.waitFor(v)}removeMatchingKeysForTargetId(t,i){return this.vs.hs(i),gt.resolve()}getMatchingKeysForTargetId(t,i){const c=this.vs.fs(i);return gt.resolve(c)}containsKey(t,i){return gt.resolve(this.vs.containsKey(i))}}class Dv{constructor(t,i){this.Ps={},this.overlays={},this.Vs=new Oo(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new Cv(this),this.indexManager=new gv,this.remoteDocumentCache=new Ev(c=>this.referenceDelegate.Cs(c)),this.serializer=new hg(i),this.xs=new Lh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new J_,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let c=this.Ps[t.toKey()];return c||(c=new Tc(i,this.referenceDelegate),this.Ps[t.toKey()]=c),c}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,i,c){At("MemoryPersistence","Starting transaction:",t);const m=new Iv(this.Vs.next());return this.referenceDelegate.Ns(),c(m).next(v=>this.referenceDelegate.ks(m).next(()=>v)).toPromise().then(v=>(m.raiseOnCommittedEvent(),v))}Os(t,i){return gt.or(Object.values(this.Ps).map(c=>()=>c.containsKey(t,i)))}}class Iv extends cl{constructor(t){super(),this.currentSequenceNumber=t}}class Kd{constructor(t){this.persistence=t,this.$s=new xg,this.Ms=null}static Fs(t){return new Kd(t)}get Bs(){if(this.Ms)return this.Ms;throw Xt()}addReference(t,i,c){return this.$s.addReference(c,i),this.Bs.delete(c.toString()),gt.resolve()}removeReference(t,i,c){return this.$s.removeReference(c,i),this.Bs.add(c.toString()),gt.resolve()}markPotentiallyOrphaned(t,i){return this.Bs.add(i.toString()),gt.resolve()}removeTarget(t,i){this.$s.hs(i.targetId).forEach(m=>this.Bs.add(m.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(t,i.targetId).next(m=>{m.forEach(v=>this.Bs.add(v.toString()))}).next(()=>c.removeTargetData(t,i))}Ns(){this.Ms=new Set}ks(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.Bs,c=>{const m=cn.fromPath(c);return this.Ls(t,m).next(v=>{v||i.removeEntry(m,Rn.min())})}).next(()=>(this.Ms=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ls(t,i).next(c=>{c?this.Bs.delete(i.toString()):this.Bs.add(i.toString())})}Cs(t){return 0}Ls(t,i){return gt.or([()=>gt.resolve(this.$s.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Os(t,i)])}}class Sv{constructor(t){this.serializer=t}M(t,i,c,m){const v=new gu("createOrUpgrade",i);var k;c<1&&m>=1&&(t.createObjectStore("owner"),(k=t).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kl,{unique:!0}),k.createObjectStore("documentMutations"),ey(t),function(k){k.createObjectStore("remoteDocuments")}(t));let E=gt.resolve();return c<3&&m>=3&&(0!==c&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(t),ey(t)),E=E.next(()=>function(k){const $=k.store("targetGlobal"),te={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",te)}(v))),c<4&&m>=4&&(0!==c&&(E=E.next(()=>function(k,$){return $.store("mutations").j().next(te=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kl,{unique:!0});const fe=$.store("mutations"),Ue=te.map(dt=>fe.put(dt));return gt.waitFor(Ue)})}(t,v))),E=E.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),c<5&&m>=5&&(E=E.next(()=>this.qs(v))),c<6&&m>=6&&(E=E.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(t),this.Us(v)))),c<7&&m>=7&&(E=E.next(()=>this.Ks(v))),c<8&&m>=8&&(E=E.next(()=>this.Gs(t,v))),c<9&&m>=9&&(E=E.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(t)})),c<10&&m>=10&&(E=E.next(()=>this.Qs(v))),c<11&&m>=11&&(E=E.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),c<12&&m>=12&&(E=E.next(()=>{!function(k){const $=k.createObjectStore("documentOverlays",{keyPath:hl});$.createIndex("collectionPathOverlayIndex",Na,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Ts,{unique:!1})}(t)})),c<13&&m>=13&&(E=E.next(()=>function(k){const $=k.createObjectStore("remoteDocumentsV14",{keyPath:D});$.createIndex("documentKeyIndex",L),$.createIndex("collectionGroupIndex",q)}(t)).next(()=>this.zs(t,v)).next(()=>t.deleteObjectStore("remoteDocuments"))),c<14&&m>=14&&(E=E.next(()=>this.js(t,v))),c<15&&m>=15&&(E=E.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:pn}).createIndex("sequenceNumberIndex",yn,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:bi}).createIndex("documentKeyIndex",us,{unique:!1})}(t))),E}Us(t){let i=0;return t.store("remoteDocuments").Z((c,m)=>{i+=yg(m)}).next(()=>{const c={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",c)})}qs(t){const i=t.store("mutationQueues"),c=t.store("mutations");return i.j().next(m=>gt.forEach(m,v=>{const E=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return c.j("userMutationsIndex",E).next(k=>gt.forEach(k,$=>{hn($.userId===v.userId);const te=Hd(this.serializer,$);return Z_(t,v.userId,te).next(()=>{})}))}))}Ks(t){const i=t.store("targetDocuments"),c=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(m=>{const v=[];return c.Z((E,k)=>{const $=new gi(E),te=[0,Br($)];v.push(i.get(te).next(fe=>fe?gt.resolve():i.put({targetId:0,path:Br($),sequenceNumber:m.highestListenSequenceNumber})))}).next(()=>gt.waitFor(v))})}Gs(t,i){t.createObjectStore("collectionParents",{keyPath:zt});const c=i.store("collectionParents"),m=new Fo,v=E=>{if(m.add(E)){const k=E.lastSegment(),$=E.popLast();return c.put({collectionId:k,parent:Br($)})}};return i.store("remoteDocuments").Z({Y:!0},(E,k)=>{const $=new gi(E);return v($.popLast())}).next(()=>i.store("documentMutations").Z({Y:!0},([E,k,$],te)=>{const fe=Ss(k);return v(fe.popLast())}))}Qs(t){const i=t.store("targets");return i.Z((c,m)=>{const v=jd(m),E=Fl(this.serializer,v);return i.put(E)})}zs(t,i){const c=i.store("remoteDocuments"),m=[];return c.Z((v,E)=>{const k=i.store("remoteDocumentsV14"),$=(te=E,te.document?new cn(gi.fromString(te.document.name).popFirst(5)):te.noDocument?cn.fromSegments(te.noDocument.path):te.unknownDocument?cn.fromSegments(te.unknownDocument.path):Xt()).path.toArray();var te;const fe={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};m.push(k.put(fe))}).next(()=>gt.waitFor(m))}js(t,i){const c=i.store("mutations"),m=wg(this.serializer),v=new Dv(Kd.Fs,this.serializer.se);return c.j().next(E=>{const k=new Map;return E.forEach($=>{var te;let fe=null!==(te=k.get($.userId))&&void 0!==te?te:hi();Hd(this.serializer,$).keys().forEach(Ue=>fe=fe.add(Ue)),k.set($.userId,fe)}),gt.forEach(k,($,te)=>{const fe=new ke(te),Ue=gg.ie(this.serializer,fe),dt=v.getIndexManager(fe),Ft=vg.ie(fe,this.serializer,dt,v.referenceDelegate);return new wi(m,Ft,Ue,dt).recalculateAndSaveOverlaysForDocumentKeys(new fl(i,Oo.ct),$).next()})})}}function ey(a){a.createObjectStore("targetDocuments",{keyPath:_e}).createIndex("documentTargetsIndex",tt,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",re,{unique:!0}),a.createObjectStore("targetGlobal")}const td="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ty{constructor(t,i,c,m,v,E,k,$,te,fe,Ue=15){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=c,this.Ws=v,this.window=E,this.document=k,this.Hs=te,this.Js=fe,this.Ys=Ue,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=dt=>Promise.resolve(),!ty.D())throw new Ht(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qb(this,m),this.si=i+"main",this.serializer=new hg($),this.ii=new $r(this.si,this.Ys,new Sv(this.serializer)),this.Ds=new np(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wg(this.serializer),this.xs=new ep,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===fe&&Kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ht(pt.FAILED_PRECONDITION,td);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ds.getHighestSequenceNumber(t))}).then(t=>{this.Vs=new Oo(t,this.Hs)}).then(()=>{this.Ss=!0}).catch(t=>(this.ii&&this.ii.close(),Promise.reject(t)))}hi(t){var i=this;return this.ni=function(){var c=(0,Ee.Z)(function*(m){if(i.started)return t(m)});return function(m){return c.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ii.B(function(){var i=(0,Ee.Z)(function*(c){null===c.newVersion&&(yield t())});return function(c){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Ws.enqueueAndForget((0,Ee.Z)(function*(){i.started&&(yield i.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Zf(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(t).next(i=>{i||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(t)).next(i=>this.isPrimary&&!i?this.di(t).next(()=>!1):!!i&&this.wi(t).next(()=>!0))).catch(t=>{if(Oa(t))return At("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return At("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ws.enqueueRetryable(()=>this.ni(t)),this.isPrimary=t})}li(t){return Bh(t).get("owner").next(i=>gt.resolve(this._i(i)))}mi(t){return Zf(t).delete(this.clientId)}gi(){var t=this;return(0,Ee.Z)(function*(){if(t.isPrimary&&!t.yi(t.ei,18e5)){t.ei=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const m=Hs(c,"clientMetadata");return m.j().next(v=>{const E=t.pi(v,18e5),k=v.filter($=>-1===E.indexOf($));return gt.forEach(k,$=>m.delete($.clientId)).next(()=>k)})}).catch(()=>[]);if(t.ri)for(const c of i)t.ri.removeItem(t.Ii(c.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(t){return!!t&&t.ownerId===this.clientId}fi(t){return this.Js?gt.resolve(!0):Bh(t).get("owner").next(i=>{if(null!==i&&this.yi(i.leaseTimestampMs,5e3)&&!this.Ti(i.ownerId)){if(this._i(i)&&this.networkEnabled)return!0;if(!this._i(i)){if(!i.allowTabSynchronization)throw new Ht(pt.FAILED_PRECONDITION,td);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zf(t).j().next(c=>void 0===this.pi(c,5e3).find(m=>!(this.clientId===m.clientId||!(!this.networkEnabled&&m.networkEnabled||!this.inForeground&&m.inForeground&&this.networkEnabled===m.networkEnabled))))}).next(i=>(this.isPrimary!==i&&At("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,Ee.Z)(function*(){t.Ss=!1,t.Ei(),t.ti&&(t.ti.cancel(),t.ti=null),t.Ai(),t.Ri(),yield t.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const c=new fl(i,Oo.ct);return t.di(c).next(()=>t.mi(c))}),t.ii.close(),t.vi()})()}pi(t,i){return t.filter(c=>this.yi(c.updateTimeMs,i)&&!this.Ti(c.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",t=>Zf(t).j().next(i=>this.pi(i,18e5).map(c=>c.clientId)))}get started(){return this.Ss}getMutationQueue(t,i){return vg.ie(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new q_(t,this.serializer.se.databaseId)}getDocumentOverlayCache(t){return gg.ie(this.serializer,t)}getBundleCache(){return this.xs}runTransaction(t,i,c){At("IndexedDbPersistence","Starting transaction:",t);const m="readonly"===i?"readonly":"readwrite",v=15===(E=this.Ys)?mh:14===E?ua:13===E?Fa:12===E?Po:11===E?Qs:void Xt();var E;let k;return this.ii.runTransaction(t,m,v,$=>(k=new fl($,this.Vs?this.Vs.next():Oo.ct),"readwrite-primary"===i?this.li(k).next(te=>!!te||this.fi(k)).next(te=>{if(!te)throw Kn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Ht(pt.FAILED_PRECONDITION,Ra);return c(k)}).next(te=>this.wi(k).next(()=>te)):this.Pi(k).next(()=>c(k)))).then($=>(k.raiseOnCommittedEvent(),$))}Pi(t){return Bh(t).get("owner").next(i=>{if(null!==i&&this.yi(i.leaseTimestampMs,5e3)&&!this.Ti(i.ownerId)&&!this._i(i)&&!(this.Js||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Ht(pt.FAILED_PRECONDITION,td)})}wi(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bh(t).put("owner",i)}static D(){return $r.D()}di(t){const i=Bh(t);return i.get("owner").next(c=>this._i(c)?(At("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):gt.resolve())}yi(t,i){const c=Date.now();return!(t<c-i||t>c&&(Kn(`Detected an update time that is in the future: ${t} > ${c}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ei();const i=/(?:Version|Mobile)\/1[456]/;(0,pe.G6)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(t){var i;try{const c=null!==(null===(i=this.ri)||void 0===i?void 0:i.getItem(this.Ii(t)));return At("IndexedDbPersistence",`Client '${t}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return Kn("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(t){Kn("Failed to set zombie client id.",t)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Bh(a){return Hs(a,"owner")}function Zf(a){return Hs(a,"clientMetadata")}function Eg(a,t){let i=a.projectId;return a.isDefaultDatabase||(i+="."+a.database),"firestore/"+t+"/"+i+"/"}class Cg{constructor(t,i,c,m){this.targetId=t,this.fromCache=i,this.Vi=c,this.Si=m}static Di(t,i){let c=hi(),m=hi();for(const v of i.docChanges)switch(v.type){case 0:c=c.add(v.doc.key);break;case 1:m=m.add(v.doc.key)}return new Cg(t,i.fromCache,c,m)}}class Tv{constructor(){this.Ci=!1}initialize(t,i){this.xi=t,this.indexManager=i,this.Ci=!0}getDocumentsMatchingQuery(t,i,c,m){return this.Ni(t,i).next(v=>v||this.ki(t,i,m,c)).next(v=>v||this.Oi(t,i))}Ni(t,i){if(Af(i))return gt.resolve(null);let c=Xs(i);return this.indexManager.getIndexType(t,c).next(m=>0===m?null:(null!==i.limit&&1===m&&(i=Wc(i,null,"F"),c=Xs(i)),this.indexManager.getDocumentsMatchingTarget(t,c).next(v=>{const E=hi(...v);return this.xi.getDocuments(t,E).next(k=>this.indexManager.getMinOffset(t,c).next($=>{const te=this.$i(i,k);return this.Mi(i,te,E,$.readTime)?this.Ni(t,Wc(i,null,"F")):this.Fi(t,te,i,$)}))})))}ki(t,i,c,m){return Af(i)||m.isEqual(Rn.min())?this.Oi(t,i):this.xi.getDocuments(t,c).next(v=>{const E=this.$i(i,v);return this.Mi(i,E,c,m)?this.Oi(t,i):(gn()<=De.in.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",m.toString(),La(i)),this.Fi(t,E,i,ko(m,-1)))})}$i(t,i){let c=new it(kf(t));return i.forEach((m,v)=>{xc(t,v)&&(c=c.add(v))}),c}Mi(t,i,c,m){if(null===t.limit)return!1;if(c.size!==i.size)return!0;const v="F"===t.limitType?i.last():i.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(m)>0)}Oi(t,i){return gn()<=De.in.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",La(i)),this.xi.getDocumentsMatchingQuery(t,i,Vs.min())}Fi(t,i,c,m){return this.xi.getDocumentsMatchingQuery(t,c,m).next(v=>(i.forEach(E=>{v=v.insert(E.key,E)}),v))}}class yw{constructor(t,i,c,m){this.persistence=t,this.Bi=i,this.serializer=m,this.Li=new ne(Yn),this.qi=new qo(v=>xd(v),Gm),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(c)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wi(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Li))}}function Av(a,t,i,c){return new yw(a,t,i,c)}function ny(a,t){return Mv.apply(this,arguments)}function Mv(){return Mv=(0,Ee.Z)(function*(a,t){const i=Jt(a);return yield i.persistence.runTransaction("Handle user change","readonly",c=>{let m;return i.mutationQueue.getAllMutationBatches(c).next(v=>(m=v,i.Gi(t),i.mutationQueue.getAllMutationBatches(c))).next(v=>{const E=[],k=[];let $=hi();for(const te of m){E.push(te.batchId);for(const fe of te.mutations)$=$.add(fe.key)}for(const te of v){k.push(te.batchId);for(const fe of te.mutations)$=$.add(fe.key)}return i.localDocuments.getDocuments(c,$).next(te=>({Qi:te,removedBatchIds:E,addedBatchIds:k}))})})}),Mv.apply(this,arguments)}function Uh(a){const t=Jt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ds.getLastRemoteSnapshotVersion(i))}function Dg(a,t,i){let c=hi(),m=hi();return i.forEach(v=>c=c.add(v)),t.getEntries(a,c).next(v=>{let E=lo();return i.forEach((k,$)=>{const te=v.get(k);$.isFoundDocument()!==te.isFoundDocument()&&(m=m.add(k)),$.isNoDocument()&&$.version.isEqual(Rn.min())?(t.removeEntry(k,$.readTime),E=E.insert(k,$)):!te.isValidDocument()||$.version.compareTo(te.version)>0||0===$.version.compareTo(te.version)&&te.hasPendingWrites?(t.addEntry($),E=E.insert(k,$)):At("LocalStore","Ignoring outdated watch update for ",k,". Current version:",te.version," Watch version:",$.version)}),{zi:E,ji:m}})}function Ig(a,t){const i=Jt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(c,t)))}function Vh(a,t){const i=Jt(a);return i.persistence.runTransaction("Allocate target","readwrite",c=>{let m;return i.Ds.getTargetData(c,t).next(v=>v?(m=v,gt.resolve(m)):i.Ds.allocateTargetId(c).next(E=>(m=new Oh(t,E,0,c.currentSequenceNumber),i.Ds.addTargetData(c,m).next(()=>m))))}).then(c=>{const m=i.Li.get(c.targetId);return(null===m||c.snapshotVersion.compareTo(m.snapshotVersion)>0)&&(i.Li=i.Li.insert(c.targetId,c),i.qi.set(t,c.targetId)),c})}function Hh(a,t,i){return rp.apply(this,arguments)}function rp(){return rp=(0,Ee.Z)(function*(a,t,i){const c=Jt(a),m=c.Li.get(t),v=i?"readwrite":"readwrite-primary";try{i||(yield c.persistence.runTransaction("Release target",v,E=>c.persistence.referenceDelegate.removeTarget(E,m)))}catch(E){if(!Oa(E))throw E;At("LocalStore",`Failed to update sequence numbers for target ${t}: ${E}`)}c.Li=c.Li.remove(t),c.qi.delete(m.target)}),rp.apply(this,arguments)}function sp(a,t,i){const c=Jt(a);let m=Rn.min(),v=hi();return c.persistence.runTransaction("Execute query","readonly",E=>function(k,$,te){const fe=Jt(k),Ue=fe.qi.get(te);return void 0!==Ue?gt.resolve(fe.Li.get(Ue)):fe.Ds.getTargetData($,te)}(c,E,Xs(t)).next(k=>{if(k)return m=k.lastLimboFreeSnapshotVersion,c.Ds.getMatchingKeysForTargetId(E,k.targetId).next($=>{v=$})}).next(()=>c.Bi.getDocumentsMatchingQuery(E,t,i?m:Rn.min(),i?v:hi())).next(k=>(Jb(c,Mf(t),k),{documents:k,Wi:v})))}function iy(a,t){const i=Jt(a),c=Jt(i.Ds),m=i.Li.get(t);return m?Promise.resolve(m.target):i.persistence.runTransaction("Get target data","readonly",v=>c.ne(v,t).next(E=>E?E.target:null))}function ry(a,t){const i=Jt(a),c=i.Ui.get(t)||Rn.min();return i.persistence.runTransaction("Get new document changes","readonly",m=>i.Ki.getAllFromCollectionGroup(m,t,ko(c,-1),Number.MAX_SAFE_INTEGER)).then(m=>(Jb(i,t,m),m))}function Jb(a,t,i){let c=a.Ui.get(t)||Rn.min();i.forEach((m,v)=>{v.readTime.compareTo(c)>0&&(c=v.readTime)}),a.Ui.set(t,c)}function Rv(){return Rv=(0,Ee.Z)(function*(a,t,i,c){const m=Jt(a);let v=hi(),E=lo();for(const te of i){const fe=t.Hi(te.metadata.name);te.document&&(v=v.add(fe));const Ue=t.Ji(te);Ue.setReadTime(t.Yi(te.metadata.readTime)),E=E.insert(fe,Ue)}const k=m.Ki.newChangeBuffer({trackRemovals:!0}),$=yield Vh(m,(te=c,Xs(Su(gi.fromString(`__bundle__/docs/${te}`)))));var te;return m.persistence.runTransaction("Apply bundle documents","readwrite",te=>Dg(te,k,E).next(fe=>(k.apply(te),fe)).next(fe=>m.Ds.removeMatchingKeysForTargetId(te,$.targetId).next(()=>m.Ds.addMatchingKeys(te,v,$.targetId)).next(()=>m.localDocuments.getLocalViewOfDocuments(te,fe.zi,fe.ji)).next(()=>fe.zi)))}),Rv.apply(this,arguments)}function Ov(a,t){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,Ee.Z)(function*(a,t,i=hi()){const c=yield Vh(a,Xs(mg(t.bundledQuery))),m=Jt(a);return m.persistence.runTransaction("Save named query","readwrite",v=>{const E=jt(t.readTime);if(c.snapshotVersion.compareTo(E)>=0)return m.xs.saveNamedQuery(v,t);const k=c.withResumeToken(Fn.EMPTY_BYTE_STRING,E);return m.Li=m.Li.insert(k.targetId,k),m.Ds.updateTargetData(v,k).next(()=>m.Ds.removeMatchingKeysForTargetId(v,c.targetId)).next(()=>m.Ds.addMatchingKeys(v,i,c.targetId)).next(()=>m.xs.saveNamedQuery(v,t))})}),Sg.apply(this,arguments)}function Tg(a,t){return`firestore_clients_${a}_${t}`}function t0(a,t,i){let c=`firestore_mutations_${a}_${i}`;return t.isAuthenticated()&&(c+=`_${t.uid}`),c}function op(a,t){return`firestore_targets_${a}_${t}`}class Ag{constructor(t,i,c,m){this.user=t,this.batchId=i,this.state=c,this.error=m}static Zi(t,i,c){const m=JSON.parse(c);let v,E="object"==typeof m&&-1!==["pending","acknowledged","rejected"].indexOf(m.state)&&(void 0===m.error||"object"==typeof m.error);return E&&m.error&&(E="string"==typeof m.error.message&&"string"==typeof m.error.code,E&&(v=new Ht(m.error.code,m.error.message))),E?new Ag(t,i,m.state,v):(Kn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${c}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Mg{constructor(t,i,c){this.targetId=t,this.state=i,this.error=c}static Zi(t,i){const c=JSON.parse(i);let m,v="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return v&&c.error&&(v="string"==typeof c.error.message&&"string"==typeof c.error.code,v&&(m=new Ht(c.error.code,c.error.message))),v?new Mg(t,c.state,m):(Kn("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class nd{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Zi(t,i){const c=JSON.parse(i);let m="object"==typeof c&&c.activeTargetIds instanceof Array,v=Pl();for(let E=0;m&&E<c.activeTargetIds.length;++E)m=Jl(c.activeTargetIds[E]),v=v.add(c.activeTargetIds[E]);return m?new nd(t,v):(Kn("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}}class kg{constructor(t,i){this.clientId=t,this.onlineState=i}static Zi(t){const i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new kg(i.clientId,i.onlineState):(Kn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Pv{constructor(){this.activeTargetIds=Pl()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ap{constructor(t,i,c,m,v){this.window=t,this.Ws=i,this.persistenceKey=c,this.nr=m,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new ne(Yn),this.started=!1,this.ur=[];const E=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.cr=Tg(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new Pv),this.hr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ee.Z)(function*(){const i=yield t.syncEngine.bi();for(const m of i){if(m===t.nr)continue;const v=t.getItem(Tg(t.persistenceKey,m));if(v){const E=nd.Zi(m,v);E&&(t.rr=t.rr.insert(E.clientId,E))}}t.mr();const c=t.storage.getItem(t.wr);if(c){const m=t.gr(c);m&&t.yr(m)}for(const m of t.ur)t.ir(m);t.ur=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(t){let i=!1;return this.rr.forEach((c,m)=>{m.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.Ir(t,"pending")}updateMutationState(t,i,c){this.Ir(t,i,c),this.Tr(t)}addLocalQueryTarget(t){let i="not-current";if(this.isActiveQueryTarget(t)){const c=this.storage.getItem(op(this.persistenceKey,t));if(c){const m=Mg.Zi(t,c);m&&(i=m.state)}}return this.Er.tr(t),this.mr(),i}removeLocalQueryTarget(t){this.Er.er(t),this.mr()}isLocalQueryTarget(t){return this.Er.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(op(this.persistenceKey,t))}updateQueryState(t,i,c){this.Ar(t,i,c)}handleUserChange(t,i,c){i.forEach(m=>{this.Tr(m)}),this.currentUser=t,c.forEach(m=>{this.addPendingMutation(m)})}setOnlineState(t){this.Rr(t)}notifyBundleLoaded(t){this.vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(t){const i=this.storage.getItem(t);return At("SharedClientState","READ",t,i),i}setItem(t,i){At("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){At("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ir(t){var i=this;const c=t;if(c.storageArea===this.storage){if(At("SharedClientState","EVENT",c.key,c.newValue),c.key===this.cr)return void Kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,Ee.Z)(function*(){if(i.started){if(null!==c.key)if(i.hr.test(c.key)){if(null==c.newValue){const m=i.br(c.key);return i.Pr(m,null)}{const m=i.Vr(c.key,c.newValue);if(m)return i.Pr(m.clientId,m)}}else if(i.lr.test(c.key)){if(null!==c.newValue){const m=i.Sr(c.key,c.newValue);if(m)return i.Dr(m)}}else if(i.dr.test(c.key)){if(null!==c.newValue){const m=i.Cr(c.key,c.newValue);if(m)return i.Nr(m)}}else if(c.key===i.wr){if(null!==c.newValue){const m=i.gr(c.newValue);if(m)return i.yr(m)}}else if(c.key===i.ar){const m=function(v){let E=Oo.ct;if(null!=v)try{const k=JSON.parse(v);hn("number"==typeof k),E=k}catch(k){Kn("SharedClientState","Failed to read sequence number from WebStorage",k)}return E}(c.newValue);m!==Oo.ct&&i.sequenceNumberHandler(m)}else if(c.key===i._r){const m=i.kr(c.newValue);yield Promise.all(m.map(v=>i.syncEngine.Or(v)))}}else i.ur.push(c)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(t,i,c){const m=new Ag(this.currentUser,t,i,c),v=t0(this.persistenceKey,this.currentUser,t);this.setItem(v,m.Xi())}Tr(t){const i=t0(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Rr(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:t}))}Ar(t,i,c){const m=op(this.persistenceKey,t),v=new Mg(t,i,c);this.setItem(m,v.Xi())}vr(t){const i=JSON.stringify(Array.from(t));this.setItem(this._r,i)}br(t){const i=this.hr.exec(t);return i?i[1]:null}Vr(t,i){const c=this.br(t);return nd.Zi(c,i)}Sr(t,i){const c=this.lr.exec(t),m=Number(c[1]);return Ag.Zi(new ke(void 0!==c[2]?c[2]:null),m,i)}Cr(t,i){const c=this.dr.exec(t),m=Number(c[1]);return Mg.Zi(m,i)}gr(t){return kg.Zi(t)}kr(t){return JSON.parse(t)}Dr(t){var i=this;return(0,Ee.Z)(function*(){if(t.user.uid===i.currentUser.uid)return i.syncEngine.$r(t.batchId,t.state,t.error);At("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Nr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}Pr(t,i){const c=i?this.rr.insert(t,i):this.rr.remove(t),m=this.pr(this.rr),v=this.pr(c),E=[],k=[];return v.forEach($=>{m.has($)||E.push($)}),m.forEach($=>{v.has($)||k.push($)}),this.syncEngine.Fr(E,k).then(()=>{this.rr=c})}yr(t){this.rr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}pr(t){let i=Pl();return t.forEach((c,m)=>{i=i.unionWith(m.activeTargetIds)}),i}}class n0{constructor(){this.Br=new Pv,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,c){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,i,c){this.Lr[t]=i}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new Pv,Promise.resolve()}handleUserChange(t,i,c){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vw{qr(t){}shutdown(){}}class lp{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){At("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){At("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yd=null;function Hu(){return null===Yd?Yd=268435456+Math.round(2147483648*Math.random()):Yd++,"0x"+Yd.toString(16)}const Qf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rg{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}const Xr="WebChannelConnection";class sy extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.ro=(t.ssl?"https":"http")+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,i,c,m,v){const E=Hu(),k=this.ao(t,i);At("RestConnection",`Sending RPC '${t}' ${E}:`,k,c);const $={};return this.ho($,m,v),this.lo(t,k,$,c).then(te=>(At("RestConnection",`Received RPC '${t}' ${E}: `,te),te),te=>{throw $n("RestConnection",`RPC '${t}' ${E} failed with error: `,te,"url: ",k,"request:",c),te})}fo(t,i,c,m,v,E){return this.co(t,i,c,m,v)}ho(t,i,c){t["X-Goog-Api-Client"]="gl-js/ fire/"+wt,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((m,v)=>t[v]=m),c&&c.headers.forEach((m,v)=>t[v]=m)}ao(t,i){return`${this.ro}/v1/${i}:${Qf[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,i,c,m){const v=Hu();return new Promise((E,k)=>{const $=new H;$.setWithCredentials(!0),$.listenOnce(Yl.COMPLETE,()=>{try{switch($.getLastErrorCode()){case sl.NO_ERROR:const fe=$.getResponseJson();At(Xr,`XHR for RPC '${t}' ${v} received:`,JSON.stringify(fe)),E(fe);break;case sl.TIMEOUT:At(Xr,`RPC '${t}' ${v} timed out`),k(new Ht(pt.DEADLINE_EXCEEDED,"Request time out"));break;case sl.HTTP_ERROR:const Ue=$.getStatus();if(At(Xr,`RPC '${t}' ${v} failed with status:`,Ue,"response text:",$.getResponseText()),Ue>0){let dt=$.getResponseJson();Array.isArray(dt)&&(dt=dt[0]);const Ft=dt?.error;if(Ft&&Ft.status&&Ft.message){const nn=function(bn){const jn=bn.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(jn)>=0?jn:pt.UNKNOWN}(Ft.status);k(new Ht(nn,Ft.message))}else k(new Ht(pt.UNKNOWN,"Server responded with status "+$.getStatus()))}else k(new Ht(pt.UNAVAILABLE,"Connection failed."));break;default:Xt()}}finally{At(Xr,`RPC '${t}' ${v} completed.`)}});const te=JSON.stringify(m);At(Xr,`RPC '${t}' ${v} sending request:`,m),$.send(i,"POST",te,c,15)})}wo(t,i,c){const m=Hu(),v=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],E=fd(),k=_s(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&($.xmlHttpFactory=new N({})),this.ho($.initMessageHeaders,i,c),$.encodeInitMessageHeaders=!0;const te=v.join("");At(Xr,`Creating RPC '${t}' stream ${m}: ${te}`,$);const fe=E.createWebChannel(te,$);let Ue=!1,dt=!1;const Ft=new Rg({Wr:bn=>{dt?At(Xr,`Not sending because RPC '${t}' stream ${m} is closed:`,bn):(Ue||(At(Xr,`Opening RPC '${t}' stream ${m} transport.`),fe.open(),Ue=!0),At(Xr,`RPC '${t}' stream ${m} sending:`,bn),fe.send(bn))},Hr:()=>fe.close()}),nn=(bn,jn,sr)=>{bn.listen(jn,vs=>{try{sr(vs)}catch(zi){setTimeout(()=>{throw zi},0)}})};return nn(fe,J.EventType.OPEN,()=>{dt||At(Xr,`RPC '${t}' stream ${m} transport opened.`)}),nn(fe,J.EventType.CLOSE,()=>{dt||(dt=!0,At(Xr,`RPC '${t}' stream ${m} transport closed`),Ft.so())}),nn(fe,J.EventType.ERROR,bn=>{dt||(dt=!0,$n(Xr,`RPC '${t}' stream ${m} transport errored:`,bn),Ft.so(new Ht(pt.UNAVAILABLE,"The operation could not be completed")))}),nn(fe,J.EventType.MESSAGE,bn=>{var jn;if(!dt){const sr=bn.data[0];hn(!!sr);const zi=sr.error||(null===(jn=sr[0])||void 0===jn?void 0:jn.error);if(zi){At(Xr,`RPC '${t}' stream ${m} received error:`,zi);const co=zi.status;let Rr=function(wa){const gc=Xi[wa];if(void 0!==gc)return rg(gc)}(co),Yr=zi.message;void 0===Rr&&(Rr=pt.INTERNAL,Yr="Unknown error status: "+co+" with message "+zi.message),dt=!0,Ft.so(new Ht(Rr,Yr)),fe.close()}else At(Xr,`RPC '${t}' stream ${m} received:`,sr),Ft.io(sr)}}),nn(k,md.STAT_EVENT,bn=>{bn.stat===Hc.PROXY?At(Xr,`RPC '${t}' stream ${m} detected buffering proxy`):bn.stat===Hc.NOPROXY&&At(Xr,`RPC '${t}' stream ${m} detected no buffering proxy`)}),setTimeout(()=>{Ft.no()},0),Ft}}function cp(){return typeof window<"u"?window:null}function Xf(){return typeof document<"u"?document:null}function jh(a){return new Z(a,!0)}class Og{constructor(t,i,c=1e3,m=1.5,v=6e4){this.Ws=t,this.timerId=i,this._o=c,this.mo=m,this.yo=v,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const i=Math.floor(this.po+this.Ro()),c=Math.max(0,Date.now()-this.To),m=Math.max(0,i-c);m>0&&At("ExponentialBackoff",`Backing off for ${m} ms (base delay: ${this.po} ms, delay with jitter: ${i} ms, last attempt: ${c} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,m,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Pg{constructor(t,i,c,m,v,E,k,$){this.Ws=t,this.bo=c,this.Po=m,this.connection=v,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=k,this.listener=$,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Og(t,i)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var t=this;return(0,Ee.Z)(function*(){t.xo()&&(yield t.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}Mo(){var t=this;return(0,Ee.Z)(function*(){if(t.No())return t.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(t,i){var c=this;return(0,Ee.Z)(function*(){c.Bo(),c.Lo(),c.Co.cancel(),c.Vo++,4!==t?c.Co.reset():i&&i.code===pt.RESOURCE_EXHAUSTED?(Kn(i.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),c.Co.Eo()):i&&i.code===pt.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.qo(),c.stream.close(),c.stream=null),c.state=t,yield c.listener.Zr(i)})()}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),i=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,m])=>{this.Vo===i&&this.Ko(c,m)},c=>{t(()=>{const m=new Ht(pt.UNKNOWN,"Fetching auth token failed: "+c.message);return this.Go(m)})})}Ko(t,i){const c=this.Uo(this.Vo);this.stream=this.Qo(t,i),this.stream.Jr(()=>{c(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(m=>{c(()=>this.Go(m))}),this.stream.onMessage(m=>{c(()=>this.onMessage(m))})}ko(){var t=this;this.state=5,this.Co.Ao((0,Ee.Z)(function*(){t.state=0,t.start()}))}Go(t){return At("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return i=>{this.Ws.enqueueAndForget(()=>this.Vo===t?i():(At("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r0 extends Pg{constructor(t,i,c,m,v,E){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,c,m,E),this.serializer=v}Qo(t,i){return this.connection.wo("Listen",t,i)}onMessage(t){this.Co.reset();const i=function ag(a,t){let i;if("targetChange"in t){const c="NO_CHANGE"===($=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Xt(),m=t.targetChange.targetIds||[],v=function($,te){return $.useProto3Json?(hn(void 0===te||"string"==typeof te),Fn.fromBase64String(te||"")):(hn(void 0===te||te instanceof Uint8Array),Fn.fromUint8Array(te||new Uint8Array))}(a,t.targetChange.resumeToken),E=t.targetChange.cause,k=E&&function($){const te=void 0===$.code?pt.UNKNOWN:rg($.code);return new Ht(te,$.message||"")}(E);i=new sg(c,m,v,k||null)}else if("documentChange"in t){const c=t.documentChange,m=Xn(a,c.document.name),v=jt(c.document.updateTime),E=c.document.createTime?jt(c.document.createTime):Rn.min(),k=new As({mapValue:{fields:c.document.fields}}),$=Tr.newFoundDocument(m,v,E,k);i=new Qc(c.targetIds||[],c.removedTargetIds||[],$.key,$)}else if("documentDelete"in t){const c=t.documentDelete,m=Xn(a,c.document),v=c.readTime?jt(c.readTime):Rn.min(),E=Tr.newNoDocument(m,v);i=new Qc([],c.removedTargetIds||[],E.key,E)}else if("documentRemove"in t){const c=t.documentRemove,m=Xn(a,c.document);i=new Qc([],c.removedTargetIds||[],m,null)}else{if(!("filter"in t))return Xt();{const c=t.filter,v=new Uf(c.count||0);i=new Ah(c.targetId,v)}}var $;return i}(this.serializer,t),c=function(m){if(!("targetChange"in m))return Rn.min();const v=m.targetChange;return v.targetIds&&v.targetIds.length?Rn.min():v.readTime?jt(v.readTime):Rn.min()}(t);return this.listener.zo(i,c)}jo(t){const i={};i.database=Mr(this.serializer),i.addTarget=function(m,v){let E;const k=v.target;return E=Ed(k)?{documents:Qm(m,k)}:{query:jf(m,k)},E.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?E.resumeToken=Ve(m,v.resumeToken):v.snapshotVersion.compareTo(Rn.min())>0&&(E.readTime=F(m,v.snapshotVersion.toTimestamp())),E}(this.serializer,t);const c=function Xm(a,t){const i=function(c,m){switch(m){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xt()}}(0,t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);c&&(i.labels=c),this.Fo(i)}Wo(t){const i={};i.database=Mr(this.serializer),i.removeTarget=t,this.Fo(i)}}class Nv extends Pg{constructor(t,i,c,m,v,E){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,c,m,E),this.serializer=v,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(t,i){return this.connection.wo("Write",t,i)}onMessage(t){if(hn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ho){this.Co.reset();const i=function lg(a,t){return a&&a.length>0?(hn(void 0!==t),a.map(i=>function(c,m){let v=jt(c.updateTime?c.updateTime:m);return v.isEqual(Rn.min())&&(v=jt(m)),new Ym(v,c.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),c=jt(t.commitTime);return this.listener.Zo(c,i)}return hn(!t.writeResults||0===t.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const t={};t.database=Mr(this.serializer),this.Fo(t)}Yo(t){const i={streamToken:this.lastStreamToken,writes:t.map(c=>Ud(this.serializer,c))};this.Fo(i)}}class oy extends class{}{constructor(t,i,c,m){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=c,this.serializer=m,this.eu=!1}nu(){if(this.eu)throw new Ht(pt.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,i,c){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,v])=>this.connection.co(t,i,c,m,v)).catch(m=>{throw"FirebaseError"===m.name?(m.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Ht(pt.UNKNOWN,m.toString())})}fo(t,i,c,m){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,E])=>this.connection.fo(t,i,c,v,E,m)).catch(v=>{throw"FirebaseError"===v.name?(v.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new Ht(pt.UNKNOWN,v.toString())})}terminate(){this.eu=!0}}class up{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,"Online"===t&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Kn(i),this.ru=!1):At("OnlineStateTracker",i)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class o0{constructor(t,i,c,m,v){var E=this;this.localStore=t,this.datastore=i,this.asyncQueue=c,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=v,this._u.qr(k=>{c.enqueueAndForget((0,Ee.Z)(function*(){var $;qd(E)&&(At("RemoteStore","Restarting streams for network reachability change."),yield($=(0,Ee.Z)(function*(te){const fe=Jt(te);fe.du.add(4),yield zh(fe),fe.mu.set("Unknown"),fe.du.delete(4),yield hp(fe)}),function(te){return $.apply(this,arguments)})(E))}))}),this.mu=new up(c,m)}}function hp(a){return ja.apply(this,arguments)}function ja(){return ja=(0,Ee.Z)(function*(a){if(qd(a))for(const t of a.wu)yield t(!0)}),ja.apply(this,arguments)}function zh(a){return ay.apply(this,arguments)}function ay(){return ay=(0,Ee.Z)(function*(a){for(const t of a.wu)yield t(!1)}),ay.apply(this,arguments)}function Fv(a,t){const i=Jt(a);i.fu.has(t.targetId)||(i.fu.set(t.targetId,t),ly(i)?Fg(i):Qh(i).No()&&Ng(i,t))}function Gh(a,t){const i=Jt(a),c=Qh(i);i.fu.delete(t),c.No()&&Lv(i,t),0===i.fu.size&&(c.No()?c.$o():qd(i)&&i.mu.set("Unknown"))}function Ng(a,t){a.gu.Ot(t.targetId),Qh(a).jo(t)}function Lv(a,t){a.gu.Ot(t),Qh(a).Wo(t)}function Fg(a){a.gu=new Xc({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>a.fu.get(t)||null}),Qh(a).start(),a.mu.ou()}function ly(a){return qd(a)&&!Qh(a).xo()&&a.fu.size>0}function qd(a){return 0===Jt(a).du.size}function Bv(a){a.gu=void 0}function a0(a){return fp.apply(this,arguments)}function fp(){return fp=(0,Ee.Z)(function*(a){a.fu.forEach((t,i)=>{Ng(a,t)})}),fp.apply(this,arguments)}function bw(a,t){return mp.apply(this,arguments)}function mp(){return mp=(0,Ee.Z)(function*(a,t){Bv(a),ly(a)?(a.mu.au(t),Fg(a)):a.mu.set("Unknown")}),mp.apply(this,arguments)}function Uv(a,t,i){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,Ee.Z)(function*(a,t,i){if(a.mu.set("Online"),t instanceof sg&&2===t.state&&t.cause)try{yield(c=(0,Ee.Z)(function*(m,v){const E=v.cause;for(const k of v.targetIds)m.fu.has(k)&&(yield m.remoteSyncer.rejectListen(k,E),m.fu.delete(k),m.gu.removeTarget(k))}),function(m,v){return c.apply(this,arguments)})(a,t)}catch(c){At("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),c),yield Jf(a,c)}else if(t instanceof Qc?a.gu.Kt(t):t instanceof Ah?a.gu.Jt(t):a.gu.zt(t),!i.isEqual(Rn.min()))try{const c=yield Uh(a.localStore);i.compareTo(c)>=0&&(yield function(m,v){const E=m.gu.Xt(v);return E.targetChanges.forEach((k,$)=>{if(k.resumeToken.approximateByteSize()>0){const te=m.fu.get($);te&&m.fu.set($,te.withResumeToken(k.resumeToken,v))}}),E.targetMismatches.forEach(k=>{const $=m.fu.get(k);if(!$)return;m.fu.set(k,$.withResumeToken(Fn.EMPTY_BYTE_STRING,$.snapshotVersion)),Lv(m,k);const te=new Oh($.target,k,1,$.sequenceNumber);Ng(m,te)}),m.remoteSyncer.applyRemoteEvent(E)}(a,i))}catch(c){At("RemoteStore","Failed to raise snapshot:",c),yield Jf(a,c)}var c}),Lg.apply(this,arguments)}function Jf(a,t,i){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,Ee.Z)(function*(a,t,i){if(!Oa(t))throw t;a.du.add(1),yield zh(a),a.mu.set("Offline"),i||(i=()=>Uh(a.localStore)),a.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){At("RemoteStore","Retrying IndexedDB access"),yield i(),a.du.delete(1),yield hp(a)}))}),Bl.apply(this,arguments)}function Bg(a,t){return t().catch(i=>Jf(a,i,t))}function em(a){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,Ee.Z)(function*(a){const t=Jt(a),i=Jo(t);let c=t.lu.length>0?t.lu[t.lu.length-1].batchId:-1;for(;ju(t);)try{const m=yield Ig(t.localStore,c);if(null===m){0===t.lu.length&&i.$o();break}c=m.batchId,cy(t,m)}catch(m){yield Jf(t,m)}$h(t)&&dy(t)}),Ug.apply(this,arguments)}function ju(a){return qd(a)&&a.lu.length<10}function cy(a,t){a.lu.push(t);const i=Jo(a);i.No()&&i.Jo&&i.Yo(t.mutations)}function $h(a){return qd(a)&&!Jo(a).xo()&&a.lu.length>0}function dy(a){Jo(a).start()}function Vg(a){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,Ee.Z)(function*(a){Jo(a).tu()}),Wh.apply(this,arguments)}function Kh(a){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,Ee.Z)(function*(a){const t=Jo(a);for(const i of a.lu)t.Yo(i.mutations)}),Yh.apply(this,arguments)}function Hg(a,t,i){return Ms.apply(this,arguments)}function Ms(){return Ms=(0,Ee.Z)(function*(a,t,i){const c=a.lu.shift(),m=Qo.from(c,t,i);yield Bg(a,()=>a.remoteSyncer.applySuccessfulWrite(m)),yield em(a)}),Ms.apply(this,arguments)}function jg(a,t){return qh.apply(this,arguments)}function qh(){return qh=(0,Ee.Z)(function*(a,t){var i;t&&Jo(a).Jo&&(yield(i=(0,Ee.Z)(function*(c,m){if(Pu(v=m.code)&&v!==pt.ABORTED){const E=c.lu.shift();Jo(c).Oo(),yield Bg(c,()=>c.remoteSyncer.rejectFailedWrite(E.batchId,m)),yield em(c)}var v}),function(c,m){return i.apply(this,arguments)})(a,t)),$h(a)&&dy(a)}),qh.apply(this,arguments)}function id(a,t){return _o.apply(this,arguments)}function _o(){return _o=(0,Ee.Z)(function*(a,t){const i=Jt(a);i.asyncQueue.verifyOperationInProgress(),At("RemoteStore","RemoteStore received new credentials");const c=qd(i);i.du.add(3),yield zh(i),c&&i.mu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.du.delete(3),yield hp(i)}),_o.apply(this,arguments)}function zg(a,t){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,Ee.Z)(function*(a,t){const i=Jt(a);t?(i.du.delete(2),yield hp(i)):t||(i.du.add(2),yield zh(i),i.mu.set("Unknown"))}),Zh.apply(this,arguments)}function Qh(a){return a.yu||(a.yu=function(t,i,c){const m=Jt(t);return m.nu(),new r0(i,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(a.datastore,a.asyncQueue,{Jr:a0.bind(null,a),Zr:bw.bind(null,a),zo:Uv.bind(null,a)}),a.wu.push(function(){var t=(0,Ee.Z)(function*(i){i?(a.yu.Oo(),ly(a)?Fg(a):a.mu.set("Unknown")):(yield a.yu.stop(),Bv(a))});return function(i){return t.apply(this,arguments)}}())),a.yu}function Jo(a){return a.pu||(a.pu=function(t,i,c){const m=Jt(t);return m.nu(),new Nv(i,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(a.datastore,a.asyncQueue,{Jr:Vg.bind(null,a),Zr:jg.bind(null,a),Xo:Kh.bind(null,a),Zo:Hg.bind(null,a)}),a.wu.push(function(){var t=(0,Ee.Z)(function*(i){i?(a.pu.Oo(),yield em(a)):(yield a.pu.stop(),a.lu.length>0&&(At("RemoteStore",`Stopping write stream with ${a.lu.length} pending writes`),a.lu=[]))});return function(i){return t.apply(this,arguments)}}())),a.pu}class yo{constructor(t,i,c,m,v){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=c,this.op=m,this.removalCallback=v,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(t,i,c,m,v){const E=Date.now()+c,k=new yo(t,i,E,m,v);return k.start(c),k}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ht(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function za(a,t){if(Kn("AsyncQueue",`${t}: ${a}`),Oa(a))return new Ht(pt.UNAVAILABLE,`${t}: ${a}`);throw a}class Zd{constructor(t){this.comparator=t?(i,c)=>t(i,c)||cn.comparator(i.key,c.key):(i,c)=>cn.comparator(i.key,c.key),this.keyedMap=Mu(),this.sortedSet=new ne(this.comparator)}static emptySet(t){return new Zd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,c)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Zd)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),c=t.sortedSet.getIterator();for(;i.hasNext();){const m=i.getNext().key,v=c.getNext().key;if(!m.isEqual(v))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const c=new Zd;return c.comparator=this.comparator,c.keyedMap=t,c.sortedSet=i,c}}class rd{constructor(){this.Iu=new ne(cn.comparator)}track(t){const i=t.doc.key,c=this.Iu.get(i);c?0!==t.type&&3===c.type?this.Iu=this.Iu.insert(i,t):3===t.type&&1!==c.type?this.Iu=this.Iu.insert(i,{type:c.type,doc:t.doc}):2===t.type&&2===c.type?this.Iu=this.Iu.insert(i,{type:2,doc:t.doc}):2===t.type&&0===c.type?this.Iu=this.Iu.insert(i,{type:0,doc:t.doc}):1===t.type&&0===c.type?this.Iu=this.Iu.remove(i):1===t.type&&2===c.type?this.Iu=this.Iu.insert(i,{type:1,doc:c.doc}):0===t.type&&1===c.type?this.Iu=this.Iu.insert(i,{type:2,doc:t.doc}):Xt():this.Iu=this.Iu.insert(i,t)}Tu(){const t=[];return this.Iu.inorderTraversal((i,c)=>{t.push(c)}),t}}class zu{constructor(t,i,c,m,v,E,k,$,te){this.query=t,this.docs=i,this.oldDocs=c,this.docChanges=m,this.mutatedKeys=v,this.fromCache=E,this.syncStateChanged=k,this.excludesMetadataChanges=$,this.hasCachedResults=te}static fromInitialDocuments(t,i,c,m,v){const E=[];return i.forEach(k=>{E.push({type:0,doc:k})}),new zu(t,i,Zd.emptySet(i),E,c,m,!0,!1,v)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,c=t.docChanges;if(i.length!==c.length)return!1;for(let m=0;m<i.length;m++)if(i[m].type!==c[m].type||!i[m].doc.isEqual(c[m].doc))return!1;return!0}}class uy{constructor(){this.Eu=void 0,this.listeners=[]}}class vo{constructor(){this.queries=new qo(t=>Eh(t),Dd),this.onlineState="Unknown",this.Au=new Set}}function Gg(a,t){return hy.apply(this,arguments)}function hy(){return hy=(0,Ee.Z)(function*(a,t){const i=Jt(a),c=t.query;let m=!1,v=i.queries.get(c);if(v||(m=!0,v=new uy),m)try{v.Eu=yield i.onListen(c)}catch(E){const k=za(E,`Initialization of query '${La(t.query)}' failed`);return void t.onError(k)}i.queries.set(c,v),v.listeners.push(t),t.Ru(i.onlineState),v.Eu&&t.vu(v.Eu)&&my(i)}),hy.apply(this,arguments)}function Xh(a,t){return fy.apply(this,arguments)}function fy(){return fy=(0,Ee.Z)(function*(a,t){const i=Jt(a),c=t.query;let m=!1;const v=i.queries.get(c);if(v){const E=v.listeners.indexOf(t);E>=0&&(v.listeners.splice(E,1),m=0===v.listeners.length)}if(m)return i.queries.delete(c),i.onUnlisten(c)}),fy.apply(this,arguments)}function ww(a,t){const i=Jt(a);let c=!1;for(const m of t){const E=i.queries.get(m.query);if(E){for(const k of E.listeners)k.vu(m)&&(c=!0);E.Eu=m}}c&&my(i)}function l0(a,t,i){const c=Jt(a),m=c.queries.get(t);if(m)for(const v of m.listeners)v.onError(i);c.queries.delete(t)}function my(a){a.Au.forEach(t=>{t.next()})}class $g{constructor(t,i,c){this.query=t,this.bu=i,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=c||{}}vu(t){if(!this.options.includeMetadataChanges){const c=[];for(const m of t.docChanges)3!==m.type&&c.push(m);t=new zu(t.query,t.docs,t.oldDocs,c,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),i=!0):this.Du(t,this.onlineState)&&(this.Cu(t),i=!0),this.Vu=t,i}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let i=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),i=!0),i}Du(t,i){return!t.fromCache||(!this.options.xu||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}Su(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(t){t=zu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}class tm{constructor(t,i){this.Nu=t,this.byteLength=i}ku(){return"metadata"in this.Nu}}class Vv{constructor(t){this.serializer=t}Hi(t){return Xn(this.serializer,t)}Ji(t){return t.metadata.exists?Mh(this.serializer,t.document,!1):Tr.newNoDocument(this.Hi(t.metadata.name),this.Yi(t.metadata.readTime))}Yi(t){return jt(t)}}class pp{constructor(t,i,c){this.Ou=t,this.localStore=i,this.serializer=c,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hv(t)}$u(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.Nu.namedQuery)this.queries.push(t.Nu.namedQuery);else if(t.Nu.documentMetadata){this.documents.push({metadata:t.Nu.documentMetadata}),t.Nu.documentMetadata.exists||++i;const c=gi.fromString(t.Nu.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else t.Nu.document&&(this.documents[this.documents.length-1].document=t.Nu.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}Mu(t){const i=new Map,c=new Vv(this.serializer);for(const m of t)if(m.metadata.queries){const v=c.Hi(m.metadata.name);for(const E of m.metadata.queries){const k=(i.get(E)||hi()).add(v);i.set(E,k)}}return i}complete(){var t=this;return(0,Ee.Z)(function*(){const i=yield function e0(a,t,i,c){return Rv.apply(this,arguments)}(t.localStore,new Vv(t.serializer),t.documents,t.Ou.id),c=t.Mu(t.documents);for(const m of t.queries)yield Ov(t.localStore,m,c.get(m.name));return t.progress.taskState="Success",{progress:t.progress,Fu:t.collectionGroups,Bu:i}})()}}function Hv(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class py{constructor(t){this.key=t}}class Gu{constructor(t){this.key=t}}class gp{constructor(t,i){this.query=t,this.Lu=i,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=hi(),this.mutatedKeys=hi(),this.Ku=kf(t),this.Gu=new Zd(this.Ku)}get Qu(){return this.Lu}zu(t,i){const c=i?i.ju:new rd,m=i?i.Gu:this.Gu;let v=i?i.mutatedKeys:this.mutatedKeys,E=m,k=!1;const $="F"===this.query.limitType&&m.size===this.query.limit?m.last():null,te="L"===this.query.limitType&&m.size===this.query.limit?m.first():null;if(t.inorderTraversal((fe,Ue)=>{const dt=m.get(fe),Ft=xc(this.query,Ue)?Ue:null,nn=!!dt&&this.mutatedKeys.has(dt.key),bn=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let jn=!1;dt&&Ft?dt.data.isEqual(Ft.data)?nn!==bn&&(c.track({type:3,doc:Ft}),jn=!0):this.Wu(dt,Ft)||(c.track({type:2,doc:Ft}),jn=!0,($&&this.Ku(Ft,$)>0||te&&this.Ku(Ft,te)<0)&&(k=!0)):!dt&&Ft?(c.track({type:0,doc:Ft}),jn=!0):dt&&!Ft&&(c.track({type:1,doc:dt}),jn=!0,($||te)&&(k=!0)),jn&&(Ft?(E=E.add(Ft),v=bn?v.add(fe):v.delete(fe)):(E=E.delete(fe),v=v.delete(fe)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const fe="F"===this.query.limitType?E.last():E.first();E=E.delete(fe.key),v=v.delete(fe.key),c.track({type:1,doc:fe})}return{Gu:E,ju:c,Mi:k,mutatedKeys:v}}Wu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,c){const m=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const v=t.ju.Tu();v.sort((te,fe)=>function(Ue,dt){const Ft=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt()}};return Ft(Ue)-Ft(dt)}(te.type,fe.type)||this.Ku(te.doc,fe.doc)),this.Hu(c);const E=i?this.Ju():[],k=0===this.Uu.size&&this.current?1:0,$=k!==this.qu;return this.qu=k,0!==v.length||$?{snapshot:new zu(this.query,t.Gu,m,v,t.mutatedKeys,0===k,$,!1,!!c&&c.resumeToken.approximateByteSize()>0),Yu:E}:{Yu:E}}Ru(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new rd,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(i=>this.Lu=this.Lu.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Lu=this.Lu.delete(i)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=hi(),this.Gu.forEach(c=>{this.Zu(c.key)&&(this.Uu=this.Uu.add(c.key))});const i=[];return t.forEach(c=>{this.Uu.has(c)||i.push(new Gu(c))}),this.Uu.forEach(c=>{t.has(c)||i.push(new py(c))}),i}Xu(t){this.Lu=t.Wi,this.Uu=hi();const i=this.zu(t.documents);return this.applyChanges(i,!0)}tc(){return zu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Wg{constructor(t,i,c){this.query=t,this.targetId=i,this.view=c}}class jv{constructor(t){this.key=t,this.ec=!1}}class zv{constructor(t,i,c,m,v,E){this.localStore=t,this.remoteStore=i,this.eventManager=c,this.sharedClientState=m,this.currentUser=v,this.maxConcurrentLimboResolutions=E,this.nc={},this.sc=new qo(k=>Eh(k),Dd),this.ic=new Map,this.rc=new Set,this.oc=new ne(cn.comparator),this.uc=new Map,this.cc=new xg,this.ac={},this.hc=new Map,this.lc=Yf.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Gv(a,t){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,Ee.Z)(function*(a,t){const i=am(a);let c,m;const v=i.sc.get(t);if(v)c=v.targetId,i.sharedClientState.addLocalQueryTarget(c),m=v.view.tc();else{const E=yield Vh(i.localStore,Xs(t));i.isPrimaryClient&&Fv(i.remoteStore,E);const k=i.sharedClientState.addLocalQueryTarget(E.targetId);c=E.targetId,m=yield Yg(i,t,c,"current"===k,E.resumeToken)}return m}),Kg.apply(this,arguments)}function Yg(a,t,i,c,m){return qg.apply(this,arguments)}function qg(){return qg=(0,Ee.Z)(function*(a,t,i,c,m){a.dc=(Ue,dt,Ft)=>{return(nn=(0,Ee.Z)(function*(bn,jn,sr,vs){let zi=jn.view.zu(sr);zi.Mi&&(zi=yield sp(bn.localStore,jn.query,!1).then(({documents:Yr})=>jn.view.zu(Yr,zi)));const co=vs&&vs.targetChanges.get(jn.targetId),Rr=jn.view.applyChanges(zi,bn.isPrimaryClient,co);return $u(bn,jn.targetId,Rr.Yu),Rr.snapshot}),function(bn,jn,sr,vs){return nn.apply(this,arguments)})(a,Ue,dt,Ft);var nn};const v=yield sp(a.localStore,t,!0),E=new gp(t,v.Wi),k=E.zu(v.documents),$=Ua.createSynthesizedTargetChangeForCurrentChange(i,c&&"Offline"!==a.onlineState,m),te=E.applyChanges(k,a.isPrimaryClient,$);$u(a,i,te.Yu);const fe=new Wg(t,i,E);return a.sc.set(t,fe),a.ic.has(i)?a.ic.get(i).push(t):a.ic.set(i,[t]),te.snapshot}),qg.apply(this,arguments)}function gy(a,t){return _p.apply(this,arguments)}function _p(){return _p=(0,Ee.Z)(function*(a,t){const i=Jt(a),c=i.sc.get(t),m=i.ic.get(c.targetId);if(m.length>1)return i.ic.set(c.targetId,m.filter(v=>!Dd(v,t))),void i.sc.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(c.targetId),i.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Hh(i.localStore,c.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(c.targetId),Gh(i.remoteStore,c.targetId),Uo(i,c.targetId)}).catch(Ro))):(Uo(i,c.targetId),yield Hh(i.localStore,c.targetId,!0))}),_p.apply(this,arguments)}function yp(){return yp=(0,Ee.Z)(function*(a,t,i){const c=by(a);try{const m=yield function(v,E){const k=Jt(v),$=Oi.now(),te=E.reduce((dt,Ft)=>dt.add(Ft.key),hi());let fe,Ue;return k.persistence.runTransaction("Locally write mutations","readwrite",dt=>{let Ft=lo(),nn=hi();return k.Ki.getEntries(dt,te).next(bn=>{Ft=bn,Ft.forEach((jn,sr)=>{sr.isValidDocument()||(nn=nn.add(jn))})}).next(()=>k.localDocuments.getOverlayedDocuments(dt,Ft)).next(bn=>{fe=bn;const jn=[];for(const sr of E){const vs=$_(sr,fe.get(sr.key).overlayedDocument);null!=vs&&jn.push(new No(sr.key,vs,Lm(vs.value.mapValue),Ar.exists(!0)))}return k.mutationQueue.addMutationBatch(dt,$,jn,E)}).next(bn=>{Ue=bn;const jn=bn.applyToLocalDocumentSet(fe,nn);return k.documentOverlayCache.saveOverlays(dt,bn.batchId,jn)})}).then(()=>({batchId:Ue.batchId,changes:Ch(fe)}))}(c.localStore,t);c.sharedClientState.addPendingMutation(m.batchId),function(v,E,k){let $=v.ac[v.currentUser.toKey()];$||($=new ne(Yn)),$=$.insert(E,k),v.ac[v.currentUser.toKey()]=$}(c,m.batchId,i),yield gl(c,m.changes),yield em(c.remoteStore)}catch(m){const v=za(m,"Failed to persist write");i.reject(v)}}),yp.apply(this,arguments)}function c0(a,t){return vp.apply(this,arguments)}function vp(){return vp=(0,Ee.Z)(function*(a,t){const i=Jt(a);try{const c=yield function Xb(a,t){const i=Jt(a),c=t.snapshotVersion;let m=i.Li;return i.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const E=i.Ki.newChangeBuffer({trackRemovals:!0});m=i.Li;const k=[];t.targetChanges.forEach((fe,Ue)=>{const dt=m.get(Ue);if(!dt)return;k.push(i.Ds.removeMatchingKeys(v,fe.removedDocuments,Ue).next(()=>i.Ds.addMatchingKeys(v,fe.addedDocuments,Ue)));let Ft=dt.withSequenceNumber(v.currentSequenceNumber);var nn,bn,jn;t.targetMismatches.has(Ue)?Ft=Ft.withResumeToken(Fn.EMPTY_BYTE_STRING,Rn.min()).withLastLimboFreeSnapshotVersion(Rn.min()):fe.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(fe.resumeToken,c)),m=m.insert(Ue,Ft),bn=Ft,jn=fe,(0===(nn=dt).resumeToken.approximateByteSize()||bn.snapshotVersion.toMicroseconds()-nn.snapshotVersion.toMicroseconds()>=3e8||jn.addedDocuments.size+jn.modifiedDocuments.size+jn.removedDocuments.size>0)&&k.push(i.Ds.updateTargetData(v,Ft))});let $=lo(),te=hi();if(t.documentUpdates.forEach(fe=>{t.resolvedLimboDocuments.has(fe)&&k.push(i.persistence.referenceDelegate.updateLimboDocument(v,fe))}),k.push(Dg(v,E,t.documentUpdates).next(fe=>{$=fe.zi,te=fe.ji})),!c.isEqual(Rn.min())){const fe=i.Ds.getLastRemoteSnapshotVersion(v).next(Ue=>i.Ds.setTargetsMetadata(v,v.currentSequenceNumber,c));k.push(fe)}return gt.waitFor(k).next(()=>E.apply(v)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,$,te)).next(()=>$)}).then(v=>(i.Li=m,v))}(i.localStore,t);t.targetChanges.forEach((m,v)=>{const E=i.uc.get(v);E&&(hn(m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size<=1),m.addedDocuments.size>0?E.ec=!0:m.modifiedDocuments.size>0?hn(E.ec):m.removedDocuments.size>0&&(hn(E.ec),E.ec=!1))}),yield gl(i,c,t)}catch(c){yield Ro(c)}}),vp.apply(this,arguments)}function d0(a,t,i){const c=Jt(a);if(c.isPrimaryClient&&0===i||!c.isPrimaryClient&&1===i){const m=[];c.sc.forEach((v,E)=>{const k=E.view.Ru(t);k.snapshot&&m.push(k.snapshot)}),function(v,E){const k=Jt(v);k.onlineState=E;let $=!1;k.queries.forEach((te,fe)=>{for(const Ue of fe.listeners)Ue.Ru(E)&&($=!0)}),$&&my(k)}(c.eventManager,t),m.length&&c.nc.zo(m),c.onlineState=t,c.isPrimaryClient&&c.sharedClientState.setOnlineState(t)}}function nm(a,t,i){return bp.apply(this,arguments)}function bp(){return bp=(0,Ee.Z)(function*(a,t,i){const c=Jt(a);c.sharedClientState.updateQueryState(t,"rejected",i);const m=c.uc.get(t),v=m&&m.key;if(v){let E=new ne(cn.comparator);E=E.insert(v,Tr.newNoDocument(v,Rn.min()));const k=hi().add(v),$=new Ec(Rn.min(),new Map,new it(Yn),E,k);yield c0(c,$),c.oc=c.oc.remove(v),c.uc.delete(t),Wu(c)}else yield Hh(c.localStore,t,!1).then(()=>Uo(c,t,i)).catch(Ro)}),bp.apply(this,arguments)}function yy(a,t){return wp.apply(this,arguments)}function wp(){return wp=(0,Ee.Z)(function*(a,t){const i=Jt(a),c=t.batch.batchId;try{const m=yield function kv(a,t){const i=Jt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const m=t.batch.keys(),v=i.Ki.newChangeBuffer({trackRemovals:!0});return function(E,k,$,te){const fe=$.batch,Ue=fe.keys();let dt=gt.resolve();return Ue.forEach(Ft=>{dt=dt.next(()=>te.getEntry(k,Ft)).next(nn=>{const bn=$.docVersions.get(Ft);hn(null!==bn),nn.version.compareTo(bn)<0&&(fe.applyToRemoteDocument(nn,$),nn.isValidDocument()&&(nn.setReadTime($.commitVersion),te.addEntry(nn)))})}),dt.next(()=>E.mutationQueue.removeMutationBatch(k,fe))}(i,c,t,v).next(()=>v.apply(c)).next(()=>i.mutationQueue.performConsistencyCheck(c)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(c,m,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(E){let k=hi();for(let $=0;$<E.mutationResults.length;++$)E.mutationResults[$].transformResults.length>0&&(k=k.add(E.batch.mutations[$].key));return k}(t))).next(()=>i.localDocuments.getDocuments(c,m))})}(i.localStore,t);Jh(i,c,null),Qd(i,c),i.sharedClientState.updateMutationState(c,"acknowledged"),yield gl(i,m)}catch(m){yield Ro(m)}}),wp.apply(this,arguments)}function u0(a,t,i){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,Ee.Z)(function*(a,t,i){const c=Jt(a);try{const m=yield function(v,E){const k=Jt(v);return k.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let te;return k.mutationQueue.lookupMutationBatch($,E).next(fe=>(hn(null!==fe),te=fe.keys(),k.mutationQueue.removeMutationBatch($,fe))).next(()=>k.mutationQueue.performConsistencyCheck($)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId($,te,E)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,te)).next(()=>k.localDocuments.getDocuments($,te))})}(c.localStore,t);Jh(c,t,i),Qd(c,t),c.sharedClientState.updateMutationState(t,"rejected",i),yield gl(c,m)}catch(m){yield Ro(m)}}),Ul.apply(this,arguments)}function Bo(){return Bo=(0,Ee.Z)(function*(a,t){const i=Jt(a);qd(i.remoteStore)||At("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(v){const E=Jt(v);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>E.mutationQueue.getHighestUnacknowledgedBatchId(k))}(i.localStore);if(-1===c)return void t.resolve();const m=i.hc.get(c)||[];m.push(t),i.hc.set(c,m)}catch(c){const m=za(c,"Initialization of waitForPendingWrites() operation failed");t.reject(m)}}),Bo.apply(this,arguments)}function Qd(a,t){(a.hc.get(t)||[]).forEach(i=>{i.resolve()}),a.hc.delete(t)}function Jh(a,t,i){const c=Jt(a);let m=c.ac[c.currentUser.toKey()];if(m){const v=m.get(t);v&&(i?v.reject(i):v.resolve(),m=m.remove(t)),c.ac[c.currentUser.toKey()]=m}}function Uo(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const c of a.ic.get(t))a.sc.delete(c),i&&a.nc.wc(c,i);a.ic.delete(t),a.isPrimaryClient&&a.cc.hs(t).forEach(c=>{a.cc.containsKey(c)||Ep(a,c)})}function Ep(a,t){a.rc.delete(t.path.canonicalString());const i=a.oc.get(t);null!==i&&(Gh(a.remoteStore,i),a.oc=a.oc.remove(t),a.uc.delete(i),Wu(a))}function $u(a,t,i){for(const c of i)c instanceof py?(a.cc.addReference(c.key,t),im(a,c)):c instanceof Gu?(At("SyncEngine","Document no longer in limbo: "+c.key),a.cc.removeReference(c.key,t),a.cc.containsKey(c.key)||Ep(a,c.key)):Xt()}function im(a,t){const i=t.key,c=i.path.canonicalString();a.oc.get(i)||a.rc.has(c)||(At("SyncEngine","New document in limbo: "+i),a.rc.add(c),Wu(a))}function Wu(a){for(;a.rc.size>0&&a.oc.size<a.maxConcurrentLimboResolutions;){const t=a.rc.values().next().value;a.rc.delete(t);const i=new cn(gi.fromString(t)),c=a.lc.next();a.uc.set(c,new jv(i)),a.oc=a.oc.insert(i,c),Fv(a.remoteStore,new Oh(Xs(Su(i.path)),c,2,Oo.ct))}}function gl(a,t,i){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,Ee.Z)(function*(a,t,i){const c=Jt(a),m=[],v=[],E=[];var k;c.sc.isEmpty()||(c.sc.forEach((k,$)=>{E.push(c.dc($,t,i).then(te=>{if((te||i)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState($.targetId,te?.fromCache?"not-current":"current"),te){m.push(te);const fe=Cg.Di($.targetId,te);v.push(fe)}}))}),yield Promise.all(E),c.nc.zo(m),yield(k=(0,Ee.Z)(function*($,te){const fe=Jt($);try{yield fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ue=>gt.forEach(te,dt=>gt.forEach(dt.Vi,Ft=>fe.persistence.referenceDelegate.addReference(Ue,dt.targetId,Ft)).next(()=>gt.forEach(dt.Si,Ft=>fe.persistence.referenceDelegate.removeReference(Ue,dt.targetId,Ft)))))}catch(Ue){if(!Oa(Ue))throw Ue;At("LocalStore","Failed to update sequence numbers: "+Ue)}for(const Ue of te){const dt=Ue.targetId;if(!Ue.fromCache){const Ft=fe.Li.get(dt),bn=Ft.withLastLimboFreeSnapshotVersion(Ft.snapshotVersion);fe.Li=fe.Li.insert(dt,bn)}}}),function($,te){return k.apply(this,arguments)})(c.localStore,v))}),Ku.apply(this,arguments)}function ef(a,t){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,Ee.Z)(function*(a,t){const i=Jt(a);if(!i.currentUser.isEqual(t)){At("SyncEngine","User change. New user:",t.toKey());const c=yield ny(i.localStore,t);i.currentUser=t,(m=i).hc.forEach(E=>{E.forEach(k=>{k.reject(new Ht(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.hc.clear(),i.sharedClientState.handleUserChange(t,c.removedBatchIds,c.addedBatchIds),yield gl(i,c.Qi)}var m}),Xd.apply(this,arguments)}function rm(a,t){const i=Jt(a),c=i.uc.get(t);if(c&&c.ec)return hi().add(c.key);{let m=hi();const v=i.ic.get(t);if(!v)return m;for(const E of v){const k=i.sc.get(E);m=m.unionWith(k.view.Qu)}return m}}function sm(a,t){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,Ee.Z)(function*(a,t){const i=Jt(a),c=yield sp(i.localStore,t.query,!0),m=t.view.Xu(c);return i.isPrimaryClient&&$u(i,t.targetId,m.Yu),m}),Zg.apply(this,arguments)}function Jd(a,t){return om.apply(this,arguments)}function om(){return om=(0,Ee.Z)(function*(a,t){const i=Jt(a);return ry(i.localStore,t).then(c=>gl(i,c))}),om.apply(this,arguments)}function $v(a,t,i,c){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,Ee.Z)(function*(a,t,i,c){const m=Jt(a),v=yield function(E,k){const $=Jt(E),te=Jt($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",fe=>te.In(fe,k).next(Ue=>Ue?$.localDocuments.getDocuments(fe,Ue):gt.resolve(null)))}(m.localStore,t);var k;null!==v?("pending"===i?yield em(m.remoteStore):"acknowledged"===i||"rejected"===i?(Jh(m,t,c||null),Qd(m,t),k=t,Jt(Jt(m.localStore).mutationQueue).En(k)):Xt(),yield gl(m,v)):At("SyncEngine","Cannot apply mutation batch with id: "+t)}),Qg.apply(this,arguments)}function eu(){return eu=(0,Ee.Z)(function*(a,t){const i=Jt(a);if(am(i),by(i),!0===t&&!0!==i.fc){const c=i.sharedClientState.getAllActiveQueryTargets(),m=yield Xg(i,c.toArray());i.fc=!0,yield zg(i.remoteStore,!0);for(const v of m)Fv(i.remoteStore,v)}else if(!1===t&&!1!==i.fc){const c=[];let m=Promise.resolve();i.ic.forEach((v,E)=>{i.sharedClientState.isLocalQueryTarget(E)?c.push(E):m=m.then(()=>(Uo(i,E),Hh(i.localStore,E,!0))),Gh(i.remoteStore,E)}),yield m,yield Xg(i,c),function(v){const E=Jt(v);E.uc.forEach((k,$)=>{Gh(E.remoteStore,$)}),E.cc.ls(),E.uc=new Map,E.oc=new ne(cn.comparator)}(i),i.fc=!1,yield zg(i.remoteStore,!1)}}),eu.apply(this,arguments)}function Xg(a,t,i){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,Ee.Z)(function*(a,t,i){const c=Jt(a),m=[],v=[];for(const E of t){let k;const $=c.ic.get(E);if($&&0!==$.length){k=yield Vh(c.localStore,Xs($[0]));for(const te of $){const fe=c.sc.get(te),Ue=yield sm(c,fe);Ue.snapshot&&v.push(Ue.snapshot)}}else{const te=yield iy(c.localStore,E);k=yield Vh(c.localStore,te),yield Yg(c,Wv(te),E,!1,k.resumeToken)}m.push(k)}return c.nc.zo(v),m}),Jg.apply(this,arguments)}function Wv(a){return $m(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function h0(a){const t=Jt(a);return Jt(Jt(t.localStore).persistence).bi()}function Kv(a,t,i,c){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,Ee.Z)(function*(a,t,i,c){const m=Jt(a);if(m.fc)return void At("SyncEngine","Ignoring unexpected query state notification.");const v=m.ic.get(t);if(v&&v.length>0)switch(i){case"current":case"not-current":{const E=yield ry(m.localStore,Mf(v[0])),k=Ec.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,Fn.EMPTY_BYTE_STRING);yield gl(m,E,k);break}case"rejected":yield Hh(m.localStore,t,!0),Uo(m,t,c);break;default:Xt()}}),Dp.apply(this,arguments)}function vy(a,t,i){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,Ee.Z)(function*(a,t,i){const c=am(a);if(c.fc){for(const m of t){if(c.ic.has(m)){At("SyncEngine","Adding an already active target "+m);continue}const v=yield iy(c.localStore,m),E=yield Vh(c.localStore,v);yield Yg(c,Wv(v),E.targetId,!1,E.resumeToken),Fv(c.remoteStore,E)}for(const m of i)c.ic.has(m)&&(yield Hh(c.localStore,m,!1).then(()=>{Gh(c.remoteStore,m),Uo(c,m)}).catch(Ro))}}),Ip.apply(this,arguments)}function am(a){const t=Jt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=c0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nm.bind(null,t),t.nc.zo=ww.bind(null,t.eventManager),t.nc.wc=l0.bind(null,t.eventManager),t}function by(a){const t=Jt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=u0.bind(null,t),t}class Yu{constructor(){this.synchronizeTabs=!1}initialize(t){var i=this;return(0,Ee.Z)(function*(){i.serializer=jh(t.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(t),i.persistence=i.createPersistence(t),yield i.persistence.start(),i.localStore=i.createLocalStore(t),i.gcScheduler=i.createGarbageCollectionScheduler(t,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(t,i.localStore)})()}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return Av(this.persistence,new Tv,t.initialUser,this.serializer)}createPersistence(t){return new Dv(Kd.Fs,this.serializer)}createSharedClientState(t){return new n0}terminate(){var t=this;return(0,Ee.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class lm extends Yu{constructor(t,i,c){super(),this.mc=t,this.cacheSizeBytes=i,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,c=this;return(0,Ee.Z)(function*(){yield i().call(c,t),yield c.mc.initialize(c,t),yield by(c.mc.syncEngine),yield em(c.mc.remoteStore),yield c.persistence.hi(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(),c.indexBackfillerScheduler&&!c.indexBackfillerScheduler.started&&c.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Av(this.persistence,new Tv,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,i){return new bv(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}createIndexBackfillerScheduler(t,i){const c=new ul(i,this.persistence);return new _u(t.asyncQueue,c)}createPersistence(t){const i=Eg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?Va.withCacheSize(this.cacheSizeBytes):Va.DEFAULT;return new ty(this.synchronizeTabs,i,t.clientId,c,t.asyncQueue,cp(),Xf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new n0}}class wy extends lm{constructor(t,i){super(t,i,!1),this.mc=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){var i=()=>super.initialize,c=this;return(0,Ee.Z)(function*(){yield i().call(c,t);const m=c.mc.syncEngine;c.sharedClientState instanceof ap&&(c.sharedClientState.syncEngine={$r:$v.bind(null,m),Mr:Kv.bind(null,m),Fr:vy.bind(null,m),bi:h0.bind(null,m),Or:Jd.bind(null,m)},yield c.sharedClientState.start()),yield c.persistence.hi(function(){var v=(0,Ee.Z)(function*(E){yield function Cp(a,t){return eu.apply(this,arguments)}(c.mc.syncEngine,E),c.gcScheduler&&(E&&!c.gcScheduler.started?c.gcScheduler.start():E||c.gcScheduler.stop()),c.indexBackfillerScheduler&&(E&&!c.indexBackfillerScheduler.started?c.indexBackfillerScheduler.start():E||c.indexBackfillerScheduler.stop())});return function(E){return v.apply(this,arguments)}}())})()}createSharedClientState(t){const i=cp();if(!ap.D(i))throw new Ht(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=Eg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ap(i,t.asyncQueue,c,t.clientId,t.initialUser)}}class tu{initialize(t,i){var c=this;return(0,Ee.Z)(function*(){c.localStore||(c.localStore=t.localStore,c.sharedClientState=t.sharedClientState,c.datastore=c.createDatastore(i),c.remoteStore=c.createRemoteStore(i),c.eventManager=c.createEventManager(i),c.syncEngine=c.createSyncEngine(i,!t.synchronizeTabs),c.sharedClientState.onlineStateHandler=m=>d0(c.syncEngine,m,1),c.remoteStore.remoteSyncer.handleCredentialChange=ef.bind(null,c.syncEngine),yield zg(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(t){return new vo}createDatastore(t){const i=jh(t.databaseInfo.databaseId),c=new sy(t.databaseInfo);return new oy(t.authCredentials,t.appCheckCredentials,c,i)}createRemoteStore(t){return i=this.localStore,c=this.datastore,m=t.asyncQueue,v=k=>d0(this.syncEngine,k,0),E=lp.D()?new lp:new vw,new o0(i,c,m,v,E);var i,c,m,v,E}createSyncEngine(t,i){return function(c,m,v,E,k,$,te){const fe=new zv(c,m,v,E,k,$);return te&&(fe.fc=!0),fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return(t=(0,Ee.Z)(function*(i){const c=Jt(i);At("RemoteStore","RemoteStore shutting down."),c.du.add(5),yield zh(c),c._u.shutdown(),c.mu.set("Unknown")}),function(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function cm(a,t=10240){let i=0;return{read:()=>(0,Ee.Z)(function*(){if(i<a.byteLength){const c={value:a.slice(i,i+t),done:!1};return i+=t,c}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class tf{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):Kn("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}}class xy{constructor(t,i){this.Ic=t,this.serializer=i,this.metadata=new cr,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(c=>{c&&c.ku()?this.metadata.resolve(c.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(c?.Nu)}`))},c=>this.metadata.reject(c))}close(){return this.Ic.cancel()}getMetadata(){var t=this;return(0,Ee.Z)(function*(){return t.metadata.promise})()}_c(){var t=this;return(0,Ee.Z)(function*(){return yield t.getMetadata(),t.Ec()})()}Ec(){var t=this;return(0,Ee.Z)(function*(){const i=yield t.Ac();if(null===i)return null;const c=t.Tc.decode(i),m=Number(c);isNaN(m)&&t.Rc(`length string (${c}) is not valid number`);const v=yield t.vc(m);return new tm(JSON.parse(v),i.length+m)})()}bc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ac(){var t=this;return(0,Ee.Z)(function*(){for(;t.bc()<0&&!(yield t.Pc()););if(0===t.buffer.length)return null;const i=t.bc();i<0&&t.Rc("Reached the end of bundle when a length string is expected.");const c=t.buffer.slice(0,i);return t.buffer=t.buffer.slice(i),c})()}vc(t){var i=this;return(0,Ee.Z)(function*(){for(;i.buffer.length<t;)(yield i.Pc())&&i.Rc("Reached the end of bundle when more is expected.");const c=i.Tc.decode(i.buffer.slice(0,t));return i.buffer=i.buffer.slice(t),c})()}Rc(t){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${t}`)}Pc(){var t=this;return(0,Ee.Z)(function*(){const i=yield t.Ic.read();if(!i.done){const c=new Uint8Array(t.buffer.length+i.value.length);c.set(t.buffer),c.set(i.value,t.buffer.length),t.buffer=c}return i.done})()}}class dm{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var i=this;return(0,Ee.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Ht(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(m=(0,Ee.Z)(function*(v,E){const k=Jt(v),$=Mr(k.serializer)+"/documents",te={documents:E.map(Ft=>vn(k.serializer,Ft))},fe=yield k.fo("BatchGetDocuments",$,te,E.length),Ue=new Map;fe.forEach(Ft=>{const nn=function Hf(a,t){return"found"in t?function(i,c){hn(!!c.found);const m=Xn(i,c.found.name),v=jt(c.found.updateTime),E=c.found.createTime?jt(c.found.createTime):Rn.min(),k=new As({mapValue:{fields:c.found.fields}});return Tr.newFoundDocument(m,v,E,k)}(a,t):"missing"in t?function(i,c){hn(!!c.missing),hn(!!c.readTime);const m=Xn(i,c.missing),v=jt(c.readTime);return Tr.newNoDocument(m,v)}(a,t):Xt()}(k.serializer,Ft);Ue.set(nn.key.toString(),nn)});const dt=[];return E.forEach(Ft=>{const nn=Ue.get(Ft.toString());hn(!!nn),dt.push(nn)}),dt}),function(v,E){return m.apply(this,arguments)})(i.datastore,t);var m;return c.forEach(m=>i.recordVersion(m)),c})()}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(t.toString())}delete(t){this.write(new qc(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const i=t.readVersions;var c;t.mutations.forEach(c=>{i.delete(c.key.toString())}),i.forEach((c,m)=>{const v=cn.fromPath(m);t.mutations.push(new Fd(v,t.precondition(v)))}),yield(c=(0,Ee.Z)(function*(m,v){const E=Jt(m),k=Mr(E.serializer)+"/documents",$={writes:v.map(te=>Ud(E.serializer,te))};yield E.co("Commit",k,$)}),function(m,v){return c.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw Xt();i=Rn.min()}const c=this.readVersions.get(t.key.toString());if(c){if(!i.isEqual(c))throw new Ht(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(Rn.min())?Ar.exists(!1):Ar.updateTime(i):Ar.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(Rn.min()))throw new Ht(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ar.updateTime(i)}return Ar.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Ey{constructor(t,i,c,m,v){this.asyncQueue=t,this.datastore=i,this.options=c,this.updateFunction=m,this.deferred=v,this.Vc=c.maxAttempts,this.Co=new Og(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var t=this;this.Co.Ao((0,Ee.Z)(function*(){const i=new dm(t.datastore),c=t.Dc(i);c&&c.then(m=>{t.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{t.deferred.resolve(m)}).catch(v=>{t.Cc(v)}))}).catch(m=>{t.Cc(m)})}))}Dc(t){try{const i=this.updateFunction(t);return!zc(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Cc(t){this.Vc>0&&this.xc(t)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(t)}xc(t){if("FirebaseError"===t.name){const i=t.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Pu(i)}return!1}}class Cy{constructor(t,i,c,m){var v=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=c,this.databaseInfo=m,this.user=ke.UNAUTHENTICATED,this.clientId=ol.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var E=(0,Ee.Z)(function*(k){At("FirestoreClient","Received user=",k.uid),yield v.authCredentialListener(k),v.user=k});return function(k){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(c,E=>(At("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var t=this;return(0,Ee.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ht(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(c){const m=za(c,"Failed to shutdown persistence");i.reject(m)}})),i.promise}}function Ji(a,t){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,Ee.Z)(function*(a,t){a.asyncQueue.verifyOperationInProgress(),At("FirestoreClient","Initializing OfflineComponentProvider");const i=yield a.getConfiguration();yield t.initialize(i);let c=i.initialUser;a.setCredentialChangeListener(function(){var m=(0,Ee.Z)(function*(v){c.isEqual(v)||(yield ny(t.localStore,v),c=v)});return function(v){return m.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}),Zi.apply(this,arguments)}function Bi(a,t){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,Ee.Z)(function*(a,t){a.asyncQueue.verifyOperationInProgress();const i=yield um(a);At("FirestoreClient","Initializing OnlineComponentProvider");const c=yield a.getConfiguration();yield t.initialize(i,c),a.setCredentialChangeListener(m=>id(t.remoteStore,m)),a.setAppCheckTokenChangeListener((m,v)=>id(t.remoteStore,v)),a._onlineComponents=t}),Ac.apply(this,arguments)}function Ur(a){return"FirebaseError"===a.name?a.code===pt.FAILED_PRECONDITION||a.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function um(a){return e_.apply(this,arguments)}function e_(){return e_=(0,Ee.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){At("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ji(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!Ur(i))throw i;$n("Error using user provided cache. Falling back to memory cache: "+i),yield Ji(a,new Yu)}}else At("FirestoreClient","Using default OfflineComponentProvider"),yield Ji(a,new Yu);return a._offlineComponents}),e_.apply(this,arguments)}function qu(a){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,Ee.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(At("FirestoreClient","Using user provided OnlineComponentProvider"),yield Bi(a,a._uninitializedComponentsProvider._online)):(At("FirestoreClient","Using default OnlineComponentProvider"),yield Bi(a,new tu))),a._onlineComponents}),Tp.apply(this,arguments)}function ns(a){return um(a).then(t=>t.persistence)}function Pi(a){return um(a).then(t=>t.localStore)}function bo(a){return qu(a).then(t=>t.remoteStore)}function t_(a){return qu(a).then(t=>t.syncEngine)}function Vo(a){return n_.apply(this,arguments)}function n_(){return n_=(0,Ee.Z)(function*(a){const t=yield qu(a),i=t.eventManager;return i.onListen=Gv.bind(null,t.syncEngine),i.onUnlisten=gy.bind(null,t.syncEngine),i}),n_.apply(this,arguments)}function nu(a,t,i={}){const c=new cr;return a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(m,v,E,k,$){const te=new tf({next:Ue=>{v.enqueueAndForget(()=>Xh(m,fe));const dt=Ue.docs.has(E);!dt&&Ue.fromCache?$.reject(new Ht(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):dt&&Ue.fromCache&&k&&"server"===k.source?$.reject(new Ht(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(Ue)},error:Ue=>$.reject(Ue)}),fe=new $g(Su(E.path),te,{includeMetadataChanges:!0,xu:!0});return Gg(m,fe)}(yield Vo(a),a.asyncQueue,t,i,c)})),c.promise}function Vl(a,t,i={}){const c=new cr;return a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(m,v,E,k,$){const te=new tf({next:Ue=>{v.enqueueAndForget(()=>Xh(m,fe)),Ue.fromCache&&"server"===k.source?$.reject(new Ht(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Ue)},error:Ue=>$.reject(Ue)}),fe=new $g(E,te,{includeMetadataChanges:!0,xu:!0});return Gg(m,fe)}(yield Vo(a),a.asyncQueue,t,i,c)})),c.promise}const i_=new Map;function r_(a,t,i){if(!i)throw new Ht(pt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function sd(a,t,i,c){if(!0===t&&!0===c)throw new Ht(pt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Gi(a){if(!cn.isDocumentKey(a))throw new Ht(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function s_(a){if(cn.isDocumentKey(a))throw new Ht(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function rf(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const t=(i=a).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof a?"a function":Xt()}function Yi(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new Ht(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=rf(a);throw new Ht(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function dc(a,t){if(t<=0)throw new Ht(pt.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${t}.`)}class Mp{constructor(t){var i;if(void 0===t.host){if(void 0!==t.ssl)throw new Ht(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ht(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,sd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hr{constructor(t,i,c,m){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=c,this._app=m,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ht(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ht(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mp(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new Aa;switch(i.type){case"firstParty":return new Cf(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ht(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=i_.get(t);i&&(At("ComponentProvider","Removing Datastore"),i_.delete(t),i.terminate())}(this),Promise.resolve()}}class $i{constructor(t,i,c){this.converter=i,this._key=c,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $i(this.firestore,t,this._key)}}class ea{constructor(t,i,c){this.converter=i,this._query=c,this.type="query",this.firestore=t}withConverter(t){return new ea(this.firestore,t,this._query)}}class Hl extends ea{constructor(t,i,c){super(t,i,Su(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $i(this.firestore,null,new cn(t))}withConverter(t){return new Hl(this.firestore,t,this._path)}}function o_(a,t,...i){if(a=(0,pe.m9)(a),r_("collection","path",t),a instanceof hr){const c=gi.fromString(t,...i);return s_(c),new Hl(a,null,c)}{if(!(a instanceof $i||a instanceof Hl))throw new Ht(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=a._path.child(gi.fromString(t,...i));return s_(c),new Hl(a.firestore,null,c)}}function fm(a,t,...i){if(a=(0,pe.m9)(a),1===arguments.length&&(t=ol.A()),r_("doc","path",t),a instanceof hr){const c=gi.fromString(t,...i);return Gi(c),new $i(a,null,new cn(c))}{if(!(a instanceof $i||a instanceof Hl))throw new Ht(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=a._path.child(gi.fromString(t,...i));return Gi(c),new $i(a.firestore,a instanceof Hl?a.converter:null,new cn(c))}}function Zu(a,t){return a=(0,pe.m9)(a),t=(0,pe.m9)(t),(a instanceof $i||a instanceof Hl)&&(t instanceof $i||t instanceof Hl)&&a.firestore===t.firestore&&a.path===t.path&&a.converter===t.converter}function a_(a,t){return a=(0,pe.m9)(a),t=(0,pe.m9)(t),a instanceof ea&&t instanceof ea&&a.firestore===t.firestore&&Dd(a._query,t._query)&&a.converter===t.converter}class mm{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Og(this,"async_queue_retry"),this.qc=()=>{const i=Xf();i&&At("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Co.vo()};const t=Xf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const i=Xf();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const i=new cr;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}Gc(){var t=this;return(0,Ee.Z)(function*(){if(0!==t.kc.length){try{yield t.kc[0](),t.kc.shift(),t.Co.reset()}catch(i){if(!Oa(i))throw i;At("AsyncQueue","Operation failed with retryable error: "+i)}t.kc.length>0&&t.Co.Ao(()=>t.Gc())}})()}Kc(t){const i=this.Nc.then(()=>(this.Fc=!0,t().catch(c=>{throw this.Mc=c,this.Fc=!1,Kn("INTERNAL UNHANDLED ERROR: ",function(v){let E=v.message||"";return v.stack&&(E=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),E}(c)),c}).then(c=>(this.Fc=!1,c))));return this.Nc=i,i}enqueueAfterDelay(t,i,c){this.Uc(),this.Lc.indexOf(t)>-1&&(i=0);const m=yo.createAndSchedule(this,t,i,c,v=>this.Qc(v));return this.$c.push(m),m}Uc(){this.Mc&&Xt()}verifyOperationInProgress(){}zc(){var t=this;return(0,Ee.Z)(function*(){let i;do{i=t.Nc,yield i}while(i!==t.Nc)})()}jc(t){for(const i of this.$c)if(i.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((i,c)=>i.targetTimeMs-c.targetTimeMs);for(const i of this.$c)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const i=this.$c.indexOf(t);this.$c.splice(i,1)}}function kp(a){return function(t,i){if("object"!=typeof t||null===t)return!1;const c=t;for(const m of["next","error","complete"])if(m in c&&"function"==typeof c[m])return!0;return!1}(a)}class Xv{constructor(){this._progressObserver={},this._taskCompletionResolver=new cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,c){this._progressObserver={next:t,error:i,complete:c}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ys extends hr{constructor(t,i,c,m){super(t,i,c,m),this.type="firestore",this._queue=new mm,this._persistenceKey=m?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tb(this),this._firestoreClient.terminate()}}function kr(a){return a._firestoreClient||tb(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function tb(a){var t,i,c;const m=a._freezeSettings(),v=(k=(null===(t=a._app)||void 0===t?void 0:t.options.appId)||"",new gh(a._databaseId,k,a._persistenceKey,(te=m).host,te.ssl,te.experimentalForceLongPolling,te.experimentalAutoDetectLongPolling,te.useFetchStreams));var k,te;a._firestoreClient=new Cy(a._authCredentials,a._appCheckCredentials,a._queue,v),null!==(i=m.cache)&&void 0!==i&&i._offlineComponentProvider&&null!==(c=m.cache)&&void 0!==c&&c._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:m.cache.kind,_offline:m.cache._offlineComponentProvider,_online:m.cache._onlineComponentProvider})}function ta(a,t,i){const c=new cr;return a.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield Ji(a,i),yield Bi(a,t),c.resolve()}catch(m){const v=m;if(!Ur(v))throw v;$n("Error enabling indexeddb cache. Falling back to memory cache: "+v),c.reject(v)}})).then(()=>c.promise)}function gm(a){if(a._initialized||a._terminated)throw new Ht(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hc(Fn.fromBase64String(t))}catch(i){throw new Ht(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new hc(Fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class _l{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new Ht(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class fc{constructor(t){this._methodName=t}}class sf{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new Ht(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new Ht(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Yn(this._lat,t._lat)||Yn(this._long,t._long)}}const Ay=/^__.*__$/;class _m{constructor(t,i,c){this.data=t,this.fieldMask=i,this.fieldTransforms=c}toMutation(t,i){return null!==this.fieldMask?new No(t,this.data,this.fieldMask,i,this.fieldTransforms):new Nl(t,this.data,i,this.fieldTransforms)}}class My{constructor(t,i,c){this.data=t,this.fieldMask=i,this.fieldTransforms=c}toMutation(t,i){return new No(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function af(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt()}}class lf{constructor(t,i,c,m,v,E){this.settings=t,this.databaseId=i,this.serializer=c,this.ignoreUndefinedProperties=m,void 0===v&&this.Jc(),this.fieldTransforms=v||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new lf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var i;const c=null===(i=this.path)||void 0===i?void 0:i.child(t),m=this.Zc({path:c,ta:!1});return m.ea(t),m}na(t){var i;const c=null===(i=this.path)||void 0===i?void 0:i.child(t),m=this.Zc({path:c,ta:!1});return m.Jc(),m}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return m_(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(0===t.length)throw this.ia("Document fields must not be empty");if(af(this.Yc)&&Ay.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class nb{constructor(t,i,c){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=c||jh(t)}ua(t,i,c,m=!1){return new lf({Yc:t,methodName:i,oa:c,path:dr.emptyPath(),ta:!1,ra:m},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qu(a){const t=a._freezeSettings(),i=jh(a._databaseId);return new nb(a._databaseId,!!t.ignoreUndefinedProperties,i)}function cf(a,t,i,c,m,v={}){const E=a.ua(v.merge||v.mergeFields?2:0,t,i,m);Py("Data must be an object, but it was:",E,c);const k=u_(c,E);let $,te;if(v.merge)$=new An(E.fieldMask),te=E.fieldTransforms;else if(v.mergeFields){const fe=[];for(const Ue of v.mergeFields){const dt=Fp(t,Ue,i);if(!E.contains(dt))throw new Ht(pt.INVALID_ARGUMENT,`Field '${dt}' is specified in your field mask but missing from your input data.`);rb(fe,dt)||fe.push(dt)}$=new An(fe),te=E.fieldTransforms.filter(Ue=>$.covers(Ue.field))}else $=null,te=E.fieldTransforms;return new _m(new As(k),$,te)}class ym extends fc{_toFieldTransform(t){if(2!==t.Yc)throw t.ia(1===t.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ym}}function Op(a,t,i){return new lf({Yc:3,oa:t.settings.oa,methodName:a._methodName,ta:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class d_ extends fc{_toFieldTransform(t){return new Yc(t.path,new Sh)}isEqual(t){return t instanceof d_}}class Pp extends fc{constructor(t,i){super(t),this.ca=i}_toFieldTransform(t){const i=Op(this,t,!0),c=this.ca.map(v=>mc(v,i)),m=new Ru(c);return new Yc(t.path,m)}isEqual(t){return this===t}}class ky extends fc{constructor(t,i){super(t),this.ca=i}_toFieldTransform(t){const i=Op(this,t,!0),c=this.ca.map(v=>mc(v,i)),m=new Md(c);return new Yc(t.path,m)}isEqual(t){return this===t}}class Ry extends fc{constructor(t,i){super(t),this.aa=i}_toFieldTransform(t){const i=new Kc(t.serializer,oc(t.serializer,this.aa));return new Yc(t.path,i)}isEqual(t){return this===t}}function vm(a,t,i,c){const m=a.ua(1,t,i);Py("Data must be an object, but it was:",m,c);const v=[],E=As.empty();V(c,($,te)=>{const fe=f_(t,$,i);te=(0,pe.m9)(te);const Ue=m.na(fe);if(te instanceof ym)v.push(fe);else{const dt=mc(te,Ue);null!=dt&&(v.push(fe),E.set(fe,dt))}});const k=new An(v);return new My(E,k,m.fieldTransforms)}function Oy(a,t,i,c,m,v){const E=a.ua(1,t,i),k=[Fp(t,c,i)],$=[m];if(v.length%2!=0)throw new Ht(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let dt=0;dt<v.length;dt+=2)k.push(Fp(t,v[dt])),$.push(v[dt+1]);const te=[],fe=As.empty();for(let dt=k.length-1;dt>=0;--dt)if(!rb(te,k[dt])){const Ft=k[dt];let nn=$[dt];nn=(0,pe.m9)(nn);const bn=E.na(Ft);if(nn instanceof ym)te.push(Ft);else{const jn=mc(nn,bn);null!=jn&&(te.push(Ft),fe.set(Ft,jn))}}const Ue=new An(te);return new My(fe,Ue,E.fieldTransforms)}function Np(a,t,i,c=!1){return mc(i,a.ua(c?4:3,t))}function mc(a,t){if(h_(a=(0,pe.m9)(a)))return Py("Unsupported field value:",t,a),u_(a,t);if(a instanceof fc)return function(i,c){if(!af(c.Yc))throw c.ia(`${i._methodName}() can only be used with update() and set()`);if(!c.path)throw c.ia(`${i._methodName}() is not currently supported inside arrays`);const m=i._toFieldTransform(c);m&&c.fieldTransforms.push(m)}(a,t),null;if(void 0===a&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(i,c){const m=[];let v=0;for(const E of i){let k=mc(E,c.sa(v));null==k&&(k={nullValue:"NULL_VALUE"}),m.push(k),v++}return{arrayValue:{values:m}}}(a,t)}return function(i,c){if(null===(i=(0,pe.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return oc(c.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const m=Oi.fromDate(i);return{timestampValue:F(c.serializer,m)}}if(i instanceof Oi){const m=new Oi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:F(c.serializer,m)}}if(i instanceof sf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hc)return{bytesValue:Ve(c.serializer,i._byteString)};if(i instanceof $i){const m=c.databaseId,v=i.firestore._databaseId;if(!v.isEqual(m))throw c.ia(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:an(i.firestore._databaseId||c.databaseId,i._key.path)}}throw c.ia(`Unsupported field value: ${rf(i)}`)}(a,t)}function u_(a,t){const i={};return W(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):V(a,(c,m)=>{const v=mc(m,t.Xc(c));null!=v&&(i[c]=v)}),{mapValue:{fields:i}}}function h_(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Oi||a instanceof sf||a instanceof hc||a instanceof $i||a instanceof fc)}function Py(a,t,i){if(!h_(i)||"object"!=typeof(c=i)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=rf(i);throw t.ia("an object"===c?a+" a custom object":a+" "+c)}var c}function Fp(a,t,i){if((t=(0,pe.m9)(t))instanceof _l)return t._internalPath;if("string"==typeof t)return f_(a,t);throw m_("Field path arguments must be of type string or ",a,!1,void 0,i)}const ib=new RegExp("[~\\*/\\[\\]]");function f_(a,t,i){if(t.search(ib)>=0)throw m_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new _l(...t.split("."))._internalPath}catch{throw m_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function m_(a,t,i,c,m){const v=c&&!c.isEmpty(),E=void 0!==m;let k=`Function ${t}() called with invalid data`;i&&(k+=" (via `toFirestore()`)"),k+=". ";let $="";return(v||E)&&($+=" (found",v&&($+=` in field ${c}`),E&&($+=` in document ${m}`),$+=")"),new Ht(pt.INVALID_ARGUMENT,k+a+$)}function rb(a,t){return a.some(i=>i.isEqual(t))}class ba{constructor(t,i,c,m,v){this._firestore=t,this._userDataWriter=i,this._key=c,this._document=m,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Ny(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(bm("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class Ny extends ba{data(){return super.data()}}function bm(a,t){return"string"==typeof t?f_(a,t):t instanceof _l?t._internalPath:t._delegate._internalPath}function p_(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new Ht(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wm{}class od extends wm{}function Ga(a,t,...i){let c=[];t instanceof wm&&c.push(t),c=c.concat(i),function(m){const v=m.filter(k=>k instanceof df).length,E=m.filter(k=>k instanceof Mc).length;if(v>1||v>0&&E>0)throw new Ht(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(c);for(const m of c)a=m._apply(a);return a}class Mc extends od{constructor(t,i,c){super(),this._field=t,this._op=i,this._value=c,this.type="where"}static _create(t,i,c){return new Mc(t,i,c)}_apply(t){const i=this._parse(t);return ei(t._query,i),new ea(t.firestore,t.converter,pa(t._query,i))}_parse(t){const i=Qu(t.firestore);return function(m,v,E,k,$,te,fe){let Ue;if($.isKeyField()){if("array-contains"===te||"array-contains-any"===te)throw new Ht(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${te}' queries on documentId().`);if("in"===te||"not-in"===te){ob(fe,te);const dt=[];for(const Ft of fe)dt.push(Bp(k,m,Ft));Ue={arrayValue:{values:dt}}}else Ue=Bp(k,m,fe)}else"in"!==te&&"not-in"!==te&&"array-contains-any"!==te||ob(fe,te),Ue=Np(E,"where",fe,"in"===te||"not-in"===te);return ni.create($,te,Ue)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}class df extends wm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new df(t,i)}_parse(t){const i=this._queryConstraints.map(c=>c._parse(t)).filter(c=>c.getFilters().length>0);return 1===i.length?i[0]:rr.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(c,m){let v=c;const E=m.getFlattenedFilters();for(const k of E)ei(v,k),v=pa(v,k)}(t._query,i),new ea(t.firestore,t.converter,pa(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class g_ extends od{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new g_(t,i)}_apply(t){const i=function(c,m,v){if(null!==c.startAt)throw new Ht(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Ht(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new bd(m,v);return function(k,$){if(null===Wm(k)){const te=Tu(k);null!==te&&eh(0,te,$.field)}}(c,E),E}(t._query,this._field,this._direction);return new ea(t.firestore,t.converter,function(c,m){const v=c.explicitOrderBy.concat([m]);return new ml(c.path,c.collectionGroup,v,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t._query,i))}}class su extends od{constructor(t,i,c){super(),this.type=t,this._limit=i,this._limitType=c}static _create(t,i,c){return new su(t,i,c)}_apply(t){return new ea(t.firestore,t.converter,Wc(t._query,this._limit,this._limitType))}}class hf extends od{constructor(t,i,c){super(),this.type=t,this._docOrFields=i,this._inclusive=c}static _create(t,i,c){return new hf(t,i,c)}_apply(t){const i=mf(t,this.type,this._docOrFields,this._inclusive);return new ea(t.firestore,t.converter,(m=i,new ml((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,m,c.endAt)));var c,m}}class Fy extends od{constructor(t,i,c){super(),this.type=t,this._docOrFields=i,this._inclusive=c}static _create(t,i,c){return new Fy(t,i,c)}_apply(t){const i=mf(t,this.type,this._docOrFields,this._inclusive);return new ea(t.firestore,t.converter,(m=i,new ml((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,m)));var c,m}}function mf(a,t,i,c){if(i[0]=(0,pe.m9)(i[0]),i[0]instanceof ba)return function(m,v,E,k,$){if(!k)throw new Ht(pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const te=[];for(const fe of Cd(m))if(fe.field.isKeyField())te.push(_d(v,k.key));else{const Ue=k.data.field(fe.field);if(ec(Ue))throw new Ht(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ue){const dt=fe.field.canonicalString();throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${dt}' (used as the orderBy) does not exist.`)}te.push(Ue)}return new Gc(te,$)}(a._query,a.firestore._databaseId,t,i[0]._document,c);{const m=Qu(a.firestore);return function(v,E,k,$,te,fe){const Ue=v.explicitOrderBy;if(te.length>Ue.length)throw new Ht(pt.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const dt=[];for(let Ft=0;Ft<te.length;Ft++){const nn=te[Ft];if(Ue[Ft].field.isKeyField()){if("string"!=typeof nn)throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof nn}`);if(!wc(v)&&-1!==nn.indexOf("/"))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${nn}' contains a slash.`);const bn=v.path.child(gi.fromString(nn));if(!cn.isDocumentKey(bn))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${bn}' is not because it contains an odd number of segments.`);const jn=new cn(bn);dt.push(_d(E,jn))}else{const bn=Np(k,$,nn);dt.push(bn)}}return new Gc(dt,fe)}(a._query,a.firestore._databaseId,m,t,i,c)}}function Bp(a,t,i){if("string"==typeof(i=(0,pe.m9)(i))){if(""===i)throw new Ht(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wc(t)&&-1!==i.indexOf("/"))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const c=t.path.child(gi.fromString(i));if(!cn.isDocumentKey(c))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return _d(a,new cn(c))}if(i instanceof $i)return _d(a,i._key);throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(i)}.`)}function ob(a,t){if(!Array.isArray(a)||0===a.length)throw new Ht(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ei(a,t){if(t.isInequality()){const c=Tu(a),m=t.field;if(null!==c&&!c.isEqual(m))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${c.toString()}' and '${m.toString()}'`);const v=Wm(a);null!==v&&eh(0,m,v)}const i=function(c,m){for(const v of c)for(const E of v.getFlattenedFilters())if(m.indexOf(E.op)>=0)return E.op;return null}(a.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Ht(pt.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function eh(a,t,i){if(!i.isEqual(t))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class ld{convertValue(t,i="none"){switch(tc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(fa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw Xt()}}convertObject(t,i){const c={};return V(t.fields,(m,v)=>{c[m]=this.convertValue(v,i)}),c}convertGeoPoint(t){return new sf(yr(t.latitude),yr(t.longitude))}convertArray(t,i){return(t.values||[]).map(c=>this.convertValue(c,i))}convertServerTimestamp(t,i){switch(i){case"previous":const c=go(t);return null==c?null:this.convertValue(c,i);case"estimate":return this.convertTimestamp(Ko(t));default:return null}}convertTimestamp(t){const i=Wr(t);return new Oi(i.seconds,i.nanos)}convertDocumentKey(t,i){const c=gi.fromString(t);hn(ug(c));const m=new Rl(c.get(1),c.get(3)),v=new cn(c.popFirst(5));return m.isEqual(i)||Kn(`Document ${v} contains a document reference within a different database (${m.projectId}/${m.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),v}}function kc(a,t,i){let c;return c=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,c}class xm extends ld{constructor(t){super(),this.firestore=t}convertBytes(t){return new hc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new $i(this.firestore,null,i)}}class th{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ou extends ba{constructor(t,i,c,m,v,E){super(t,i,c,m,E),this._firestore=t,this._firestoreImpl=t,this.metadata=v}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const c=this._document.data.field(bm("DocumentSnapshot.get",t));if(null!==c)return this._userDataWriter.convertValue(c,i.serverTimestamps)}}}class Cm extends ou{data(t={}){return super.data(t)}}class au{constructor(t,i,c,m){this._firestore=t,this._userDataWriter=i,this._snapshot=m,this.metadata=new th(m.hasPendingWrites,m.fromCache),this.query=c}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(c=>{t.call(i,new Cm(this._firestore,this._userDataWriter,c.key,c,new th(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ht(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(c,m){if(c._snapshot.oldDocs.isEmpty()){let v=0;return c._snapshot.docChanges.map(E=>({type:"added",doc:new Cm(c._firestore,c._userDataWriter,E.doc.key,E.doc,new th(c._snapshot.mutatedKeys.has(E.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:v++}))}{let v=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(E=>m||3!==E.type).map(E=>{const k=new Cm(c._firestore,c._userDataWriter,E.doc.key,E.doc,new th(c._snapshot.mutatedKeys.has(E.doc.key),c._snapshot.fromCache),c.query.converter);let $=-1,te=-1;return 0!==E.type&&($=v.indexOf(E.doc.key),v=v.delete(E.doc.key)),1!==E.type&&(v=v.add(E.doc),te=v.indexOf(E.doc.key)),{type:By(E.type),doc:k,oldIndex:$,newIndex:te}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function By(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt()}}function y_(a,t){return a instanceof ou&&t instanceof ou?a._firestore===t._firestore&&a._key.isEqual(t._key)&&(null===a._document?null===t._document:a._document.isEqual(t._document))&&a._converter===t._converter:a instanceof au&&t instanceof au&&a._firestore===t._firestore&&a_(a.query,t.query)&&a.metadata.isEqual(t.metadata)&&a._snapshot.isEqual(t._snapshot)}class nh extends ld{constructor(t){super(),this.firestore=t}convertBytes(t){return new hc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new $i(this.firestore,null,i)}}function pf(a,t,i){a=Yi(a,$i);const c=Yi(a.firestore,ys),m=kc(a.converter,t,i);return Rc(c,[cf(Qu(c),"setDoc",a._key,m,null!==a.converter,i).toMutation(a._key,Ar.none())])}function b_(a,t,i,...c){a=Yi(a,$i);const m=Yi(a.firestore,ys),v=Qu(m);let E;return E="string"==typeof(t=(0,pe.m9)(t))||t instanceof _l?Oy(v,"updateDoc",a._key,t,i,c):vm(v,"updateDoc",a._key,t),Rc(m,[E.toMutation(a._key,Ar.exists(!0))])}function w_(a,...t){var i,c,m;a=(0,pe.m9)(a);let v={includeMetadataChanges:!1},E=0;"object"!=typeof t[E]||kp(t[E])||(v=t[E],E++);const k={includeMetadataChanges:v.includeMetadataChanges};if(kp(t[E])){const Ue=t[E];t[E]=null===(i=Ue.next)||void 0===i?void 0:i.bind(Ue),t[E+1]=null===(c=Ue.error)||void 0===c?void 0:c.bind(Ue),t[E+2]=null===(m=Ue.complete)||void 0===m?void 0:m.bind(Ue)}let $,te,fe;if(a instanceof $i)te=Yi(a.firestore,ys),fe=Su(a._key.path),$={next:Ue=>{t[E]&&t[E](Uy(te,a,Ue))},error:t[E+1],complete:t[E+2]};else{const Ue=Yi(a,ea);te=Yi(Ue.firestore,ys),fe=Ue._query;const dt=new nh(te);$={next:Ft=>{t[E]&&t[E](new au(te,dt,Ue,Ft))},error:t[E+1],complete:t[E+2]},p_(a._query)}return function(Ue,dt,Ft,nn){const bn=new tf(nn),jn=new $g(dt,bn,Ft);return Ue.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Gg(yield Vo(Ue),jn)})),()=>{bn.yc(),Ue.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Xh(yield Vo(Ue),jn)}))}}(kr(te),fe,k,$)}function Rc(a,t){return function(i,c){const m=new cr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function _y(a,t,i){return yp.apply(this,arguments)}(yield t_(i),c,m)})),m.promise}(kr(a),t)}function Uy(a,t,i){const c=i.docs.get(t._key),m=new nh(a);return new ou(a,m,t._key,c,new th(i.hasPendingWrites,i.fromCache),t.converter)}const C0={maxAttempts:5};class D0{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Qu(t)}set(t,i,c){this._verifyNotCommitted();const m=ih(t,this._firestore),v=kc(m.converter,i,c),E=cf(this._dataReader,"WriteBatch.set",m._key,v,null!==m.converter,c);return this._mutations.push(E.toMutation(m._key,Ar.none())),this}update(t,i,c,...m){this._verifyNotCommitted();const v=ih(t,this._firestore);let E;return E="string"==typeof(i=(0,pe.m9)(i))||i instanceof _l?Oy(this._dataReader,"WriteBatch.update",v._key,i,c,m):vm(this._dataReader,"WriteBatch.update",v._key,i),this._mutations.push(E.toMutation(v._key,Ar.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=ih(t,this._firestore);return this._mutations=this._mutations.concat(new qc(i._key,Ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ht(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ih(a,t){if((a=(0,pe.m9)(a)).firestore!==t)throw new Ht(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class C_ extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Qu(t)}get(t){const i=ih(t,this._firestore),c=new xm(this._firestore);return this._transaction.lookup([i._key]).then(m=>{if(!m||1!==m.length)return Xt();const v=m[0];if(v.isFoundDocument())return new ba(this._firestore,c,v.key,v,i.converter);if(v.isNoDocument())return new ba(this._firestore,c,i._key,null,i.converter);throw Xt()})}set(t,i,c){const m=ih(t,this._firestore),v=kc(m.converter,i,c),E=cf(this._dataReader,"Transaction.set",m._key,v,null!==m.converter,c);return this._transaction.set(m._key,E),this}update(t,i,c,...m){const v=ih(t,this._firestore);let E;return E="string"==typeof(i=(0,pe.m9)(i))||i instanceof _l?Oy(this._dataReader,"Transaction.update",v._key,i,c,m):vm(this._dataReader,"Transaction.update",v._key,i),this._transaction.update(v._key,E),this}delete(t){const i=ih(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=ih(t,this._firestore),c=new nh(this._firestore);return super.get(t).then(m=>new ou(this._firestore,c,i._key,m._document,new th(!1,!1),i.converter))}}!function(a,t=!0){wt=Ct.SDK_VERSION,(0,Ct._registerComponent)(new He.wA("firestore",(i,{instanceIdentifier:c,options:m})=>{const v=i.getProvider("app").getImmediate(),E=new ys(new pd(i.getProvider("auth-internal")),new pu(i.getProvider("app-check-internal")),function(k,$){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new Ht(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(k.options.projectId,$)}(v,c),v);return m=Object.assign({useFetchStreams:t},m),E._setSettings(m),E},"PUBLIC").setMultipleInstances(!0)),(0,Ct.registerVersion)(oe,"3.10.1",a),(0,Ct.registerVersion)(oe,"3.10.1","esm2017")}();function I_(a,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ht("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return t}function Vy(){if(typeof Uint8Array>"u")throw new Ht("unimplemented","Uint8Arrays are not available in this environment.")}function jp(){if(!function Fi(){return typeof atob<"u"}())throw new Ht("unimplemented","Blobs are unavailable in Firestore in this environment.")}class cd{constructor(t){this._delegate=t}static fromBase64String(t){return jp(),new cd(hc.fromBase64String(t))}static fromUint8Array(t){return Vy(),new cd(hc.fromUint8Array(t))}toBase64(){return jp(),this._delegate.toBase64()}toUint8Array(){return Vy(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Hy(a){return function pb(a,t){if("object"!=typeof a||null===a)return!1;const i=a;for(const c of t)if(c in i&&"function"==typeof i[c])return!0;return!1}(a,["next","error","complete"])}class k0{enableIndexedDbPersistence(t,i){return function l_(a,t){gm(a=Yi(a,ys));const i=kr(a);if(i._uninitializedComponentsProvider)throw new Ht(pt.FAILED_PRECONDITION,"SDK cache is already specified.");$n("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const c=a._freezeSettings(),m=new tu;return ta(i,m,new lm(m,c.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return function uc(a){gm(a=Yi(a,ys));const t=kr(a);if(t._uninitializedComponentsProvider)throw new Ht(pt.FAILED_PRECONDITION,"SDK cache is already specified.");$n("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=a._freezeSettings(),c=new tu;return ta(t,c,new wy(c,i.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function wo(a){if(a._initialized&&!a._terminated)throw new Ht(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new cr;return a._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(i=(0,Ee.Z)(function*(c){if(!$r.D())return Promise.resolve();const m=c+"main";yield $r.delete(m)}),function(c){return i.apply(this,arguments)})(Eg(a._databaseId,a._persistenceKey)),t.resolve()}catch(i){t.reject(i)}var i})),t.promise}(t._delegate)}}class zp{constructor(t,i,c){this._delegate=i,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},t instanceof Rl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&$n("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},i),t)).merge,this._delegate._setSettings(t)}useEmulator(t,i,c={}){!function Sy(a,t,i,c={}){var m;const v=(a=Yi(a,hr))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==t&&$n("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},v),{host:`${t}:${i}`,ssl:!1})),c.mockUserToken){let E,k;if("string"==typeof c.mockUserToken)E=c.mockUserToken,k=ke.MOCK_USER;else{E=(0,pe.Sg)(c.mockUserToken,null===(m=a._app)||void 0===m?void 0:m.options.projectId);const $=c.mockUserToken.sub||c.mockUserToken.user_id;if(!$)throw new Ht(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new ke($)}a._authCredentials=new hh(new Mo(E,k))}}(this._delegate,t,i,c)}enableNetwork(){return function Si(a){return function Yv(a){return a.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield ns(a),i=yield bo(a);return t.setNetworkEnabled(!0),function(c){const m=Jt(c);return m.du.delete(0),hp(m)}(i)}))}(kr(a=Yi(a,ys)))}(this._delegate)}disableNetwork(){return function m0(a){return function qv(a){return a.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield ns(a),i=yield bo(a);return t.setNetworkEnabled(!1),(c=(0,Ee.Z)(function*(m){const v=Jt(m);v.du.add(0),yield zh(v),v.mu.set("Offline")}),function(m){return c.apply(this,arguments)})(i);var c}))}(kr(a=Yi(a,ys)))}(this._delegate)}enablePersistence(t){let i=!1,c=!1;return t&&(i=!!t.synchronizeTabs,c=!!t.experimentalForceOwningTab,sd("synchronizeTabs",i,"experimentalForceOwningTab",c)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function pm(a){return function(t){const i=new cr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function xp(a,t){return Bo.apply(this,arguments)}(yield t_(t),i)})),i.promise}(kr(a=Yi(a,ys)))}(this._delegate)}onSnapshotsInSync(t){return function Dm(a,t){return function f0(a,t){const i=new tf(t);return a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return c=yield Vo(a),m=i,Jt(c).Au.add(m),void m.next();var c,m})),()=>{i.yc(),a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return c=yield Vo(a),m=i,void Jt(c).Au.delete(m);var c,m}))}}(kr(a=Yi(a,ys)),kp(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ht("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new sh(this,o_(this._delegate,t))}catch(i){throw na(i,"collection()","Firestore.collection()")}}doc(t){try{return new vl(this,fm(this._delegate,t))}catch(i){throw na(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new $a(this,function Qv(a,t){if(a=Yi(a,hr),r_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ht(pt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ea(a,null,(i=t,new ml(gi.emptyPath(),i)));var i}(this._delegate,t))}catch(i){throw na(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function D_(a,t,i){a=Yi(a,ys);const c=Object.assign(Object.assign({},C0),i);return function(m){if(m.maxAttempts<1)throw new Ht(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(c),function(m,v,E){const k=new cr;return m.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const $=yield function Ap(a){return qu(a).then(t=>t.datastore)}(m);new Ey(m.asyncQueue,$,E,v,k).run()})),k.promise}(kr(a),m=>t(new C_(a,m)),c)}(this._delegate,i=>t(new _b(this,i)))}batch(){return kr(this._delegate),new $p(new D0(this._delegate,t=>Rc(this._delegate,t)))}loadBundle(t){return function p0(a,t){const i=kr(a=Yi(a,ys)),c=new Xv;return function Zv(a,t,i,c){const m=function(v,E){let k;return k="string"==typeof v?(new TextEncoder).encode(v):v,$=function($,te){if($ instanceof Uint8Array)return cm($,void 0);if($ instanceof ArrayBuffer)return cm(new Uint8Array($),void 0);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new xy($,E);var $}(i,jh(t));a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function Sp(a,t,i){const c=Jt(a);var m;(m=(0,Ee.Z)(function*(v,E,k){try{const $=yield E.getMetadata();if(yield function(dt,Ft){const nn=Jt(dt),bn=jt(Ft.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",jn=>nn.xs.getBundleMetadata(jn,Ft.id)).then(jn=>!!jn&&jn.createTime.compareTo(bn)>=0)}(v.localStore,$))return yield E.close(),k._completeWith({taskState:"Success",documentsLoaded:(dt=$).totalDocuments,bytesLoaded:dt.totalBytes,totalDocuments:dt.totalDocuments,totalBytes:dt.totalBytes}),Promise.resolve(new Set);k._updateProgress(Hv($));const te=new pp($,v.localStore,E.serializer);let fe=yield E._c();for(;fe;){const dt=yield te.$u(fe);dt&&k._updateProgress(dt),fe=yield E._c()}const Ue=yield te.complete();return yield gl(v,Ue.Bu,void 0),yield function(dt,Ft){const nn=Jt(dt);return nn.persistence.runTransaction("Save bundle","readwrite",bn=>nn.xs.saveBundleMetadata(bn,Ft))}(v.localStore,$),k._completeWith(Ue.progress),Promise.resolve(Ue.Fu)}catch($){return $n("SyncEngine",`Loading bundle failed with ${$}`),k._failWith($),Promise.resolve(new Set)}var dt}),function(v,E,k){return m.apply(this,arguments)})(c,t,i).then(m=>{c.sharedClientState.notifyBundleLoaded(m)})}(yield t_(a),m,c)}))}(i,a._databaseId,t,c),c}(this._delegate,t)}namedQuery(t){return function ks(a,t){return function Iy(a,t){return a.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(i,c){const m=Jt(i);return m.persistence.runTransaction("Get named query","readonly",v=>m.xs.getNamedQuery(v,c))}(yield Pi(a),t)}))}(kr(a=Yi(a,ys)),t).then(i=>i?new ea(a,null,i.query):null)}(this._delegate,t).then(i=>i?new $a(this,i):null)}}class Gp extends ld{constructor(t){super(),this.firestore=t}convertBytes(t){return new cd(new hc(t))}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return vl.forKey(i,this.firestore,null)}}class _b{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new Gp(t)}get(t){const i=_f(t);return this._delegate.get(i).then(c=>new rh(this._firestore,new ou(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,i.converter)))}set(t,i,c){const m=_f(t);return c?(I_("Transaction.set",c),this._delegate.set(m,i,c)):this._delegate.set(m,i),this}update(t,i,c,...m){const v=_f(t);return 2===arguments.length?this._delegate.update(v,i):this._delegate.update(v,i,c,...m),this}delete(t){const i=_f(t);return this._delegate.delete(i),this}}class $p{constructor(t){this._delegate=t}set(t,i,c){const m=_f(t);return c?(I_("WriteBatch.set",c),this._delegate.set(m,i,c)):this._delegate.set(m,i),this}update(t,i,c,...m){const v=_f(t);return 2===arguments.length?this._delegate.update(v,i):this._delegate.update(v,i,c,...m),this}delete(t){const i=_f(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class yl{constructor(t,i,c){this._firestore=t,this._userDataWriter=i,this._delegate=c}fromFirestore(t,i){const c=new Cm(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new gf(this._firestore,c),i??{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){const c=yl.INSTANCES;let m=c.get(t);m||(m=new WeakMap,c.set(t,m));let v=m.get(i);return v||(v=new yl(t,new Gp(t),i),m.set(i,v)),v}}yl.INSTANCES=new WeakMap;class vl{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new Gp(t)}static forPath(t,i,c){if(t.length%2!=0)throw new Ht("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new vl(i,new $i(i._delegate,c,new cn(t)))}static forKey(t,i,c){return new vl(i,new $i(i._delegate,c,t))}get id(){return this._delegate.id}get parent(){return new sh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new sh(this.firestore,o_(this._delegate,t))}catch(i){throw na(i,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,pe.m9)(t))instanceof $i&&Zu(this._delegate,t)}set(t,i){i=I_("DocumentReference.set",i);try{return i?pf(this._delegate,t,i):pf(this._delegate,t)}catch(c){throw na(c,"setDoc()","DocumentReference.set()")}}update(t,i,...c){try{return 1===arguments.length?b_(this._delegate,t):b_(this._delegate,t,i,...c)}catch(m){throw na(m,"updateDoc()","DocumentReference.update()")}}delete(){return function Vp(a){return Rc(Yi(a.firestore,ys),[new qc(a._key,Ar.none())])}(this._delegate)}onSnapshot(...t){const i=lu(t),c=Wp(t,m=>new rh(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,m._key,m._document,m.metadata,this._delegate.converter)));return w_(this._delegate,i,c)}get(t){let i;return i="cache"===t?.source?function v0(a){a=Yi(a,$i);const t=Yi(a.firestore,ys),i=kr(t),c=new nh(t);return function Dy(a,t){const i=new cr;return a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(c=(0,Ee.Z)(function*(m,v,E){try{const k=yield function($,te){const fe=Jt($);return fe.persistence.runTransaction("read document","readonly",Ue=>fe.localDocuments.getDocument(Ue,te))}(m,v);k.isFoundDocument()?E.resolve(k):k.isNoDocument()?E.resolve(null):E.reject(new Ht(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const $=za(k,`Failed to get document '${v} from cache`);E.reject($)}}),function(m,v,E){return c.apply(this,arguments)})(yield Pi(a),t,i);var c})),i.promise}(i,a._key).then(m=>new ou(t,c,a._key,m,new th(null!==m&&m.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===t?.source?function Up(a){a=Yi(a,$i);const t=Yi(a.firestore,ys);return nu(kr(t),a._key,{source:"server"}).then(i=>Uy(t,a,i))}(this._delegate):function y0(a){a=Yi(a,$i);const t=Yi(a.firestore,ys);return nu(kr(t),a._key).then(i=>Uy(t,a,i))}(this._delegate),i.then(c=>new rh(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(t){return new vl(this.firestore,this._delegate.withConverter(t?yl.getInstance(this.firestore,t):null))}}function na(a,t,i){return a.message=a.message.replace(t,i),a}function lu(a){for(const t of a)if("object"==typeof t&&!Hy(t))return t;return{}}function Wp(a,t){var i,c;let m;return m=Hy(a[0])?a[0]:Hy(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:v=>{m.next&&m.next(t(v))},error:null===(i=m.error)||void 0===i?void 0:i.bind(m),complete:null===(c=m.complete)||void 0===c?void 0:c.bind(m)}}class rh{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new vl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return y_(this._delegate,t._delegate)}}class gf extends rh{data(t){const i=this._delegate.data(t);return function ds(a,t){a||Xt()}(void 0!==i),i}}class $a{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new Gp(t)}where(t,i,c){try{return new $a(this.firestore,Ga(this._delegate,function ru(a,t,i){const c=t,m=bm("where",a);return Mc._create(m,c,i)}(t,i,c)))}catch(m){throw na(m,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new $a(this.firestore,Ga(this._delegate,function sb(a,t="asc"){const i=t,c=bm("orderBy",a);return g_._create(c,i)}(t,i)))}catch(c){throw na(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new $a(this.firestore,Ga(this._delegate,function uf(a){return dc("limit",a),su._create("limit",a,"F")}(t)))}catch(i){throw na(i,"limit()","Query.limit()")}}limitToLast(t){try{return new $a(this.firestore,Ga(this._delegate,function Xu(a){return dc("limitToLast",a),su._create("limitToLast",a,"L")}(t)))}catch(i){throw na(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new $a(this.firestore,Ga(this._delegate,function ff(...a){return hf._create("startAt",a,!0)}(...t)))}catch(i){throw na(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new $a(this.firestore,Ga(this._delegate,function Ju(...a){return hf._create("startAfter",a,!1)}(...t)))}catch(i){throw na(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new $a(this.firestore,Ga(this._delegate,function Kr(...a){return Fy._create("endBefore",a,!1)}(...t)))}catch(i){throw na(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new $a(this.firestore,Ga(this._delegate,function ad(...a){return Fy._create("endAt",a,!0)}(...t)))}catch(i){throw na(i,"endAt()","Query.endAt()")}}isEqual(t){return a_(this._delegate,t._delegate)}get(t){let i;return i="cache"===t?.source?function w0(a){a=Yi(a,ea);const t=Yi(a.firestore,ys),i=kr(t),c=new nh(t);return function hm(a,t){const i=new cr;return a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(c=(0,Ee.Z)(function*(m,v,E){try{const k=yield sp(m,v,!0),$=new gp(v,k.Wi),te=$.zu(k.documents),fe=$.applyChanges(te,!1);E.resolve(fe.snapshot)}catch(k){const $=za(k,`Failed to execute query '${v} against cache`);E.reject($)}}),function(m,v,E){return c.apply(this,arguments)})(yield Pi(a),t,i);var c})),i.promise}(i,a._query).then(m=>new au(t,c,a,m))}(this._delegate):"server"===t?.source?function v_(a){a=Yi(a,ea);const t=Yi(a.firestore,ys),i=kr(t),c=new nh(t);return Vl(i,a._query,{source:"server"}).then(m=>new au(t,c,a,m))}(this._delegate):function b0(a){a=Yi(a,ea);const t=Yi(a.firestore,ys),i=kr(t),c=new nh(t);return p_(a._query),Vl(i,a._query).then(m=>new au(t,c,a,m))}(this._delegate),i.then(c=>new S_(this.firestore,new au(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...t){const i=lu(t),c=Wp(t,m=>new S_(this.firestore,new au(this.firestore._delegate,this._userDataWriter,this._delegate,m._snapshot)));return w_(this._delegate,i,c)}withConverter(t){return new $a(this.firestore,this._delegate.withConverter(t?yl.getInstance(this.firestore,t):null))}}class yb{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new gf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class S_{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new $a(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new gf(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new yb(this._firestore,i))}forEach(t,i){this._delegate.forEach(c=>{t.call(i,new gf(this._firestore,c))})}isEqual(t){return y_(this._delegate,t._delegate)}}class sh extends $a{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new vl(this.firestore,t):null}doc(t){try{return new vl(this.firestore,void 0===t?fm(this._delegate):fm(this._delegate,t))}catch(i){throw na(i,"doc()","CollectionReference.doc()")}}add(t){return function ab(a,t){const i=Yi(a.firestore,ys),c=fm(a),m=kc(a.converter,t);return Rc(i,[cf(Qu(a.firestore),"addDoc",c._key,m,null!==a.converter,{}).toMutation(c._key,Ar.exists(!1))]).then(()=>c)}(this._delegate,t).then(i=>new vl(this.firestore,i))}isEqual(t){return Zu(this._delegate,t._delegate)}withConverter(t){return new sh(this.firestore,this._delegate.withConverter(t?yl.getInstance(this.firestore,t):null))}}function _f(a){return Yi(a,$i)}class dd{constructor(...t){this._delegate=new _l(...t)}static documentId(){return new dd(dr.keyField().canonicalString())}isEqual(t){return(t=(0,pe.m9)(t))instanceof _l&&this._delegate._internalPath.isEqual(t._internalPath)}}class Oc{constructor(t){this._delegate=t}static serverTimestamp(){const t=function S0(){return new d_("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Oc(t)}static delete(){const t=function I0(){return new ym("deleteField")}();return t._methodName="FieldValue.delete",new Oc(t)}static arrayUnion(...t){const i=function hb(...a){return new Pp("arrayUnion",a)}(...t);return i._methodName="FieldValue.arrayUnion",new Oc(i)}static arrayRemove(...t){const i=function Hp(...a){return new ky("arrayRemove",a)}(...t);return i._methodName="FieldValue.arrayRemove",new Oc(i)}static increment(t){const i=function T0(a){return new Ry("increment",a)}(t);return i._methodName="FieldValue.increment",new Oc(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const R0={Firestore:zp,GeoPoint:sf,Timestamp:Oi,Blob:cd,Transaction:_b,WriteBatch:$p,DocumentReference:vl,DocumentSnapshot:rh,Query:$a,QueryDocumentSnapshot:gf,QuerySnapshot:S_,CollectionReference:sh,FieldPath:dd,FieldValue:Oc,setLogLevel:function gb(a){!function Ri(a){Ut.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};!function P0(a){(function O0(a,t){a.INTERNAL.registerComponent(new He.wA("firestore-compat",i=>{const c=i.getProvider("app-compat").getImmediate(),m=i.getProvider("firestore").getImmediate();return t(c,m)},"PUBLIC").setServiceProps(Object.assign({},R0)))})(a,(t,i)=>new zp(t,i,new k0)),a.registerVersion("@firebase/firestore-compat","0.3.7")}(Le.Z);var pc=O(3385),jy=O(6217),N0=O(9260);function Im(a,t){return function zy(a,t=h.z){return new X.y(i=>{let c;return null!=t?t.schedule(()=>{c=a.onSnapshot({includeMetadataChanges:!0},i)}):c=a.onSnapshot({includeMetadataChanges:!0},i),()=>{c?.()}})}(a,t)}function oh(a,t){return Im(a,t).pipe((0,ye.U)(i=>({payload:i,type:"query"})))}function Kp(a,t){return oh(a,t).pipe((0,we.O)(void 0),ie(),(0,ye.U)(([i,c])=>{const m=c.payload.docChanges(),v=m.map(E=>({type:E.type,payload:E}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((E,k)=>{const $=m.find(fe=>fe.doc.ref.isEqual(E.ref)),te=i?.payload.docs.find(fe=>fe.ref.isEqual(E.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(E.metadata)||!$&&te&&JSON.stringify(te.metadata)===JSON.stringify(E.metadata)||v.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:E}})}),v}))}function Yp(a,t,i){return Kp(a,i).pipe((0,me.R)((c,m)=>function T_(a,t,i){return t.forEach(c=>{i.indexOf(c.type)>-1&&(a=function Sm(a,t){switch(t.type){case"added":if(!a[t.newIndex]||!a[t.newIndex].doc.ref.isEqual(t.doc.ref))return ah(a,t.newIndex,0,t);break;case"modified":if(null==a[t.oldIndex]||a[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const i=a.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}return ah(a,t.newIndex,1,t)}break;case"removed":if(a[t.oldIndex]&&a[t.oldIndex].doc.ref.isEqual(t.doc.ref))return ah(a,t.oldIndex,1)}return a}(a,c))}),a}(c,m.map(v=>v.payload),t),[]),(0,nt.x)(),(0,ye.U)(c=>c.map(m=>({type:m.type,payload:m}))))}function ah(a,t,i,...c){const m=a.slice();return m.splice(t,i,...c),m}function A_(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class M_{constructor(t,i,c){this.ref=t,this.query=i,this.afs=c}stateChanges(t){let i=Kp(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe((0,ye.U)(c=>c.filter(m=>t.indexOf(m.type)>-1)))),i.pipe((0,we.O)(void 0),ie(),(0,Ke.h)(([c,m])=>m.length>0||!c),(0,ye.U)(([c,m])=>m),Se.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,me.R)((i,c)=>[...i,...c],[]))}snapshotChanges(t){const i=A_(t);return Yp(this.query,i,this.afs.schedulers.outsideAngular).pipe(Se.iC)}valueChanges(t={}){return oh(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(i=>i.payload.docs.map(c=>t.idField?Object.assign(Object.assign({},c.data()),{[t.idField]:c.id}):c.data())),Se.iC)}get(t){return(0,ve.D)(this.query.get(t)).pipe(Se.iC)}add(t){return this.ref.add(t)}doc(t){return new Tm(this.ref.doc(t),this.afs)}}class Tm{constructor(t,i){this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){const c=this.ref.collection(t),{ref:m,query:v}=Gy(c,i);return new M_(m,v,this.afs)}snapshotChanges(){return function F0(a,t){return Im(a,t).pipe((0,we.O)(void 0),ie(),(0,ye.U)(([i,c])=>c.exists?i?.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Se.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ye.U)(({payload:i})=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data()))}get(t){return(0,ve.D)(this.ref.get(t)).pipe(Se.iC)}}class L0{constructor(t,i){this.query=t,this.afs=i}stateChanges(t){return t&&0!==t.length?Kp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(i=>i.filter(c=>t.indexOf(c.type)>-1)),(0,Ke.h)(i=>i.length>0),Se.iC):Kp(this.query,this.afs.schedulers.outsideAngular).pipe(Se.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,me.R)((i,c)=>[...i,...c],[]))}snapshotChanges(t){const i=A_(t);return Yp(this.query,i,this.afs.schedulers.outsideAngular).pipe(Se.iC)}valueChanges(t={}){return oh(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(c=>c.payload.docs.map(m=>t.idField?Object.assign({[t.idField]:m.id},m.data()):m.data())),Se.iC)}get(t){return(0,ve.D)(this.query.get(t)).pipe(Se.iC)}}const yf=new _.OlP("angularfire2.enableFirestorePersistence"),vf=new _.OlP("angularfire2.firestore.persistenceSettings"),vb=new _.OlP("angularfire2.firestore.settings"),B0=new _.OlP("angularfire2.firestore.use-emulator");function Gy(a,t=(i=>i)){return{query:t(a),ref:a}}let qp=(()=>{class a{constructor(i,c,m,v,E,k,$,te,fe,Ue,dt,Ft,nn,bn,jn,sr,vs){this.schedulers=$;const zi=(0,xt.on)(i,k,c),co=fe;Ue&&(0,pc.nw)(zi,k,dt,nn,bn,jn,Ft,sr),[this.firestore,this.persistenceEnabled$]=(0,xt.cc)(`${zi.name}.firestore`,"AngularFirestore",zi.name,()=>{const Rr=k.runOutsideAngular(()=>zi.firestore());if(v&&Rr.settings(v),co&&Rr.useEmulator(...co),m&&!(0,ht.PM)(E)){const Yr=()=>{try{return(0,ve.D)(Rr.enablePersistence(te||void 0).then(()=>!0,()=>!1))}catch(wa){return typeof console<"u"&&console.warn(wa),(0,Ae.of)(!1)}};return[Rr,k.runOutsideAngular(Yr)]}return[Rr,(0,Ae.of)(!1)]},[v,co,m])}collection(i,c){let m;m="string"==typeof i?this.firestore.collection(i):i;const{ref:v,query:E}=Gy(m,c),k=this.schedulers.ngZone.run(()=>v);return new M_(k,E,this)}collectionGroup(i,c){const m=c||(E=>E),v=this.firestore.collectionGroup(i);return new L0(m(v),this)}doc(i){let c;c="string"==typeof i?this.firestore.doc(i):i;const m=this.schedulers.ngZone.run(()=>c);return new Tm(m,this)}createId(){return this.firestore.collection("_").doc().id}}return a.\u0275fac=function(i){return new(i||a)(_.LFG(xt.Dh),_.LFG(xt.xv,8),_.LFG(yf,8),_.LFG(vb,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Se.HU),_.LFG(vf,8),_.LFG(B0,8),_.LFG(pc.zQ,8),_.LFG(pc.Qv,8),_.LFG(pc.L6,8),_.LFG(pc._Q,8),_.LFG(pc.rT,8),_.LFG(pc.lh,8),_.LFG(pc.f7,8),_.LFG(jy.nm,8))},a.\u0275prov=_.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),$y=(()=>{class a{constructor(){N0.Z.registerVersion("angularfire",Se.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:a,providers:[{provide:yf,useValue:!0},{provide:vf,useValue:i}]}}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=_.oAB({type:a}),a.\u0275inj=_.cJS({providers:[qp]}),a})()},2011:(Wt,Ge,O)=>{O.d(Ge,{Dh:()=>ce,GT:()=>Se,cc:()=>Ke,hO:()=>nt,on:()=>ie,pX:()=>Ae,xv:()=>xe});var _=O(4650),h=O(9260),X=O(2122);Wt=O.hmd(Wt);const ve=["ngOnDestroy"],Ae=(Le,Ee,Ct,He={})=>new Proxy(Le,{get:(De,pe)=>Ct.runOutsideAngular(()=>{var ze;if(Le[pe])return!(null===(ze=He?.spy)||void 0===ze)&&ze.get&&He.spy.get(pe,Le[pe]),Le[pe];if(ve.indexOf(pe)>-1)return()=>{};const Xe=Ee.toPromise().then(ge=>{const Ce=ge&&ge[pe];return"function"==typeof Ce?Ce.bind(ge):Ce&&Ce.then?Ce.then($e=>Ct.run(()=>$e)):Ct.run(()=>Ce)});return new Proxy(()=>{},{get:(ge,Ce)=>Xe[Ce],apply:(ge,Ce,$e)=>Xe.then(mt=>{var en;const Pt=mt&&mt(...$e);return!(null===(en=He?.spy)||void 0===en)&&en.apply&&He.spy.apply(pe,$e,Pt),Pt})})})}),Se=(Le,Ee)=>{Ee.forEach(Ct=>{Object.getOwnPropertyNames(Ct.prototype||Ct).forEach(He=>{Object.defineProperty(Le.prototype,He,Object.getOwnPropertyDescriptor(Ct.prototype||Ct,He))})})};class we{constructor(Ee){return Ee}}const ce=new _.OlP("angularfire2.app.options"),xe=new _.OlP("angularfire2.app.name");function ie(Le,Ee,Ct){const De="object"==typeof Ct&&Ct||{};De.name=De.name||"string"==typeof Ct&&Ct||"[DEFAULT]";const ze=h.Z.apps.filter(Xe=>Xe&&Xe.name===De.name)[0]||Ee.runOutsideAngular(()=>h.Z.initializeApp(Le,De));try{JSON.stringify(Le)!==JSON.stringify(ze.options)&&ye("error",`${ze.name} Firebase App already initialized with different options${Wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(ze)}const ye=(Le,...Ee)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Le](...Ee)},me={provide:we,useFactory:ie,deps:[ce,_.R0b,[new _.FiY,xe]]};let nt=(()=>{class Le{constructor(Ct){h.Z.registerVersion("angularfire",X.q4.full,"core"),h.Z.registerVersion("angularfire",X.q4.full,"app-compat"),h.Z.registerVersion("angular",_.q4F.full,Ct.toString())}static initializeApp(Ct,He){return{ngModule:Le,providers:[{provide:ce,useValue:Ct},{provide:xe,useValue:He}]}}}return Le.\u0275fac=function(Ct){return new(Ct||Le)(_.LFG(_.Lbi))},Le.\u0275mod=_.oAB({type:Le}),Le.\u0275inj=_.cJS({providers:[me]}),Le})();function Ke(Le,Ee,Ct,He,De){const[,pe,ze]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===Le)||[];if(pe)return function xt(Le,Ee){try{return Le.toString()===Ee.toString()}catch{return Le===Ee}}(De,ze)||(qe("error",`${Ee} was already initialized on the ${Ct} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:De,was:ze})),pe;{const Xe=He();return globalThis.\u0275AngularfireInstanceCache.push([Le,Xe,De]),Xe}}const ht=!!Wt.hot,qe=(Le,...Ee)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Le](...Ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Wt,Ge,O)=>{O.d(Ge,{q4:()=>kl,iC:()=>mh,fc:()=>Fa,HU:()=>Na,vb:()=>yn,JM:()=>pn});var _=O(4650),h=O(259),X=O(5861),ve=O(9681),Ae=O(2090),Se=O(4859),we=O(1877),ce=O(8766);const xe="@firebase/installations",ie="0.6.4",ye=1e4,me=`w:${ie}`,nt="FIS_v2",Ke="https://firebaseinstallations.googleapis.com/v1",xt=36e5,Ee=new Ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(V){return V instanceof Ae.ZR&&V.code.includes("request-failed")}function He({projectId:V}){return`${Ke}/projects/${V}/installations`}function De(V){return{token:V.token,requestStatus:2,expiresIn:mt(V.expiresIn),creationTime:Date.now()}}function pe(V,W){return ze.apply(this,arguments)}function ze(){return(ze=(0,X.Z)(function*(V,W){const Pe=(yield W.json()).error;return Ee.create("request-failed",{requestName:V,serverCode:Pe.code,serverMessage:Pe.message,serverStatus:Pe.status})})).apply(this,arguments)}function Xe({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function Ce(V){return $e.apply(this,arguments)}function $e(){return($e=(0,X.Z)(function*(V){const W=yield V();return W.status>=500&&W.status<600?V():W})).apply(this,arguments)}function mt(V){return Number(V.replace("s","000"))}function rt(){return(rt=(0,X.Z)(function*({appConfig:V,heartbeatServiceProvider:W},{fid:ne}){const Pe=He(V),Ze=Xe(V),it=W.getImmediate({optional:!0});if(it){const Zn=yield it.getHeartbeatsHeader();Zn&&Ze.append("x-firebase-client",Zn)}const Dn={method:"POST",headers:Ze,body:JSON.stringify({fid:ne,authVersion:nt,appId:V.appId,sdkVersion:me})},An=yield Ce(()=>fetch(Pe,Dn));if(An.ok){const Zn=yield An.json();return{fid:Zn.fid||ne,registrationStatus:2,refreshToken:Zn.refreshToken,authToken:De(Zn.authToken)}}throw yield pe("Create Installation",An)})).apply(this,arguments)}function ft(V){return new Promise(W=>{setTimeout(W,V)})}const kt=/^[cdef][\w-]{21}$/,It="";function Rt(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const ne=function St(V){return function Et(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return kt.test(ne)?ne:It}catch{return It}}function bt(V){return`${V.appName}!${V.appId}`}const et=new Map;function at(V,W){const ne=bt(V);Tn(ne,W),function En(V,W){const ne=function Vn(){return!On&&"BroadcastChannel"in self&&(On=new BroadcastChannel("[Firebase] FID Change"),On.onmessage=V=>{Tn(V.data.key,V.data.fid)}),On}();ne&&ne.postMessage({key:V,fid:W}),function Ei(){0===et.size&&On&&(On.close(),On=null)}()}(ne,W)}function Tn(V,W){const ne=et.get(V);if(ne)for(const Pe of ne)Pe(W)}let On=null;const Hn="firebase-installations-database",_i=1,_n="firebase-installations-store";let ii=null;function fi(){return ii||(ii=(0,ce.X3)(Hn,_i,{upgrade:(V,W)=>{0===W&&V.createObjectStore(_n)}})),ii}function ci(V,W){return ai.apply(this,arguments)}function ai(){return(ai=(0,X.Z)(function*(V,W){const ne=bt(V),Ze=(yield fi()).transaction(_n,"readwrite"),it=Ze.objectStore(_n),Kt=yield it.get(ne);return yield it.put(W,ne),yield Ze.done,(!Kt||Kt.fid!==W.fid)&&at(V,W.fid),W})).apply(this,arguments)}function dn(V){return yi.apply(this,arguments)}function yi(){return(yi=(0,X.Z)(function*(V){const W=bt(V),Pe=(yield fi()).transaction(_n,"readwrite");yield Pe.objectStore(_n).delete(W),yield Pe.done})).apply(this,arguments)}function Wi(V,W){return di.apply(this,arguments)}function di(){return(di=(0,X.Z)(function*(V,W){const ne=bt(V),Ze=(yield fi()).transaction(_n,"readwrite"),it=Ze.objectStore(_n),Kt=yield it.get(ne),Dn=W(Kt);return void 0===Dn?yield it.delete(ne):yield it.put(Dn,ne),yield Ze.done,Dn&&(!Kt||Kt.fid!==Dn.fid)&&at(V,Dn.fid),Dn})).apply(this,arguments)}function pi(V){return Ci.apply(this,arguments)}function Ci(){return Ci=(0,X.Z)(function*(V){let W;const ne=yield Wi(V.appConfig,Pe=>{const Ze=function Sn(V){return Nt(V||{fid:Rt(),registrationStatus:0})}(Pe),it=function on(V,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(Ee.create("app-offline"))};const ne={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},Pe=function Dt(V,W){return Un.apply(this,arguments)}(V,ne);return{installationEntry:ne,registrationPromise:Pe}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:Ot(V)}:{installationEntry:W}}(V,Ze);return W=it.registrationPromise,it.installationEntry});return ne.fid===It?{installationEntry:yield W}:{installationEntry:ne,registrationPromise:W}}),Ci.apply(this,arguments)}function Un(){return Un=(0,X.Z)(function*(V,W){try{const ne=yield function Pt(V,W){return rt.apply(this,arguments)}(V,W);return ci(V.appConfig,ne)}catch(ne){throw Ct(ne)&&409===ne.customData.serverCode?yield dn(V.appConfig):yield ci(V.appConfig,{fid:W.fid,registrationStatus:0}),ne}}),Un.apply(this,arguments)}function Ot(V){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,X.Z)(function*(V){let W=yield st(V.appConfig);for(;1===W.registrationStatus;)yield ft(100),W=yield st(V.appConfig);if(0===W.registrationStatus){const{installationEntry:ne,registrationPromise:Pe}=yield pi(V);return Pe||ne}return W})).apply(this,arguments)}function st(V){return Wi(V,W=>{if(!W)throw Ee.create("installation-not-found");return Nt(W)})}function Nt(V){return function Pn(V){return 1===V.registrationStatus&&V.registrationTime+ye<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function Ui(){return(Ui=(0,X.Z)(function*({appConfig:V,heartbeatServiceProvider:W},ne){const Pe=function kn(V,{fid:W}){return`${He(V)}/${W}/authTokens:generate`}(V,ne),Ze=function ge(V,{refreshToken:W}){const ne=Xe(V);return ne.append("Authorization",function en(V){return`${nt} ${V}`}(W)),ne}(V,ne),it=W.getImmediate({optional:!0});if(it){const Zn=yield it.getHeartbeatsHeader();Zn&&Ze.append("x-firebase-client",Zn)}const Dn={method:"POST",headers:Ze,body:JSON.stringify({installation:{sdkVersion:me,appId:V.appId}})},An=yield Ce(()=>fetch(Pe,Dn));if(An.ok)return De(yield An.json());throw yield pe("Generate Auth Token",An)})).apply(this,arguments)}function Ai(V){return ri.apply(this,arguments)}function ri(){return ri=(0,X.Z)(function*(V,W=!1){let ne;const Pe=yield Wi(V.appConfig,it=>{if(!ue(it))throw Ee.create("not-registered");const Kt=it.authToken;if(!W&&function Ie(V){return 2===V.requestStatus&&!function se(V){const W=Date.now();return W<V.creationTime||V.creationTime+V.expiresIn<W+xt}(V)}(Kt))return it;if(1===Kt.requestStatus)return ne=function $t(V,W){return Re.apply(this,arguments)}(V,W),it;{if(!navigator.onLine)throw Ee.create("app-offline");const Dn=function be(V){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:W})}(it);return ne=function P(V,W){return j.apply(this,arguments)}(V,Dn),Dn}});return ne?yield ne:Pe.authToken}),ri.apply(this,arguments)}function Re(){return(Re=(0,X.Z)(function*(V,W){let ne=yield K(V.appConfig);for(;1===ne.authToken.requestStatus;)yield ft(100),ne=yield K(V.appConfig);const Pe=ne.authToken;return 0===Pe.requestStatus?Ai(V,W):Pe})).apply(this,arguments)}function K(V){return Wi(V,W=>{if(!ue(W))throw Ee.create("not-registered");return function Fe(V){return 1===V.requestStatus&&V.requestTime+ye<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function j(){return j=(0,X.Z)(function*(V,W){try{const ne=yield function Cn(V,W){return Ui.apply(this,arguments)}(V,W),Pe=Object.assign(Object.assign({},W),{authToken:ne});return yield ci(V.appConfig,Pe),ne}catch(ne){if(!Ct(ne)||401!==ne.customData.serverCode&&404!==ne.customData.serverCode){const Pe=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield ci(V.appConfig,Pe)}else yield dn(V.appConfig);throw ne}}),j.apply(this,arguments)}function ue(V){return void 0!==V&&2===V.registrationStatus}function Ye(){return(Ye=(0,X.Z)(function*(V){const W=V,{installationEntry:ne,registrationPromise:Pe}=yield pi(W);return Pe?Pe.catch(console.error):Ai(W).catch(console.error),ne.fid})).apply(this,arguments)}function Ne(){return Ne=(0,X.Z)(function*(V,W=!1){const ne=V;return yield function Oe(V){return de.apply(this,arguments)}(ne),(yield Ai(ne,W)).token}),Ne.apply(this,arguments)}function de(){return(de=(0,X.Z)(function*(V){const{registrationPromise:W}=yield pi(V);W&&(yield W)})).apply(this,arguments)}function $s(V){return Ee.create("missing-app-config-values",{valueName:V})}const fs="installations",Ws=V=>{const W=V.getProvider("app").getImmediate(),ne=function mr(V){if(!V||!V.options)throw $s("App Configuration");if(!V.name)throw $s("App Name");const W=["projectId","apiKey","appId"];for(const ne of W)if(!V.options[ne])throw $s(ne);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(W);return{app:W,appConfig:ne,heartbeatServiceProvider:(0,ve._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},uo=V=>{const W=V.getProvider("app").getImmediate(),ne=(0,ve._getProvider)(W,fs).getImmediate();return{getId:()=>function ot(V){return Ye.apply(this,arguments)}(ne),getToken:Ze=>function sn(V){return Ne.apply(this,arguments)}(ne,Ze)}};(function bs(){(0,ve._registerComponent)(new Se.wA(fs,Ws,"PUBLIC")),(0,ve._registerComponent)(new Se.wA("installations-internal",uo,"PRIVATE"))})(),(0,ve.registerVersion)(xe,ie),(0,ve.registerVersion)(xe,ie,"esm2017");const ui="@firebase/remote-config",Mi=new Ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xs{constructor(W,ne,Pe,Ze){this.client=W,this.storage=ne,this.storageCache=Pe,this.logger=Ze}isCachedDataFresh(W,ne){if(!ne)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Pe=Date.now()-ne,Ze=Pe<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${Ze}.`),Ze}fetch(W){var ne=this;return(0,X.Z)(function*(){const[Pe,Ze]=yield Promise.all([ne.storage.getLastSuccessfulFetchTimestampMillis(),ne.storage.getLastSuccessfulFetchResponse()]);if(Ze&&ne.isCachedDataFresh(W.cacheMaxAgeMillis,Pe))return Ze;W.eTag=Ze&&Ze.eTag;const it=yield ne.client.fetch(W),Kt=[ne.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===it.status&&Kt.push(ne.storage.setLastSuccessfulFetchResponse(it)),yield Promise.all(Kt),it})()}}function Ir(V=navigator){return V.languages&&V.languages[0]||V.language}class Vi{constructor(W,ne,Pe,Ze,it,Kt){this.firebaseInstallations=W,this.sdkVersion=ne,this.namespace=Pe,this.projectId=Ze,this.apiKey=it,this.appId=Kt}fetch(W){var ne=this;return(0,X.Z)(function*(){const[Pe,Ze]=yield Promise.all([ne.firebaseInstallations.getId(),ne.firebaseInstallations.getToken()]),Kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ne.projectId}/namespaces/${ne.namespace}:fetch?key=${ne.apiKey}`,Dn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},An={sdk_version:ne.sdkVersion,app_instance_id:Pe,app_instance_id_token:Ze,app_id:ne.appId,language_code:Ir()},Zn={method:"POST",headers:Dn,body:JSON.stringify(An)},Fi=fetch(Kt,Zn),Fn=new Promise((go,Ko)=>{W.signal.addEventListener(()=>{const gh=new Error("The operation was aborted.");gh.name="AbortError",Ko(gh)})});let ha;try{yield Promise.race([Fi,Fn]),ha=yield Fi}catch(go){let Ko="fetch-client-network";throw"AbortError"===go?.name&&(Ko="fetch-timeout"),Mi.create(Ko,{originalErrorMessage:go?.message})}let Wr=ha.status;const yr=ha.headers.get("ETag")||void 0;let fa,ec;if(200===ha.status){let go;try{go=yield ha.json()}catch(Ko){throw Mi.create("fetch-client-parse",{originalErrorMessage:Ko?.message})}fa=go.entries,ec=go.state}if("INSTANCE_STATE_UNSPECIFIED"===ec?Wr=500:"NO_CHANGE"===ec?Wr=304:("NO_TEMPLATE"===ec||"EMPTY_CONFIG"===ec)&&(fa={}),304!==Wr&&200!==Wr)throw Mi.create("fetch-status",{httpStatus:Wr});return{status:Wr,eTag:yr,config:fa}})()}}class je{constructor(W,ne){this.client=W,this.storage=ne}fetch(W){var ne=this;return(0,X.Z)(function*(){const Pe=(yield ne.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ne.attemptFetch(W,Pe)})()}attemptFetch(W,{throttleEndTimeMillis:ne,backoffCount:Pe}){var Ze=this;return(0,X.Z)(function*(){yield function Ks(V,W){return new Promise((ne,Pe)=>{const Ze=Math.max(W-Date.now(),0),it=setTimeout(ne,Ze);V.addEventListener(()=>{clearTimeout(it),Pe(Mi.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,ne);try{const it=yield Ze.client.fetch(W);return yield Ze.storage.deleteThrottleMetadata(),it}catch(it){if(!function Qe(V){if(!(V instanceof Ae.ZR&&V.customData))return!1;const W=Number(V.customData.httpStatus);return 429===W||500===W||503===W||504===W}(it))throw it;const Kt={throttleEndTimeMillis:Date.now()+(0,Ae.$s)(Pe),backoffCount:Pe+1};return yield Ze.storage.setThrottleMetadata(Kt),Ze.attemptFetch(W,Kt)}})()}}class Zt{constructor(W,ne,Pe,Ze,it){this.app=W,this._client=ne,this._storageCache=Pe,this._storage=Ze,this._logger=it,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mn(V,W){const ne=V.target.error||void 0;return Mi.create(W,{originalErrorMessage:ne&&ne?.message})}const Jn="app_namespace_store";class Pr{constructor(W,ne,Pe,Ze=function lr(){return new Promise((V,W)=>{try{const ne=indexedDB.open("firebase_remote_config",1);ne.onerror=Pe=>{W(mn(Pe,"storage-open"))},ne.onsuccess=Pe=>{V(Pe.target.result)},ne.onupgradeneeded=Pe=>{0===Pe.oldVersion&&Pe.target.result.createObjectStore(Jn,{keyPath:"compositeKey"})}}catch(ne){W(Mi.create("storage-open",{originalErrorMessage:ne?.message}))}})}()){this.appId=W,this.appName=ne,this.namespace=Pe,this.openDbPromise=Ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var ne=this;return(0,X.Z)(function*(){const Pe=yield ne.openDbPromise;return new Promise((Ze,it)=>{const Dn=Pe.transaction([Jn],"readonly").objectStore(Jn),An=ne.createCompositeKey(W);try{const Zn=Dn.get(An);Zn.onerror=Fi=>{it(mn(Fi,"storage-get"))},Zn.onsuccess=Fi=>{const Fn=Fi.target.result;Ze(Fn?Fn.value:void 0)}}catch(Zn){it(Mi.create("storage-get",{originalErrorMessage:Zn?.message}))}})})()}set(W,ne){var Pe=this;return(0,X.Z)(function*(){const Ze=yield Pe.openDbPromise;return new Promise((it,Kt)=>{const An=Ze.transaction([Jn],"readwrite").objectStore(Jn),Zn=Pe.createCompositeKey(W);try{const Fi=An.put({compositeKey:Zn,value:ne});Fi.onerror=Fn=>{Kt(mn(Fn,"storage-set"))},Fi.onsuccess=()=>{it()}}catch(Fi){Kt(Mi.create("storage-set",{originalErrorMessage:Fi?.message}))}})})()}delete(W){var ne=this;return(0,X.Z)(function*(){const Pe=yield ne.openDbPromise;return new Promise((Ze,it)=>{const Dn=Pe.transaction([Jn],"readwrite").objectStore(Jn),An=ne.createCompositeKey(W);try{const Zn=Dn.delete(An);Zn.onerror=Fi=>{it(mn(Fi,"storage-delete"))},Zn.onsuccess=()=>{Ze()}}catch(Zn){it(Mi.create("storage-delete",{originalErrorMessage:Zn?.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class Nr{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,X.Z)(function*(){const ne=W.storage.getLastFetchStatus(),Pe=W.storage.getLastSuccessfulFetchTimestampMillis(),Ze=W.storage.getActiveConfig(),it=yield ne;it&&(W.lastFetchStatus=it);const Kt=yield Pe;Kt&&(W.lastSuccessfulFetchTimestampMillis=Kt);const Dn=yield Ze;Dn&&(W.activeConfig=Dn)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function ss(){return Do.apply(this,arguments)}function Do(){return(Do=(0,X.Z)(function*(){if(!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}!function ps(){(0,ve._registerComponent)(new Se.wA("remote-config",function V(W,{instanceIdentifier:ne}){const Pe=W.getProvider("app").getImmediate(),Ze=W.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mi.create("registration-window");if(!(0,Ae.hl)())throw Mi.create("indexed-db-unavailable");const{projectId:it,apiKey:Kt,appId:Dn}=Pe.options;if(!it)throw Mi.create("registration-project-id");if(!Kt)throw Mi.create("registration-api-key");if(!Dn)throw Mi.create("registration-app-id");const An=new Pr(Dn,Pe.name,ne=ne||"firebase"),Zn=new Nr(An),Fi=new we.Yd(ui);Fi.logLevel=we.in.ERROR;const Fn=new Vi(Ze,ve.SDK_VERSION,ne,it,Kt,Dn),ha=new je(Fn,An),Wr=new xs(ha,An,Zn,Fi),yr=new Zt(Pe,Wr,Zn,An,Fi);return function Cr(V){const W=(0,Ae.m9)(V);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(yr),yr},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(ui,"0.4.4"),(0,ve.registerVersion)(ui,"0.4.4","esm2017")}();const ra="/firebase-messaging-sw.js",Os="/firebase-cloud-messaging-push-scope",qa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ho="https://fcmregistrations.googleapis.com/v1",Ca="google.c.a.c_id",ho="google.c.a.c_l",Za="google.c.a.ts",gs="google.c.a.e";var fo=(()=>{return(V=fo||(fo={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",fo;var V})();function Js(V){const W=new Uint8Array(V);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jo(V){const ne=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Pe=atob(ne),Ze=new Uint8Array(Pe.length);for(let it=0;it<Pe.length;++it)Ze[it]=Pe.charCodeAt(it);return Ze}const eo="fcm_token_details_db",nr=5,os="fcm_token_object_Store";function Es(){return Es=(0,X.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(it=>it.name).includes(eo))return null;let W=null;return(yield(0,ce.X3)(eo,nr,{upgrade:(Pe=(0,X.Z)(function*(Ze,it,Kt,Dn){var An;if(it<2||!Ze.objectStoreNames.contains(os))return;const Zn=Dn.objectStore(os),Fi=yield Zn.index("fcmSenderId").get(V);if(yield Zn.clear(),Fi)if(2===it){const Fn=Fi;if(!Fn.auth||!Fn.p256dh||!Fn.endpoint)return;W={token:Fn.fcmToken,createTime:null!==(An=Fn.createTime)&&void 0!==An?An:Date.now(),subscriptionOptions:{auth:Fn.auth,p256dh:Fn.p256dh,endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:"string"==typeof Fn.vapidKey?Fn.vapidKey:Js(Fn.vapidKey)}}}else if(3===it){const Fn=Fi;W={token:Fn.fcmToken,createTime:Fn.createTime,subscriptionOptions:{auth:Js(Fn.auth),p256dh:Js(Fn.p256dh),endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:Js(Fn.vapidKey)}}}else if(4===it){const Fn=Fi;W={token:Fn.fcmToken,createTime:Fn.createTime,subscriptionOptions:{auth:Js(Fn.auth),p256dh:Js(Fn.p256dh),endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:Js(Fn.vapidKey)}}}}),function(it,Kt,Dn,An){return Pe.apply(this,arguments)})})).close(),yield(0,ce.Lj)(eo),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),function pr(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:W}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}(W)?W:null;var Pe}),Es.apply(this,arguments)}const as="firebase-messaging-database",Hi=1,Ps="firebase-messaging-store";let mo=null;function to(){return mo||(mo=(0,ce.X3)(as,Hi,{upgrade:(V,W)=>{0===W&&V.createObjectStore(Ps)}})),mo}function Gl(V){return no.apply(this,arguments)}function no(){return no=(0,X.Z)(function*(V){const W=Ns(V),Pe=yield(yield to()).transaction(Ps).objectStore(Ps).get(W);if(Pe)return Pe;{const Ze=yield function Io(V){return Es.apply(this,arguments)}(V.appConfig.senderId);if(Ze)return yield Da(V,Ze),Ze}}),no.apply(this,arguments)}function Da(V,W){return zo.apply(this,arguments)}function zo(){return(zo=(0,X.Z)(function*(V,W){const ne=Ns(V),Ze=(yield to()).transaction(Ps,"readwrite");return yield Ze.objectStore(Ps).put(W,ne),yield Ze.done,W})).apply(this,arguments)}function Zr(){return(Zr=(0,X.Z)(function*(V){const W=Ns(V),Pe=(yield to()).transaction(Ps,"readwrite");yield Pe.objectStore(Ps).delete(W),yield Pe.done})).apply(this,arguments)}function Ns({appConfig:V}){return V.appId}const mi=new Ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ls(V,W){return io.apply(this,arguments)}function io(){return(io=(0,X.Z)(function*(V,W){const ne=yield aa(V),Pe=Fs(W),Ze={method:"POST",headers:ne,body:JSON.stringify(Pe)};let it;try{it=yield(yield fetch(gr(V.appConfig),Ze)).json()}catch(Kt){throw mi.create("token-subscribe-failed",{errorInfo:Kt?.toString()})}if(it.error)throw mi.create("token-subscribe-failed",{errorInfo:it.error.message});if(!it.token)throw mi.create("token-subscribe-no-token");return it.token})).apply(this,arguments)}function El(){return(El=(0,X.Z)(function*(V,W){const ne=yield aa(V),Pe=Fs(W.subscriptionOptions),Ze={method:"PATCH",headers:ne,body:JSON.stringify(Pe)};let it;try{it=yield(yield fetch(`${gr(V.appConfig)}/${W.token}`,Ze)).json()}catch(Kt){throw mi.create("token-update-failed",{errorInfo:Kt?.toString()})}if(it.error)throw mi.create("token-update-failed",{errorInfo:it.error.message});if(!it.token)throw mi.create("token-update-no-token");return it.token})).apply(this,arguments)}function oa(V,W){return ro.apply(this,arguments)}function ro(){return(ro=(0,X.Z)(function*(V,W){const Pe={method:"DELETE",headers:yield aa(V)};try{const it=yield(yield fetch(`${gr(V.appConfig)}/${W}`,Pe)).json();if(it.error)throw mi.create("token-unsubscribe-failed",{errorInfo:it.error.message})}catch(Ze){throw mi.create("token-unsubscribe-failed",{errorInfo:Ze?.toString()})}})).apply(this,arguments)}function gr({projectId:V}){return`${Ho}/projects/${V}/registrations`}function aa(V){return So.apply(this,arguments)}function So(){return(So=(0,X.Z)(function*({appConfig:V,installations:W}){const ne=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${ne}`})})).apply(this,arguments)}function Fs({p256dh:V,auth:W,endpoint:ne,vapidKey:Pe}){const Ze={web:{endpoint:ne,auth:W,p256dh:V}};return Pe!==qa&&(Ze.web.applicationPubKey=Pe),Ze}const cs=6048e5;function la(){return la=(0,X.Z)(function*(V){const W=yield function z(V,W){return he.apply(this,arguments)}(V.swRegistration,V.vapidKey),ne={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:W.endpoint,auth:Js(W.getKey("auth")),p256dh:Js(W.getKey("p256dh"))},Pe=yield Gl(V.firebaseDependencies);if(Pe){if(function Tt(V,W){return W.vapidKey===V.vapidKey&&W.endpoint===V.endpoint&&W.auth===V.auth&&W.p256dh===V.p256dh}(Pe.subscriptionOptions,ne))return Date.now()>=Pe.createTime+cs?function $l(V,W){return Xa.apply(this,arguments)}(V,{token:Pe.token,createTime:Date.now(),subscriptionOptions:ne}):Pe.token;try{yield oa(V.firebaseDependencies,Pe.token)}catch(Ze){console.warn(Ze)}return Y(V.firebaseDependencies,ne)}return Y(V.firebaseDependencies,ne)}),la.apply(this,arguments)}function Ys(){return Ys=(0,X.Z)(function*(V){const W=yield Gl(V.firebaseDependencies);W&&(yield oa(V.firebaseDependencies,W.token),yield function Qa(V){return Zr.apply(this,arguments)}(V.firebaseDependencies));const ne=yield V.swRegistration.pushManager.getSubscription();return!ne||ne.unsubscribe()}),Ys.apply(this,arguments)}function Xa(){return Xa=(0,X.Z)(function*(V,W){try{const ne=yield function ji(V,W){return El.apply(this,arguments)}(V.firebaseDependencies,W),Pe=Object.assign(Object.assign({},W),{token:ne,createTime:Date.now()});return yield Da(V.firebaseDependencies,Pe),ne}catch(ne){throw yield function Ln(V){return Ys.apply(this,arguments)}(V),ne}}),Xa.apply(this,arguments)}function Y(V,W){return G.apply(this,arguments)}function G(){return(G=(0,X.Z)(function*(V,W){const Pe={token:yield ls(V,W),createTime:Date.now(),subscriptionOptions:W};return yield Da(V,Pe),Pe.token})).apply(this,arguments)}function he(){return(he=(0,X.Z)(function*(V,W){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jo(W)})})).apply(this,arguments)}function ut(V){const W={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function Bn(V,W){if(!W.notification)return;V.notification={};const ne=W.notification.title;ne&&(V.notification.title=ne);const Pe=W.notification.body;Pe&&(V.notification.body=Pe);const Ze=W.notification.image;Ze&&(V.notification.image=Ze);const it=W.notification.icon;it&&(V.notification.icon=it)}(W,V),function vi(V,W){W.data&&(V.data=W.data)}(W,V),function Ii(V,W){var ne,Pe,Ze,it,Kt;if(!(W.fcmOptions||null!==(ne=W.notification)&&void 0!==ne&&ne.click_action))return;V.fcmOptions={};const Dn=null!==(Ze=null===(Pe=W.fcmOptions)||void 0===Pe?void 0:Pe.link)&&void 0!==Ze?Ze:null===(it=W.notification)||void 0===it?void 0:it.click_action;Dn&&(V.fcmOptions.link=Dn);const An=null===(Kt=W.fcmOptions)||void 0===Kt?void 0:Kt.analytics_label;An&&(V.fcmOptions.analyticsLabel=An)}(W,V),W}function Wl(V,W){const ne=[];for(let Pe=0;Pe<V.length;Pe++)ne.push(V.charAt(Pe)),Pe<W.length&&ne.push(W.charAt(Pe));return ne.join("")}function Cs(V){return mi.create("missing-app-config-values",{valueName:V})}Wl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dl{constructor(W,ne,Pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ze=function Go(V){if(!V||!V.options)throw Cs("App Configuration Object");if(!V.name)throw Cs("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:ne}=V;for(const Pe of W)if(!ne[Pe])throw Cs(Pe);return{appName:V.name,projectId:ne.projectId,apiKey:ne.apiKey,appId:ne.appId,senderId:ne.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:Ze,installations:ne,analyticsProvider:Pe}}_delete(){return Promise.resolve()}}function Il(V){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,X.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register(ra,{scope:Os}),V.swRegistration.update().catch(()=>{})}catch(W){throw mi.create("failed-service-worker-registration",{browserErrorMessage:W?.message})}})).apply(this,arguments)}function Tl(){return(Tl=(0,X.Z)(function*(V,W){if(!W&&!V.swRegistration&&(yield Il(V)),W||!V.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw mi.create("invalid-sw-registration");V.swRegistration=W}})).apply(this,arguments)}function Ls(){return(Ls=(0,X.Z)(function*(V,W){W?V.vapidKey=W:V.vapidKey||(V.vapidKey=qa)})).apply(this,arguments)}function Ds(){return Ds=(0,X.Z)(function*(V,W){if(!navigator)throw mi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mi.create("permission-blocked");return yield function Qi(V,W){return Ls.apply(this,arguments)}(V,W?.vapidKey),yield function Bc(V,W){return Tl.apply(this,arguments)}(V,W?.serviceWorkerRegistration),function Cl(V){return la.apply(this,arguments)}(V)}),Ds.apply(this,arguments)}function ca(){return(ca=(0,X.Z)(function*(V,W,ne){const Pe=function yc(V){switch(V){case fo.NOTIFICATION_CLICKED:return"notification_open";case fo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(W);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(Pe,{message_id:ne[Ca],message_name:ne[ho],message_time:ne[Za],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ia(){return Ia=(0,X.Z)(function*(V,W){const ne=W.data;if(!ne.isFirebaseMessaging)return;V.onMessageHandler&&ne.messageType===fo.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(ut(ne)):V.onMessageHandler.next(ut(ne)));const Pe=ne.data;(function br(V){return"object"==typeof V&&!!V&&Ca in V})(Pe)&&"1"===Pe[gs]&&(yield function Qr(V,W,ne){return ca.apply(this,arguments)}(V,ne.messageType,Pe))}),Ia.apply(this,arguments)}const el="@firebase/messaging",Ml=V=>{const W=new Dl(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ne=>function Al(V,W){return Ia.apply(this,arguments)}(W,ne)),W},$o=V=>{const W=V.getProvider("messaging").getImmediate();return{getToken:Pe=>function Ja(V,W){return Ds.apply(this,arguments)}(W,Pe)}};function il(){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,X.Z)(function*(){try{yield(0,Ae.eu)()}catch{return!1}return typeof window<"u"&&(0,Ae.hl)()&&(0,Ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nl(){(0,ve._registerComponent)(new Se.wA("messaging",Ml,"PUBLIC")),(0,ve._registerComponent)(new Se.wA("messaging-internal",$o,"PRIVATE")),(0,ve.registerVersion)(el,"0.12.4"),(0,ve.registerVersion)(el,"0.12.4","esm2017")}();const Ao="analytics",_r="firebase_id",rl="origin",Bs=6e4,Vc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",da="https://www.googletagmanager.com/gtag/js",wr=new we.Yd("@firebase/analytics"),_s=new Ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function sl(V){if(!V.startsWith(da)){const W=_s.create("invalid-gtag-resource",{gtagURL:V});return wr.warn(W.message),""}return V}function Yl(V){return Promise.all(V.map(W=>W.catch(ne=>ne)))}function H(){return(H=(0,X.Z)(function*(V,W,ne,Pe,Ze,it){const Kt=Pe[Ze];try{if(Kt)yield W[Kt];else{const An=(yield Yl(ne)).find(Zn=>Zn.measurementId===Ze);An&&(yield W[An.appId])}}catch(Dn){wr.error(Dn)}V("config",Ze,it)})).apply(this,arguments)}function ke(){return(ke=(0,X.Z)(function*(V,W,ne,Pe,Ze){try{let it=[];if(Ze&&Ze.send_to){let Kt=Ze.send_to;Array.isArray(Kt)||(Kt=[Kt]);const Dn=yield Yl(ne);for(const An of Kt){const Zn=Dn.find(Fn=>Fn.measurementId===An),Fi=Zn&&W[Zn.appId];if(!Fi){it=[];break}it.push(Fi)}}0===it.length&&(it=Object.values(W)),yield Promise.all(it),V("event",Pe,Ze||{})}catch(it){wr.error(it)}})).apply(this,arguments)}const Ri=30,$n=new class Kn{constructor(W={},ne=1e3){this.throttleMetadata=W,this.intervalMillis=ne}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,ne){this.throttleMetadata[W]=ne}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function ir(V){return new Headers({Accept:"application/json","x-goog-api-key":V})}function hn(){return(hn=(0,X.Z)(function*(V){var W;const{appId:ne,apiKey:Pe}=V,Ze={method:"GET",headers:ir(Pe)},it=Vc.replace("{app-id}",ne),Kt=yield fetch(it,Ze);if(200!==Kt.status&&304!==Kt.status){let Dn="";try{const An=yield Kt.json();null!==(W=An.error)&&void 0!==W&&W.message&&(Dn=An.error.message)}catch{}throw _s.create("config-fetch-failed",{httpStatus:Kt.status,responseMessage:Dn})}return Kt.json()})).apply(this,arguments)}function Jt(){return(Jt=(0,X.Z)(function*(V,W=$n,ne){const{appId:Pe,apiKey:Ze,measurementId:it}=V.options;if(!Pe)throw _s.create("no-app-id");if(!Ze){if(it)return{measurementId:it,appId:Pe};throw _s.create("no-api-key")}const Kt=W.getThrottleMetadata(Pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dn=new Aa;return setTimeout((0,X.Z)(function*(){Dn.abort()}),void 0!==ne?ne:Bs),pt({appId:Pe,apiKey:Ze,measurementId:it},Kt,Dn,W)})).apply(this,arguments)}function pt(V,W,ne){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,X.Z)(function*(V,{throttleEndTimeMillis:W,backoffCount:ne},Pe,Ze=$n){var it;const{appId:Kt,measurementId:Dn}=V;try{yield function cr(V,W){return new Promise((ne,Pe)=>{const Ze=Math.max(W-Date.now(),0),it=setTimeout(ne,Ze);V.addEventListener(()=>{clearTimeout(it),Pe(_s.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(Pe,W)}catch(An){if(Dn)return wr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dn} provided in the "measurementId" field in the local Firebase config. [${An?.message}]`),{appId:Kt,measurementId:Dn};throw An}try{const An=yield function Xt(V){return hn.apply(this,arguments)}(V);return Ze.deleteThrottleMetadata(Kt),An}catch(An){const Zn=An;if(!function Mo(V){if(!(V instanceof Ae.ZR&&V.customData))return!1;const W=Number(V.customData.httpStatus);return 429===W||500===W||503===W||504===W}(Zn)){if(Ze.deleteThrottleMetadata(Kt),Dn)return wr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dn} provided in the "measurementId" field in the local Firebase config. [${Zn?.message}]`),{appId:Kt,measurementId:Dn};throw An}const Fi=503===Number(null===(it=Zn?.customData)||void 0===it?void 0:it.httpStatus)?(0,Ae.$s)(ne,Ze.intervalMillis,Ri):(0,Ae.$s)(ne,Ze.intervalMillis),Fn={throttleEndTimeMillis:Date.now()+Fi,backoffCount:ne+1};return Ze.setThrottleMetadata(Kt,Fn),wr.debug(`Calling attemptFetch again in ${Fi} millis`),pt(V,Fn,Pe,Ze)}}),Ht.apply(this,arguments)}class Aa{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}let hh,xr;function Ma(){return(Ma=(0,X.Z)(function*(V,W,ne,Pe,Ze){if(Ze&&Ze.global)V("event",ne,Pe);else{const it=yield W;V("event",ne,Object.assign(Object.assign({},Pe),{send_to:it}))}})).apply(this,arguments)}function gi(){return(gi=(0,X.Z)(function*(){if(!(0,Ae.hl)())return wr.warn(_s.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ae.eu)()}catch(V){return wr.warn(_s.create("indexeddb-unavailable",{errorInfo:V?.toString()}).message),!1}return!0})).apply(this,arguments)}function dr(){return dr=(0,X.Z)(function*(V,W,ne,Pe,Ze,it,Kt){var Dn;const An=function ds(V){return Jt.apply(this,arguments)}(V);An.then(Wr=>{ne[Wr.measurementId]=Wr.appId,V.options.measurementId&&Wr.measurementId!==V.options.measurementId&&wr.warn(`The measurement ID in the local Firebase config (${V.options.measurementId}) does not match the measurement ID fetched from the server (${Wr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wr=>wr.error(Wr)),W.push(An);const Zn=function ka(){return gi.apply(this,arguments)}().then(Wr=>{if(Wr)return Pe.getId()}),[Fi,Fn]=yield Promise.all([An,Zn]);(function gn(V){const W=window.document.getElementsByTagName("script");for(const ne of Object.values(W))if(ne.src&&ne.src.includes(da)&&ne.src.includes(V))return ne;return null})(it)||function Hc(V,W){const ne=function md(V,W){let ne;return window.trustedTypes&&(ne=window.trustedTypes.createPolicy(V,W)),ne}("firebase-js-sdk-policy",{createScriptURL:sl}),Pe=document.createElement("script"),Ze=`${da}?l=${V}&id=${W}`;Pe.src=ne?ne?.createScriptURL(Ze):Ze,Pe.async=!0,document.head.appendChild(Pe)}(it,Fi.measurementId),xr&&(Ze("consent","default",xr),function Oi(V){xr=V}(void 0)),Ze("js",new Date);const ha=null!==(Dn=Kt?.config)&&void 0!==Dn?Dn:{};return ha[rl]="firebase",ha.update=!0,null!=Fn&&(ha[_r]=Fn),Ze("config",Fi.measurementId,ha),hh&&(Ze("set",hh),function Rn(V){hh=V}(void 0)),Fi.measurementId}),dr.apply(this,arguments)}class cn{constructor(W){this.app=W}_delete(){return delete qs[this.app.options.appId],Promise.resolve()}}let qs={},Us=[];const Fr={};let al,Gr,oo="dataLayer",zr="gtag",ko=!1;function po(V,W,ne){!function Vs(){const V=[];if((0,Ae.ru)()&&V.push("This is a browser extension environment."),(0,Ae.zI)()||V.push("Cookies are not available."),V.length>0){const W=V.map((Pe,Ze)=>`(${Ze+1}) ${Pe}`).join(" "),ne=_s.create("invalid-analytics-context",{errorInfo:W});wr.warn(ne.message)}}();const Pe=V.options.appId;if(!Pe)throw _s.create("no-app-id");if(!V.options.apiKey){if(!V.options.measurementId)throw _s.create("no-api-key");wr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${V.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qs[Pe])throw _s.create("already-exists",{id:Pe});if(!ko){!function N(V){let W=[];Array.isArray(window[V])?W=window[V]:window[V]=W}(oo);const{wrappedGtag:it,gtagCore:Kt}=function Ut(V,W,ne,Pe,Ze){let it=function(...Kt){window[Pe].push(arguments)};return window[Ze]&&"function"==typeof window[Ze]&&(it=window[Ze]),window[Ze]=function wt(V,W,ne,Pe){function it(){return it=(0,X.Z)(function*(Kt,Dn,An){try{"event"===Kt?yield function oe(V,W,ne,Pe,Ze){return ke.apply(this,arguments)}(V,W,ne,Dn,An):"config"===Kt?yield function J(V,W,ne,Pe,Ze,it){return H.apply(this,arguments)}(V,W,ne,Pe,Dn,An):"consent"===Kt?V("consent","update",An):V("set",Dn)}catch(Zn){wr.error(Zn)}}),it.apply(this,arguments)}return function Ze(Kt,Dn,An){return it.apply(this,arguments)}}(it,V,W,ne),{gtagCore:it,wrappedGtag:window[Ze]}}(qs,Us,Fr,oo,zr);Gr=it,al=Kt,ko=!0}return qs[Pe]=function jc(V,W,ne,Pe,Ze,it,Kt){return dr.apply(this,arguments)}(V,Us,Fr,W,al,oo,ne),new cn(V)}function Ro(){return dl.apply(this,arguments)}function dl(){return(dl=(0,X.Z)(function*(){if((0,Ae.ru)()||!(0,Ae.zI)()||!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}const Ql="@firebase/analytics";!function Df(){(0,ve._registerComponent)(new Se.wA(Ao,(W,{options:ne})=>po(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,ve._registerComponent)(new Se.wA("analytics-internal",function V(W){try{const ne=W.getProvider(Ao).getImmediate();return{logEvent:(Pe,Ze,it)=>function Oa(V,W,ne,Pe){V=(0,Ae.m9)(V),function pd(V,W,ne,Pe,Ze){return Ma.apply(this,arguments)}(Gr,qs[V.app.options.appId],W,ne,Pe).catch(Ze=>wr.error(Ze))}(ne,Pe,Ze,it)}}catch(ne){throw _s.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,ve.registerVersion)(Ql,"0.9.5"),(0,ve.registerVersion)(Ql,"0.9.5","esm2017")}();var _u=O(4408),Oo=O(7565);const Lr=new class zc extends Oo.v{}(class ul extends _u.o{constructor(W,ne){super(W,ne),this.scheduler=W,this.work=ne}schedule(W,ne=0){return ne>0?super.schedule(W,ne):(this.delay=ne,this.state=W,this.scheduler.flush(this),this)}execute(W,ne){return ne>0||this.closed?super.execute(W,ne):this._execute(W,ne)}requestAsyncId(W,ne,Pe=0){return null!=Pe&&Pe>0||null==Pe&&this.delay>0?super.requestAsyncId(W,ne,Pe):(W.flush(this),0)}});var Br=O(4986),yu=O(8505),Zs=O(5363),Ss=O(9468);const kl=new _.GfV("7.5.0"),Pa="__angularfire_symbol__analyticsIsSupportedValue",A="__angularfire_symbol__analyticsIsSupported",M="__angularfire_symbol__remoteConfigIsSupportedValue",D="__angularfire_symbol__remoteConfigIsSupported",L="__angularfire_symbol__messagingIsSupportedValue",q="__angularfire_symbol__messagingIsSupported";function pn(V,W,ne){if(W){if(1===W.length)return W[0];const it=W.filter(Kt=>Kt.app===ne);if(1===it.length)return it[0]}return ne.container.getProvider(V).getImmediate({optional:!0})}globalThis[A]||(globalThis[A]=Ro().then(V=>globalThis[Pa]=V).catch(()=>globalThis[Pa]=!1)),globalThis[q]||(globalThis[q]=il().then(V=>globalThis[L]=V).catch(()=>globalThis[L]=!1)),globalThis[D]||(globalThis[D]=ss().then(V=>globalThis[M]=V).catch(()=>globalThis[M]=!1));const yn=(V,W)=>{const ne=W?[W]:(0,h.C6)(),Pe=[];return ne.forEach(Ze=>{Ze.container.getProvider(V).instances.forEach(Kt=>{Pe.includes(Kt)||Pe.push(Kt)})}),Pe};function bi(){}class us{constructor(W,ne=Lr){this.zone=W,this.delegate=ne}now(){return this.delegate.now()}schedule(W,ne,Pe){const Ze=this.zone;return this.delegate.schedule(function(Kt){Ze.runGuarded(()=>{W.apply(this,[Kt])})},ne,Pe)}}class hl{constructor(W){this.zone=W,this.task=null}call(W,ne){const Pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bi,{},bi,bi)),ne.pipe((0,yu.b)({next:Pe,complete:Pe,error:Pe})).subscribe(W).add(Pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Na=(()=>{class V{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new us(Zone.current)),this.insideAngular=ne.run(()=>new us(Zone.current,Br.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(ne){return new(ne||V)(_.LFG(_.R0b))},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Ts(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function Fa(V){return V.pipe((0,Zs.Q)(Ts().outsideAngular))}function mh(V){return Ts(),function fl(V){return function(ne){return(ne=ne.lift(new hl(V.ngZone))).pipe((0,Ss.R)(V.outsideAngular),(0,Zs.Q)(V.insideAngular))}}(Ts())(V)}},2090:(Wt,Ge,O)=>{O.d(Ge,{$s:()=>P,BH:()=>pe,DV:()=>ii,Dv:()=>Yt,G6:()=>kt,GJ:()=>_i,L:()=>xe,LL:()=>at,Pz:()=>De,Sg:()=>ze,UG:()=>Ce,UI:()=>ci,US:()=>Se,Wj:()=>Pn,Wl:()=>En,Yr:()=>Et,ZB:()=>me,ZR:()=>et,aH:()=>He,b$:()=>en,cI:()=>Tn,dS:()=>Ui,eu:()=>Rt,g5:()=>X,gK:()=>st,gQ:()=>Ci,h$:()=>ce,hl:()=>It,hu:()=>h,jU:()=>$e,lb:()=>Cn,m9:()=>Ie,ne:()=>Sn,p$:()=>ye,pd:()=>pi,r3:()=>_n,ru:()=>mt,tV:()=>ie,uI:()=>ge,ug:()=>kn,vZ:()=>ai,w1:()=>rt,w9:()=>Hn,xO:()=>Wi,xb:()=>fi,z$:()=>Xe,zI:()=>St,zd:()=>di});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},h=function(se,be){if(!se)throw X(be)},X=function(se){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+se)},ve=function(se){const be=[];let Fe=0;for(let ot=0;ot<se.length;ot++){let Ye=se.charCodeAt(ot);Ye<128?be[Fe++]=Ye:Ye<2048?(be[Fe++]=Ye>>6|192,be[Fe++]=63&Ye|128):55296==(64512&Ye)&&ot+1<se.length&&56320==(64512&se.charCodeAt(ot+1))?(Ye=65536+((1023&Ye)<<10)+(1023&se.charCodeAt(++ot)),be[Fe++]=Ye>>18|240,be[Fe++]=Ye>>12&63|128,be[Fe++]=Ye>>6&63|128,be[Fe++]=63&Ye|128):(be[Fe++]=Ye>>12|224,be[Fe++]=Ye>>6&63|128,be[Fe++]=63&Ye|128)}return be},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,be){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,ot=[];for(let Ye=0;Ye<se.length;Ye+=3){const sn=se[Ye],Ne=Ye+1<se.length,Oe=Ne?se[Ye+1]:0,de=Ye+2<se.length,Be=de?se[Ye+2]:0;let tn=(15&Oe)<<2|Be>>6,Mn=63&Be;de||(Mn=64,Ne||(tn=64)),ot.push(Fe[sn>>2],Fe[(3&sn)<<4|Oe>>4],Fe[tn],Fe[Mn])}return ot.join("")},encodeString(se,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(se):this.encodeByteArray(ve(se),be)},decodeString(se,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(se):function(se){const be=[];let Fe=0,ot=0;for(;Fe<se.length;){const Ye=se[Fe++];if(Ye<128)be[ot++]=String.fromCharCode(Ye);else if(Ye>191&&Ye<224){const sn=se[Fe++];be[ot++]=String.fromCharCode((31&Ye)<<6|63&sn)}else if(Ye>239&&Ye<365){const de=((7&Ye)<<18|(63&se[Fe++])<<12|(63&se[Fe++])<<6|63&se[Fe++])-65536;be[ot++]=String.fromCharCode(55296+(de>>10)),be[ot++]=String.fromCharCode(56320+(1023&de))}else{const sn=se[Fe++],Ne=se[Fe++];be[ot++]=String.fromCharCode((15&Ye)<<12|(63&sn)<<6|63&Ne)}}return be.join("")}(this.decodeStringToByteArray(se,be))},decodeStringToByteArray(se,be){this.init_();const Fe=be?this.charToByteMapWebSafe_:this.charToByteMap_,ot=[];for(let Ye=0;Ye<se.length;){const sn=Fe[se.charAt(Ye++)],Oe=Ye<se.length?Fe[se.charAt(Ye)]:0;++Ye;const Be=Ye<se.length?Fe[se.charAt(Ye)]:64;++Ye;const Lt=Ye<se.length?Fe[se.charAt(Ye)]:64;if(++Ye,null==sn||null==Oe||null==Be||null==Lt)throw new we;ot.push(sn<<2|Oe>>4),64!==Be&&(ot.push(Oe<<4&240|Be>>2),64!==Lt&&ot.push(Be<<6&192|Lt))}return ot},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ce=function(se){const be=ve(se);return Se.encodeByteArray(be,!0)},xe=function(se){return ce(se).replace(/\./g,"")},ie=function(se){try{return Se.decodeString(se,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function ye(se){return me(void 0,se)}function me(se,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return be}for(const Fe in be)!be.hasOwnProperty(Fe)||!nt(Fe)||(se[Fe]=me(se[Fe],be[Fe]));return se}function nt(se){return"__proto__"!==se}const Le=()=>{try{return function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const se=process.env.__FIREBASE_DEFAULTS__;return se?JSON.parse(se):void 0})()||(()=>{if(typeof document>"u")return;let se;try{se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const be=se&&ie(se[1]);return be&&JSON.parse(be)})()}catch(se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${se}`)}},He=()=>{var se;return null===(se=Le())||void 0===se?void 0:se.config},De=se=>{var be;return null===(be=Le())||void 0===be?void 0:be[`_${se}`]};class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,Fe)=>{this.resolve=be,this.reject=Fe})}wrapCallback(be){return(Fe,ot)=>{Fe?this.reject(Fe):this.resolve(ot),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(Fe):be(Fe,ot))}}}function ze(se,be){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ot=be||"demo-project",Ye=se.iat||0,sn=se.sub||se.user_id;if(!sn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${ot}`,aud:ot,iat:Ye,exp:Ye+3600,auth_time:Ye,sub:sn,user_id:sn,firebase:{sign_in_provider:"custom",identities:{}}},se);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(Ne)),""].join(".")}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Ce(){var se;const be=null===(se=Le())||void 0===se?void 0:se.forceEnvironment;if("node"===be)return!0;if("browser"===be)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function mt(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function en(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){const se=Xe();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function Et(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function kt(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function It(){try{return"object"==typeof indexedDB}catch{return!1}}function Rt(){return new Promise((se,be)=>{try{let Fe=!0;const ot="validate-browser-context-for-indexeddb-analytics-module",Ye=self.indexedDB.open(ot);Ye.onsuccess=()=>{Ye.result.close(),Fe||self.indexedDB.deleteDatabase(ot),se(!0)},Ye.onupgradeneeded=()=>{Fe=!1},Ye.onerror=()=>{var sn;be((null===(sn=Ye.error)||void 0===sn?void 0:sn.message)||"")}}catch(Fe){be(Fe)}})}function St(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class et extends Error{constructor(be,Fe,ot){super(Fe),this.code=be,this.customData=ot,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}}class at{constructor(be,Fe,ot){this.service=be,this.serviceName=Fe,this.errors=ot}create(be,...Fe){const ot=Fe[0]||{},Ye=`${this.service}/${be}`,sn=this.errors[be],Ne=sn?function wn(se,be){return se.replace(rn,(Fe,ot)=>{const Ye=be[ot];return null!=Ye?String(Ye):`<${ot}?>`})}(sn,ot):"Error";return new et(Ye,`${this.serviceName}: ${Ne} (${Ye}).`,ot)}}const rn=/\{\$([^}]+)}/g;function Tn(se){return JSON.parse(se)}function En(se){return JSON.stringify(se)}const On=function(se){let be={},Fe={},ot={},Ye="";try{const sn=se.split(".");be=Tn(ie(sn[0])||""),Fe=Tn(ie(sn[1])||""),Ye=sn[2],ot=Fe.d||{},delete Fe.d}catch{}return{header:be,claims:Fe,data:ot,signature:Ye}},Hn=function(se){const Fe=On(se).claims;return!!Fe&&"object"==typeof Fe&&Fe.hasOwnProperty("iat")},_i=function(se){const be=On(se).claims;return"object"==typeof be&&!0===be.admin};function _n(se,be){return Object.prototype.hasOwnProperty.call(se,be)}function ii(se,be){if(Object.prototype.hasOwnProperty.call(se,be))return se[be]}function fi(se){for(const be in se)if(Object.prototype.hasOwnProperty.call(se,be))return!1;return!0}function ci(se,be,Fe){const ot={};for(const Ye in se)Object.prototype.hasOwnProperty.call(se,Ye)&&(ot[Ye]=be.call(Fe,se[Ye],Ye,se));return ot}function ai(se,be){if(se===be)return!0;const Fe=Object.keys(se),ot=Object.keys(be);for(const Ye of Fe){if(!ot.includes(Ye))return!1;const sn=se[Ye],Ne=be[Ye];if(dn(sn)&&dn(Ne)){if(!ai(sn,Ne))return!1}else if(sn!==Ne)return!1}for(const Ye of ot)if(!Fe.includes(Ye))return!1;return!0}function dn(se){return null!==se&&"object"==typeof se}function Wi(se){const be=[];for(const[Fe,ot]of Object.entries(se))Array.isArray(ot)?ot.forEach(Ye=>{be.push(encodeURIComponent(Fe)+"="+encodeURIComponent(Ye))}):be.push(encodeURIComponent(Fe)+"="+encodeURIComponent(ot));return be.length?"&"+be.join("&"):""}function di(se){const be={};return se.replace(/^\?/,"").split("&").forEach(ot=>{if(ot){const[Ye,sn]=ot.split("=");be[decodeURIComponent(Ye)]=decodeURIComponent(sn)}}),be}function pi(se){const be=se.indexOf("?");if(!be)return"";const Fe=se.indexOf("#",be);return se.substring(be,Fe>0?Fe:void 0)}class Ci{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let be=1;be<this.blockSize;++be)this.pad_[be]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(be,Fe){Fe||(Fe=0);const ot=this.W_;if("string"==typeof be)for(let Lt=0;Lt<16;Lt++)ot[Lt]=be.charCodeAt(Fe)<<24|be.charCodeAt(Fe+1)<<16|be.charCodeAt(Fe+2)<<8|be.charCodeAt(Fe+3),Fe+=4;else for(let Lt=0;Lt<16;Lt++)ot[Lt]=be[Fe]<<24|be[Fe+1]<<16|be[Fe+2]<<8|be[Fe+3],Fe+=4;for(let Lt=16;Lt<80;Lt++){const tn=ot[Lt-3]^ot[Lt-8]^ot[Lt-14]^ot[Lt-16];ot[Lt]=4294967295&(tn<<1|tn>>>31)}let Be,yt,Ye=this.chain_[0],sn=this.chain_[1],Ne=this.chain_[2],Oe=this.chain_[3],de=this.chain_[4];for(let Lt=0;Lt<80;Lt++){Lt<40?Lt<20?(Be=Oe^sn&(Ne^Oe),yt=1518500249):(Be=sn^Ne^Oe,yt=1859775393):Lt<60?(Be=sn&Ne|Oe&(sn|Ne),yt=2400959708):(Be=sn^Ne^Oe,yt=3395469782);const tn=(Ye<<5|Ye>>>27)+Be+de+yt+ot[Lt]&4294967295;de=Oe,Oe=Ne,Ne=4294967295&(sn<<30|sn>>>2),sn=Ye,Ye=tn}this.chain_[0]=this.chain_[0]+Ye&4294967295,this.chain_[1]=this.chain_[1]+sn&4294967295,this.chain_[2]=this.chain_[2]+Ne&4294967295,this.chain_[3]=this.chain_[3]+Oe&4294967295,this.chain_[4]=this.chain_[4]+de&4294967295}update(be,Fe){if(null==be)return;void 0===Fe&&(Fe=be.length);const ot=Fe-this.blockSize;let Ye=0;const sn=this.buf_;let Ne=this.inbuf_;for(;Ye<Fe;){if(0===Ne)for(;Ye<=ot;)this.compress_(be,Ye),Ye+=this.blockSize;if("string"==typeof be){for(;Ye<Fe;)if(sn[Ne]=be.charCodeAt(Ye),++Ne,++Ye,Ne===this.blockSize){this.compress_(sn),Ne=0;break}}else for(;Ye<Fe;)if(sn[Ne]=be[Ye],++Ne,++Ye,Ne===this.blockSize){this.compress_(sn),Ne=0;break}}this.inbuf_=Ne,this.total_+=Fe}digest(){const be=[];let Fe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ye=this.blockSize-1;Ye>=56;Ye--)this.buf_[Ye]=255&Fe,Fe/=256;this.compress_(this.buf_);let ot=0;for(let Ye=0;Ye<5;Ye++)for(let sn=24;sn>=0;sn-=8)be[ot]=this.chain_[Ye]>>sn&255,++ot;return be}}function Sn(se,be){const Fe=new on(se,be);return Fe.subscribe.bind(Fe)}class on{constructor(be,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{be(this)}).catch(ot=>{this.error(ot)})}next(be){this.forEachObserver(Fe=>{Fe.next(be)})}error(be){this.forEachObserver(Fe=>{Fe.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,Fe,ot){let Ye;if(void 0===be&&void 0===Fe&&void 0===ot)throw new Error("Missing Observer.");Ye=function Un(se,be){if("object"!=typeof se||null===se)return!1;for(const Fe of be)if(Fe in se&&"function"==typeof se[Fe])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:Fe,complete:ot},void 0===Ye.next&&(Ye.next=Ot),void 0===Ye.error&&(Ye.error=Ot),void 0===Ye.complete&&(Ye.complete=Ot);const sn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ye.error(this.finalError):Ye.complete()}catch{}}),this.observers.push(Ye),sn}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,be)}sendOne(be,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{Fe(this.observers[be])}catch(ot){typeof console<"u"&&console.error&&console.error(ot)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ot(){}const Yt=function(se,be,Fe,ot){let Ye;if(ot<be?Ye="at least "+be:ot>Fe&&(Ye=0===Fe?"none":"no more than "+Fe),Ye)throw new Error(se+" failed: Was called with "+ot+(1===ot?" argument.":" arguments.")+" Expects "+Ye+".")};function st(se,be){return`${se} failed: ${be} argument `}function Pn(se,be,Fe,ot){if((!ot||Fe)&&"function"!=typeof Fe)throw new Error(st(se,be)+"must be a valid function.")}function Cn(se,be,Fe,ot){if((!ot||Fe)&&("object"!=typeof Fe||null===Fe))throw new Error(st(se,be)+"must be a valid context object.")}const Ui=function(se){const be=[];let Fe=0;for(let ot=0;ot<se.length;ot++){let Ye=se.charCodeAt(ot);if(Ye>=55296&&Ye<=56319){const sn=Ye-55296;ot++,h(ot<se.length,"Surrogate pair missing trail surrogate."),Ye=65536+(sn<<10)+(se.charCodeAt(ot)-56320)}Ye<128?be[Fe++]=Ye:Ye<2048?(be[Fe++]=Ye>>6|192,be[Fe++]=63&Ye|128):Ye<65536?(be[Fe++]=Ye>>12|224,be[Fe++]=Ye>>6&63|128,be[Fe++]=63&Ye|128):(be[Fe++]=Ye>>18|240,be[Fe++]=Ye>>12&63|128,be[Fe++]=Ye>>6&63|128,be[Fe++]=63&Ye|128)}return be},kn=function(se){let be=0;for(let Fe=0;Fe<se.length;Fe++){const ot=se.charCodeAt(Fe);ot<128?be++:ot<2048?be+=2:ot>=55296&&ot<=56319?(be+=4,Fe++):be+=3}return be},ri=1e3,$t=2,Re=144e5,K=.5;function P(se,be=ri,Fe=$t){const ot=be*Math.pow(Fe,se),Ye=Math.round(K*ot*(Math.random()-.5)*2);return Math.min(Re,ot+Ye)}function Ie(se){return se&&se._delegate?se._delegate:se}},8146:(Wt,Ge,O)=>{O.d(Ge,{G:()=>xe});var _=O(4650),h=O(7839),X=O(9116),ve=O(4006),Ae=O(3546),Se=O(4144),we=O(9549),ce=O(9101);let xe=(()=>{class ie{constructor(me,nt,Ke){this.globalService=me,this.router=nt,this.activatedRoute=Ke,this.prefillUser="",this.prefillPassword=""}ngOnInit(){this.activatedRoute.queryParams.subscribe(me=>{console.log(me),this.prefillUser=me.user,this.prefillPassword=me.password})}onLogin(me){console.log(me.value),this.globalService.SignIn(me.value.username,me.value.password)}}return ie.\u0275fac=function(me){return new(me||ie)(_.Y36(h.U),_.Y36(X.F0),_.Y36(X.gz))},ie.\u0275cmp=_.Xpm({type:ie,selectors:[["app-login"]],decls:25,vars:3,consts:[[1,"container"],[1,"row","mt-3"],[1,"col-12","col-lg-4","offset-lg-4"],[1,"text-center"],["mat-card-avatar","","src","assets/apre-golfer-logo.png"],[1,"mt-3",3,"ngSubmit"],["loginForm","ngForm"],["appearance","outline",1,"w-75"],["required","","matInput","","minlength","3","name","username","type","text","autocomplete","apds_username",3,"ngModel"],["username","ngModel"],["required","","matInput","","minlength","5","name","password","type","password","autocomplete","new-password",3,"ngModel"],["password","ngModel"],["type","submit","color","primary","mat-raised-button","",3,"disabled"]],template:function(me,nt){if(1&me){const Ke=_.EpF();_.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title"),_._uU(6," Login "),_.qZA(),_._UZ(7,"img",4),_.qZA(),_.TgZ(8,"mat-card-content")(9,"form",5,6),_.NdJ("ngSubmit",function(){_.CHM(Ke);const ht=_.MAs(10);return _.KtG(nt.onLogin(ht))}),_.TgZ(11,"p")(12,"mat-form-field",7)(13,"mat-label"),_._uU(14,"Username"),_.qZA(),_._UZ(15,"input",8,9),_.qZA()(),_.TgZ(17,"p")(18,"mat-form-field",7)(19,"mat-label"),_._uU(20,"Password"),_.qZA(),_._UZ(21,"input",10,11),_.qZA()(),_.TgZ(23,"button",12),_._uU(24," Login "),_.qZA()()()()()()()}if(2&me){const Ke=_.MAs(10);_.xp6(15),_.Q6J("ngModel",nt.prefillUser),_.xp6(6),_.Q6J("ngModel",nt.prefillPassword),_.xp6(2),_.Q6J("disabled",Ke.invalid)}},dependencies:[ve._Y,ve.Fj,ve.JJ,ve.JL,ve.Q7,ve.wO,ve.On,ve.F,Ae.a8,Ae.kc,Ae.dn,Ae.dk,Ae.n5,Se.Nt,we.KE,we.hX,ce.lW]}),ie})()},7839:(Wt,Ge,O)=>{O.d(Ge,{U:()=>we});var _=O(4650),h=O(529),X=O(2289),ve=O(3101),Ae=O(3385),Se=O(9116);let we=(()=>{class ce{get loggedInUser(){return this._loggedInUser}set loggedInUser(ie){this._loggedInUser=ie}get isLoggedIn(){const ie=JSON.parse(localStorage.getItem("user"));return console.warn("isLoggedIn user=",JSON.stringify(ie)),null!==ie&&!1!==ie.emailVerified}get loggedIn(){return this._loggedIn}set loggedIn(ie){this._loggedIn=ie}get userList(){return this._userList}set userList(ie){this._userList=ie}get userListBooking(){return this._userListBooking}set userListBooking(ie){this._userListBooking=ie}get drinkBookings(){return this._drinkBookings}set drinkBookings(ie){this._drinkBookings=ie}get drinksData(){return this._drinksData}set drinksData(ie){this._drinksData=ie}get allDataLoaded(){return this._allDataLoaded}set allDataLoaded(ie){this._allDataLoaded=ie}ngOnInit(){}constructor(ie,ye,me,nt,Ke,xt){this.httpClient=ie,this.responsive=ye,this.afs=me,this.afAuth=nt,this.router=Ke,this.ngZone=xt,this.firebaseUserIdToken="",this._loggedInUser=JSON.parse(localStorage.getItem("user")),this._loggedIn=this.isLoggedIn,this._userList=[],this._userListBooking=[],this._drinkBookings=[],this._drinksData=[],this._allDataLoaded=!1,console.warn("GlobalService constructor");const ht=JSON.parse(localStorage.getItem("user"));ht&&(this._loggedIn=!0,this.firebaseUserIdToken=ht.stsTokenManager.accessToken),console.warn("GlobalService constructor user=",JSON.stringify(ht)),this.afAuth.authState.subscribe(qe=>{console.warn("GlobalService AuthState subscribe() user=",JSON.stringify(qe)),qe?(this.firebaseUserData=qe,localStorage.setItem("user",JSON.stringify(this.firebaseUserData)),JSON.parse(localStorage.getItem("user")),this.loadAllData(()=>{console.warn("callback router navigate dashboard 1"),this.router.navigate(["/dashboard"])})):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(ie,ye){return this.afAuth.signInWithEmailAndPassword(ie,ye).then(me=>{console.warn("SignIn success result=",JSON.stringify(me)),this.SetUserData(me.user),this.loggedIn=!0,this.loadAllData(()=>{console.warn("callback router navigate dashboard 2"),this.router.navigate(["/dashboard"])}),this.afAuth.authState.subscribe(Ke=>{Ke&&this.router.navigate(["/dashboard"])})}).catch(me=>{console.warn("SignIn ERROR"),window.alert(me.message)})}SignOut(){return this.afAuth.signOut().then(()=>{console.warn("SignOut success"),localStorage.removeItem("user"),this.loggedIn=!1,this.router.navigate(["auth/login"])})}SetUserData(ie){return this.afs.doc(`users/${ie.uid}`).set({uid:ie.uid,email:ie.email,displayName:ie.displayName,photoURL:ie.photoURL,emailVerified:ie.emailVerified},{merge:!0})}loadAllData(ie){console.warn("loadAllData()"),this.httpClient.get("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/users.json?auth="+this.firebaseUserIdToken).subscribe({next:ye=>{console.log("Firebase Users:",ye);let me=Object.values(ye);console.log("personArray: ",me),this.userList=me,this.userListBooking=me.filter(nt=>!0===nt.bookingAllowed),this.checkAllDataLoaded(ie)},error:ye=>{console.error(ye)},complete:()=>{}}),this.httpClient.get("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/drinks.json?auth="+this.firebaseUserIdToken).subscribe(ye=>{console.log("drinks response:",ye);let me=Object.values(ye);this._drinksData=me,this.checkAllDataLoaded(ie)}),this.httpClient.get("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/bookings.json?auth="+this.firebaseUserIdToken).subscribe({next:ye=>{console.log("DrinkService HttpClient next() drinkBookings response=",ye),this.drinkBookings=Object.values(ye),this.checkAllDataLoaded(ie)},error:ye=>{console.error(ye)},complete:()=>{console.log("DrinkService drinkBookings complete() drinkBookings=",this.drinkBookings.length)}})}checkAllDataLoaded(ie){console.warn("checkAllDataLoaded() drinksData.length=",this._drinksData.length," // userList.length=",this.userList.length," // drinkBookings=",this.drinkBookings.length," // callback=",ie),this._drinksData&&this._drinksData.length>0&&this.drinkBookings&&this.drinkBookings.length>0&&this.userList&&this.userList.length>0&&ie&&(this._allDataLoaded=!0,ie())}}return ce.\u0275fac=function(ie){return new(ie||ce)(_.LFG(h.eN),_.LFG(X.Yg),_.LFG(ve.ST),_.LFG(Ae.zQ),_.LFG(Se.F0),_.LFG(_.R0b))},ce.\u0275prov=_.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},687:(Wt,Ge,O)=>{var _=O(1481),h=O(4650),X=O(2289),ve=O(4004),Ae=O(3151),Se=O(7839),we=O(6895),ce=O(3238),xe=O(3353);const ie=["*",[["mat-toolbar-row"]]],ye=["*","mat-toolbar-row"],me=(0,ce.pj)(class{constructor(r){this._elementRef=r}});let nt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),Ke=(()=>{class r extends me{constructor(e,s,u){super(e),this._platform=s,this._document=u}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(xe.t4),h.Y36(we.K0))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-toolbar"]],contentQueries:function(e,s,u){if(1&e&&h.Suo(u,nt,5),2&e){let p;h.iGM(p=h.CRH())&&(s._toolbarRows=p)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,s){2&e&&h.ekj("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:ye,decls:2,vars:0,template:function(e,s){1&e&&(h.F$t(ie),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),r})(),ht=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ce.BQ,ce.BQ]}),r})();var qe=O(9101),Le=O(1281),Ee=O(7579),Ct=O(9646),He=O(9751),De=O(8421),pe=O(5577),ze=O(1144),Xe=O(576),ge=O(3268);const Ce=["addListener","removeListener"],$e=["addEventListener","removeEventListener"],mt=["on","off"];function en(r,n,e,s){if((0,Xe.m)(e)&&(s=e,e=void 0),s)return en(r,n,e).pipe((0,ge.Z)(s));const[u,p]=function Et(r){return(0,Xe.m)(r.addEventListener)&&(0,Xe.m)(r.removeEventListener)}(r)?$e.map(x=>S=>r[x](n,S,e)):function rt(r){return(0,Xe.m)(r.addListener)&&(0,Xe.m)(r.removeListener)}(r)?Ce.map(Pt(r,n)):function ft(r){return(0,Xe.m)(r.on)&&(0,Xe.m)(r.off)}(r)?mt.map(Pt(r,n)):[];if(!u&&(0,ze.z)(r))return(0,pe.z)(x=>en(x,n,e))((0,De.Xf)(r));if(!u)throw new TypeError("Invalid event target");return new He.y(x=>{const S=(...B)=>x.next(1<B.length?B:B[0]);return u(S),()=>p(S)})}function Pt(r,n){return e=>s=>r[e](n,s)}var kt=O(4408),It=O(727);const Rt={schedule(r){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:s}=Rt;s&&(n=s.requestAnimationFrame,e=s.cancelAnimationFrame);const u=n(p=>{e=void 0,r(p)});return new It.w0(()=>e?.(u))},requestAnimationFrame(...r){const{delegate:n}=Rt;return(n?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:n}=Rt;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};var bt=O(7565);const at=new class et extends bt.v{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:s}=this;let u;n=n||s.shift();do{if(u=n.execute(n.state,n.delay))break}while((n=s[0])&&n.id===e&&s.shift());if(this._active=!1,u){for(;(n=s[0])&&n.id===e&&s.shift();)n.unsubscribe();throw u}}}(class St extends kt.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,s=0){return null!==s&&s>0?super.requestAsyncId(n,e,s):(n.actions.push(this),n._scheduled||(n._scheduled=Rt.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,s=0){var u;if(null!=s?s>0:this.delay>0)return super.recycleAsyncId(n,e,s);const{actions:p}=n;null!=e&&(null===(u=p[p.length-1])||void 0===u?void 0:u.id)!==e&&(Rt.cancelAnimationFrame(e),n._scheduled=void 0)}});let Tn,rn=1;const En={};function On(r){return r in En&&(delete En[r],!0)}const Vn={setImmediate(r){const n=rn++;return En[n]=!0,Tn||(Tn=Promise.resolve()),Tn.then(()=>On(n)&&r()),n},clearImmediate(r){On(r)}},{setImmediate:Hn,clearImmediate:_i}=Vn,_n={setImmediate(...r){const{delegate:n}=_n;return(n?.setImmediate||Hn)(...r)},clearImmediate(r){const{delegate:n}=_n;return(n?.clearImmediate||_i)(r)},delegate:void 0},ci=new class fi extends bt.v{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:s}=this;let u;n=n||s.shift();do{if(u=n.execute(n.state,n.delay))break}while((n=s[0])&&n.id===e&&s.shift());if(this._active=!1,u){for(;(n=s[0])&&n.id===e&&s.shift();)n.unsubscribe();throw u}}}(class ii extends kt.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,s=0){return null!==s&&s>0?super.requestAsyncId(n,e,s):(n.actions.push(this),n._scheduled||(n._scheduled=_n.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,s=0){var u;if(null!=s?s>0:this.delay>0)return super.recycleAsyncId(n,e,s);const{actions:p}=n;null!=e&&(null===(u=p[p.length-1])||void 0===u?void 0:u.id)!==e&&(_n.clearImmediate(e),n._scheduled=void 0)}});var dn=O(4986),yi=O(4482),Wi=O(5403),pi=O(3532);function on(r,n=dn.z){return function di(r){return(0,yi.e)((n,e)=>{let s=!1,u=null,p=null,x=!1;const S=()=>{if(p?.unsubscribe(),p=null,s){s=!1;const Q=u;u=null,e.next(Q)}x&&e.complete()},B=()=>{p=null,x&&e.complete()};n.subscribe((0,Wi.x)(e,Q=>{s=!0,u=Q,p||(0,De.Xf)(r(Q)).subscribe(p=(0,Wi.x)(e,S,B))},()=>{x=!0,(!s||!p||p.closed)&&e.complete()}))})}(()=>function Sn(r=0,n,e=dn.P){let s=-1;return null!=n&&((0,pi.K)(n)?e=n:s=n),new He.y(u=>{let p=function Ci(r){return r instanceof Date&&!isNaN(r)}(r)?+r-e.now():r;p<0&&(p=0);let x=0;return e.schedule(function(){u.closed||(u.next(x++),0<=s?this.schedule(void 0,s):u.complete())},p)})}(r,n))}var Dt=O(9300),Un=O(2722),Ot=O(8675),Yt=O(445);const st=["contentWrapper"],Nt=["*"],Pn=new h.OlP("VIRTUAL_SCROLL_STRATEGY");let ri=(()=>{class r{constructor(e,s,u){this._ngZone=e,this._platform=s,this._scrolled=new Ee.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=u}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const s=this.scrollContainers.get(e);s&&(s.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new He.y(s=>{this._globalSubscription||this._addGlobalListener();const u=e>0?this._scrolled.pipe(on(e)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{u.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ct.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(e,s){const u=this.getAncestorScrollContainers(e);return this.scrolled(s).pipe((0,Dt.h)(p=>!p||u.indexOf(p)>-1))}getAncestorScrollContainers(e){const s=[];return this.scrollContainers.forEach((u,p)=>{this._scrollableContainsElement(p,e)&&s.push(p)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,s){let u=(0,Le.fI)(s),p=e.getElementRef().nativeElement;do{if(u==p)return!0}while(u=u.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>en(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(h.R0b),h.LFG(xe.t4),h.LFG(we.K0,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),$t=(()=>{class r{constructor(e,s,u,p){this.elementRef=e,this.scrollDispatcher=s,this.ngZone=u,this.dir=p,this._destroyed=new Ee.x,this._elementScrolled=new He.y(x=>this.ngZone.runOutsideAngular(()=>en(this.elementRef.nativeElement,"scroll").pipe((0,Un.R)(this._destroyed)).subscribe(x)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const s=this.elementRef.nativeElement,u=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=u?e.end:e.start),null==e.right&&(e.right=u?e.start:e.end),null!=e.bottom&&(e.top=s.scrollHeight-s.clientHeight-e.bottom),u&&0!=(0,xe._i)()?(null!=e.left&&(e.right=s.scrollWidth-s.clientWidth-e.left),2==(0,xe._i)()?e.left=e.right:1==(0,xe._i)()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=s.scrollWidth-s.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const s=this.elementRef.nativeElement;(0,xe.Mq)()?s.scrollTo(e):(null!=e.top&&(s.scrollTop=e.top),null!=e.left&&(s.scrollLeft=e.left))}measureScrollOffset(e){const s="left",u="right",p=this.elementRef.nativeElement;if("top"==e)return p.scrollTop;if("bottom"==e)return p.scrollHeight-p.clientHeight-p.scrollTop;const x=this.dir&&"rtl"==this.dir.value;return"start"==e?e=x?u:s:"end"==e&&(e=x?s:u),x&&2==(0,xe._i)()?e==s?p.scrollWidth-p.clientWidth-p.scrollLeft:p.scrollLeft:x&&1==(0,xe._i)()?e==s?p.scrollLeft+p.scrollWidth-p.clientWidth:-p.scrollLeft:e==s?p.scrollLeft:p.scrollWidth-p.clientWidth-p.scrollLeft}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(ri),h.Y36(h.R0b),h.Y36(Yt.Is,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),r})(),K=(()=>{class r{constructor(e,s,u){this._platform=e,this._change=new Ee.x,this._changeListener=p=>{this._change.next(p)},this._document=u,s.runOutsideAngular(()=>{if(e.isBrowser){const p=this._getWindow();p.addEventListener("resize",this._changeListener),p.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:s,height:u}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+u,right:e.left+s,height:u,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,s=this._getWindow(),u=e.documentElement,p=u.getBoundingClientRect();return{top:-p.top||e.body.scrollTop||s.scrollY||u.scrollTop||0,left:-p.left||e.body.scrollLeft||s.scrollX||u.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(on(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(xe.t4),h.LFG(h.R0b),h.LFG(we.K0,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const P=new h.OlP("VIRTUAL_SCROLLABLE");let j=(()=>{class r extends $t{constructor(e,s,u,p){super(e,s,u,p)}measureViewportSize(e){const s=this.elementRef.nativeElement;return"horizontal"===e?s.clientWidth:s.clientHeight}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(ri),h.Y36(h.R0b),h.Y36(Yt.Is,8))},r.\u0275dir=h.lG2({type:r,features:[h.qOj]}),r})();const Ie=typeof requestAnimationFrame<"u"?at:ci;let se=(()=>{class r extends j{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=(0,Le.Ig)(e)}constructor(e,s,u,p,x,S,B,Q){super(e,S,u,x),this.elementRef=e,this._changeDetectorRef=s,this._scrollStrategy=p,this.scrollable=Q,this._platform=(0,h.f3M)(xe.t4),this._detachedSubject=new Ee.x,this._renderedRangeSubject=new Ee.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new He.y(le=>this._scrollStrategy.scrolledIndexChange.subscribe(Te=>Promise.resolve().then(()=>this.ngZone.run(()=>le.next(Te))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=It.w0.EMPTY,this._viewportChanges=B.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,Ot.O)(null),on(0,Ie)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe((0,Un.R)(this._detachedSubject)).subscribe(s=>{const u=s.length;u!==this._dataLength&&(this._dataLength=u,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function ue(r,n){return r.start==n.start&&r.end==n.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,s="to-start"){e=this.appendOnly&&"to-start"===s?0:e;const p="horizontal"==this.orientation,x=p?"X":"Y";let B=`translate${x}(${Number((p&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===s&&(B+=` translate${x}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=B&&(this._renderedContentTransform=B,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,s="auto"){const u={behavior:s};"horizontal"===this.orientation?u.start=e:u.top=e,this.scrollable.scrollTo(u)}scrollToIndex(e,s="auto"){this._scrollStrategy.scrollToIndex(e,s)}measureScrollOffset(e){let s;return s=this.scrollable==this?u=>super.measureScrollOffset(u):u=>this.scrollable.measureScrollOffset(u),Math.max(0,s(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let s;const u="left",p="right",x="rtl"==this.dir?.value;s="start"==e?x?p:u:"end"==e?x?u:p:e||("horizontal"===this.orientation?"left":"top");const S=this.scrollable.measureBoundingClientRectWithScrollOffset(s);return this.elementRef.nativeElement.getBoundingClientRect()[s]-S}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const s of e)s()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.R0b),h.Y36(Pn,8),h.Y36(Yt.Is,8),h.Y36(ri),h.Y36(K),h.Y36(P,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,s){if(1&e&&h.Gf(st,7),2&e){let u;h.iGM(u=h.CRH())&&(s._contentWrapper=u.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,s){2&e&&h.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===s.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==s.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[h._Bn([{provide:$t,useFactory:(n,e)=>n||e,deps:[[new h.FiY,new h.tBr(P)],r]}]),h.qOj,h.jDz],ngContentSelectors:Nt,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,s){1&e&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA(),h._UZ(3,"div",2)),2&e&&(h.xp6(3),h.Udp("width",s._totalContentWidth)("height",s._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),r})(),sn=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})(),Ne=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Yt.vT,sn,se,Yt.vT,sn]}),r})();var Oe=O(2687),de=O(9521),Be=O(6451),yt=O(9718),Lt=O(1884),tn=O(5698),Mn=O(8372),Vt=O(7340);const qr=["*"],mr=["content"];function $s(r,n){if(1&r){const e=h.EpF();h.TgZ(0,"div",2),h.NdJ("click",function(){h.CHM(e);const u=h.oxw();return h.KtG(u._onBackdropClicked())}),h.qZA()}if(2&r){const e=h.oxw();h.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function fs(r,n){1&r&&(h.TgZ(0,"mat-drawer-content"),h.Hsn(1,2),h.qZA())}const Co=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ws=["mat-drawer","mat-drawer-content","*"];function uo(r,n){if(1&r){const e=h.EpF();h.TgZ(0,"div",2),h.NdJ("click",function(){h.CHM(e);const u=h.oxw();return h.KtG(u._onBackdropClicked())}),h.qZA()}if(2&r){const e=h.oxw();h.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function bs(r,n){1&r&&(h.TgZ(0,"mat-sidenav-content"),h.Hsn(1,2),h.qZA())}const ui=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],ar=["mat-sidenav","mat-sidenav-content","*"],ws={transformDrawer:(0,Vt.X$)("transform",[(0,Vt.SB)("open, open-instant",(0,Vt.oB)({transform:"none",visibility:"visible"})),(0,Vt.SB)("void",(0,Vt.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Vt.eR)("void => open-instant",(0,Vt.jt)("0ms")),(0,Vt.eR)("void <=> open, open-instant => void",(0,Vt.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Mi=new h.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Nn(){return!1}}),fn=new h.OlP("MAT_DRAWER_CONTAINER");let Di=(()=>{class r extends $t{constructor(e,s,u,p,x){super(u,p,x),this._changeDetectorRef=e,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.sBO),h.Y36((0,h.Gpc)(()=>rs)),h.Y36(h.SBq),h.Y36(ri),h.Y36(h.R0b))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,s){2&e&&h.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[h._Bn([{provide:$t,useExisting:r}]),h.qOj],ngContentSelectors:qr,decls:1,vars:0,template:function(e,s){1&e&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),Or=(()=>{class r{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,Le.Ig)(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,Le.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,Le.Ig)(e))}constructor(e,s,u,p,x,S,B,Q){this._elementRef=e,this._focusTrapFactory=s,this._focusMonitor=u,this._platform=p,this._ngZone=x,this._interactivityChecker=S,this._doc=B,this._container=Q,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ee.x,this._animationEnd=new Ee.x,this._animationState="void",this.openedChange=new h.vpe(!0),this._openedStream=this.openedChange.pipe((0,Dt.h)(le=>le),(0,ve.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Dt.h)(le=>le.fromState!==le.toState&&0===le.toState.indexOf("open")),(0,yt.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Dt.h)(le=>!le),(0,ve.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Dt.h)(le=>le.fromState!==le.toState&&"void"===le.toState),(0,yt.h)(void 0)),this._destroyed=new Ee.x,this.onPositionChanged=new h.vpe,this._modeChanged=new Ee.x,this.openedChange.subscribe(le=>{le?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{en(this._elementRef.nativeElement,"keydown").pipe((0,Dt.h)(le=>le.keyCode===de.hY&&!this.disableClose&&!(0,de.Vb)(le)),(0,Un.R)(this._destroyed)).subscribe(le=>this._ngZone.run(()=>{this.close(),le.stopPropagation(),le.preventDefault()}))}),this._animationEnd.pipe((0,Lt.x)((le,Te)=>le.fromState===Te.fromState&&le.toState===Te.toState)).subscribe(le=>{const{fromState:Te,toState:We}=le;(0===We.indexOf("open")&&"void"===Te||"void"===We&&0===Te.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,s){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const u=()=>{e.removeEventListener("blur",u),e.removeEventListener("mousedown",u),e.removeAttribute("tabindex")};e.addEventListener("blur",u),e.addEventListener("mousedown",u)})),e.focus(s)}_focusByCssSelector(e,s){let u=this._elementRef.nativeElement.querySelector(e);u&&this._forceFocus(u,s)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(s=>{!s&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,s){e&&s&&(this._openedVia=s);const u=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),u}_setOpen(e,s,u){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",s&&this._restoreFocus(u)),this._updateFocusTrapState(),new Promise(p=>{this.openedChange.pipe((0,tn.q)(1)).subscribe(x=>p(x?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const s=this._elementRef.nativeElement,u=s.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),u.insertBefore(this._anchor,s)),u.appendChild(s)):this._anchor&&this._anchor.parentNode.insertBefore(s,this._anchor)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(Oe.qV),h.Y36(Oe.tE),h.Y36(xe.t4),h.Y36(h.R0b),h.Y36(Oe.ic),h.Y36(we.K0,8),h.Y36(fn,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-drawer"]],viewQuery:function(e,s){if(1&e&&h.Gf(mr,5),2&e){let u;h.iGM(u=h.CRH())&&(s._content=u.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,s){1&e&&h.WFA("@transform.start",function(p){return s._animationStarted.next(p)})("@transform.done",function(p){return s._animationEnd.next(p)}),2&e&&(h.uIk("align",null),h.d8E("@transform",s._animationState),h.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:qr,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,s){1&e&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA())},dependencies:[$t],encapsulation:2,data:{animation:[ws.transformDrawer]},changeDetection:0}),r})(),rs=(()=>{class r{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,Le.Ig)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,Le.Ig)(e)}get scrollable(){return this._userContent||this._content}constructor(e,s,u,p,x,S=!1,B){this._dir=e,this._element=s,this._ngZone=u,this._changeDetectorRef=p,this._animationMode=B,this._drawers=new h.n_E,this.backdropClick=new h.vpe,this._destroyed=new Ee.x,this._doCheckSubject=new Ee.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ee.x,e&&e.change.pipe((0,Un.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),x.change().pipe((0,Un.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=S}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Ot.O)(this._allDrawers),(0,Un.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Ot.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Mn.b)(10),(0,Un.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const u=this._left._getWidth();e+=u,s-=u}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const u=this._right._getWidth();s+=u,e-=u}e=e||null,s=s||null,(e!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:e,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,Dt.h)(s=>s.fromState!==s.toState),(0,Un.R)(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,Un.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe((0,Un.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,tn.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,Un.R)((0,Be.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const s=this._element.nativeElement.classList,u="mat-drawer-container-has-open";e?s.add(u):s.remove(u)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Yt.Is,8),h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(h.sBO),h.Y36(K),h.Y36(Mi),h.Y36(h.QbO,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,Di,5),h.Suo(u,Or,5)),2&e){let p;h.iGM(p=h.CRH())&&(s._content=p.first),h.iGM(p=h.CRH())&&(s._allDrawers=p)}},viewQuery:function(e,s){if(1&e&&h.Gf(Di,5),2&e){let u;h.iGM(u=h.CRH())&&(s._userContent=u.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,s){2&e&&h.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[h._Bn([{provide:fn,useExisting:r}])],ngContentSelectors:Ws,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,s){1&e&&(h.F$t(Co),h.YNc(0,$s,1,2,"div",0),h.Hsn(1),h.Hsn(2,1),h.YNc(3,fs,2,0,"mat-drawer-content",1)),2&e&&(h.Q6J("ngIf",s.hasBackdrop),h.xp6(3),h.Q6J("ngIf",!s._content))},dependencies:[we.O5,Di],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),r})(),Gn=(()=>{class r extends Di{constructor(e,s,u,p,x){super(e,s,u,p,x)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.sBO),h.Y36((0,h.Gpc)(()=>ki)),h.Y36(h.SBq),h.Y36(ri),h.Y36(h.R0b))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,s){2&e&&h.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[h._Bn([{provide:$t,useExisting:r}]),h.qOj],ngContentSelectors:qr,decls:1,vars:0,template:function(e,s){1&e&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),Ki=(()=>{class r extends Or{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,Le.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,Le.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,Le.su)(e)}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,s){2&e&&(h.uIk("align",null),h.Udp("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),h.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[h.qOj],ngContentSelectors:qr,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,s){1&e&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA())},dependencies:[$t],encapsulation:2,data:{animation:[ws.transformDrawer]},changeDetection:0}),r})(),ki=(()=>{class r extends rs{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,Gn,5),h.Suo(u,Ki,5)),2&e){let p;h.iGM(p=h.CRH())&&(s._content=p.first),h.iGM(p=h.CRH())&&(s._allDrawers=p)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,s){2&e&&h.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],features:[h._Bn([{provide:fn,useExisting:r}]),h.qOj],ngContentSelectors:ar,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,s){1&e&&(h.F$t(ui),h.YNc(0,uo,1,2,"div",0),h.Hsn(1),h.Hsn(2,1),h.YNc(3,bs,2,0,"mat-sidenav-content",1)),2&e&&(h.Q6J("ngIf",s.hasBackdrop),h.xp6(3),h.Q6J("ngIf",!s._content))},dependencies:[we.O5,Gn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),r})(),Er=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[we.ez,ce.BQ,sn,sn,ce.BQ]}),r})();var Cr=O(2843),qn=O(4128),Hr=O(8505),ia=O(262),Ea=O(8746),Dr=O(3099),tr=O(529);const ms=["*"];let Rs;function xs(r){return function es(){if(void 0===Rs&&(Rs=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(Rs=r.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Rs}()?.createHTML(r)||r}function Ir(r){return Error(`Unable to find icon with the name "${r}"`)}function Ks(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function Qe(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class je{constructor(n,e,s){this.url=n,this.svgText=e,this.options=s}}let lt=(()=>{class r{constructor(e,s,u,p){this._httpClient=e,this._sanitizer=s,this._errorHandler=p,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=u}addSvgIcon(e,s,u){return this.addSvgIconInNamespace("",e,s,u)}addSvgIconLiteral(e,s,u){return this.addSvgIconLiteralInNamespace("",e,s,u)}addSvgIconInNamespace(e,s,u,p){return this._addSvgIconConfig(e,s,new je(u,null,p))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,s,u,p){const x=this._sanitizer.sanitize(h.q3G.HTML,u);if(!x)throw Qe(u);const S=xs(x);return this._addSvgIconConfig(e,s,new je("",S,p))}addSvgIconSet(e,s){return this.addSvgIconSetInNamespace("",e,s)}addSvgIconSetLiteral(e,s){return this.addSvgIconSetLiteralInNamespace("",e,s)}addSvgIconSetInNamespace(e,s,u){return this._addSvgIconSetConfig(e,new je(s,null,u))}addSvgIconSetLiteralInNamespace(e,s,u){const p=this._sanitizer.sanitize(h.q3G.HTML,s);if(!p)throw Qe(s);const x=xs(p);return this._addSvgIconSetConfig(e,new je("",x,u))}registerFontClassAlias(e,s=e){return this._fontCssClassesByAlias.set(e,s),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const s=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,e);if(!s)throw Ks(e);const u=this._cachedIconsByUrl.get(s);return u?(0,Ct.of)(mn(u)):this._loadSvgIconFromConfig(new je(e,null)).pipe((0,Hr.b)(p=>this._cachedIconsByUrl.set(s,p)),(0,ve.U)(p=>mn(p)))}getNamedSvgIcon(e,s=""){const u=Jn(s,e);let p=this._svgIconConfigs.get(u);if(p)return this._getSvgFromConfig(p);if(p=this._getIconConfigFromResolvers(s,e),p)return this._svgIconConfigs.set(u,p),this._getSvgFromConfig(p);const x=this._iconSetConfigs.get(s);return x?this._getSvgFromIconSetConfigs(e,x):(0,Cr._)(Ir(u))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Ct.of)(mn(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ve.U)(s=>mn(s)))}_getSvgFromIconSetConfigs(e,s){const u=this._extractIconWithNameFromAnySet(e,s);if(u)return(0,Ct.of)(u);const p=s.filter(x=>!x.svgText).map(x=>this._loadSvgIconSetFromConfig(x).pipe((0,ia.K)(S=>{const Q=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,x.url)} failed: ${S.message}`;return this._errorHandler.handleError(new Error(Q)),(0,Ct.of)(null)})));return(0,qn.D)(p).pipe((0,ve.U)(()=>{const x=this._extractIconWithNameFromAnySet(e,s);if(!x)throw Ir(e);return x}))}_extractIconWithNameFromAnySet(e,s){for(let u=s.length-1;u>=0;u--){const p=s[u];if(p.svgText&&p.svgText.toString().indexOf(e)>-1){const x=this._svgElementFromConfig(p),S=this._extractSvgIconFromSet(x,e,p.options);if(S)return S}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Hr.b)(s=>e.svgText=s),(0,ve.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Ct.of)(null):this._fetchIcon(e).pipe((0,Hr.b)(s=>e.svgText=s))}_extractSvgIconFromSet(e,s,u){const p=e.querySelector(`[id="${s}"]`);if(!p)return null;const x=p.cloneNode(!0);if(x.removeAttribute("id"),"svg"===x.nodeName.toLowerCase())return this._setSvgAttributes(x,u);if("symbol"===x.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(x),u);const S=this._svgElementFromString(xs("<svg></svg>"));return S.appendChild(x),this._setSvgAttributes(S,u)}_svgElementFromString(e){const s=this._document.createElement("DIV");s.innerHTML=e;const u=s.querySelector("svg");if(!u)throw Error("<svg> tag not found");return u}_toSvgElement(e){const s=this._svgElementFromString(xs("<svg></svg>")),u=e.attributes;for(let p=0;p<u.length;p++){const{name:x,value:S}=u[p];"id"!==x&&s.setAttribute(x,S)}for(let p=0;p<e.childNodes.length;p++)e.childNodes[p].nodeType===this._document.ELEMENT_NODE&&s.appendChild(e.childNodes[p].cloneNode(!0));return s}_setSvgAttributes(e,s){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),s&&s.viewBox&&e.setAttribute("viewBox",s.viewBox),e}_fetchIcon(e){const{url:s,options:u}=e,p=u?.withCredentials??!1;if(!this._httpClient)throw function Vi(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const x=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,s);if(!x)throw Ks(s);const S=this._inProgressUrlFetches.get(x);if(S)return S;const B=this._httpClient.get(x,{responseType:"text",withCredentials:p}).pipe((0,ve.U)(Q=>xs(Q)),(0,Ea.x)(()=>this._inProgressUrlFetches.delete(x)),(0,Dr.B)());return this._inProgressUrlFetches.set(x,B),B}_addSvgIconConfig(e,s,u){return this._svgIconConfigs.set(Jn(e,s),u),this}_addSvgIconSetConfig(e,s){const u=this._iconSetConfigs.get(e);return u?u.push(s):this._iconSetConfigs.set(e,[s]),this}_svgElementFromConfig(e){if(!e.svgElement){const s=this._svgElementFromString(e.svgText);this._setSvgAttributes(s,e.options),e.svgElement=s}return e.svgElement}_getIconConfigFromResolvers(e,s){for(let u=0;u<this._resolvers.length;u++){const p=this._resolvers[u](s,e);if(p)return Wn(p)?new je(p.url,null,p.options):new je(p,null)}}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(tr.eN,8),h.LFG(_.H7),h.LFG(we.K0,8),h.LFG(h.qLn))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function mn(r){return r.cloneNode(!0)}function Jn(r,n){return r+":"+n}function Wn(r){return!(!r.url||!r.options)}const ti=(0,ce.pj)(class{constructor(r){this._elementRef=r}}),lr=new h.OlP("MAT_ICON_DEFAULT_OPTIONS"),Pr=new h.OlP("mat-icon-location",{providedIn:"root",factory:function Nr(){const r=(0,h.f3M)(we.K0),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),ps=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ya=ps.map(r=>`[${r}]`).join(", "),jr=/^url\(['"]?#(.*?)['"]?\)$/;let ss=(()=>{class r extends ti{get inline(){return this._inline}set inline(e){this._inline=(0,Le.Ig)(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const s=this._cleanupFontValue(e);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const s=this._cleanupFontValue(e);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}constructor(e,s,u,p,x,S){super(e),this._iconRegistry=s,this._location=p,this._errorHandler=x,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=It.w0.EMPTY,S&&(S.color&&(this.color=this.defaultColor=S.color),S.fontSet&&(this.fontSet=S.fontSet)),u||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const s=e.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let s=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const u=e.childNodes[s];(1!==u.nodeType||"svg"===u.nodeName.toLowerCase())&&u.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,s=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(u=>u.length>0);this._previousFontSetClass.forEach(u=>e.classList.remove(u)),s.forEach(u=>e.classList.add(u)),this._previousFontSetClass=s,this.fontIcon!==this._previousFontIconClass&&!s.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const s=this._elementsWithExternalReferences;s&&s.forEach((u,p)=>{u.forEach(x=>{p.setAttribute(x.name,`url('${e}#${x.value}')`)})})}_cacheChildrenWithExternalReferences(e){const s=e.querySelectorAll(Ya),u=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let p=0;p<s.length;p++)ps.forEach(x=>{const S=s[p],B=S.getAttribute(x),Q=B?B.match(jr):null;if(Q){let le=u.get(S);le||(le=[],u.set(S,le)),le.push({name:x,value:Q[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[s,u]=this._splitIconName(e);s&&(this._svgNamespace=s),u&&(this._svgName=u),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(u,s).pipe((0,tn.q)(1)).subscribe(p=>this._setSvgElement(p),p=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${u}! ${p.message}`))})}}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(lt),h.$8M("aria-hidden"),h.Y36(Pr),h.Y36(h.qLn),h.Y36(lr,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,s){2&e&&(h.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),h.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:ms,decls:1,vars:0,template:function(e,s){1&e&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),r})(),Do=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ce.BQ,ce.BQ]}),r})();var ra=O(9643);let qa=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ce.BQ,ce.BQ]}),r})();var Ho=O(4033);function ho(r){return r&&"function"==typeof r.connect&&!(r instanceof Ho.c)}class gs{applyChanges(n,e,s,u,p){n.forEachOperation((x,S,B)=>{let Q,le;if(null==x.previousIndex){const Te=s(x,S,B);Q=e.createEmbeddedView(Te.templateRef,Te.context,Te.index),le=1}else null==B?(e.remove(S),le=3):(Q=e.get(S),e.move(Q,B),le=2);p&&p({context:Q?.context,operation:le,record:x})})}detach(){}}class fo{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,e,s=!0,u){this._multiple=n,this._emitChanges=s,this.compareWith=u,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ee.x,e&&e.length&&(n?e.forEach(p=>this._markSelected(p)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(s=>this._markSelected(s));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(s=>this._unmarkSelected(s));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,s=new Set(n);n.forEach(p=>this._markSelected(p)),e.filter(p=>!s.has(p)).forEach(p=>this._unmarkSelected(p));const u=this._hasQueuedChanges();return this._emitChangeEvent(),u}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let e of this._selection)if(this.compareWith(n,e))return e;return n}return n}}const eo=new h.OlP("_ViewRepeater");var nr=O(4006);const os=["*"],Es=["unscopedContent"],pr=["text"],as=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Hi=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],ro=new h.OlP("ListOption");let gr=(()=>{class r{constructor(e){this._elementRef=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),r})(),aa=(()=>{class r{constructor(e){this._elementRef=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),r})(),So=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),r})(),Fs=(()=>{class r{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(ro,8))},r.\u0275dir=h.lG2({type:r,hostVars:4,hostBindings:function(e,s){2&e&&h.ekj("mdc-list-item__start",s._isAlignedAtStart())("mdc-list-item__end",!s._isAlignedAtStart())}}),r})(),cs=(()=>{class r extends Fs{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[h.qOj]}),r})(),Cl=(()=>{class r extends Fs{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[h.qOj]}),r})();const la=new h.OlP("MAT_LIST_CONFIG");let Ln=(()=>{class r{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,h.f3M)(la,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=(0,Le.Ig)(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,Le.Ig)(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,hostVars:1,hostBindings:function(e,s){2&e&&h.uIk("aria-disabled",s.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),r})(),Ys=(()=>{class r{set lines(e){this._explicitLines=(0,Le.su)(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=(0,Le.Ig)(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=(0,Le.Ig)(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,s,u,p,x,S){this._elementRef=e,this._ngZone=s,this._listBase=u,this._platform=p,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new It.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=x||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===S,u&&!u._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new ce.IR(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Be.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const s=this._explicitLines??this._inferLinesFromContent(),u=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",s<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",s<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===s),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===s),this._hasUnscopedTextContent){const p=0===this._titles.length&&1===s;u.classList.toggle("mdc-list-item__primary-text",p),u.classList.toggle("mdc-list-item__secondary-text",!p)}else u.classList.remove("mdc-list-item__primary-text"),u.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Ln,8),h.Y36(xe.t4),h.Y36(ce.Y2,8),h.Y36(h.QbO,8))},r.\u0275dir=h.lG2({type:r,contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,cs,4),h.Suo(u,Cl,4)),2&e){let p;h.iGM(p=h.CRH())&&(s._avatars=p),h.iGM(p=h.CRH())&&(s._icons=p)}},hostVars:4,hostBindings:function(e,s){2&e&&(h.uIk("aria-disabled",s.disabled)("disabled",s._isButtonElement&&s.disabled||null),h.ekj("mdc-list-item--disabled",s.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),r})(),z=(()=>{class r extends Ys{get activated(){return this._activated}set activated(e){this._activated=(0,Le.Ig)(e)}constructor(e,s,u,p,x,S){super(e,s,u,p,x,S),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Ln,8),h.Y36(xe.t4),h.Y36(ce.Y2,8),h.Y36(h.QbO,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,aa,5),h.Suo(u,gr,5),h.Suo(u,So,5)),2&e){let p;h.iGM(p=h.CRH())&&(s._lines=p),h.iGM(p=h.CRH())&&(s._titles=p),h.iGM(p=h.CRH())&&(s._meta=p)}},viewQuery:function(e,s){if(1&e&&(h.Gf(Es,5),h.Gf(pr,5)),2&e){let u;h.iGM(u=h.CRH())&&(s._unscopedContent=u.first),h.iGM(u=h.CRH())&&(s._itemText=u.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(e,s){2&e&&(h.uIk("aria-current",s._getAriaCurrent()),h.ekj("mdc-list-item--activated",s.activated)("mdc-list-item--with-leading-avatar",0!==s._avatars.length)("mdc-list-item--with-leading-icon",0!==s._icons.length)("mdc-list-item--with-trailing-meta",0!==s._meta.length)("_mat-animation-noopable",s._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[h.qOj],ngContentSelectors:Hi,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(e,s){1&e&&(h.F$t(as),h.Hsn(0),h.TgZ(1,"span",0),h.Hsn(2,1),h.Hsn(3,2),h.TgZ(4,"span",1,2),h.NdJ("cdkObserveContent",function(){return s._updateItemLines(!0)}),h.Hsn(6,3),h.qZA()(),h.Hsn(7,4),h.Hsn(8,5),h._UZ(9,"div",3))},dependencies:[ra.wD],encapsulation:2,changeDetection:0}),r})(),vi=(()=>{class r extends Ln{constructor(){super(...arguments),this._isNonInteractive=!1}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[h._Bn([{provide:Ln,useExisting:r}]),h.qOj],ngContentSelectors:os,decls:1,vars:0,template:function(e,s){1&e&&(h.F$t(),h.Hsn(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),r})(),Go=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ra.Q8,we.ez,ce.BQ,ce.si,ce.us,qa]}),r})();var Cs=O(9116);function Dl(r,n){if(1&r){const e=h.EpF();h.TgZ(0,"button",10),h.NdJ("click",function(){h.CHM(e),h.oxw();const u=h.MAs(2);return h.KtG(u.toggle())}),h.TgZ(1,"mat-icon",11),h._uU(2,"menu"),h.qZA()()}}function Il(r,n){if(1&r){const e=h.EpF();h.TgZ(0,"a",12),h.NdJ("click",function(){h.CHM(e);const u=h.oxw();return h.KtG(u.globalService.SignOut())}),h._uU(1,"Logout"),h.qZA()}}let Sl=(()=>{class r{get globalService(){return this._globalService}constructor(e,s){this.breakpointObserver=s,this.isHandset$=this.breakpointObserver.observe(X.u3.Handset).pipe((0,ve.U)(u=>u.matches),(0,Ae.d)()),this._globalService=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Se.U),h.Y36(X.Yg))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-nav"]],decls:26,vars:22,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["src","assets/apre-golfer-logo.png","width","50","height","48",1,"center"],["mat-list-item","","routerLinkActive","active",3,"routerLink","disabled"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[1,"nav-top-left"],[1,"nav-top-right"],["class","nav-top-right",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],[1,"nav-top-right",3,"click"]],template:function(e,s){1&e&&(h.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),h.ALo(3,"async"),h.ALo(4,"async"),h.ALo(5,"async"),h.TgZ(6,"mat-toolbar"),h._UZ(7,"img",3),h.qZA(),h.TgZ(8,"mat-nav-list")(9,"a",4),h._uU(10,"Login"),h.qZA(),h.TgZ(11,"a",4),h._uU(12,"Dashboard"),h.qZA(),h.TgZ(13,"a",4),h._uU(14,"Getr\xe4nkeliste"),h.qZA(),h.TgZ(15,"a",4),h._uU(16,"Guthaben\xfcbersicht"),h.qZA()()(),h.TgZ(17,"mat-sidenav-content")(18,"mat-toolbar",5),h.YNc(19,Dl,3,0,"button",6),h.ALo(20,"async"),h.TgZ(21,"p",7),h._uU(22),h.qZA(),h.TgZ(23,"p",8),h.YNc(24,Il,2,0,"a",9),h.qZA()(),h._UZ(25,"router-outlet"),h.qZA()()),2&e&&(h.xp6(1),h.Q6J("mode",h.lcZ(4,16,s.isHandset$)?"over":"side")("opened",!1===h.lcZ(5,18,s.isHandset$)),h.uIk("role",h.lcZ(3,14,s.isHandset$)?"dialog":"navigation"),h.xp6(8),h.Q6J("routerLink",s.globalService.loggedIn?"":"/auth/login")("disabled",s.globalService.loggedIn),h.xp6(2),h.Q6J("routerLink",s.globalService.loggedIn?"/dashboard":"auth/login")("disabled",!s.globalService.loggedIn),h.xp6(2),h.Q6J("routerLink",s.globalService.loggedIn?"/list-of-drinks":"/auth/login")("disabled",!s.globalService.loggedIn),h.xp6(2),h.Q6J("routerLink",s.globalService.loggedIn?"/balances":"/auth/login")("disabled",!s.globalService.loggedIn),h.xp6(4),h.Q6J("ngIf",h.lcZ(20,20,s.isHandset$)),h.xp6(3),h.hij("Logged in user: ",s.globalService.loggedInUser?s.globalService.loggedInUser.email:"",""),h.xp6(2),h.Q6J("ngIf",s.globalService.loggedIn))},dependencies:[we.O5,Ke,qe.RK,Ki,ki,Gn,ss,vi,z,Cs.lC,Cs.rH,Cs.Od,we.Ov],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.topnav[_ngcontent-%COMP%]{text-align:right}p.nav-top-left[_ngcontent-%COMP%]{text-align:left;width:49%;display:inline-block}p.nav-top-right[_ngcontent-%COMP%]{text-align:right;width:50%;display:inline-block;color:#fff}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}a.nav-top-right[_ngcontent-%COMP%]:link, a.nav-top-right[_ngcontent-%COMP%]:visited, a.nav-top-right[_ngcontent-%COMP%]:hover, a.nav-top-right[_ngcontent-%COMP%]:active{color:#fff;text-decoration:none}a.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}"]}),r})(),Bc=(()=>{class r{constructor(){this.title="Apr\xe8s-Golfer"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-root"]],decls:2,vars:0,template:function(e,s){1&e&&(h._UZ(0,"app-nav"),h._uU(1,">"))},dependencies:[Sl]}),r})();function Qi(r){return new h.vHH(3e3,!1)}function N(){return typeof window<"u"&&typeof window.document<"u"}function J(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function H(r){switch(r.length){case 0:return new Vt.ZN;case 1:return r[0];default:return new Vt.ZE(r)}}function oe(r,n,e,s,u=new Map,p=new Map){const x=[],S=[];let B=-1,Q=null;if(s.forEach(le=>{const Te=le.get("offset"),We=Te==B,vt=We&&Q||new Map;le.forEach((Mt,qt)=>{let ln=qt,oi=Mt;if("offset"!==qt)switch(ln=n.normalizePropertyName(ln,x),oi){case Vt.k1:oi=u.get(qt);break;case Vt.l3:oi=p.get(qt);break;default:oi=n.normalizeStyleValue(qt,ln,oi,x)}vt.set(ln,oi)}),We||S.push(vt),Q=vt,B=Te}),x.length)throw function Ao(r){return new h.vHH(3502,!1)}();return S}function ke(r,n,e,s){switch(n){case"start":r.onStart(()=>s(e&&wt(e,"start",r)));break;case"done":r.onDone(()=>s(e&&wt(e,"done",r)));break;case"destroy":r.onDestroy(()=>s(e&&wt(e,"destroy",r)))}}function wt(r,n,e){const p=Ut(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),x=r._data;return null!=x&&(p._data=x),p}function Ut(r,n,e,s,u="",p=0,x){return{element:r,triggerName:n,fromState:e,toState:s,phaseName:u,totalTime:p,disabled:!!x}}function gn(r,n,e){let s=r.get(n);return s||r.set(n,s=e),s}function Ri(r){const n=r.indexOf(":");return[r.substring(1,n),r.slice(n+1)]}let At=(r,n)=>!1,Kn=(r,n,e)=>[],$n=null;function ir(r){const n=r.parentNode||r.host;return n===$n?null:n}(J()||typeof Element<"u")&&(N()?($n=(()=>document.documentElement)(),At=(r,n)=>{for(;n;){if(n===r)return!0;n=ir(n)}return!1}):At=(r,n)=>r.contains(n),Kn=(r,n,e)=>{if(e)return Array.from(r.querySelectorAll(n));const s=r.querySelector(n);return s?[s]:[]});let ds=null,Jt=!1;const Mo=At,Aa=Kn;let pd=(()=>{class r{validateStyleProperty(e){return function pt(r){ds||(ds=function cr(){return typeof document<"u"?document.body:null}()||{},Jt=!!ds.style&&"WebkitAppearance"in ds.style);let n=!0;return ds.style&&!function hn(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in ds.style,!n&&Jt&&(n="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in ds.style)),n}(e)}matchesElement(e,s){return!1}containsElement(e,s){return Mo(e,s)}getParentElement(e){return ir(e)}query(e,s,u){return Aa(e,s,u)}computeStyle(e,s,u){return u||""}animate(e,s,u,p,x,S=[],B){return new Vt.ZN(u,p)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),Ma=(()=>{class r{}return r.NOOP=new pd,r})();const Cf=1e3,so="ng-enter",ql="ng-leave",ol="ng-trigger",Yn=".ng-trigger",Sr="ng-animating",xr=".ng-animating";function Oi(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Rn(parseFloat(n[1]),n[2])}function Rn(r,n){return"s"===n?r*Cf:r}function ka(r,n,e){return r.hasOwnProperty("duration")?r:function gi(r,n,e){let u,p=0,x="";if("string"==typeof r){const S=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===S)return n.push(Qi()),{duration:0,delay:0,easing:""};u=Rn(parseFloat(S[1]),S[2]);const B=S[3];null!=B&&(p=Rn(parseFloat(B),S[4]));const Q=S[5];Q&&(x=Q)}else u=r;if(!e){let S=!1,B=n.length;u<0&&(n.push(function Ls(){return new h.vHH(3100,!1)}()),S=!0),p<0&&(n.push(function Ja(){return new h.vHH(3101,!1)}()),S=!0),S&&n.splice(B,0,Qi())}return{duration:u,delay:p,easing:x}}(r,n,e)}function jc(r,n={}){return Object.keys(r).forEach(e=>{n[e]=r[e]}),n}function dr(r){const n=new Map;return Object.keys(r).forEach(e=>{n.set(e,r[e])}),n}function Us(r,n=new Map,e){if(e)for(let[s,u]of e)n.set(s,u);for(let[s,u]of r)n.set(s,u);return n}function Fr(r,n,e){return e?n+":"+e+";":""}function oo(r){let n="";for(let e=0;e<r.style.length;e++){const s=r.style.item(e);n+=Fr(0,s,r.style.getPropertyValue(s))}for(const e in r.style)r.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=Fr(0,dl(e),r.style[e]));r.setAttribute("style",n)}function zr(r,n,e){r.style&&(n.forEach((s,u)=>{const p=Ro(u);e&&!e.has(u)&&e.set(u,r.style[p]),r.style[p]=s}),J()&&oo(r))}function al(r,n){r.style&&(n.forEach((e,s)=>{const u=Ro(s);r.style[u]=""}),J()&&oo(r))}function Gr(r){return Array.isArray(r)?1==r.length?r[0]:(0,Vt.vP)(r):r}const ll=new RegExp("{{\\s*(.+?)\\s*}}","g");function Vs(r){let n=[];if("string"==typeof r){let e;for(;e=ll.exec(r);)n.push(e[1]);ll.lastIndex=0}return n}function po(r,n,e){const s=r.toString(),u=s.replace(ll,(p,x)=>{let S=n[x];return null==S&&(e.push(function Qr(r){return new h.vHH(3003,!1)}()),S=""),S.toString()});return u==s?r:u}function Ra(r){const n=[];let e=r.next();for(;!e.done;)n.push(e.value),e=r.next();return n}const cl=/-+([a-z0-9])/g;function Ro(r){return r.replace(cl,(...n)=>n[1].toUpperCase())}function dl(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $r(r,n,e){switch(n.type){case 7:return r.visitTrigger(n,e);case 0:return r.visitState(n,e);case 1:return r.visitTransition(n,e);case 2:return r.visitSequence(n,e);case 3:return r.visitGroup(n,e);case 4:return r.visitAnimate(n,e);case 5:return r.visitKeyframes(n,e);case 6:return r.visitStyle(n,e);case 8:return r.visitReference(n,e);case 9:return r.visitAnimateChild(n,e);case 10:return r.visitAnimateRef(n,e);case 11:return r.visitQuery(n,e);case 12:return r.visitStagger(n,e);default:throw function ca(r){return new h.vHH(3004,!1)}()}}function ur(r,n){return window.getComputedStyle(r)[n]}const ul="*";function Oo(r,n){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function zc(r,n,e){if(":"==r[0]){const B=function Lr(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return n.push(function Uc(r){return new h.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof B)return void n.push(B);r=B}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(function vc(r){return new h.vHH(3015,!1)}()),n;const u=s[1],p=s[2],x=s[3];n.push(yu(u,x));"<"==p[0]&&!(u==ul&&x==ul)&&n.push(yu(x,u))}(s,e,n)):e.push(r),e}const Jl=new Set(["true","1"]),Br=new Set(["false","0"]);function yu(r,n){const e=Jl.has(r)||Br.has(r),s=Jl.has(n)||Br.has(n);return(u,p)=>{let x=r==ul||r==u,S=n==ul||n==p;return!x&&e&&"boolean"==typeof u&&(x=u?Jl.has(r):Br.has(r)),!S&&s&&"boolean"==typeof p&&(S=p?Jl.has(n):Br.has(n)),x&&S}}const Ss=new RegExp("s*:selfs*,?","g");function kl(r,n,e,s){return new A(r).build(n,e,s)}class A{constructor(n){this._driver=n}build(n,e,s){const u=new L(e);return this._resetContextStyleTimingState(u),$r(this,Gr(n),u)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let s=e.queryCount=0,u=e.depCount=0;const p=[],x=[];return"@"==n.name.charAt(0)&&e.errors.push(function Al(){return new h.vHH(3006,!1)}()),n.definitions.forEach(S=>{if(this._resetContextStyleTimingState(e),0==S.type){const B=S,Q=B.name;Q.toString().split(/\s*,\s*/).forEach(le=>{B.name=le,p.push(this.visitState(B,e))}),B.name=Q}else if(1==S.type){const B=this.visitTransition(S,e);s+=B.queryCount,u+=B.depCount,x.push(B)}else e.errors.push(function Ia(){return new h.vHH(3007,!1)}())}),{type:7,name:n.name,states:p,transitions:x,queryCount:s,depCount:u,options:null}}visitState(n,e){const s=this.visitStyle(n.styles,e),u=n.options&&n.options.params||null;if(s.containsDynamicStyles){const p=new Set,x=u||{};s.styles.forEach(S=>{S instanceof Map&&S.forEach(B=>{Vs(B).forEach(Q=>{x.hasOwnProperty(Q)||p.add(Q)})})}),p.size&&(Ra(p.values()),e.errors.push(function el(r,n){return new h.vHH(3008,!1)}()))}return{type:0,name:n.name,style:s,options:u?{params:u}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const s=$r(this,Gr(n.animation),e);return{type:1,matchers:Oo(n.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:_e(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(s=>$r(this,s,e)),options:_e(n.options)}}visitGroup(n,e){const s=e.currentTime;let u=0;const p=n.steps.map(x=>{e.currentTime=s;const S=$r(this,x,e);return u=Math.max(u,e.currentTime),S});return e.currentTime=u,{type:3,steps:p,options:_e(n.options)}}visitAnimate(n,e){const s=function re(r,n){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return tt(ka(r,n).duration,0,"");const e=r;if(e.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=tt(0,0,"");return p.dynamic=!0,p.strValue=e,p}const u=ka(e,n);return tt(u.duration,u.delay,u.easing)}(n.timings,e.errors);e.currentAnimateTimings=s;let u,p=n.styles?n.styles:(0,Vt.oB)({});if(5==p.type)u=this.visitKeyframes(p,e);else{let x=n.styles,S=!1;if(!x){S=!0;const Q={};s.easing&&(Q.easing=s.easing),x=(0,Vt.oB)(Q)}e.currentTime+=s.duration+s.delay;const B=this.visitStyle(x,e);B.isEmptyStep=S,u=B}return e.currentAnimateTimings=null,{type:4,timings:s,style:u,options:null}}visitStyle(n,e){const s=this._makeStyleAst(n,e);return this._validateStyleAst(s,e),s}_makeStyleAst(n,e){const s=[],u=Array.isArray(n.styles)?n.styles:[n.styles];for(let S of u)"string"==typeof S?S===Vt.l3?s.push(S):e.errors.push(new h.vHH(3002,!1)):s.push(dr(S));let p=!1,x=null;return s.forEach(S=>{if(S instanceof Map&&(S.has("easing")&&(x=S.get("easing"),S.delete("easing")),!p))for(let B of S.values())if(B.toString().indexOf("{{")>=0){p=!0;break}}),{type:6,styles:s,easing:x,offset:n.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(n,e){const s=e.currentAnimateTimings;let u=e.currentTime,p=e.currentTime;s&&p>0&&(p-=s.duration+s.delay),n.styles.forEach(x=>{"string"!=typeof x&&x.forEach((S,B)=>{const Q=e.collectedStyles.get(e.currentQuerySelector),le=Q.get(B);let Te=!0;le&&(p!=u&&p>=le.startTime&&u<=le.endTime&&(e.errors.push(function $o(r,n,e,s,u){return new h.vHH(3010,!1)}()),Te=!1),p=le.startTime),Te&&Q.set(B,{startTime:p,endTime:u}),e.options&&function ko(r,n,e){const s=n.params||{},u=Vs(r);u.length&&u.forEach(p=>{s.hasOwnProperty(p)||e.push(function Ds(r){return new h.vHH(3001,!1)}())})}(S,e.options,e.errors)})})}visitKeyframes(n,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function nl(){return new h.vHH(3011,!1)}()),s;let p=0;const x=[];let S=!1,B=!1,Q=0;const le=n.steps.map(oi=>{const or=this._makeStyleAst(oi,e);let er=null!=or.offset?or.offset:function q(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const s=e;n=parseFloat(s.get("offset")),s.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(or.styles),fr=0;return null!=er&&(p++,fr=or.offset=er),B=B||fr<0||fr>1,S=S||fr<Q,Q=fr,x.push(fr),or});B&&e.errors.push(function il(){return new h.vHH(3012,!1)}()),S&&e.errors.push(function Wo(){return new h.vHH(3200,!1)}());const Te=n.steps.length;let We=0;p>0&&p<Te?e.errors.push(function Sa(){return new h.vHH(3202,!1)}()):0==p&&(We=1/(Te-1));const vt=Te-1,Mt=e.currentTime,qt=e.currentAnimateTimings,ln=qt.duration;return le.forEach((oi,or)=>{const er=We>0?or==vt?1:We*or:x[or],fr=er*ln;e.currentTime=Mt+qt.delay+fr,qt.duration=fr,this._validateStyleAst(oi,e),oi.offset=er,s.styles.push(oi)}),s}visitReference(n,e){return{type:8,animation:$r(this,Gr(n.animation),e),options:_e(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:_e(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:_e(n.options)}}visitQuery(n,e){const s=e.currentQuerySelector,u=n.options||{};e.queryCount++,e.currentQuery=n;const[p,x]=function M(r){const n=!!r.split(/\s*,\s*/).find(e=>":self"==e);return n&&(r=r.replace(Ss,"")),r=r.replace(/@\*/g,Yn).replace(/@\w+/g,e=>Yn+"-"+e.slice(1)).replace(/:animating/g,xr),[r,n]}(n.selector);e.currentQuerySelector=s.length?s+" "+p:p,gn(e.collectedStyles,e.currentQuerySelector,new Map);const S=$r(this,Gr(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:p,limit:u.limit||0,optional:!!u.optional,includeSelf:x,animation:S,originalSelector:n.selector,options:_e(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function Ta(){return new h.vHH(3013,!1)}());const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:ka(n.timings,e.errors,!0);return{type:12,animation:$r(this,Gr(n.animation),e),timings:s,options:null}}}class L{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _e(r){return r?(r=jc(r)).params&&(r.params=function D(r){return r?jc(r):null}(r.params)):r={},r}function tt(r,n,e){return{duration:r,delay:n,easing:e}}function zt(r,n,e,s,u,p,x=null,S=!1){return{type:1,element:r,keyframes:n,preStyleProps:e,postStyleProps:s,duration:u,delay:p,totalTime:u+p,easing:x,subTimeline:S}}class pn{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const us=new RegExp(":enter","g"),Na=new RegExp(":leave","g");function Ts(r,n,e,s,u,p=new Map,x=new Map,S,B,Q=[]){return(new Qs).buildKeyframes(r,n,e,s,u,p,x,S,B,Q)}class Qs{buildKeyframes(n,e,s,u,p,x,S,B,Q,le=[]){Q=Q||new pn;const Te=new Fa(n,e,Q,u,p,le,[]);Te.options=B;const We=B.delay?Oi(B.delay):0;Te.currentTimeline.delayNextStep(We),Te.currentTimeline.setStyles([x],null,Te.errors,B),$r(this,s,Te);const vt=Te.timelines.filter(Mt=>Mt.containsAnimation());if(vt.length&&S.size){let Mt;for(let qt=vt.length-1;qt>=0;qt--){const ln=vt[qt];if(ln.element===e){Mt=ln;break}}Mt&&!Mt.allowOnlyTimelineStyles()&&Mt.setStyles([S],null,Te.errors,B)}return vt.length?vt.map(Mt=>Mt.buildKeyframes()):[zt(e,[],[],[],0,We,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const s=e.subInstructions.get(e.element);if(s){const u=e.createSubContext(n.options),p=e.currentTimeline.currentTime,x=this._visitSubInstructions(s,u,u.options);p!=x&&e.transformIntoNewTimeline(x)}e.previousNode=n}visitAnimateRef(n,e){const s=e.createSubContext(n.options);s.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,s),this.visitReference(n.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,s){for(const u of n){const p=u?.delay;if(p){const x="number"==typeof p?p:Oi(po(p,u?.params??{},e.errors));s.delayNextStep(x)}}}_visitSubInstructions(n,e,s){let p=e.currentTimeline.currentTime;const x=null!=s.duration?Oi(s.duration):null,S=null!=s.delay?Oi(s.delay):null;return 0!==x&&n.forEach(B=>{const Q=e.appendInstructionToTimeline(B,x,S);p=Math.max(p,Q.duration+Q.delay)}),p}visitReference(n,e){e.updateOptions(n.options,!0),$r(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const s=e.subContextCount;let u=e;const p=n.options;if(p&&(p.params||p.delay)&&(u=e.createSubContext(p),u.transformIntoNewTimeline(),null!=p.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=Po);const x=Oi(p.delay);u.delayNextStep(x)}n.steps.length&&(n.steps.forEach(x=>$r(this,x,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>s&&u.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const s=[];let u=e.currentTimeline.currentTime;const p=n.options&&n.options.delay?Oi(n.options.delay):0;n.steps.forEach(x=>{const S=e.createSubContext(n.options);p&&S.delayNextStep(p),$r(this,x,S),u=Math.max(u,S.currentTimeline.currentTime),s.push(S.currentTimeline)}),s.forEach(x=>e.currentTimeline.mergeTimelineCollectedStyles(x)),e.transformIntoNewTimeline(u),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const s=n.strValue;return ka(e.params?po(s,e.params,e.errors):s,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const s=e.currentAnimateTimings=this._visitTiming(n.timings,e),u=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),u.snapshotCurrentStyles());const p=n.style;5==p.type?this.visitKeyframes(p,e):(e.incrementTime(s.duration),this.visitStyle(p,e),u.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const s=e.currentTimeline,u=e.currentAnimateTimings;!u&&s.hasCurrentStyleProperties()&&s.forwardFrame();const p=u&&u.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(p):s.setStyles(n.styles,p,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const s=e.currentAnimateTimings,u=e.currentTimeline.duration,p=s.duration,S=e.createSubContext().currentTimeline;S.easing=s.easing,n.styles.forEach(B=>{S.forwardTime((B.offset||0)*p),S.setStyles(B.styles,B.easing,e.errors,e.options),S.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(S),e.transformIntoNewTimeline(u+p),e.previousNode=n}visitQuery(n,e){const s=e.currentTimeline.currentTime,u=n.options||{},p=u.delay?Oi(u.delay):0;p&&(6===e.previousNode.type||0==s&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Po);let x=s;const S=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!u.optional,e.errors);e.currentQueryTotal=S.length;let B=null;S.forEach((Q,le)=>{e.currentQueryIndex=le;const Te=e.createSubContext(n.options,Q);p&&Te.delayNextStep(p),Q===e.element&&(B=Te.currentTimeline),$r(this,n.animation,Te),Te.currentTimeline.applyStylesToKeyframe(),x=Math.max(x,Te.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(x),B&&(e.currentTimeline.mergeTimelineCollectedStyles(B),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const s=e.parentContext,u=e.currentTimeline,p=n.timings,x=Math.abs(p.duration),S=x*(e.currentQueryTotal-1);let B=x*e.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":B=S-B;break;case"full":B=s.currentStaggerTime}const le=e.currentTimeline;B&&le.delayNextStep(B);const Te=le.currentTime;$r(this,n.animation,e),e.previousNode=n,s.currentStaggerTime=u.currentTime-Te+(u.startTime-s.currentTimeline.startTime)}}const Po={};class Fa{constructor(n,e,s,u,p,x,S,B){this._driver=n,this.element=e,this.subInstructions=s,this._enterClassName=u,this._leaveClassName=p,this.errors=x,this.timelines=S,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Po,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=B||new ua(this._driver,e,0),S.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const s=n;let u=this.options;null!=s.duration&&(u.duration=Oi(s.duration)),null!=s.delay&&(u.delay=Oi(s.delay));const p=s.params;if(p){let x=u.params;x||(x=this.options.params={}),Object.keys(p).forEach(S=>{(!e||!x.hasOwnProperty(S))&&(x[S]=po(p[S],x,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const s=n.params={};Object.keys(e).forEach(u=>{s[u]=e[u]})}}return n}createSubContext(n=null,e,s){const u=e||this.element,p=new Fa(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,s||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(n),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(n){return this.previousNode=Po,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,s){const u={duration:e??n.duration,delay:this.currentTimeline.currentTime+(s??0)+n.delay,easing:""},p=new mh(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,u,n.stretchStartingKeyframe);return this.timelines.push(p),u}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,s,u,p,x){let S=[];if(u&&S.push(this.element),n.length>0){n=(n=n.replace(us,"."+this._enterClassName)).replace(Na,"."+this._leaveClassName);let Q=this._driver.query(this.element,n,1!=s);0!==s&&(Q=s<0?Q.slice(Q.length+s,Q.length):Q.slice(0,s)),S.push(...Q)}return!p&&0==S.length&&x.push(function Kl(r){return new h.vHH(3014,!1)}()),S}}class ua{constructor(n,e,s,u){this._driver=n,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=u,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new ua(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,s]of this._globalTimelineStyles)this._backFill.set(e,s||Vt.l3),this._currentKeyframe.set(e,Vt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,s,u){e&&this._previousKeyframe.set("easing",e);const p=u&&u.params||{},x=function Hs(r,n){const e=new Map;let s;return r.forEach(u=>{if("*"===u){s=s||n.keys();for(let p of s)e.set(p,Vt.l3)}else Us(u,e)}),e}(n,this._globalTimelineStyles);for(let[S,B]of x){const Q=po(B,p,s);this._pendingStyles.set(S,Q),this._localTimelineStyles.has(S)||this._backFill.set(S,this._globalTimelineStyles.get(S)??Vt.l3),this._updateStyle(S,Q)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,s)=>{const u=this._styleSummary.get(s);(!u||e.time>u.time)&&this._updateStyle(s,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((S,B)=>{const Q=Us(S,new Map,this._backFill);Q.forEach((le,Te)=>{le===Vt.k1?n.add(Te):le===Vt.l3&&e.add(Te)}),s||Q.set("offset",B/this.duration),u.push(Q)});const p=n.size?Ra(n.values()):[],x=e.size?Ra(e.values()):[];if(s){const S=u[0],B=new Map(S);S.set("offset",0),B.set("offset",1),u=[S,B]}return zt(this.element,u,p,x,this.duration,this.startTime,this.easing,!1)}}class mh extends ua{constructor(n,e,s,u,p,x,S=!1){super(n,e,x.delay),this.keyframes=s,this.preStyleProps=u,this.postStyleProps=p,this._stretchStartingKeyframe=S,this.timings={duration:x.duration,delay:x.delay,easing:x.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:s,easing:u}=this.timings;if(this._stretchStartingKeyframe&&e){const p=[],x=s+e,S=e/x,B=Us(n[0]);B.set("offset",0),p.push(B);const Q=Us(n[0]);Q.set("offset",fl(S)),p.push(Q);const le=n.length-1;for(let Te=1;Te<=le;Te++){let We=Us(n[Te]);const vt=We.get("offset");We.set("offset",fl((e+vt*s)/x)),p.push(We)}s=x,e=0,u="",n=p}return zt(this.element,n,this.preStyleProps,this.postStyleProps,s,e,u,!0)}}function fl(r,n=3){const e=Math.pow(10,n-1);return Math.round(r*e)/e}class V{}const ne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Pe extends V{normalizePropertyName(n,e){return Ro(n)}normalizeStyleValue(n,e,s,u){let p="";const x=s.toString().trim();if(ne.has(e)&&0!==s&&"0"!==s)if("number"==typeof s)p="px";else{const S=s.match(/^[+-]?[\d\.]+([a-z]*)$/);S&&0==S[1].length&&u.push(function yc(r,n){return new h.vHH(3005,!1)}())}return x+p}}function Ze(r,n,e,s,u,p,x,S,B,Q,le,Te,We){return{type:0,element:r,triggerName:n,isRemovalTransition:u,fromState:e,fromStyles:p,toState:s,toStyles:x,timelines:S,queriedElements:B,preStyleProps:Q,postStyleProps:le,totalTime:Te,errors:We}}const it={};class Kt{constructor(n,e,s){this._triggerName=n,this.ast=e,this._stateStyles=s}match(n,e,s,u){return function An(r,n,e,s,u){return r.some(p=>p(n,e,s,u))}(this.ast.matchers,n,e,s,u)}buildStyles(n,e,s){let u=this._stateStyles.get("*");return void 0!==n&&(u=this._stateStyles.get(n?.toString())||u),u?u.buildStyles(e,s):new Map}build(n,e,s,u,p,x,S,B,Q,le){const Te=[],We=this.ast.options&&this.ast.options.params||it,Mt=this.buildStyles(s,S&&S.params||it,Te),qt=B&&B.params||it,ln=this.buildStyles(u,qt,Te),oi=new Set,or=new Map,er=new Map,fr="void"===u,uu={params:Zn(qt,We),delay:this.ast.options?.delay},zl=le?[]:Ts(n,e,this.ast.animation,p,x,Mt,ln,uu,Q,Te);let Ka=0;if(zl.forEach(hu=>{Ka=Math.max(hu.duration+hu.delay,Ka)}),Te.length)return Ze(e,this._triggerName,s,u,fr,Mt,ln,[],[],or,er,Ka,Te);zl.forEach(hu=>{const Jp=hu.element,EC=gn(or,Jp,new Set);hu.preStyleProps.forEach(lv=>EC.add(lv));const _w=gn(er,Jp,new Set);hu.postStyleProps.forEach(lv=>_w.add(lv)),Jp!==e&&oi.add(Jp)});const Lc=Ra(oi.values());return Ze(e,this._triggerName,s,u,fr,Mt,ln,zl,Lc,or,er,Ka)}}function Zn(r,n){const e=jc(n);for(const s in r)r.hasOwnProperty(s)&&null!=r[s]&&(e[s]=r[s]);return e}class Fi{constructor(n,e,s){this.styles=n,this.defaultParams=e,this.normalizer=s}buildStyles(n,e){const s=new Map,u=jc(this.defaultParams);return Object.keys(n).forEach(p=>{const x=n[p];null!==x&&(u[p]=x)}),this.styles.styles.forEach(p=>{"string"!=typeof p&&p.forEach((x,S)=>{x&&(x=po(x,u,e));const B=this.normalizer.normalizePropertyName(S,e);x=this.normalizer.normalizeStyleValue(S,B,x,e),s.set(S,x)})}),s}}class ha{constructor(n,e,s){this.name=n,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states=new Map,e.states.forEach(u=>{this.states.set(u.name,new Fi(u.style,u.options&&u.options.params||{},s))}),yr(this.states,"true","1"),yr(this.states,"false","0"),e.transitions.forEach(u=>{this.transitionFactories.push(new Kt(n,u,this.states))}),this.fallbackTransition=function Wr(r,n,e){return new Kt(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(x,S)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,s,u){return this.transitionFactories.find(x=>x.match(n,e,s,u))||null}matchStyles(n,e,s){return this.fallbackTransition.buildStyles(n,e,s)}}function yr(r,n,e){r.has(n)?r.has(e)||r.set(e,r.get(n)):r.has(e)&&r.set(n,r.get(e))}const fa=new pn;class ec{constructor(n,e,s){this.bodyNode=n,this._driver=e,this._normalizer=s,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const s=[],u=[],p=kl(this._driver,e,s,u);if(s.length)throw function _r(r){return new h.vHH(3503,!1)}();this._animations.set(n,p)}_buildPlayer(n,e,s){const u=n.element,p=oe(0,this._normalizer,0,n.keyframes,e,s);return this._driver.animate(u,p,n.duration,n.delay,n.easing,[],!0)}create(n,e,s={}){const u=[],p=this._animations.get(n);let x;const S=new Map;if(p?(x=Ts(this._driver,e,p,so,ql,new Map,new Map,s,fa,u),x.forEach(le=>{const Te=gn(S,le.element,new Map);le.postStyleProps.forEach(We=>Te.set(We,null))})):(u.push(function rl(){return new h.vHH(3300,!1)}()),x=[]),u.length)throw function Bs(r){return new h.vHH(3504,!1)}();S.forEach((le,Te)=>{le.forEach((We,vt)=>{le.set(vt,this._driver.computeStyle(Te,vt,Vt.l3))})});const Q=H(x.map(le=>{const Te=S.get(le.element);return this._buildPlayer(le,new Map,Te)}));return this._playersById.set(n,Q),Q.onDestroy(()=>this.destroy(n)),this.players.push(Q),Q}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function Vc(r){return new h.vHH(3301,!1)}();return e}listen(n,e,s,u){const p=Ut(e,"","","");return ke(this._getPlayer(n),s,p,u),()=>{}}command(n,e,s,u){if("register"==s)return void this.register(n,u[0]);if("create"==s)return void this.create(n,e,u[0]||{});const p=this._getPlayer(n);switch(s){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(n)}}}const go="ng-animate-queued",gh="ng-animate-disabled",tc=[],Yo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_h={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},js="__ng_removed";class bu{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const s=n&&n.hasOwnProperty("value");if(this.value=function Nm(r){return r??null}(s?n.value:n),s){const p=jc(n);delete p.value,this.options=p}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const s=this.options.params;Object.keys(e).forEach(u=>{null==s[u]&&(s[u]=e[u])})}}}const nc="void",yh=new bu(nc);class _d{constructor(n,e,s){this.id=n,this.hostElement=e,this._engine=s,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ma(e,this._hostClassName)}listen(n,e,s,u){if(!this._triggers.has(e))throw function da(r,n){return new h.vHH(3302,!1)}();if(null==s||0==s.length)throw function wr(r){return new h.vHH(3303,!1)}();if(!function wu(r){return"start"==r||"done"==r}(s))throw function fd(r,n){return new h.vHH(3400,!1)}();const p=gn(this._elementListeners,n,[]),x={name:e,phase:s,callback:u};p.push(x);const S=gn(this._engine.statesByElement,n,new Map);return S.has(e)||(ma(n,ol),ma(n,ol+"-"+e),S.set(e,yh)),()=>{this._engine.afterFlush(()=>{const B=p.indexOf(x);B>=0&&p.splice(B,1),this._triggers.has(e)||S.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function _s(r){return new h.vHH(3401,!1)}();return e}trigger(n,e,s,u=!0){const p=this._getTrigger(e),x=new yd(this.id,e,n);let S=this._engine.statesByElement.get(n);S||(ma(n,ol),ma(n,ol+"-"+e),this._engine.statesByElement.set(n,S=new Map));let B=S.get(e);const Q=new bu(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&B&&Q.absorbOptions(B.options),S.set(e,Q),B||(B=yh),Q.value!==nc&&B.value===Q.value){if(!function Gc(r,n){const e=Object.keys(r),s=Object.keys(n);if(e.length!=s.length)return!1;for(let u=0;u<e.length;u++){const p=e[u];if(!n.hasOwnProperty(p)||r[p]!==n[p])return!1}return!0}(B.params,Q.params)){const qt=[],ln=p.matchStyles(B.value,B.params,qt),oi=p.matchStyles(Q.value,Q.params,qt);qt.length?this._engine.reportError(qt):this._engine.afterFlush(()=>{al(n,ln),zr(n,oi)})}return}const We=gn(this._engine.playersByElement,n,[]);We.forEach(qt=>{qt.namespaceId==this.id&&qt.triggerName==e&&qt.queued&&qt.destroy()});let vt=p.matchTransition(B.value,Q.value,n,Q.params),Mt=!1;if(!vt){if(!u)return;vt=p.fallbackTransition,Mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:vt,fromState:B,toState:Q,player:x,isFallbackTransition:Mt}),Mt||(ma(n,go),x.onStart(()=>{vd(n,go)})),x.onDone(()=>{let qt=this.players.indexOf(x);qt>=0&&this.players.splice(qt,1);const ln=this._engine.playersByElement.get(n);if(ln){let oi=ln.indexOf(x);oi>=0&&ln.splice(oi,1)}}),this.players.push(x),We.push(x),x}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(u=>u.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const s=this._engine.driver.query(n,Yn,!0);s.forEach(u=>{if(u[js])return;const p=this._engine.fetchNamespacesByElement(u);p.size?p.forEach(x=>x.triggerLeaveAnimation(u,e,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(n,e,s,u){const p=this._engine.statesByElement.get(n),x=new Map;if(p){const S=[];if(p.forEach((B,Q)=>{if(x.set(Q,B.value),this._triggers.has(Q)){const le=this.trigger(n,Q,nc,u);le&&S.push(le)}}),S.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,x),s&&H(S).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(e&&s){const u=new Set;e.forEach(p=>{const x=p.name;if(u.has(x))return;u.add(x);const B=this._triggers.get(x).fallbackTransition,Q=s.get(x)||yh,le=new bu(nc),Te=new yd(this.id,x,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:x,transition:B,fromState:Q,toState:le,player:Te,isFallbackTransition:!0})})}}removeNode(n,e){const s=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let u=!1;if(s.totalAnimations){const p=s.players.length?s.playersByQueriedElement.get(n):[];if(p&&p.length)u=!0;else{let x=n;for(;x=x.parentNode;)if(s.statesByElement.get(x)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(n),u)s.markElementAsRemoved(this.id,n,!1,e);else{const p=n[js];(!p||p===Yo)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,e))}}insertNode(n,e){ma(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(s=>{const u=s.player;if(u.destroyed)return;const p=s.element,x=this._elementListeners.get(p);x&&x.forEach(S=>{if(S.name==s.triggerName){const B=Ut(p,s.triggerName,s.fromState.value,s.toState.value);B._data=n,ke(s.player,S.phase,B,S.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):e.push(s)}),this._queue=[],e.sort((s,u)=>{const p=s.transition.ast.depCount,x=u.transition.ast.depCount;return 0==p||0==x?p-x:this._engine.driver.containsElement(s.element,u.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(s=>s.element===n)||e,e}}class eg{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,s){this.bodyNode=n,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,p)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,e){const s=new _d(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,e){const s=this._namespaceList,u=this.namespacesByHostElement;if(s.length-1>=0){let x=!1,S=this.driver.getParentElement(e);for(;S;){const B=u.get(S);if(B){const Q=s.indexOf(B);s.splice(Q+1,0,n),x=!0;break}S=this.driver.getParentElement(S)}x||s.unshift(n)}else s.push(n);return u.set(e,n),n}register(n,e){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,e)),s}registerTrigger(n,e,s){let u=this._namespaceLookup[n];u&&u.register(e,s)&&this.totalAnimations++}destroy(n,e){if(!n)return;const s=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[n];const u=this._namespaceList.indexOf(s);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,s=this.statesByElement.get(n);if(s)for(let u of s.values())if(u.namespaceId){const p=this._fetchNamespace(u.namespaceId);p&&e.add(p)}return e}trigger(n,e,s,u){if(bc(e)){const p=this._fetchNamespace(n);if(p)return p.trigger(e,s,u),!0}return!1}insertNode(n,e,s,u){if(!bc(e))return;const p=e[js];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const x=this.collectedLeaveElements.indexOf(e);x>=0&&this.collectedLeaveElements.splice(x,1)}if(n){const x=this._fetchNamespace(n);x&&x.insertNode(e,s)}u&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ma(n,gh)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),vd(n,gh))}removeNode(n,e,s,u){if(bc(e)){const p=n?this._fetchNamespace(n):null;if(p?p.removeNode(e,u):this.markElementAsRemoved(n,e,!1,u),s){const x=this.namespacesByHostElement.get(e);x&&x.id!==n&&x.removeNode(e,u)}}else this._onRemovalComplete(e,u)}markElementAsRemoved(n,e,s,u,p){this.collectedLeaveElements.push(e),e[js]={namespaceId:n,setForRemoval:u,hasAnimation:s,removedBeforeQueried:!1,previousTriggersValues:p}}listen(n,e,s,u,p){return bc(e)?this._fetchNamespace(n).listen(e,s,u,p):()=>{}}_buildInstruction(n,e,s,u,p){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,u,n.fromState.options,n.toState.options,e,p)}destroyInnerAnimations(n){let e=this.driver.query(n,Yn,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,xr,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return H(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[js];if(e&&e.setForRemoval){if(n[js]=Yo,e.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(gh)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,u)=>this._balanceNamespaceList(s,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)ma(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,n)}finally{for(let u=0;u<s.length;u++)s[u]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?H(e).onDone(()=>{s.forEach(u=>u())}):s.forEach(u=>u())}}reportError(n){throw function sl(r){return new h.vHH(3402,!1)}()}_flushAnimations(n,e){const s=new pn,u=[],p=new Map,x=[],S=new Map,B=new Map,Q=new Map,le=new Set;this.disabledNodes.forEach(Qn=>{le.add(Qn);const li=this.driver.query(Qn,".ng-animate-queued",!0);for(let xi=0;xi<li.length;xi++)le.add(li[xi])});const Te=this.bodyNode,We=Array.from(this.statesByElement.keys()),vt=Ol(We,this.collectedEnterElements),Mt=new Map;let qt=0;vt.forEach((Qn,li)=>{const xi=so+qt++;Mt.set(li,xi),Qn.forEach(Vr=>ma(Vr,xi))});const ln=[],oi=new Set,or=new Set;for(let Qn=0;Qn<this.collectedLeaveElements.length;Qn++){const li=this.collectedLeaveElements[Qn],xi=li[js];xi&&xi.setForRemoval&&(ln.push(li),oi.add(li),xi.hasAnimation?this.driver.query(li,".ng-star-inserted",!0).forEach(Vr=>oi.add(Vr)):or.add(li))}const er=new Map,fr=Ol(We,Array.from(oi));fr.forEach((Qn,li)=>{const xi=ql+qt++;er.set(li,xi),Qn.forEach(Vr=>ma(Vr,xi))}),n.push(()=>{vt.forEach((Qn,li)=>{const xi=Mt.get(li);Qn.forEach(Vr=>vd(Vr,xi))}),fr.forEach((Qn,li)=>{const xi=er.get(li);Qn.forEach(Vr=>vd(Vr,xi))}),ln.forEach(Qn=>{this.processLeaveNode(Qn)})});const uu=[],zl=[];for(let Qn=this._namespaceList.length-1;Qn>=0;Qn--)this._namespaceList[Qn].drainQueuedTransitions(e).forEach(xi=>{const Vr=xi.player,xl=xi.element;if(uu.push(Vr),this.collectedEnterElements.length){const _c=xl[js];if(_c&&_c.setForMove){if(_c.previousTriggersValues&&_c.previousTriggersValues.has(xi.triggerName)){const cv=_c.previousTriggersValues.get(xi.triggerName),uh=this.statesByElement.get(xi.element);if(uh&&uh.has(xi.triggerName)){const Ex=uh.get(xi.triggerName);Ex.value=cv,uh.set(xi.triggerName,Ex)}}return void Vr.destroy()}}const Pm=!Te||!this.driver.containsElement(Te,xl),fu=er.get(xl),V_=Mt.get(xl),Eo=this._buildInstruction(xi,s,V_,fu,Pm);if(Eo.errors&&Eo.errors.length)return void zl.push(Eo);if(Pm)return Vr.onStart(()=>al(xl,Eo.fromStyles)),Vr.onDestroy(()=>zr(xl,Eo.toStyles)),void u.push(Vr);if(xi.isFallbackTransition)return Vr.onStart(()=>al(xl,Eo.fromStyles)),Vr.onDestroy(()=>zr(xl,Eo.toStyles)),void u.push(Vr);const IC=[];Eo.timelines.forEach(_c=>{_c.stretchStartingKeyframe=!0,this.disabledNodes.has(_c.element)||IC.push(_c)}),Eo.timelines=IC,s.append(xl,Eo.timelines),x.push({instruction:Eo,player:Vr,element:xl}),Eo.queriedElements.forEach(_c=>gn(S,_c,[]).push(Vr)),Eo.preStyleProps.forEach((_c,cv)=>{if(_c.size){let uh=B.get(cv);uh||B.set(cv,uh=new Set),_c.forEach((Ex,LE)=>uh.add(LE))}}),Eo.postStyleProps.forEach((_c,cv)=>{let uh=Q.get(cv);uh||Q.set(cv,uh=new Set),_c.forEach((Ex,LE)=>uh.add(LE))})});if(zl.length){const Qn=[];zl.forEach(li=>{Qn.push(function md(r,n){return new h.vHH(3505,!1)}())}),uu.forEach(li=>li.destroy()),this.reportError(Qn)}const Ka=new Map,Lc=new Map;x.forEach(Qn=>{const li=Qn.element;s.has(li)&&(Lc.set(li,li),this._beforeAnimationBuild(Qn.player.namespaceId,Qn.instruction,Ka))}),u.forEach(Qn=>{const li=Qn.element;this._getPreviousPlayers(li,!1,Qn.namespaceId,Qn.triggerName,null).forEach(Vr=>{gn(Ka,li,[]).push(Vr),Vr.destroy()})});const hu=ln.filter(Qn=>Bm(Qn,B,Q)),Jp=new Map;Fm(Jp,this.driver,or,Q,Vt.l3).forEach(Qn=>{Bm(Qn,B,Q)&&hu.push(Qn)});const _w=new Map;vt.forEach((Qn,li)=>{Fm(_w,this.driver,new Set(Qn),B,Vt.k1)}),hu.forEach(Qn=>{const li=Jp.get(Qn),xi=_w.get(Qn);Jp.set(Qn,new Map([...Array.from(li?.entries()??[]),...Array.from(xi?.entries()??[])]))});const lv=[],CC=[],DC={};x.forEach(Qn=>{const{element:li,player:xi,instruction:Vr}=Qn;if(s.has(li)){if(le.has(li))return xi.onDestroy(()=>zr(li,Vr.toStyles)),xi.disabled=!0,xi.overrideTotalTime(Vr.totalTime),void u.push(xi);let xl=DC;if(Lc.size>1){let fu=li;const V_=[];for(;fu=fu.parentNode;){const Eo=Lc.get(fu);if(Eo){xl=Eo;break}V_.push(fu)}V_.forEach(Eo=>Lc.set(Eo,xl))}const Pm=this._buildAnimation(xi.namespaceId,Vr,Ka,p,_w,Jp);if(xi.setRealPlayer(Pm),xl===DC)lv.push(xi);else{const fu=this.playersByElement.get(xl);fu&&fu.length&&(xi.parentPlayer=H(fu)),u.push(xi)}}else al(li,Vr.fromStyles),xi.onDestroy(()=>zr(li,Vr.toStyles)),CC.push(xi),le.has(li)&&u.push(xi)}),CC.forEach(Qn=>{const li=p.get(Qn.element);if(li&&li.length){const xi=H(li);Qn.setRealPlayer(xi)}}),u.forEach(Qn=>{Qn.parentPlayer?Qn.syncPlayerEvents(Qn.parentPlayer):Qn.destroy()});for(let Qn=0;Qn<ln.length;Qn++){const li=ln[Qn],xi=li[js];if(vd(li,ql),xi&&xi.hasAnimation)continue;let Vr=[];if(S.size){let Pm=S.get(li);Pm&&Pm.length&&Vr.push(...Pm);let fu=this.driver.query(li,xr,!0);for(let V_=0;V_<fu.length;V_++){let Eo=S.get(fu[V_]);Eo&&Eo.length&&Vr.push(...Eo)}}const xl=Vr.filter(Pm=>!Pm.destroyed);xl.length?As(this,li,xl):this.processLeaveNode(li)}return ln.length=0,lv.forEach(Qn=>{this.players.push(Qn),Qn.onDone(()=>{Qn.destroy();const li=this.players.indexOf(Qn);this.players.splice(li,1)}),Qn.play()}),lv}elementContainsData(n,e){let s=!1;const u=e[js];return u&&u.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(n).elementContainsData(e)||s}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,s,u,p){let x=[];if(e){const S=this.playersByQueriedElement.get(n);S&&(x=S)}else{const S=this.playersByElement.get(n);if(S){const B=!p||p==nc;S.forEach(Q=>{Q.queued||!B&&Q.triggerName!=u||x.push(Q)})}}return(s||u)&&(x=x.filter(S=>!(s&&s!=S.namespaceId||u&&u!=S.triggerName))),x}_beforeAnimationBuild(n,e,s){const p=e.element,x=e.isRemovalTransition?void 0:n,S=e.isRemovalTransition?void 0:e.triggerName;for(const B of e.timelines){const Q=B.element,le=Q!==p,Te=gn(s,Q,[]);this._getPreviousPlayers(Q,le,x,S,e.toState).forEach(vt=>{const Mt=vt.getRealPlayer();Mt.beforeDestroy&&Mt.beforeDestroy(),vt.destroy(),Te.push(vt)})}al(p,e.fromStyles)}_buildAnimation(n,e,s,u,p,x){const S=e.triggerName,B=e.element,Q=[],le=new Set,Te=new Set,We=e.timelines.map(Mt=>{const qt=Mt.element;le.add(qt);const ln=qt[js];if(ln&&ln.removedBeforeQueried)return new Vt.ZN(Mt.duration,Mt.delay);const oi=qt!==B,or=function Lm(r){const n=[];return Tr(r,n),n}((s.get(qt)||tc).map(Ka=>Ka.getRealPlayer())).filter(Ka=>!!Ka.element&&Ka.element===qt),er=p.get(qt),fr=x.get(qt),uu=oe(0,this._normalizer,0,Mt.keyframes,er,fr),zl=this._buildPlayer(Mt,uu,or);if(Mt.subTimeline&&u&&Te.add(qt),oi){const Ka=new yd(n,S,qt);Ka.setRealPlayer(zl),Q.push(Ka)}return zl});Q.forEach(Mt=>{gn(this.playersByQueriedElement,Mt.element,[]).push(Mt),Mt.onDone(()=>function If(r,n,e){let s=r.get(n);if(s){if(s.length){const u=s.indexOf(e);s.splice(u,1)}0==s.length&&r.delete(n)}return s}(this.playersByQueriedElement,Mt.element,Mt))}),le.forEach(Mt=>ma(Mt,Sr));const vt=H(We);return vt.onDestroy(()=>{le.forEach(Mt=>vd(Mt,Sr)),zr(B,e.toStyles)}),Te.forEach(Mt=>{gn(u,Mt,[]).push(vt)}),vt}_buildPlayer(n,e,s){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,s):new Vt.ZN(n.duration,n.delay)}}class yd{constructor(n,e,s){this.namespaceId=n,this.triggerName=e,this.element=s,this._player=new Vt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,s)=>{e.forEach(u=>ke(n,s,void 0,u))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){gn(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function bc(r){return r&&1===r.nodeType}function xu(r,n){const e=r.style.display;return r.style.display=n??"none",e}function Fm(r,n,e,s,u){const p=[];e.forEach(B=>p.push(xu(B)));const x=[];s.forEach((B,Q)=>{const le=new Map;B.forEach(Te=>{const We=n.computeStyle(Q,Te,u);le.set(Te,We),(!We||0==We.length)&&(Q[js]=_h,x.push(Q))}),r.set(Q,le)});let S=0;return e.forEach(B=>xu(B,p[S++])),x}function Ol(r,n){const e=new Map;if(r.forEach(S=>e.set(S,[])),0==n.length)return e;const s=1,u=new Set(n),p=new Map;function x(S){if(!S)return s;let B=p.get(S);if(B)return B;const Q=S.parentNode;return B=e.has(Q)?Q:u.has(Q)?s:x(Q),p.set(S,B),B}return n.forEach(S=>{const B=x(S);B!==s&&e.get(B).push(S)}),e}function ma(r,n){r.classList?.add(n)}function vd(r,n){r.classList?.remove(n)}function As(r,n,e){H(e).onDone(()=>r.processLeaveNode(n))}function Tr(r,n){for(let e=0;e<r.length;e++){const s=r[e];s instanceof Vt.ZE?Tr(s.players,n):n.push(s)}}function Bm(r,n,e){const s=e.get(r);if(!s)return!1;let u=n.get(r);return u?s.forEach(p=>u.add(p)):n.set(r,s),e.delete(r),!0}class vh{constructor(n,e,s){this.bodyNode=n,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(u,p)=>{},this._transitionEngine=new eg(n,e,s),this._timelineEngine=new ec(n,e,s),this._transitionEngine.onRemovalComplete=(u,p)=>this.onRemovalComplete(u,p)}registerTrigger(n,e,s,u,p){const x=n+"-"+u;let S=this._triggerCache[x];if(!S){const B=[],Q=[],le=kl(this._driver,p,B,Q);if(B.length)throw function ts(r,n){return new h.vHH(3404,!1)}();S=function Fn(r,n,e){return new ha(r,n,e)}(u,le,this._normalizer),this._triggerCache[x]=S}this._transitionEngine.registerTrigger(e,u,S)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,s,u){this._transitionEngine.insertNode(n,e,s,u)}onRemove(n,e,s,u){this._transitionEngine.removeNode(n,e,u||!1,s)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,s,u){if("@"==s.charAt(0)){const[p,x]=Ri(s);this._timelineEngine.command(p,e,x,u)}else this._transitionEngine.trigger(n,e,s,u)}listen(n,e,s,u,p){if("@"==s.charAt(0)){const[x,S]=Ri(s);return this._timelineEngine.listen(x,e,S,p)}return this._transitionEngine.listen(n,e,s,u,p)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let H_=(()=>{class r{constructor(e,s,u){this._element=e,this._startStyles=s,this._endStyles=u,this._state=0;let p=r.initialStylesByElement.get(e);p||r.initialStylesByElement.set(e,p=new Map),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&zr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zr(this._element,this._initialStyles),this._endStyles&&(zr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(al(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(al(this._element,this._endStyles),this._endStyles=null),zr(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function Sf(r){let n=null;return r.forEach((e,s)=>{(function ni(r){return"display"===r||"position"===r})(s)&&(n=n||new Map,n.set(s,e))}),n}class rr{constructor(n,e,s,u){this.element=n,this.keyframes=e,this.options=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(s=>{e.push(Object.fromEntries(s))}),e}_triggerWebAnimation(n,e,s){return n.animate(this._convertKeyframesToObject(e),s)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((s,u)=>{"offset"!==u&&n.set(u,this._finished?s:ur(this.element,u))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class wd{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return Mo(n,e)}getParentElement(n){return ir(n)}query(n,e,s){return Aa(n,e,s)}computeStyle(n,e,s){return window.getComputedStyle(n)[e]}animate(n,e,s,u,p,x=[]){const B={duration:s,delay:u,fill:0==u?"both":"forwards"};p&&(B.easing=p);const Q=new Map,le=x.filter(vt=>vt instanceof rr);(function gt(r,n){return 0===r||0===n})(s,u)&&le.forEach(vt=>{vt.currentSnapshot.forEach((Mt,qt)=>Q.set(qt,Mt))});let Te=function cn(r){return r.length?r[0]instanceof Map?r:r.map(n=>dr(n)):[]}(e).map(vt=>Us(vt));Te=function gu(r,n,e){if(e.size&&n.length){let s=n[0],u=[];if(e.forEach((p,x)=>{s.has(x)||u.push(x),s.set(x,p)}),u.length)for(let p=1;p<n.length;p++){let x=n[p];u.forEach(S=>x.set(S,ur(r,S)))}}return n}(n,Te,Q);const We=function bd(r,n){let e=null,s=null;return Array.isArray(n)&&n.length?(e=Sf(n[0]),n.length>1&&(s=Sf(n[n.length-1]))):n instanceof Map&&(e=Sf(n)),e||s?new H_(r,e,s):null}(n,Te);return new rr(n,Te,B,We)}}let bh=(()=>{class r extends Vt._j{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(e)?(0,Vt.vP)(e):e;return Cu(this._renderer,null,s,"register",[u]),new ao(s,this._renderer)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(h.FYo),h.LFG(we.K0))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();class ao extends Vt.LC{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new Eu(this._id,n,e||{},this._renderer)}}class Eu{constructor(n,e,s,u){this.id=n,this.element=e,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return Cu(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Cu(r,n,e,s,u){return r.setProperty(n,`@@${e}:${s}`,u)}const Um="@.disabled";let Vm=(()=>{class r{constructor(e,s,u){this.delegate=e,this.engine=s,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(p,x)=>{const S=x?.parentNode(p);S&&x.removeChild(S,p)}}createRenderer(e,s){const p=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let le=this._rendererCache.get(p);return le||(le=new tg("",p,this.engine,()=>this._rendererCache.delete(p)),this._rendererCache.set(p,le)),le}const x=s.id,S=s.id+"-"+this._currentId;this._currentId++,this.engine.register(S,e);const B=le=>{Array.isArray(le)?le.forEach(B):this.engine.registerTrigger(x,S,e,le.name,le)};return s.data.animation.forEach(B),new ng(this,S,p,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,u){e>=0&&e<this._microtaskId?this._zone.run(()=>s(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(p=>{const[x,S]=p;x(S)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(h.FYo),h.LFG(vh),h.LFG(h.R0b))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();class tg{constructor(n,e,s,u){this.namespaceId=n,this.delegate=e,this.engine=s,this._onDestroy=u,this.destroyNode=this.delegate.destroyNode?p=>e.destroyNode(p):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,s,u=!0){this.delegate.insertBefore(n,e,s),this.engine.onInsert(this.namespaceId,e,n,u)}removeChild(n,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,s,u){this.delegate.setAttribute(n,e,s,u)}removeAttribute(n,e,s){this.delegate.removeAttribute(n,e,s)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,s,u){this.delegate.setStyle(n,e,s,u)}removeStyle(n,e,s){this.delegate.removeStyle(n,e,s)}setProperty(n,e,s){"@"==e.charAt(0)&&e==Um?this.disableAnimations(n,!!s):this.delegate.setProperty(n,e,s)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,s){return this.delegate.listen(n,e,s)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class ng extends tg{constructor(n,e,s,u,p){super(e,s,u,p),this.factory=n,this.namespaceId=e}setProperty(n,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Um?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,e.slice(1),s):this.delegate.setProperty(n,e,s)}listen(n,e,s){if("@"==e.charAt(0)){const u=function Hm(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let p=e.slice(1),x="";return"@"!=p.charAt(0)&&([p,x]=function wh(r){const n=r.indexOf(".");return[r.substring(0,n),r.slice(n+1)]}(p)),this.engine.listen(this.namespaceId,u,p,x,S=>{this.factory.scheduleListenerCallback(S._data||-1,s,S)})}return this.delegate.listen(n,e,s)}}const xh=[{provide:Vt._j,useClass:bh},{provide:V,useFactory:function Tf(){return new Pe}},{provide:vh,useClass:(()=>{class r extends vh{constructor(e,s,u,p){super(e.body,s,u)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(we.K0),h.LFG(Ma),h.LFG(V),h.LFG(h.z2F))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})()},{provide:h.FYo,useFactory:function jm(r,n,e){return new Vm(r,n,e)},deps:[_.se,vh,h.R0b]}],zm=[{provide:Ma,useFactory:()=>new wd},{provide:h.QbO,useValue:"BrowserAnimations"},...xh],ic=[{provide:Ma,useClass:pd},{provide:h.QbO,useValue:"NoopAnimations"},...xh];let xd=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?ic:zm}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:zm,imports:[_.b2]}),r})();var rc=O(8996),$c=O(1135);const $m=[[["caption"]],[["colgroup"],["col"]]],Su=["caption","colgroup, col"];function Tu(r){return class extends r{get sticky(){return this._sticky}set sticky(n){const e=this._sticky;this._sticky=(0,Le.Ig)(n),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const n=this._hasStickyChanged;return this._hasStickyChanged=!1,n}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...n){super(...n),this._sticky=!1,this._hasStickyChanged=!1}}}const wc=new h.OlP("CDK_TABLE");let Xs=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkCellDef",""]]}),r})(),pa=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkHeaderCellDef",""]]}),r})(),Wc=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkFooterCellDef",""]]}),r})();class Dd{}const Eh=Tu(Dd);let La=(()=>{class r extends Eh{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const s=this._stickyEnd;this._stickyEnd=(0,Le.Ig)(e),this._hasStickyChanged=s!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(wc,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,Xs,5),h.Suo(u,pa,5),h.Suo(u,Wc,5)),2&e){let p;h.iGM(p=h.CRH())&&(s.cell=p.first),h.iGM(p=h.CRH())&&(s.headerCell=p.first),h.iGM(p=h.CRH())&&(s.footerCell=p.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[h._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),h.qOj]}),r})();class xc{constructor(n,e){e.nativeElement.classList.add(...n._columnCssClassName)}}let Mf=(()=>{class r extends xc{constructor(e,s){super(e,s)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(La),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[h.qOj]}),r})(),Au=(()=>{class r extends xc{constructor(e,s){if(super(e,s),1===e._table?._elementRef.nativeElement.nodeType){const u=e._table._elementRef.nativeElement.getAttribute("role");s.nativeElement.setAttribute("role","grid"===u||"treegrid"===u?"gridcell":"cell")}}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(La),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[h.qOj]}),r})();class qo{constructor(){this.tasks=[],this.endTasks=[]}}const Rf=new h.OlP("_COALESCED_STYLE_SCHEDULER");let lo=(()=>{class r{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ee.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new qo,this._getScheduleObservable().pipe((0,Un.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new qo;for(const s of e.tasks)s();for(const s of e.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,rc.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,tn.q)(1))}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(h.R0b))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),Mu=(()=>{class r{constructor(e,s){this.template=e,this._differs=s}ngOnChanges(e){if(!this._columnsDiffer){const s=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Id?e.headerCell.template:this instanceof Td?e.footerCell.template:e.cell.template}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc),h.Y36(h.ZZ4))},r.\u0275dir=h.lG2({type:r,features:[h.TTD]}),r})();class Ch extends Mu{}const sc=Tu(Ch);let Id=(()=>{class r extends sc{constructor(e,s,u){super(e,s),this._table=u}ngOnChanges(e){super.ngOnChanges(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(wc,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[h.qOj,h.TTD]}),r})();class Sd extends Mu{}const Of=Tu(Sd);let Td=(()=>{class r extends Of{constructor(e,s,u){super(e,s),this._table=u}ngOnChanges(e){super.ngOnChanges(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(wc,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[h.qOj,h.TTD]}),r})(),hi=(()=>{class r extends Mu{constructor(e,s,u){super(e,s),this._table=u}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(wc,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[h.qOj]}),r})(),ga=(()=>{class r{constructor(e){this._viewContainer=e,r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}}return r.mostRecentCellOutlet=null,r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkCellOutlet",""]]}),r})(),Pl=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&h.GkF(0,0)},dependencies:[ga],encapsulation:2}),r})(),ku=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&h.GkF(0,0)},dependencies:[ga],encapsulation:2}),r})(),oc=(()=>{class r{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc))},r.\u0275dir=h.lG2({type:r,selectors:[["ng-template","cdkNoDataRow",""]]}),r})();const Ad=["top","bottom","left","right"];class Ih{constructor(n,e,s,u,p=!0,x=!0,S){this._isNativeHtmlTable=n,this._stickCellCss=e,this.direction=s,this._coalescedStyleScheduler=u,this._isBrowser=p,this._needsPositionStickyOnElement=x,this._positionListener=S,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(n,e){const s=[];for(const u of n)if(u.nodeType===u.ELEMENT_NODE){s.push(u);for(let p=0;p<u.children.length;p++)s.push(u.children[p])}this._coalescedStyleScheduler.schedule(()=>{for(const u of s)this._removeStickyStyle(u,e)})}updateStickyColumns(n,e,s,u=!0){if(!n.length||!this._isBrowser||!e.some(We=>We)&&!s.some(We=>We))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const p=n[0],x=p.children.length,S=this._getCellWidths(p,u),B=this._getStickyStartColumnPositions(S,e),Q=this._getStickyEndColumnPositions(S,s),le=e.lastIndexOf(!0),Te=s.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const We="rtl"===this.direction,vt=We?"right":"left",Mt=We?"left":"right";for(const qt of n)for(let ln=0;ln<x;ln++){const oi=qt.children[ln];e[ln]&&this._addStickyStyle(oi,vt,B[ln],ln===le),s[ln]&&this._addStickyStyle(oi,Mt,Q[ln],ln===Te)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===le?[]:S.slice(0,le+1).map((qt,ln)=>e[ln]?qt:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Te?[]:S.slice(Te).map((qt,ln)=>s[ln+Te]?qt:null).reverse()}))})}stickRows(n,e,s){if(!this._isBrowser)return;const u="bottom"===s?n.slice().reverse():n,p="bottom"===s?e.slice().reverse():e,x=[],S=[],B=[];for(let le=0,Te=0;le<u.length;le++){if(!p[le])continue;x[le]=Te;const We=u[le];B[le]=this._isNativeHtmlTable?Array.from(We.children):[We];const vt=We.getBoundingClientRect().height;Te+=vt,S[le]=vt}const Q=p.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let le=0;le<u.length;le++){if(!p[le])continue;const Te=x[le],We=le===Q;for(const vt of B[le])this._addStickyStyle(vt,s,Te,We)}"top"===s?this._positionListener?.stickyHeaderRowsUpdated({sizes:S,offsets:x,elements:B}):this._positionListener?.stickyFooterRowsUpdated({sizes:S,offsets:x,elements:B})})}updateStickyFooterContainer(n,e){if(!this._isNativeHtmlTable)return;const s=n.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(u=>!u)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(n,e){for(const u of e)n.style[u]="",n.classList.remove(this._borderCellCss[u]);Ad.some(u=>-1===e.indexOf(u)&&n.style[u])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,e,s,u){n.classList.add(this._stickCellCss),u&&n.classList.add(this._borderCellCss[e]),n.style[e]=`${s}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){const e={top:100,bottom:10,left:1,right:1};let s=0;for(const u of Ad)n.style[u]&&(s+=e[u]);return s?`${s}`:""}_getCellWidths(n,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],u=n.children;for(let p=0;p<u.length;p++)s.push(u[p].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(n,e){const s=[];let u=0;for(let p=0;p<n.length;p++)e[p]&&(s[p]=u,u+=n[p]);return s}_getStickyEndColumnPositions(n,e){const s=[];let u=0;for(let p=n.length;p>0;p--)e[p]&&(s[p]=u,u+=n[p]);return s}}const kd=new h.OlP("CDK_SPL");let Yc=(()=>{class r{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","rowOutlet",""]]}),r})(),Pf=(()=>{class r{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","headerRowOutlet",""]]}),r})(),Ym=(()=>{class r{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","footerRowOutlet",""]]}),r})(),Ar=(()=>{class r{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","noDataRowOutlet",""]]}),r})(),Pd=(()=>{class r{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=(0,Le.Ig)(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=(0,Le.Ig)(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,s,u,p,x,S,B,Q,le,Te,We,vt){this._differs=e,this._changeDetectorRef=s,this._elementRef=u,this._dir=x,this._platform=B,this._viewRepeater=Q,this._coalescedStyleScheduler=le,this._viewportRuler=Te,this._stickyPositioningListener=We,this._ngZone=vt,this._onDestroy=new Ee.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new h.vpe,this.viewChange=new $c.X({start:0,end:Number.MAX_VALUE}),p||this._elementRef.nativeElement.setAttribute("role","table"),this._document=S,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler.change().pipe((0,Un.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),ho(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const s=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,s,(u,p,x)=>this._getEmbeddedViewArgs(u.item,x),u=>u.item.data,u=>{1===u.operation&&u.context&&this._renderCellTemplateForItem(u.record.item.rowDef,u.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(u=>{s.get(u.currentIndex).context.$implicit=u.item.data}),this._updateNoDataRow(),this._ngZone&&h.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,tn.q)(1),(0,Un.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),u=this._elementRef.nativeElement.querySelector("thead");u&&(u.style.display=e.length?"":"none");const p=this._headerRowDefs.map(x=>x.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,p,"top"),this._headerRowDefs.forEach(x=>x.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),u=this._elementRef.nativeElement.querySelector("tfoot");u&&(u.style.display=e.length?"":"none");const p=this._footerRowDefs.map(x=>x.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,p,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,p),this._footerRowDefs.forEach(x=>x.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),u=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...s,...u],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((p,x)=>{this._addStickyColumnStyles([p],this._headerRowDefs[x])}),this._rowDefs.forEach(p=>{const x=[];for(let S=0;S<s.length;S++)this._renderRows[S].rowDef===p&&x.push(s[S]);this._addStickyColumnStyles(x,p)}),u.forEach((p,x)=>{this._addStickyColumnStyles([p],this._footerRowDefs[x])}),Array.from(this._columnDefsByName.values()).forEach(p=>p.resetStickyChanged())}_getAllRenderRows(){const e=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let u=0;u<this._data.length;u++){let p=this._data[u];const x=this._getRenderRowsForData(p,u,s.get(p));this._cachedRenderRowsMap.has(p)||this._cachedRenderRowsMap.set(p,new WeakMap);for(let S=0;S<x.length;S++){let B=x[S];const Q=this._cachedRenderRowsMap.get(B.data);Q.has(B.rowDef)?Q.get(B.rowDef).push(B):Q.set(B.rowDef,[B]),e.push(B)}}return e}_getRenderRowsForData(e,s,u){return this._getRowDefs(e,s).map(x=>{const S=u&&u.has(x)?u.get(x):[];if(S.length){const B=S.shift();return B.dataIndex=s,B}return{data:e,rowDef:x,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Nd(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=Nd(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Nd(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Nd(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(x,S)=>x||!!S.getColumnsDiff(),s=this._rowDefs.reduce(e,!1);s&&this._forceRenderDataRows();const u=this._headerRowDefs.reduce(e,!1);u&&this._forceRenderHeaderRows();const p=this._footerRowDefs.reduce(e,!1);return p&&this._forceRenderFooterRows(),s||u||p}_switchDataSource(e){this._data=[],ho(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;ho(this.dataSource)?e=this.dataSource.connect(this):function ml(r){return!!r&&(r instanceof He.y||(0,Xe.m)(r.lift)&&(0,Xe.m)(r.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Ct.of)(this.dataSource)),this._renderChangeSubscription=e.pipe((0,Un.R)(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,s)=>this._renderRow(this._headerRowOutlet,e,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,s)=>this._renderRow(this._footerRowOutlet,e,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,s){const u=Array.from(s.columns||[]).map(S=>this._columnDefsByName.get(S)),p=u.map(S=>S.sticky),x=u.map(S=>S.stickyEnd);this._stickyStyler.updateStickyColumns(e,p,x,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const s=[];for(let u=0;u<e.viewContainer.length;u++){const p=e.viewContainer.get(u);s.push(p.rootNodes[0])}return s}_getRowDefs(e,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let u=[];if(this.multiTemplateDataRows)u=this._rowDefs.filter(p=>!p.when||p.when(s,e));else{let p=this._rowDefs.find(x=>x.when&&x.when(s,e))||this._defaultRowDef;p&&u.push(p)}return u}_getEmbeddedViewArgs(e,s){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:s}}_renderRow(e,s,u,p={}){const x=e.viewContainer.createEmbeddedView(s.template,p,u);return this._renderCellTemplateForItem(s,p),x}_renderCellTemplateForItem(e,s){for(let u of this._getCellTemplates(e))ga.mostRecentCellOutlet&&ga.mostRecentCellOutlet._viewContainer.createEmbeddedView(u,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let s=0,u=e.length;s<u;s++){const x=e.get(s).context;x.count=u,x.first=0===s,x.last=s===u-1,x.even=s%2==0,x.odd=!x.even,this.multiTemplateDataRows?(x.dataIndex=this._renderRows[s].dataIndex,x.renderIndex=s):x.index=this._renderRows[s].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,s=>{const u=this._columnDefsByName.get(s);return e.extractCellTemplate(u)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const u of s){const p=this._document.createElement(u.tag);p.setAttribute("role","rowgroup");for(const x of u.outlets)p.appendChild(x.elementRef.nativeElement);e.appendChild(p)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(s,u)=>s||u.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Ih(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Ct.of)()).pipe((0,Un.R)(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const s=0===this._rowOutlet.viewContainer.length;if(s===this._isShowingNoDataRow)return;const u=this._noDataRowOutlet.viewContainer;if(s){const p=u.createEmbeddedView(e.templateRef),x=p.rootNodes[0];1===p.rootNodes.length&&x?.nodeType===this._document.ELEMENT_NODE&&(x.setAttribute("role","row"),x.classList.add(e._contentClassName))}else u.clear();this._isShowingNoDataRow=s}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.ZZ4),h.Y36(h.sBO),h.Y36(h.SBq),h.$8M("role"),h.Y36(Yt.Is,8),h.Y36(we.K0),h.Y36(xe.t4),h.Y36(eo),h.Y36(Rf),h.Y36(K),h.Y36(kd,12),h.Y36(h.R0b,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,oc,5),h.Suo(u,La,5),h.Suo(u,hi,5),h.Suo(u,Id,5),h.Suo(u,Td,5)),2&e){let p;h.iGM(p=h.CRH())&&(s._noDataRow=p.first),h.iGM(p=h.CRH())&&(s._contentColumnDefs=p),h.iGM(p=h.CRH())&&(s._contentRowDefs=p),h.iGM(p=h.CRH())&&(s._contentHeaderRowDefs=p),h.iGM(p=h.CRH())&&(s._contentFooterRowDefs=p)}},viewQuery:function(e,s){if(1&e&&(h.Gf(Yc,7),h.Gf(Pf,7),h.Gf(Ym,7),h.Gf(Ar,7)),2&e){let u;h.iGM(u=h.CRH())&&(s._rowOutlet=u.first),h.iGM(u=h.CRH())&&(s._headerRowOutlet=u.first),h.iGM(u=h.CRH())&&(s._footerRowOutlet=u.first),h.iGM(u=h.CRH())&&(s._noDataRowOutlet=u.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,s){2&e&&h.ekj("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[h._Bn([{provide:wc,useExisting:r},{provide:eo,useClass:gs},{provide:Rf,useClass:lo},{provide:kd,useValue:null}])],ngContentSelectors:Su,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(h.F$t($m),h.Hsn(0),h.Hsn(1,1),h.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Yc,Pf,Ym,Ar],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),r})();function Nd(r,n){return r.concat(Array.from(n))}let Zo=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Ne]}),r})();const Nl=[[["caption"]],[["colgroup"],["col"]]],No=["caption","colgroup, col"];let qc=(()=>{class r extends Pd{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,s){2&e&&h.ekj("mdc-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[h._Bn([{provide:Pd,useExisting:r},{provide:wc,useExisting:r},{provide:Rf,useClass:lo},{provide:eo,useClass:gs},{provide:kd,useValue:null}]),h.qOj],ngContentSelectors:No,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(h.F$t(Nl),h.Hsn(0),h.Hsn(1,1),h.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Yc,Pf,Ym,Ar],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),r})(),Fd=(()=>{class r extends Xs{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matCellDef",""]],features:[h._Bn([{provide:Xs,useExisting:r}]),h.qOj]}),r})(),_a=(()=>{class r extends pa{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matHeaderCellDef",""]],features:[h._Bn([{provide:pa,useExisting:r}]),h.qOj]}),r})(),Ld=(()=>{class r extends La{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[h._Bn([{provide:La,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),h.qOj]}),r})(),Lf=(()=>{class r extends Mf{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[h.qOj]}),r})(),Bf=(()=>{class r extends Au{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[h.qOj]}),r})(),Uf=(()=>{class r extends Id{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[h._Bn([{provide:Id,useExisting:r}]),h.qOj]}),r})(),Li=(()=>{class r extends hi{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[h._Bn([{provide:hi,useExisting:r}]),h.qOj]}),r})(),Pu=(()=>{class r extends Pl{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[h._Bn([{provide:Pl,useExisting:r}]),h.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&h.GkF(0,0)},dependencies:[ga],encapsulation:2}),r})(),Ba=(()=>{class r extends ku{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[h._Bn([{provide:ku,useExisting:r}]),h.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&h.GkF(0,0)},dependencies:[ga],encapsulation:2}),r})(),Qc=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ce.BQ,Zo,ce.BQ]}),r})();var Xc=O(2011),Cc=O(3385),C=O(3900),y=O(2122),b=O(3942),T=O(5861),Z=O(9681),F=O(2090),Ve=O(4859);const ct="firebasestorage.googleapis.com",jt="storageBucket";class Xn extends F.ZR{constructor(n,e,s=0){super(Bd(n),`Firebase Storage: ${e} (${Bd(n)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xn.prototype)}get status(){return this.status_}set status(n){this.status_=n}_codeEquals(n){return Bd(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ni=(()=>{return(r=Ni||(Ni={})).UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ni;var r})();function Bd(r){return"storage/"+r}function Mr(){return new Xn(Ni.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ud(){return new Xn(Ni.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Nu(){return new Xn(Ni.CANCELED,"User canceled the upload/download.")}function cg(){return new Xn(Ni.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kh(r){return new Xn(Ni.INVALID_ARGUMENT,r)}function W_(){return new Xn(Ni.APP_DELETED,"The Firebase app was deleted.")}function Vd(r){return new Xn(Ni.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jc(r,n){return new Xn(Ni.INVALID_FORMAT,"String does not match format '"+r+"': "+n)}function Rh(r){throw new Xn(Ni.INTERNAL_ERROR,"Internal error: "+r)}class Xo{constructor(n,e){this.bucket=n,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,e){let s;try{s=Xo.makeFromUrl(n,e)}catch{return new Xo(n,"")}if(""===s.path)return s;throw function Qm(r){return new Xn(Ni.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}(n)}static makeFromUrl(n,e){let s=null;const u="([A-Za-z0-9.\\-_]+)",S=new RegExp("^gs://"+u+"(/(.*))?$","i");function Q(fr){fr.path_=decodeURIComponent(fr.path)}const Te=e.replace(/[.]/g,"\\."),er=[{regex:S,indices:{bucket:1,path:3},postModify:function p(fr){"/"===fr.path.charAt(fr.path.length-1)&&(fr.path_=fr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Te}/v[A-Za-z0-9_]+/b/${u}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Q},{regex:new RegExp(`^https?://${e===ct?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${u}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Q}];for(let fr=0;fr<er.length;fr++){const uu=er[fr],zl=uu.regex.exec(n);if(zl){let Lc=zl[uu.indices.path];Lc||(Lc=""),s=new Xo(zl[uu.indices.bucket],Lc),uu.postModify(s);break}}if(null==s)throw function lg(r){return new Xn(Ni.INVALID_URL,"Invalid URL '"+r+"'.")}(n);return s}}class ug{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function Dc(r){return"string"==typeof r||r instanceof String}function pl(r){return Hd()&&r instanceof Blob}function Hd(){return typeof Blob<"u"&&!(0,F.UG)()}function jd(r,n,e,s){if(s<n)throw kh(`Invalid value for '${r}'. Expected ${n} or greater.`);if(s>e)throw kh(`Invalid value for '${r}'. Expected ${e} or less.`)}function Fl(r,n,e){let s=n;return null==e&&(s=`https://${n}`),`${e}://${s}/v0${r}`}function mg(r){const n=encodeURIComponent;let e="?";for(const s in r)r.hasOwnProperty(s)&&(e=e+(n(s)+"=")+n(r[s])+"&");return e=e.slice(0,-1),e}var lc=(()=>{return(r=lc||(lc={}))[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",lc;var r})();function zf(r,n){const e=r>=500&&r<600,u=-1!==[408,429].indexOf(r),p=-1!==n.indexOf(r);return e||u||p}class Fu{constructor(n,e,s,u,p,x,S,B,Q,le,Te,We=!0){this.url_=n,this.method_=e,this.headers_=s,this.body_=u,this.successCodes_=p,this.additionalRetryCodes_=x,this.callback_=S,this.errorCallback_=B,this.timeout_=Q,this.progressCallback_=le,this.connectionFactory_=Te,this.retry=We,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((vt,Mt)=>{this.resolve_=vt,this.reject_=Mt,this.start_()})}start_(){const e=(s,u)=>{const p=this.resolve_,x=this.reject_,S=u.connection;if(u.wasSuccessCode)try{const B=this.callback_(S,S.getResponse());!function jb(r){return void 0!==r}(B)?p():p(B)}catch(B){x(B)}else if(null!==S){const B=Mr();B.serverResponse=S.getErrorText(),x(this.errorCallback_?this.errorCallback_(S,B):B)}else x(u.canceled?this.appDelete_?W_():Nu():Ud())};this.canceled_?e(0,new ep(!1,null,!0)):this.backoffId_=function Oh(r,n,e){let s=1,u=null,p=null,x=!1,S=0;function B(){return 2===S}let Q=!1;function le(...ln){Q||(Q=!0,n.apply(null,ln))}function Te(ln){u=setTimeout(()=>{u=null,r(vt,B())},ln)}function We(){p&&clearTimeout(p)}function vt(ln,...oi){if(Q)return void We();if(ln)return We(),void le.call(null,ln,...oi);if(B()||x)return We(),void le.call(null,ln,...oi);let er;s<64&&(s*=2),1===S?(S=2,er=0):er=1e3*(s+Math.random()),Te(er)}let Mt=!1;function qt(ln){Mt||(Mt=!0,We(),!Q&&(null!==u?(ln||(S=2),clearTimeout(u),Te(0)):ln||(S=1)))}return Te(0),p=setTimeout(()=>{x=!0,qt(!0)},e),qt}((s,u)=>{if(u)return void s(!1,new ep(!1,null,!0));const p=this.connectionFactory_();this.pendingConnection_=p;const x=S=>{null!==this.progressCallback_&&this.progressCallback_(S.loaded,S.lengthComputable?S.total:-1)};null!==this.progressCallback_&&p.addUploadProgressListener(x),p.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&p.removeUploadProgressListener(x),this.pendingConnection_=null;const S=p.getErrorCode()===lc.NO_ERROR,B=p.getStatus();if(!S||zf(B,this.additionalRetryCodes_)&&this.retry){const le=p.getErrorCode()===lc.ABORT;return void s(!1,new ep(!1,null,le))}const Q=-1!==this.successCodes_.indexOf(B);s(!0,new ep(Q,p))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function hg(r){r(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ep{constructor(n,e,s){this.wasSuccessCode=n,this.connection=e,this.canceled=!!s}}function fv(...r){const n=function zb(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==n){const e=new n;for(let s=0;s<r.length;s++)e.append(r[s]);return e.getBlob()}if(Hd())return new Blob(r);throw new Xn(Ni.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ll={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lu{constructor(n,e){this.data=n,this.contentType=e||null}}function zd(r,n){switch(r){case Ll.RAW:return new Lu(ed(n));case Ll.BASE64:case Ll.BASE64URL:return new Lu(mv(r,n));case Ll.DATA_URL:return new Lu(function Wb(r){const n=new Ph(r);return n.base64?mv(Ll.BASE64,n.rest):function $b(r){let n;try{n=decodeURIComponent(r)}catch{throw Jc(Ll.DATA_URL,"Malformed data URL.")}return ed(n)}(n.rest)}(n),function Bu(r){return new Ph(r).contentType}(n))}throw Mr()}function ed(r){const n=[];for(let e=0;e<r.length;e++){let s=r.charCodeAt(e);s<=127?n.push(s):s<=2047?n.push(192|s>>6,128|63&s):55296==(64512&s)?e<r.length-1&&56320==(64512&r.charCodeAt(e+1))?(s=65536|(1023&s)<<10|1023&r.charCodeAt(++e),n.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):n.push(239,191,189):56320==(64512&s)?n.push(239,191,189):n.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(n)}function mv(r,n){switch(r){case Ll.BASE64:{const u=-1!==n.indexOf("-"),p=-1!==n.indexOf("_");if(u||p)throw Jc(r,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case Ll.BASE64URL:{const u=-1!==n.indexOf("+"),p=-1!==n.indexOf("/");if(u||p)throw Jc(r,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function K_(r){if(typeof atob>"u")throw function uv(r){return new Xn(Ni.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(r)}(n)}catch(u){throw u.message.includes("polyfill")?u:Jc(r,"Invalid character found")}const s=new Uint8Array(e.length);for(let u=0;u<e.length;u++)s[u]=e.charCodeAt(u);return s}class Ph{constructor(n){this.base64=!1,this.contentType=null;const e=n.match(/^data:([^,]+)?,/);if(null===e)throw Jc(Ll.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=e[1]||null;null!=s&&(this.base64=function Nh(r,n){return r.length>=n.length&&r.substring(r.length-n.length)===n}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=n.substring(n.indexOf(",")+1)}}class Ic{constructor(n,e){let s=0,u="";pl(n)?(this.data_=n,s=n.size,u=n.type):n instanceof ArrayBuffer?(e?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),s=this.data_.length):n instanceof Uint8Array&&(e?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),s=n.length),this.size_=s,this.type_=u}size(){return this.size_}type(){return this.type_}slice(n,e){if(pl(this.data_)){const u=function Gb(r,n,e){return r.webkitSlice?r.webkitSlice(n,e):r.mozSlice?r.mozSlice(n,e):r.slice?r.slice(n,e):null}(this.data_,n,e);return null===u?null:new Ic(u)}{const s=new Uint8Array(this.data_.buffer,n,e-n);return new Ic(s,!0)}}static getBlob(...n){if(Hd()){const e=n.map(s=>s instanceof Ic?s.data_:s);return new Ic(fv.apply(null,e))}{const e=n.map(x=>Dc(x)?zd(Ll.RAW,x).data:x.data_);let s=0;e.forEach(x=>{s+=x.byteLength});const u=new Uint8Array(s);let p=0;return e.forEach(x=>{for(let S=0;S<x.length;S++)u[p++]=x[S]}),new Ic(u,!0)}}uploadData(){return this.data_}}function $f(r){let n;try{n=JSON.parse(r)}catch{return null}return function Jm(r){return"object"==typeof r&&!Array.isArray(r)}(n)?n:null}function tp(r){const n=r.lastIndexOf("/",r.length-2);return-1===n?r:r.slice(n+1)}function gv(r,n){return n}class Fo{constructor(n,e,s,u){this.server=n,this.local=e||n,this.writable=!!s,this.xform=u||gv}}let Gd=null;function Wf(){if(Gd)return Gd;const r=[];r.push(new Fo("bucket")),r.push(new Fo("generation")),r.push(new Fo("metageneration")),r.push(new Fo("name","fullPath",!0));const e=new Fo("name");e.xform=function n(p,x){return function q_(r){return!Dc(r)||r.length<2?r:tp(r)}(x)},r.push(e);const u=new Fo("size");return u.xform=function s(p,x){return void 0!==x?Number(x):x},r.push(u),r.push(new Fo("timeCreated")),r.push(new Fo("updated")),r.push(new Fo("md5Hash",null,!0)),r.push(new Fo("cacheControl",null,!0)),r.push(new Fo("contentDisposition",null,!0)),r.push(new Fo("contentEncoding",null,!0)),r.push(new Fo("contentLanguage",null,!0)),r.push(new Fo("contentType",null,!0)),r.push(new Fo("metadata","customMetadata",!0)),Gd=r,Gd}function Kf(r,n,e){const s=$f(n);return null===s?null:function Uu(r,n,e){const s={type:"file"},u=e.length;for(let p=0;p<u;p++){const x=e[p];s[x.local]=x.xform(s,n[x.server])}return function Fh(r,n){Object.defineProperty(r,"ref",{get:function e(){const p=new Xo(r.bucket,r.fullPath);return n._makeStorageReference(p)}})}(s,r),s}(r,s,e)}function _g(r,n){const e={},s=n.length;for(let u=0;u<s;u++){const p=n[u];p.writable&&(e[p.server]=r[p.local])}return JSON.stringify(e)}const Va="prefixes",Z_="items";class ya{constructor(n,e,s,u){this.url=n,this.method=e,this.handler=s,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hs(r){if(!r)throw Mr()}function $d(r,n){return function e(s,u){const p=Kf(r,u,n);return hs(null!==p),p}}function np(r){return function n(e,s){let u;return u=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Hf(){return new Xn(Ni.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Mh(){return new Xn(Ni.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Zm(r){return new Xn(Ni.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===e.getStatus()?function ag(r){return new Xn(Ni.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}(r.path):s,u.status=e.getStatus(),u.serverResponse=s.serverResponse,u}}function Sc(r){const n=np(r);return function e(s,u){let p=n(s,u);return 404===s.getStatus()&&(p=function Vf(r){return new Xn(Ni.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}(r.path)),p.serverResponse=u.serverResponse,p}}function vv(r,n,e){const u=Fl(n.fullServerUrl(),r.host,r._protocol),x=r.maxOperationRetryTime,S=new ya(u,"GET",$d(r,e),x);return S.errorHandler=Sc(n),S}function Wd(r,n,e,s,u){const p={};p.prefix=n.isRoot?"":n.path+"/",e&&e.length>0&&(p.delimiter=e),s&&(p.pageToken=s),u&&(p.maxResults=u);const S=Fl(n.bucketOnlyServerUrl(),r.host,r._protocol),Q=r.maxOperationRetryTime,le=new ya(S,"GET",function yv(r,n){return function e(s,u){const p=function vg(r,n,e){const s=$f(e);return null===s?null:function yg(r,n,e){const s={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Va])for(const u of e[Va]){const p=u.replace(/\/$/,""),x=r._makeStorageReference(new Xo(n,p));s.prefixes.push(x)}if(e[Z_])for(const u of e[Z_]){const p=r._makeStorageReference(new Xo(n,u.name));s.items.push(p)}return s}(r,n,s)}(r,n,u);return hs(null!==p),p}}(r,n.bucket),Q);return le.urlParams=p,le.errorHandler=np(n),le}function Ha(r,n,e){const s=Object.assign({},e);return s.fullPath=r.path,s.size=n.size(),s.contentType||(s.contentType=function qb(r,n){return r&&r.contentType||n&&n.type()||"application/octet-stream"}(null,n)),s}class ip{constructor(n,e,s,u){this.current=n,this.total=e,this.finalized=!!s,this.metadata=u||null}}function wg(r,n){let e=null;try{e=r.getResponseHeader("X-Goog-Upload-Status")}catch{hs(!1)}return hs(!!e&&-1!==(n||["active"]).indexOf(e)),e}const xv={STATE_CHANGED:"state_changed"},va={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function X_(r){switch(r){case"running":case"pausing":case"canceling":return va.RUNNING;case"paused":return va.PAUSED;case"success":return va.SUCCESS;case"canceled":return va.CANCELED;default:return va.ERROR}}class wi{constructor(n,e,s){if(function fg(r){return"function"==typeof r}(n)||null!=e||null!=s)this.next=n,this.error=e??void 0,this.complete=s??void 0;else{const p=n;this.next=p.next,this.error=p.error,this.complete=p.complete}}}function Lh(r){return(...n)=>{Promise.resolve().then(()=>r(...n))}}let J_=null;class xg{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lc.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lc.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lc.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,e,s,u){if(this.sent_)throw Rh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,n,!0),void 0!==u)for(const p in u)u.hasOwnProperty(p)&&this.xhr_.setRequestHeader(p,u[p].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}class Lo extends xg{initXhr(){this.xhr_.responseType="text"}}function Tc(){return J_?J_():new Lo}class Iv{constructor(n,e,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=e,this._metadata=s,this._mappings=Wf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=u=>{if(this._request=void 0,this._chunkMultiplier=1,u._codeEquals(Ni.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const p=this.isExponentialBackoffExpired();if(zf(u.status,[])){if(!p)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();u=Ud()}this._error=u,this._transition("error")}},this._metadataErrorHandler=u=>{this._request=void 0,u._codeEquals(Ni.CANCELED)?this.completeTransitions_():(this._error=u,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((u,p)=>{this._resolve=u,this._reject=p,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const n=this._transferred;return e=>this._updateProgress(n+e)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,s])=>{switch(this._state){case"running":n(e,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,e)=>{const s=function Zb(r,n,e,s,u){const p=n.bucketOnlyServerUrl(),x=Ha(n,s,u),S={name:x.fullPath},B=Fl(p,r.host,r._protocol),le={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":x.contentType,"Content-Type":"application/json; charset=utf-8"},Te=_g(x,e),Mt=new ya(B,"POST",function vt(qt){let ln;wg(qt);try{ln=qt.getResponseHeader("X-Goog-Upload-URL")}catch{hs(!1)}return hs(Dc(ln)),ln},r.maxUploadRetryTime);return Mt.urlParams=S,Mt.headers=le,Mt.body=Te,Mt.errorHandler=np(n),Mt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,Tc,n,e);this._request=u,u.getPromise().then(p=>{this._request=void 0,this._uploadUrl=p,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((e,s)=>{const u=function wv(r,n,e,s){const B=new ya(e,"POST",function p(Q){const le=wg(Q,["active","final"]);let Te=null;try{Te=Q.getResponseHeader("X-Goog-Upload-Size-Received")}catch{hs(!1)}Te||hs(!1);const We=Number(Te);return hs(!isNaN(We)),new ip(We,s.size(),"final"===le)},r.maxUploadRetryTime);return B.headers={"X-Goog-Upload-Command":"query"},B.errorHandler=np(n),B}(this._ref.storage,this._ref._location,n,this._blob),p=this._ref.storage._makeRequest(u,Tc,e,s);this._request=p,p.getPromise().then(x=>{this._request=void 0,this._updateProgress(x.current),this._needToFetchStatus=!1,x.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,e=new ip(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((u,p)=>{let x;try{x=function qf(r,n,e,s,u,p,x,S){const B=new ip(0,0);if(x?(B.current=x.current,B.total=x.total):(B.current=0,B.total=s.size()),s.size()!==B.total)throw function Xm(){return new Xn(Ni.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Q=B.total-B.current;let le=Q;u>0&&(le=Math.min(le,u));const Te=B.current;let vt="";vt=0===le?"finalize":Q===le?"upload, finalize":"upload";const Mt={"X-Goog-Upload-Command":vt,"X-Goog-Upload-Offset":`${B.current}`},qt=s.slice(Te,Te+le);if(null===qt)throw cg();const er=new ya(e,"POST",function ln(fr,uu){const zl=wg(fr,["active","final"]),Ka=B.current+le,Lc=s.size();let hu;return hu="final"===zl?$d(n,p)(fr,uu):null,new ip(Ka,Lc,"final"===zl,hu)},n.maxUploadRetryTime);return er.headers=Mt,er.body=qt.uploadData(),er.progressCallback=S||null,er.errorHandler=np(r),er}(this._ref._location,this._ref.storage,s,this._blob,n,this._mappings,e,this._makeProgressCallback())}catch(B){return this._error=B,void this._transition("error")}const S=this._ref.storage._makeRequest(x,Tc,u,p,!1);this._request=S,S.getPromise().then(B=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(B.current),B.finalized?(this._metadata=B.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,e)=>{const s=vv(this._ref.storage,this._ref._location,this._mappings),u=this._ref.storage._makeRequest(s,Tc,n,e);this._request=u,u.getPromise().then(p=>{this._request=void 0,this._metadata=p,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,e)=>{const s=function Q_(r,n,e,s,u){const p=n.bucketOnlyServerUrl(),x={"X-Goog-Upload-Protocol":"multipart"},B=function S(){let er="";for(let fr=0;fr<2;fr++)er+=Math.random().toString().slice(2);return er}();x["Content-Type"]="multipart/related; boundary="+B;const Q=Ha(n,s,u),le=_g(Q,e),vt=Ic.getBlob("--"+B+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+le+"\r\n--"+B+"\r\nContent-Type: "+Q.contentType+"\r\n\r\n",s,"\r\n--"+B+"--");if(null===vt)throw cg();const Mt={name:Q.fullPath},qt=Fl(p,r.host,r._protocol),oi=r.maxUploadRetryTime,or=new ya(qt,"POST",$d(r,e),oi);return or.urlParams=Mt,or.headers=x,or.body=vt.uploadData(),or.errorHandler=np(n),or}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,Tc,n,e);this._request=u,u.getPromise().then(p=>{this._request=void 0,this._metadata=p,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const e=this._transferred;this._transferred=n,this._transferred!==e&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=n,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=n,this._notifyObservers();break;case"canceled":this._error=Nu(),this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=X_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,e,s,u){const p=new wi(e||void 0,s||void 0,u||void 0);return this._addObserver(p),()=>{this._removeObserver(p)}}then(n,e){return this._promise.then(n,e)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const e=this._observers.indexOf(n);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(X_(this._state)){case va.SUCCESS:Lh(this._resolve.bind(null,this.snapshot))();break;case va.CANCELED:case va.ERROR:Lh(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(X_(this._state)){case va.RUNNING:case va.PAUSED:n.next&&Lh(n.next.bind(n,this.snapshot))();break;case va.SUCCESS:n.complete&&Lh(n.complete.bind(n))();break;default:n.error&&Lh(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class Kd{constructor(n,e){this._service=n,this._location=e instanceof Xo?e:Xo.makeFromUrl(e,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,e){return new Kd(n,e)}get root(){const n=new Xo(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tp(this._location.path)}get storage(){return this._service}get parent(){const n=function Y_(r){if(0===r.length)return null;const n=r.lastIndexOf("/");return-1===n?"":r.slice(0,n)}(this._location.path);if(null===n)return null;const e=new Xo(this._location.bucket,n);return new Kd(this._service,e)}_throwIfRoot(n){if(""===this._location.path)throw Vd(n)}}function Eg(r,n,e){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,T.Z)(function*(r,n,e){const u=yield Tv(r,{pageToken:e});n.prefixes.push(...u.prefixes),n.items.push(...u.items),null!=u.nextPageToken&&(yield Eg(r,n,u.nextPageToken))})).apply(this,arguments)}function Tv(r,n){null!=n&&"number"==typeof n.maxResults&&jd("options.maxResults",1,1e3,n.maxResults);const e=n||{},s=Wd(r.storage,r._location,"/",e.pageToken,e.maxResults);return r.storage.makeRequestWithTokens(s,Tc)}function ny(r){r._throwIfRoot("getDownloadURL");const n=function Kb(r,n,e){const u=Fl(n.fullServerUrl(),r.host,r._protocol),x=r.maxOperationRetryTime,S=new ya(u,"GET",function Yf(r,n){return function e(s,u){const p=Kf(r,u,n);return hs(null!==p),function _v(r,n,e,s){const u=$f(n);if(null===u||!Dc(u.downloadTokens))return null;const p=u.downloadTokens;if(0===p.length)return null;const x=encodeURIComponent;return p.split(",").map(Q=>{const Te=r.fullPath;return Fl("/b/"+x(r.bucket)+"/o/"+x(Te),e,s)+mg({alt:"media",token:Q})})[0]}(p,u,r.host,r._protocol)}}(r,e),x);return S.errorHandler=Sc(n),S}(r.storage,r._location,Wf());return r.storage.makeRequestWithTokens(n,Tc).then(e=>{if(null===e)throw function dg(){return new Xn(Ni.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function kv(r,n){const e=function pv(r,n){const e=n.split("/").filter(s=>s.length>0).join("/");return 0===r.length?e:r+"/"+e}(r._location.path,n),s=new Xo(r._location.bucket,e);return new Kd(r.storage,s)}function Dg(r,n){if(r instanceof rp){const e=r;if(null==e._bucket)throw function jf(){return new Xn(Ni.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jt+"' property when initializing the app?")}();const s=new Kd(e,e._bucket);return null!=n?Dg(s,n):s}return void 0!==n?kv(r,n):r}function Ig(r,n){if(n&&function Uh(r){return/^[A-Za-z]+:\/\//.test(r)}(n)){if(r instanceof rp)return function Xb(r,n){return new Kd(r,n)}(r,n);throw kh("To use ref(service, url), the first argument must be a Storage instance.")}return Dg(r,n)}function Vh(r,n){const e=n?.[jt];return null==e?null:Xo.makeFromBucketSpec(e,r)}class rp{constructor(n,e,s,u,p){this.app=n,this._authProvider=e,this._appCheckProvider=s,this._url=u,this._firebaseVersion=p,this._bucket=null,this._host=ct,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?Xo.makeFromBucketSpec(u,this._host):Vh(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?Xo.makeFromBucketSpec(this._url,n):Vh(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){jd("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){jd("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,T.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const e=n._authProvider.getImmediate({optional:!0});if(e){const s=yield e.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,T.Z)(function*(){const e=n._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new Kd(this,n)}_makeRequest(n,e,s,u,p=!0){if(this._deleted)return new ug(W_());{const x=function cc(r,n,e,s,u,p,x=!0){const S=mg(r.urlParams),B=r.url+S,Q=Object.assign({},r.headers);return function gg(r,n){n&&(r["X-Firebase-GMPID"]=n)}(Q,n),function pg(r,n){null!==n&&n.length>0&&(r.Authorization="Firebase "+n)}(Q,e),function hv(r,n){r["X-Firebase-Storage-Version"]="webjs/"+(n??"AppManager")}(Q,p),function Gf(r,n){null!==n&&(r["X-Firebase-AppCheck"]=n)}(Q,s),new Fu(B,r.method,Q,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,u,x)}(n,this._appId,s,u,e,this._firebaseVersion,p);return this._requests.add(x),x.getPromise().then(()=>this._requests.delete(x),()=>this._requests.delete(x)),x}}makeRequestWithTokens(n,e){var s=this;return(0,T.Z)(function*(){const[u,p]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(n,e,u,p).getPromise()})()}}const sp="@firebase/storage";function nd(r,n){return Ig(r=(0,F.m9)(r),n)}function lp(r,{instanceIdentifier:n}){const e=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),u=r.getProvider("app-check-internal");return new rp(e,s,u,n,Z.SDK_VERSION)}!function Yd(){(0,Z._registerComponent)(new Ve.wA("storage",lp,"PUBLIC").setMultipleInstances(!0)),(0,Z.registerVersion)(sp,"0.11.2",""),(0,Z.registerVersion)(sp,"0.11.2","esm2017")}();class Hu{constructor(n,e,s){this._delegate=n,this.task=e,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Qf{constructor(n,e){this._delegate=n,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Hu(this._delegate.snapshot,this,this._ref)}then(n,e){return this._delegate.then(s=>{if(n)return n(new Hu(s,this,this._ref))},e)}on(n,e,s,u){let p;return e&&(p="function"==typeof e?x=>e(new Hu(x,this,this._ref)):{next:e.next?x=>e.next(new Hu(x,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(n,p,s||void 0,u||void 0)}}class Rg{constructor(n,e){this._delegate=n,this._service=e}get prefixes(){return this._delegate.prefixes.map(n=>new Xr(n,this._service))}get items(){return this._delegate.items.map(n=>new Xr(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xr{constructor(n,e){this._delegate=n,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const e=function kg(r,n){return kv(r,n)}(this._delegate,n);return new Xr(e,this.storage)}get root(){return new Xr(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new Xr(n,this.storage)}put(n,e){return this._throwIfRoot("put"),new Qf(function Ov(r,n,e){return function ty(r,n,e){return r._throwIfRoot("uploadBytesResumable"),new Iv(r,new Ic(n),e)}(r=(0,F.m9)(r),n,e)}(this._delegate,n,e),this)}putString(n,e=Ll.RAW,s){this._throwIfRoot("putString");const u=zd(e,n),p=Object.assign({},s);return null==p.contentType&&null!=u.contentType&&(p.contentType=u.contentType),new Qf(new Iv(this._delegate,new Ic(u.data,!0),p),this)}listAll(){return function op(r){return function Zf(r){const n={prefixes:[],items:[]};return Eg(r,n).then(()=>n)}(r=(0,F.m9)(r))}(this._delegate).then(n=>new Rg(n,this.storage))}list(n){return function t0(r,n){return Tv(r=(0,F.m9)(r),n)}(this._delegate,n||void 0).then(e=>new Rg(e,this.storage))}getMetadata(){return function Sg(r){return function yw(r){r._throwIfRoot("getMetadata");const n=vv(r.storage,r._location,Wf());return r.storage.makeRequestWithTokens(n,Tc)}(r=(0,F.m9)(r))}(this._delegate)}updateMetadata(n){return function Tg(r,n){return function Av(r,n){r._throwIfRoot("updateMetadata");const e=function bv(r,n,e,s){const p=Fl(n.fullServerUrl(),r.host,r._protocol),S=_g(e,s),Q=r.maxOperationRetryTime,le=new ya(p,"PATCH",$d(r,s),Q);return le.headers={"Content-Type":"application/json; charset=utf-8"},le.body=S,le.errorHandler=Sc(n),le}(r.storage,r._location,n,Wf());return r.storage.makeRequestWithTokens(e,Tc)}(r=(0,F.m9)(r),n)}(this._delegate,n)}getDownloadURL(){return function Ag(r){return ny(r=(0,F.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Mg(r){return function Mv(r){r._throwIfRoot("deleteObject");const n=function Yb(r,n){const s=Fl(n.fullServerUrl(),r.host,r._protocol),S=new ya(s,"DELETE",function x(B,Q){},r.maxOperationRetryTime);return S.successCodes=[200,204],S.errorHandler=Sc(n),S}(r.storage,r._location);return r.storage.makeRequestWithTokens(n,Tc)}(r=(0,F.m9)(r))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw Vd(n)}}class sy{constructor(n,e){this.app=n,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(cp(n))throw kh("ref() expected a child path but got a URL, use refFromURL instead.");return new Xr(nd(this._delegate,n),this)}refFromURL(n){if(!cp(n))throw kh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xo.makeFromUrl(n,this._delegate.host)}catch{throw kh("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xr(nd(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,e,s={}){!function ap(r,n,e,s={}){!function Hh(r,n,e,s={}){r.host=`${n}:${e}`,r._protocol="http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken="string"==typeof u?u:(0,F.Sg)(u,r.app.options.projectId))}(r,n,e,s)}(this._delegate,n,e,s)}}function cp(r){return/^[A-Za-z]+:\/\//.test(r)}function Pg(r,{instanceIdentifier:n}){const e=r.getProvider("app-compat").getImmediate(),s=r.getProvider("storage").getImmediate({identifier:n});return new sy(e,s)}!function r0(r){const n={TaskState:va,TaskEvent:xv,StringFormat:Ll,Storage:sy,Reference:Xr};r.INTERNAL.registerComponent(new Ve.wA("storage-compat",Pg,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.3.2")}(b.Z);var Nv=O(6217),oy=O(9260);function dp(r){const n=function s0(r){return new He.y(n=>{const e=x=>n.next(x);e(r.snapshot);const p=r.on("state_changed",e);return r.then(x=>{e(x),n.complete()},x=>{e(r.snapshot),(x=>{n.error(x)})(x)}),function(){p()}}).pipe((0,Mn.b)(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,ve.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function up(r){return{getDownloadURL:()=>(0,Ct.of)(void 0).pipe(y.fc,(0,C.w)(()=>r.getDownloadURL()),y.iC),getMetadata:()=>(0,Ct.of)(void 0).pipe(y.fc,(0,C.w)(()=>r.getMetadata()),y.iC),delete:()=>(0,rc.D)(r.delete()),child:n=>up(r.child(n)),updateMetadata:n=>(0,rc.D)(r.updateMetadata(n)),put:(n,e)=>dp(r.put(n,e)),putString:(n,e,s)=>dp(r.putString(n,e,s)),list:n=>(0,rc.D)(r.list(n)),listAll:()=>(0,rc.D)(r.listAll())}}const o0=new h.OlP("angularfire2.storageBucket"),hp=new h.OlP("angularfire2.storage.maxUploadRetryTime"),ja=new h.OlP("angularfire2.storage.maxOperationRetryTime"),zh=new h.OlP("angularfire2.storage.use-emulator");let ay=(()=>{class r{constructor(e,s,u,p,x,S,B,Q,le,Te){const We=(0,Xc.on)(e,x,s);this.storage=(0,Xc.cc)(`${We.name}.storage.${u}`,"AngularFireStorage",We.name,()=>{const vt=x.runOutsideAngular(()=>We.storage(u||void 0)),Mt=le;return Mt&&vt.useEmulator(...Mt),B&&vt.setMaxUploadRetryTime(B),Q&&vt.setMaxOperationRetryTime(Q),vt},[B,Q])}ref(e){return up(this.storage.ref(e))}refFromURL(e){return up(this.storage.refFromURL(e))}upload(e,s,u){return up(this.storage.ref(e)).put(s,u)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Xc.Dh),h.LFG(Xc.xv,8),h.LFG(o0,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(y.HU),h.LFG(hp,8),h.LFG(ja,8),h.LFG(zh,8),h.LFG(Nv.nm,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Gh=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})(),Ng=(()=>{class r{constructor(){oy.Z.registerVersion("angularfire",y.q4.full,"gcs-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[ay],imports:[Gh]}),r})();var Lv=O(3101),Fg=O(5026),ly=O(4671),qd=O(5032),Bv=O(3269);O(6689);var mp=O(1877);const Uv="@firebase/database";let Jf="";function Bl(r){Jf=r}class Bg{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,F.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,F.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class em{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,F.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Ug=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const n=window[r];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Bg(n)}}catch{}return new em},ju=Ug("localStorage"),cy=Ug("sessionStorage"),$h=new mp.Yd("@firebase/database"),dy=function(){let r=1;return function(){return r++}}(),Vg=function(r){const n=(0,F.dS)(r),e=new F.gQ;e.update(n);const s=e.digest();return F.US.encodeByteArray(s)},Wh=function(...r){let n="";for(let e=0;e<r.length;e++){const s=r[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?n+=Wh.apply(null,s):n+="object"==typeof s?(0,F.Wl)(s):s,n+=" "}return n};let Kh=null,Yh=!0;const Hg=function(r,n){(0,F.hu)(!n||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?($h.logLevel=mp.in.VERBOSE,Kh=$h.log.bind($h),n&&cy.set("logging_enabled",!0)):"function"==typeof r?Kh=r:(Kh=null,cy.remove("logging_enabled"))},Ms=function(...r){if(!0===Yh&&(Yh=!1,null===Kh&&!0===cy.get("logging_enabled")&&Hg(!0)),Kh){const n=Wh.apply(null,r);Kh(n)}},jg=function(r){return function(...n){Ms(r,...n)}},qh=function(...r){const n="FIREBASE INTERNAL ERROR: "+Wh(...r);$h.error(n)},id=function(...r){const n=`FIREBASE FATAL ERROR: ${Wh(...r)}`;throw $h.error(n),new Error(n)},_o=function(...r){const n="FIREBASE WARNING: "+Wh(...r);$h.warn(n)},Zh=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},Jo="[MIN_NAME]",yo="[MAX_NAME]",za=function(r,n){if(r===n)return 0;if(r===Jo||n===yo)return-1;if(n===Jo||r===yo)return 1;{const e=$g(r),s=$g(n);return null!==e?null!==s?e-s==0?r.length-n.length:e-s:-1:null!==s?1:r<n?-1:1}},Zd=function(r,n){return r===n?0:r<n?-1:1},rd=function(r,n){if(n&&r in n)return n[r];throw new Error("Missing required key ("+r+") in object: "+(0,F.Wl)(n))},zu=function(r){if("object"!=typeof r||null===r)return(0,F.Wl)(r);const n=[];for(const s in r)n.push(s);n.sort();let e="{";for(let s=0;s<n.length;s++)0!==s&&(e+=","),e+=(0,F.Wl)(n[s]),e+=":",e+=zu(r[n[s]]);return e+="}",e},uy=function(r,n){const e=r.length;if(e<=n)return[r];const s=[];for(let u=0;u<e;u+=n)s.push(r.substring(u,u+n>e?e:u+n));return s};function vo(r,n){for(const e in r)r.hasOwnProperty(e)&&n(e,r[e])}const Gg=function(r){(0,F.hu)(!Zh(r),"Invalid JSON number");const s=1023;let u,p,x,S,B;0===r?(p=0,x=0,u=1/r==-1/0?1:0):(u=r<0,(r=Math.abs(r))>=Math.pow(2,1-s)?(S=Math.min(Math.floor(Math.log(r)/Math.LN2),s),p=S+s,x=Math.round(r*Math.pow(2,52-S)-Math.pow(2,52))):(p=0,x=Math.round(r/Math.pow(2,-1074))));const Q=[];for(B=52;B;B-=1)Q.push(x%2?1:0),x=Math.floor(x/2);for(B=11;B;B-=1)Q.push(p%2?1:0),p=Math.floor(p/2);Q.push(u?1:0),Q.reverse();const le=Q.join("");let Te="";for(B=0;B<64;B+=8){let We=parseInt(le.substr(B,8),2).toString(16);1===We.length&&(We="0"+We),Te+=We}return Te.toLowerCase()},ww=new RegExp("^-?(0*)\\d{1,10}$"),$g=function(r){if(ww.test(r)){const n=Number(r);if(n>=-2147483648&&n<=2147483647)return n}return null},tm=function(r){try{r()}catch(n){setTimeout(()=>{throw _o("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Vv=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},pp=function(r,n){const e=setTimeout(r,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Hv{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,s):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(n))}notifyForInvalidToken(){_o(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class py{constructor(n,e,s){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ms("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,s):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_o(n)}}let Gu=(()=>{class r{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return r.OWNER="owner",r})();const Kg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_p="websocket",_y="long_polling";class yp{constructor(n,e,s,u,p=!1,x="",S=!1,B=!1){this.secure=e,this.namespace=s,this.webSocketOnly=u,this.nodeAdmin=p,this.persistenceKey=x,this.includeNamespaceInQueryParams=S,this.isUsingEmulator=B,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ju.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&ju.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function vp(r,n,e){let s;if((0,F.hu)("string"==typeof n,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),n===_p)s=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(n!==_y)throw new Error("Unknown connection type: "+n);s=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function c0(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(e.ns=r.namespace);const u=[];return vo(e,(p,x)=>{u.push(p+"="+x)}),s+u.join("&")}class d0{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,F.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,F.p$)(this.counters_)}}const nm={},bp={};function yy(r){const n=r.toString();return nm[n]||(nm[n]=new d0),nm[n]}class u0{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<s.length;++u)s[u]&&tm(()=>{this.onMessage_(s[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Jd{constructor(n,e,s,u,p,x,S){this.connId=n,this.repoInfo=e,this.applicationId=s,this.appCheckToken=u,this.authToken=p,this.transportSessionId=x,this.lastSessionId=S,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jg(n),this.stats_=yy(e),this.urlFn=B=>(this.appCheckToken&&(B.ac=this.appCheckToken),vp(e,_y,B))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new u0(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,F.Yr)()||"complete"===document.readyState)r();else{let n=!1;const e=function(){document.body?n||(n=!0,r()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new om((...p)=>{const[x,S,B,Q,le]=p;if(this.incrementIncomingBytes_(p),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===x)this.id=S,this.password=B;else{if("close"!==x)throw new Error("Unrecognized command received: "+x);S?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(S,()=>{this.onClosed_()})):this.onClosed_()}},(...p)=>{const[x,S]=p;this.incrementIncomingBytes_(p),this.myPacketOrderer.handleResponse(x,S)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Kg.test(location.hostname)&&(s.r="f");const u=this.urlFn(s);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jd.forceAllow_=!0}static forceDisallow(){Jd.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Jd.forceAllow_&&(Jd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,F.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,F.h$)(e),u=uy(s,1840);for(let p=0;p<u.length;p++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[p]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=n,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,F.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class om{constructor(n,e,s,u){if(this.onDisconnect=s,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=dy(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=om.createIFrame_();let p="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(p='<script>document.domain="'+document.domain+'";<\/script>');const x="<html><body>"+p+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(x),this.myIFrame.doc.close()}catch(S){Ms("frame writing exception"),S.stack&&Ms(S.stack),Ms(S)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Ms("No IE domain setting required")}catch{const s=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),s="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const x=this.pendingSegs.shift();s=s+"&seg"+u+"="+x.seg+"&ts"+u+"="+x.ts+"&d"+u+"="+x.d,u++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,s){this.pendingSegs.push({seg:n,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},u=setTimeout(s,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(u),s()})}addTag(n,e){(0,F.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=n,s.onload=s.onreadystatechange=function(){const u=s.readyState;(!u||"loaded"===u||"complete"===u)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{Ms("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let Cp=null;typeof MozWebSocket<"u"?Cp=MozWebSocket:typeof WebSocket<"u"&&(Cp=WebSocket);let eu=(()=>{class r{constructor(e,s,u,p,x,S,B){this.connId=e,this.applicationId=u,this.appCheckToken=p,this.authToken=x,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jg(this.connId),this.stats_=yy(s),this.connURL=r.connectionURL_(s,S,B,p,u),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,u,p,x){const S={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&Kg.test(location.hostname)&&(S.r="f"),s&&(S.s=s),u&&(S.ls=u),p&&(S.ac=p),x&&(S.p=x),vp(e,_p,S)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ju.set("previous_websocket_failure",!0);try{let u;if((0,F.Yr)()){u={headers:{"User-Agent":`Firebase/5/${Jf}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const x=process.env,S=0===this.connURL.indexOf("wss://")?x.HTTPS_PROXY||x.https_proxy:x.HTTP_PROXY||x.http_proxy;S&&(u.proxy={origin:S})}this.mySock=new Cp(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const p=u.message||u.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const p=u.message||u.data;p&&this.log_(p),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(e=!0)}return!e&&null!==Cp&&!r.forceDisallow_}static previouslyFailed(){return ju.isInMemoryStorage||!0===ju.get("previous_websocket_failure")}markConnectionHealthy(){ju.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const u=(0,F.cI)(s);this.onMessage(u)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const u=this.extractFrameCount_(s);null!==u&&this.appendFrame_(u)}}send(e){this.resetKeepAlive();const s=(0,F.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const u=uy(s,16384);u.length>1&&this.sendString_(String(u.length));for(let p=0;p<u.length;p++)this.sendString_(u[p])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})(),Xg=(()=>{class r{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Jd,eu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=eu&&eu.isAvailable();let u=s&&!eu.previouslyFailed();if(e.webSocketOnly&&(s||_o("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[eu];else{const p=this.transports_=[];for(const x of r.ALL_TRANSPORTS)x&&x.isAvailable()&&p.push(x);r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return r.globalTransportInitialized_=!1,r})();class cm{constructor(n,e,s,u,p,x,S,B,Q,le){this.id=n,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=u,this.authToken_=p,this.onMessage_=x,this.onReady_=S,this.onDisconnect_=B,this.onKill_=Q,this.lastSessionId=le,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jg("c:"+this.id+":"),this.transportManager_=new Xg(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=pp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=rd("t",n),s=rd("d",n);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=rd("t",n),s=rd("d",n);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=rd("t",n);if("d"in n){const s=n.d;if("h"===e){const u=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?qh("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qh("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,s=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&_o("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),pp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ju.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class tf{put(n,e,s,u){}merge(n,e,s,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,s){}onDisconnectMerge(n,e,s){}onDisconnectCancel(n,e){}reportStats(n){}}class xy{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,F.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const s=[...this.listeners_[n]];for(let u=0;u<s.length;u++)s[u].callback.apply(s[u].context,e)}}on(n,e,s){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:s});const u=this.getInitialEvent(n);u&&e.apply(s,u)}off(n,e,s){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let p=0;p<u.length;p++)if(u[p].callback===e&&(!s||s===u[p].context))return void u.splice(p,1)}validateEventType_(n){(0,F.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class dm extends xy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new dm}getInitialEvent(n){return(0,F.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const Ey=32,Cy=768;class Ji{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let s=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[s]=this.pieces_[u],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function Zi(){return new Ji("")}function Bi(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function Ac(r){return r.pieces_.length-r.pieceNum_}function Ur(r){let n=r.pieceNum_;return n<r.pieces_.length&&n++,new Ji(r.pieces_,n)}function um(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function qu(r,n=0){return r.pieces_.slice(r.pieceNum_+n)}function Tp(r){if(r.pieceNum_>=r.pieces_.length)return null;const n=[];for(let e=r.pieceNum_;e<r.pieces_.length-1;e++)n.push(r.pieces_[e]);return new Ji(n,0)}function ns(r,n){const e=[];for(let s=r.pieceNum_;s<r.pieces_.length;s++)e.push(r.pieces_[s]);if(n instanceof Ji)for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);else{const s=n.split("/");for(let u=0;u<s.length;u++)s[u].length>0&&e.push(s[u])}return new Ji(e,0)}function Pi(r){return r.pieceNum_>=r.pieces_.length}function bo(r,n){const e=Bi(r),s=Bi(n);if(null===e)return n;if(e===s)return bo(Ur(r),Ur(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+r+")")}function t_(r,n){const e=qu(r,0),s=qu(n,0);for(let u=0;u<e.length&&u<s.length;u++){const p=za(e[u],s[u]);if(0!==p)return p}return e.length===s.length?0:e.length<s.length?-1:1}function Ap(r,n){if(Ac(r)!==Ac(n))return!1;for(let e=r.pieceNum_,s=n.pieceNum_;e<=r.pieces_.length;e++,s++)if(r.pieces_[e]!==n.pieces_[s])return!1;return!0}function Vo(r,n){let e=r.pieceNum_,s=n.pieceNum_;if(Ac(r)>Ac(n))return!1;for(;e<r.pieces_.length;){if(r.pieces_[e]!==n.pieces_[s])return!1;++e,++s}return!0}class n_{constructor(n,e){this.errorPrefix_=e,this.parts_=qu(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,F.ug)(this.parts_[s]);Dy(this)}}function Dy(r){if(r.byteLength_>Cy)throw new Error(r.errorPrefix_+"has a key path longer than "+Cy+" bytes ("+r.byteLength_+").");if(r.parts_.length>Ey)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ey+") or object contains a cycle "+nu(r))}function nu(r){return 0===r.parts_.length?"":"in property '"+r.parts_.join(".")+"'"}class hm extends xy{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[n];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new hm}getInitialEvent(n){return(0,F.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Vl=1e3;let rf,sd=(()=>{class r extends tf{constructor(e,s,u,p,x,S,B,Q){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=u,this.onConnectStatus_=p,this.onServerInfoUpdate_=x,this.authTokenProvider_=S,this.appCheckTokenProvider_=B,this.authOverride_=Q,this.id=r.nextPersistentConnectionId_++,this.log_=jg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Q&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hm.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&dm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,u){const p=++this.requestNumber_,x={r:p,a:e,b:s};this.log_((0,F.Wl)(x)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(x),u&&(this.requestCBHash_[p]=u)}get(e){this.initConnection_();const s=new F.BH,p={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:S=>{const B=S.d;"ok"===S.s?s.resolve(B):s.reject(B)}};return this.outstandingGets_.push(p),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,u,p){this.initConnection_();const x=e._queryIdentifier,S=e._path.toString();this.log_("Listen called for "+S+" "+x),this.listens.has(S)||this.listens.set(S,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(S).has(x),"listen() called twice for same path/queryId.");const B={onComplete:p,hashFn:s,query:e,tag:u};this.listens.get(S).set(x,B),this.connected_&&this.sendListen_(B)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,u=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(u)})}sendListen_(e){const s=e.query,u=s._path.toString(),p=s._queryIdentifier;this.log_("Listen on "+u+" for "+p);const x={p:u};e.tag&&(x.q=s._queryObject,x.t=e.tag),x.h=e.hashFn(),this.sendRequest("q",x,B=>{const Q=B.d,le=B.s;r.warnOnListenWarnings_(Q,s),(this.listens.get(u)&&this.listens.get(u).get(p))===e&&(this.log_("listen response",B),"ok"!==le&&this.removeListen_(u,p),e.onComplete&&e.onComplete(le,Q))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const u=(0,F.DV)(e,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const p='".indexOn": "'+s._queryParams.getIndex().toString()+'"',x=s._path.toString();_o(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${p} at ${x} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,F.w9)(e)?"auth":"gauth",u={cred:e};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(s,u,p=>{const x=p.s,S=p.d||"error";this.authToken_===e&&("ok"===x?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(x,S))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,u=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,u)})}unlisten(e,s){const u=e._path.toString(),p=e._queryIdentifier;this.log_("Unlisten called for "+u+" "+p),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,p)&&this.connected_&&this.sendUnlisten_(u,p,e._queryObject,s)}sendUnlisten_(e,s,u,p){this.log_("Unlisten on "+e+" for "+s);const x={p:e};p&&(x.q=u,x.t=p),this.sendRequest("n",x)}onDisconnectPut(e,s,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:u})}onDisconnectMerge(e,s,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:u})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,u,p){const x={p:s,d:u};this.log_("onDisconnect "+e,x),this.sendRequest(e,x,S=>{p&&setTimeout(()=>{p(S.s,S.d)},Math.floor(0))})}put(e,s,u,p){this.putInternal("p",e,s,u,p)}merge(e,s,u,p){this.putInternal("m",e,s,u,p)}putInternal(e,s,u,p,x){this.initConnection_();const S={p:s,d:u};void 0!==x&&(S.h=x),this.outstandingPuts_.push({action:e,request:S,onComplete:p}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,u=this.outstandingPuts_[e].request,p=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,u,x=>{this.log_(s+" response",x),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),p&&p(x.s,x.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const s=e.r,u=this.requestCBHash_[s];u&&(delete this.requestCBHash_[s],u(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):qh("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,T.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),u=e.onReady_.bind(e),p=e.onRealtimeDisconnect_.bind(e),x=e.id+":"+r.nextConnectionId_++,S=e.lastSessionId;let B=!1,Q=null;const le=function(){Q?Q.close():(B=!0,p())};e.realtime_={close:le,sendRequest:function(vt){(0,F.hu)(Q,"sendRequest call when we're not connected not allowed."),Q.sendRequest(vt)}};const We=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[vt,Mt]=yield Promise.all([e.authTokenProvider_.getToken(We),e.appCheckTokenProvider_.getToken(We)]);B?Ms("getToken() completed but was canceled"):(Ms("getToken() completed. Creating connection."),e.authToken_=vt&&vt.accessToken,e.appCheckToken_=Mt&&Mt.token,Q=new cm(x,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,u,p,qt=>{_o(qt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},S))}catch(vt){e.log_("Failed to get token: "+vt),B||(e.repoInfo_.nodeAdmin&&_o(vt),le())}}})()}interrupt(e){Ms("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ms("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let u;u=s?s.map(x=>zu(x)).join("$"):"default";const p=this.removeListen_(e,u);p&&p.onComplete&&p.onComplete("permission_denied")}removeListen_(e,s){const u=new Ji(e).toString();let p;if(this.listens.has(u)){const x=this.listens.get(u);p=x.get(s),x.delete(s),0===x.size&&this.listens.delete(u)}else p=void 0;return p}onAuthRevoked_(e,s){Ms("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Ms("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,F.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Jf.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=dm.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class Gi{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new Gi(n,e)}}class s_{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const s=new Gi(Jo,n),u=new Gi(Jo,e);return 0!==this.compare(s,u)}minPost(){return Gi.MIN}}class Yi extends s_{static get __EMPTY_NODE(){return rf}static set __EMPTY_NODE(n){rf=n}compare(n,e){return za(n.name,e.name)}isDefinedOn(n){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return Gi.MIN}maxPost(){return new Gi(yo,rf)}makePost(n,e){return(0,F.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new Gi(n,rf)}toString(){return".key"}}const dc=new Yi;class Mp{constructor(n,e,s,u,p=null){this.isReverse_=u,this.resultGenerator_=p,this.nodeStack_=[];let x=1;for(;!n.isEmpty();)if(x=e?s(n.key,e):1,u&&(x*=-1),x<0)n=this.isReverse_?n.left:n.right;else{if(0===x){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let o_,hr=(()=>{class r{constructor(e,s,u,p,x){this.key=e,this.value=s,this.color=u??r.RED,this.left=p??$i.EMPTY_NODE,this.right=x??$i.EMPTY_NODE}copy(e,s,u,p,x){return new r(e??this.key,s??this.value,u??this.color,p??this.left,x??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,u){let p=this;const x=u(e,p.key);return p=x<0?p.copy(null,null,null,p.left.insert(e,s,u),null):0===x?p.copy(null,s,null,null,null):p.copy(null,null,null,null,p.right.insert(e,s,u)),p.fixUp_()}removeMin_(){if(this.left.isEmpty())return $i.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let u,p;if(u=this,s(e,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(e,s),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===s(e,u.key)){if(u.right.isEmpty())return $i.EMPTY_NODE;p=u.right.min_(),u=u.copy(p.key,p.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(e,s))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class $i{constructor(n,e=$i.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new $i(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,hr.BLACK,null,null))}remove(n){return new $i(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,hr.BLACK,null,null))}get(n){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(n,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(n){let e,s=this.root_,u=null;for(;!s.isEmpty();){if(e=this.comparator_(n,s.key),0===e){if(s.left.isEmpty())return u?u.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(u=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Mp(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new Mp(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new Mp(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new Mp(this.root_,null,this.comparator_,!0,n)}}function ea(r,n){return za(r.name,n.name)}function Hl(r,n){return za(r,n)}$i.EMPTY_NODE=new class Sy{copy(n,e,s,u,p){return this}insert(n,e,s){return new hr(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const fm=function(r){return"number"==typeof r?"number:"+Gg(r):"string:"+r},Zu=function(r){if(r.isLeafNode()){const n=r.val();(0,F.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,F.r3)(n,".sv"),"Priority must be a string or number.")}else(0,F.hu)(r===o_||r.isEmpty(),"priority of unexpected type.");(0,F.hu)(r===o_||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let a_,kp,Xv,mm=(()=>{class r{constructor(e,s=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Zu(this.priorityNode_)}static set __childrenNodeConstructor(e){a_=e}static get __childrenNodeConstructor(){return a_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new r(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pi(e)?this:".priority"===Bi(e)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const u=Bi(e);return null===u?s:s.isEmpty()&&".priority"!==u?this:((0,F.hu)(".priority"!==u||1===Ac(e),".priority must be the last token in a path"),this.updateImmediateChild(u,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ur(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+fm(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?Gg(this.value_):this.value_,this.lazyHash_=Vg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof r.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,u=typeof this.value_,p=r.VALUE_TYPE_ORDER.indexOf(s),x=r.VALUE_TYPE_ORDER.indexOf(u);return(0,F.hu)(p>=0,"Unknown leaf type: "+s),(0,F.hu)(x>=0,"Unknown leaf type: "+u),p===x?"object"===u?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:x-p}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();const Jr=new class eb extends s_{compare(n,e){const s=n.node.getPriority(),u=e.node.getPriority(),p=s.compareTo(u);return 0===p?za(n.name,e.name):p}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return Gi.MIN}maxPost(){return new Gi(yo,new mm("[PRIORITY-POST]",Xv))}makePost(n,e){const s=kp(n);return new Gi(e,new mm("[PRIORITY-POST]",s))}toString(){return".priority"}},kr=Math.log(2);class tb{constructor(n){this.count=parseInt(Math.log(n+1)/kr,10),this.current_=this.count-1;const u=(p=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const l_=function(r,n,e,s){r.sort(n);const u=function(B,Q){const le=Q-B;let Te,We;if(0===le)return null;if(1===le)return Te=r[B],We=e?e(Te):Te,new hr(We,Te.node,hr.BLACK,null,null);{const vt=parseInt(le/2,10)+B,Mt=u(B,vt),qt=u(vt+1,Q);return Te=r[vt],We=e?e(Te):Te,new hr(We,Te.node,hr.BLACK,Mt,qt)}},S=function(B){let Q=null,le=null,Te=r.length;const We=function(Mt,qt){const ln=Te-Mt,oi=Te;Te-=Mt;const or=u(ln+1,oi),er=r[ln],fr=e?e(er):er;vt(new hr(fr,er.node,qt,null,or))},vt=function(Mt){Q?(Q.left=Mt,Q=Mt):(le=Mt,Q=Mt)};for(let Mt=0;Mt<B.count;++Mt){const qt=B.nextBitIsOne(),ln=Math.pow(2,B.count-(Mt+1));qt?We(ln,hr.BLACK):(We(ln,hr.BLACK),We(ln,hr.RED))}return le}(new tb(r.length));return new $i(s||n,S)};let uc;const ta={};class wo{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,F.hu)(ta&&Jr,"ChildrenNode.ts has not been loaded"),uc=uc||new wo({".priority":ta},{".priority":Jr}),uc}get(n){const e=(0,F.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof $i?e:null}hasIndex(n){return(0,F.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,F.hu)(n!==dc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let u=!1;const p=e.getIterator(Gi.Wrap);let S,x=p.getNext();for(;x;)u=u||n.isDefinedOn(x.node),s.push(x),x=p.getNext();S=u?l_(s,n.getCompare()):ta;const B=n.toString(),Q=Object.assign({},this.indexSet_);Q[B]=n;const le=Object.assign({},this.indexes_);return le[B]=S,new wo(le,Q)}addToIndexes(n,e){const s=(0,F.UI)(this.indexes_,(u,p)=>{const x=(0,F.DV)(this.indexSet_,p);if((0,F.hu)(x,"Missing index implementation for "+p),u===ta){if(x.isDefinedOn(n.node)){const S=[],B=e.getIterator(Gi.Wrap);let Q=B.getNext();for(;Q;)Q.name!==n.name&&S.push(Q),Q=B.getNext();return S.push(n),l_(S,x.getCompare())}return ta}{const S=e.get(n.name);let B=u;return S&&(B=B.remove(new Gi(n.name,S))),B.insert(n,n.node)}});return new wo(s,this.indexSet_)}removeFromIndexes(n,e){const s=(0,F.UI)(this.indexes_,u=>{if(u===ta)return u;{const p=e.get(n.name);return p?u.remove(new Gi(n.name,p)):u}});return new wo(s,this.indexSet_)}}let pm,Si=(()=>{class r{constructor(e,s,u){this.children_=e,this.priorityNode_=s,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Zu(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pm||(pm=new r(new $i(Hl),null,wo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pm}updatePriority(e){return this.children_.isEmpty()?this:new r(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?pm:s}}getChild(e){const s=Bi(e);return null===s?this:this.getImmediateChild(s).getChild(Ur(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,F.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const u=new Gi(e,s);let p,x;s.isEmpty()?(p=this.children_.remove(e),x=this.indexMap_.removeFromIndexes(u,this.children_)):(p=this.children_.insert(e,s),x=this.indexMap_.addToIndexes(u,this.children_));const S=p.isEmpty()?pm:this.priorityNode_;return new r(p,S,x)}}updateChild(e,s){const u=Bi(e);if(null===u)return s;{(0,F.hu)(".priority"!==Bi(e)||1===Ac(e),".priority must be the last token in a path");const p=this.getImmediateChild(u).updateChild(Ur(e),s);return this.updateImmediateChild(u,p)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let u=0,p=0,x=!0;if(this.forEachChild(Jr,(S,B)=>{s[S]=B.val(e),u++,x&&r.INTEGER_REGEXP_.test(S)?p=Math.max(p,Number(S)):x=!1}),!e&&x&&p<2*u){const S=[];for(const B in s)S[B]=s[B];return S}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+fm(this.getPriority().val())+":"),this.forEachChild(Jr,(s,u)=>{const p=u.hash();""!==p&&(e+=":"+s+":"+p)}),this.lazyHash_=""===e?"":Vg(e)}return this.lazyHash_}getPredecessorChildName(e,s,u){const p=this.resolveIndex_(u);if(p){const x=p.getPredecessorKey(new Gi(e,s));return x?x.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const u=s.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Gi(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const u=s.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Gi(s,this.children_.get(s)):null}forEachChild(e,s){const u=this.resolveIndex_(e);return u?u.inorderTraversal(p=>s(p.name,p.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const u=this.resolveIndex_(s);if(u)return u.getIteratorFrom(e,p=>p);{const p=this.children_.getIteratorFrom(e.name,Gi.Wrap);let x=p.peek();for(;null!=x&&s.compare(x,e)<0;)p.getNext(),x=p.peek();return p}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const u=this.resolveIndex_(s);if(u)return u.getReverseIteratorFrom(e,p=>p);{const p=this.children_.getReverseIteratorFrom(e.name,Gi.Wrap);let x=p.peek();for(;null!=x&&s.compare(x,e)>0;)p.getNext(),x=p.peek();return p}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===c_?-1:0}withIndex(e){if(e===dc||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new r(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===dc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const u=this.getIterator(Jr),p=s.getIterator(Jr);let x=u.getNext(),S=p.getNext();for(;x&&S;){if(x.name!==S.name||!x.node.equals(S.node))return!1;x=u.getNext(),S=p.getNext()}return null===x&&null===S}return!1}return!1}}resolveIndex_(e){return e===dc?null:this.indexMap_.get(e.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();const c_=new class m0 extends Si{constructor(){super(new $i(Hl),Si.EMPTY_NODE,wo.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Si.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Gi,{MIN:{value:new Gi(Jo,Si.EMPTY_NODE)},MAX:{value:new Gi(yo,c_)}}),Yi.__EMPTY_NODE=Si.EMPTY_NODE,mm.__childrenNodeConstructor=Si,function Qv(r){o_=r}(c_),function ys(r){Xv=r}(c_);const p0=!0;function ks(r,n=null){if(null===r)return Si.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(n=r[".priority"]),(0,F.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new mm(r,ks(n));if(r instanceof Array||!p0){let e=Si.EMPTY_NODE;return vo(r,(s,u)=>{if((0,F.r3)(r,s)&&"."!==s.substring(0,1)){const p=ks(u);(p.isLeafNode()||!p.isEmpty())&&(e=e.updateImmediateChild(s,p))}}),e.updatePriority(ks(n))}{const e=[];let s=!1;if(vo(r,(x,S)=>{if("."!==x.substring(0,1)){const B=ks(S);B.isEmpty()||(s=s||!B.getPriority().isEmpty(),e.push(new Gi(x,B)))}}),0===e.length)return Si.EMPTY_NODE;const p=l_(e,ea,x=>x.name,Hl);if(s){const x=l_(e,Jr.getCompare());return new Si(p,ks(n),new wo({".priority":x},{".priority":Jr}))}return new Si(p,ks(n),wo.Default)}}!function Jv(r){kp=r}(ks);class gm extends s_{constructor(n){super(),this.indexPath_=n,(0,F.hu)(!Pi(n)&&".priority"!==Bi(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const s=this.extractChild(n.node),u=this.extractChild(e.node),p=s.compareTo(u);return 0===p?za(n.name,e.name):p}makePost(n,e){const s=ks(n),u=Si.EMPTY_NODE.updateChild(this.indexPath_,s);return new Gi(e,u)}maxPost(){const n=Si.EMPTY_NODE.updateChild(this.indexPath_,c_);return new Gi(yo,n)}toString(){return qu(this.indexPath_,0).join("/")}}const Ty=new class iu extends s_{compare(n,e){const s=n.node.compareTo(e.node);return 0===s?za(n.name,e.name):s}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return Gi.MIN}maxPost(){return Gi.MAX}makePost(n,e){const s=ks(n);return new Gi(e,s)}toString(){return".value"}};function hc(r){return{type:"value",snapshotNode:r}}function _l(r,n){return{type:"child_added",snapshotNode:n,childName:r}}function Rp(r,n){return{type:"child_removed",snapshotNode:n,childName:r}}function fc(r,n,e){return{type:"child_changed",snapshotNode:n,childName:r,oldSnap:e}}class Ay{constructor(n){this.index_=n}updateChild(n,e,s,u,p,x){(0,F.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const S=n.getImmediateChild(e);return S.getChild(u).equals(s.getChild(u))&&S.isEmpty()===s.isEmpty()||(null!=x&&(s.isEmpty()?n.hasChild(e)?x.trackChildChange(Rp(e,S)):(0,F.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):S.isEmpty()?x.trackChildChange(_l(e,s)):x.trackChildChange(fc(e,s,S))),n.isLeafNode()&&s.isEmpty())?n:n.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(n,e,s){return null!=s&&(n.isLeafNode()||n.forEachChild(Jr,(u,p)=>{e.hasChild(u)||s.trackChildChange(Rp(u,p))}),e.isLeafNode()||e.forEachChild(Jr,(u,p)=>{if(n.hasChild(u)){const x=n.getImmediateChild(u);x.equals(p)||s.trackChildChange(fc(u,p,x))}else s.trackChildChange(_l(u,p))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?Si.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class _m{constructor(n){this.indexedFilter_=new Ay(n.getIndex()),this.index_=n.getIndex(),this.startPost_=_m.getStartPost_(n),this.endPost_=_m.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,s=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&s}updateChild(n,e,s,u,p,x){return this.matches(new Gi(e,s))||(s=Si.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,s,u,p,x)}updateFullNode(n,e,s){e.isLeafNode()&&(e=Si.EMPTY_NODE);let u=e.withIndex(this.index_);u=u.updatePriority(Si.EMPTY_NODE);const p=this;return e.forEachChild(Jr,(x,S)=>{p.matches(new Gi(x,S))||(u=u.updateImmediateChild(x,Si.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,s)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class My{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new _m(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,s,u,p,x){return this.rangedFilter_.matches(new Gi(e,s))||(s=Si.EMPTY_NODE),n.getImmediateChild(e).equals(s)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,s,u,p,x):this.fullLimitUpdateChild_(n,e,s,p,x)}updateFullNode(n,e,s){let u;if(e.isLeafNode()||e.isEmpty())u=Si.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let p;u=Si.EMPTY_NODE.withIndex(this.index_),p=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let x=0;for(;p.hasNext()&&x<this.limit_;){const S=p.getNext();if(this.withinDirectionalStart(S)){if(!this.withinDirectionalEnd(S))break;u=u.updateImmediateChild(S.name,S.node),x++}}}else{let p;u=e.withIndex(this.index_),u=u.updatePriority(Si.EMPTY_NODE),p=this.reverse_?u.getReverseIterator(this.index_):u.getIterator(this.index_);let x=0;for(;p.hasNext();){const S=p.getNext();x<this.limit_&&this.withinDirectionalStart(S)&&this.withinDirectionalEnd(S)?x++:u=u.updateImmediateChild(S.name,Si.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,s)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,s,u,p){let x;if(this.reverse_){const Te=this.index_.getCompare();x=(We,vt)=>Te(vt,We)}else x=this.index_.getCompare();const S=n;(0,F.hu)(S.numChildren()===this.limit_,"");const B=new Gi(e,s),Q=this.reverse_?S.getFirstChild(this.index_):S.getLastChild(this.index_),le=this.rangedFilter_.matches(B);if(S.hasChild(e)){const Te=S.getImmediateChild(e);let We=u.getChildAfterChild(this.index_,Q,this.reverse_);for(;null!=We&&(We.name===e||S.hasChild(We.name));)We=u.getChildAfterChild(this.index_,We,this.reverse_);const vt=null==We?1:x(We,B);if(le&&!s.isEmpty()&&vt>=0)return p?.trackChildChange(fc(e,s,Te)),S.updateImmediateChild(e,s);{p?.trackChildChange(Rp(e,Te));const qt=S.updateImmediateChild(e,Si.EMPTY_NODE);return null!=We&&this.rangedFilter_.matches(We)?(p?.trackChildChange(_l(We.name,We.node)),qt.updateImmediateChild(We.name,We.node)):qt}}return s.isEmpty()?n:le&&x(Q,B)>=0?(null!=p&&(p.trackChildChange(Rp(Q.name,Q.node)),p.trackChildChange(_l(e,s))),S.updateImmediateChild(e,s).updateImmediateChild(Q.name,Si.EMPTY_NODE)):n}}class af{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Jr}copy(){const n=new af;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function cf(r,n,e){const s=r.copy();return s.startSet_=!0,void 0===n&&(n=null),s.indexStartValue_=n,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Op(r,n,e){const s=r.copy();return s.endSet_=!0,void 0===n&&(n=null),s.indexEndValue_=n,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Pp(r,n){const e=r.copy();return e.index_=n,e}function ky(r){const n={};if(r.isDefault())return n;let e;if(r.index_===Jr?e="$priority":r.index_===Ty?e="$value":r.index_===dc?e="$key":((0,F.hu)(r.index_ instanceof gm,"Unrecognized index type!"),e=r.index_.toString()),n.orderBy=(0,F.Wl)(e),r.startSet_){const s=r.startAfterSet_?"startAfter":"startAt";n[s]=(0,F.Wl)(r.indexStartValue_),r.startNameSet_&&(n[s]+=","+(0,F.Wl)(r.indexStartName_))}if(r.endSet_){const s=r.endBeforeSet_?"endBefore":"endAt";n[s]=(0,F.Wl)(r.indexEndValue_),r.endNameSet_&&(n[s]+=","+(0,F.Wl)(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?n.limitToFirst=r.limit_:n.limitToLast=r.limit_),n}function Ry(r){const n={};if(r.startSet_&&(n.sp=r.indexStartValue_,r.startNameSet_&&(n.sn=r.indexStartName_),n.sin=!r.startAfterSet_),r.endSet_&&(n.ep=r.indexEndValue_,r.endNameSet_&&(n.en=r.indexEndName_),n.ein=!r.endBeforeSet_),r.limitSet_){n.l=r.limit_;let e=r.viewFrom_;""===e&&(e=r.isViewFromLeft()?"l":"r"),n.vf=e}return r.index_!==Jr&&(n.i=r.index_.toString()),n}class vm extends tf{constructor(n,e,s,u){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=u,this.log_=jg("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,F.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,s,u){const p=n._path.toString();this.log_("Listen called for "+p+" "+n._queryIdentifier);const x=vm.getListenId_(n,s),S={};this.listens_[x]=S;const B=ky(n._queryParams);this.restRequest_(p+".json",B,(Q,le)=>{let Te=le;if(404===Q&&(Te=null,Q=null),null===Q&&this.onDataUpdate_(p,Te,!1,s),(0,F.DV)(this.listens_,x)===S){let We;We=Q?401===Q?"permission_denied":"rest_error:"+Q:"ok",u(We,null)}})}unlisten(n,e){const s=vm.getListenId_(n,e);delete this.listens_[s]}get(n){const e=ky(n._queryParams),s=n._path.toString(),u=new F.BH;return this.restRequest_(s+".json",e,(p,x)=>{let S=x;404===p&&(S=null,p=null),null===p?(this.onDataUpdate_(s,S,!1,null),u.resolve(S)):u.reject(new Error(S))}),u.promise}refreshAuthToken(n){}restRequest_(n,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,p])=>{u&&u.accessToken&&(e.auth=u.accessToken),p&&p.token&&(e.ac=p.token);const x=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+x);const S=new XMLHttpRequest;S.onreadystatechange=()=>{if(s&&4===S.readyState){this.log_("REST Response for "+x+" received. status:",S.status,"response:",S.responseText);let B=null;if(S.status>=200&&S.status<300){try{B=(0,F.cI)(S.responseText)}catch{_o("Failed to parse JSON response for "+x+": "+S.responseText)}s(null,B)}else 401!==S.status&&404!==S.status&&_o("Got unsuccessful REST response for "+x+" Status: "+S.status),s(S.status);s=null}},S.open("GET",x,!0),S.send()})}}class Oy{constructor(){this.rootNode_=Si.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function Np(){return{value:null,children:new Map}}function mc(r,n,e){if(Pi(n))r.value=e,r.children.clear();else if(null!==r.value)r.value=r.value.updateChild(n,e);else{const s=Bi(n);r.children.has(s)||r.children.set(s,Np()),mc(r.children.get(s),n=Ur(n),e)}}function u_(r,n){if(Pi(n))return r.value=null,r.children.clear(),!0;if(null!==r.value){if(r.value.isLeafNode())return!1;{const e=r.value;return r.value=null,e.forEachChild(Jr,(s,u)=>{mc(r,new Ji(s),u)}),u_(r,n)}}if(r.children.size>0){const e=Bi(n);return n=Ur(n),r.children.has(e)&&u_(r.children.get(e),n)&&r.children.delete(e),0===r.children.size}return!0}function h_(r,n,e){null!==r.value?e(n,r.value):function Py(r,n){r.children.forEach((e,s)=>{n(s,e)})}(r,(s,u)=>{h_(u,new Ji(n.toString()+"/"+s),e)})}class Fp{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&vo(this.last_,(s,u)=>{e[s]=e[s]-u}),this.last_=n,e}}class rb{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Fp(n);const s=1e4+2e4*Math.random();pp(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const n=this.statsListener_.get(),e={};let s=!1;vo(n,(u,p)=>{p>0&&(0,F.r3)(this.statsToReport_,u)&&(e[u]=p,s=!0)}),s&&this.server_.reportStats(e),pp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ba=(()=>{return(r=ba||(ba={}))[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ba;var r})();function p_(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class wm{constructor(n,e,s){this.path=n,this.affectedTree=e,this.revert=s,this.type=ba.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(Pi(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ji(n));return new wm(Zi(),e,this.revert)}}return(0,F.hu)(Bi(this.path)===n,"operationForChild called for unrelated child."),new wm(Ur(this.path),this.affectedTree,this.revert)}}class od{constructor(n,e){this.source=n,this.path=e,this.type=ba.LISTEN_COMPLETE}operationForChild(n){return Pi(this.path)?new od(this.source,Zi()):new od(this.source,Ur(this.path))}}class Ga{constructor(n,e,s){this.source=n,this.path=e,this.snap=s,this.type=ba.OVERWRITE}operationForChild(n){return Pi(this.path)?new Ga(this.source,Zi(),this.snap.getImmediateChild(n)):new Ga(this.source,Ur(this.path),this.snap)}}class Mc{constructor(n,e,s){this.source=n,this.path=e,this.children=s,this.type=ba.MERGE}operationForChild(n){if(Pi(this.path)){const e=this.children.subtree(new Ji(n));return e.isEmpty()?null:e.value?new Ga(this.source,Zi(),e.value):new Mc(this.source,Zi(),e)}return(0,F.hu)(Bi(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Mc(this.source,Ur(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ru{constructor(n,e,s){this.node_=n,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Pi(n))return this.isFullyInitialized()&&!this.filtered_;const e=Bi(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class df{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Lp(r,n,e,s,u,p){const x=s.filter(S=>S.type===e);x.sort((S,B)=>function sb(r,n,e){if(null==n.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const s=new Gi(n.childName,n.snapshotNode),u=new Gi(e.childName,e.snapshotNode);return r.index_.compare(s,u)}(r,S,B)),x.forEach(S=>{const B=function g_(r,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,r.index_)),n}(r,S,p);u.forEach(Q=>{Q.respondsTo(S.type)&&n.push(Q.createEvent(B,r.query_))})})}function su(r,n){return{eventCache:r,serverCache:n}}function uf(r,n,e,s){return su(new ru(n,e,s),r.serverCache)}function Xu(r,n,e,s){return su(r.eventCache,new ru(n,e,s))}function hf(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function ff(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let Ju;class Kr{constructor(n,e=(()=>(Ju||(Ju=new $i(Zd)),Ju))()){this.value=n,this.children=e}static fromObject(n){let e=new Kr(null);return vo(n,(s,u)=>{e=e.set(new Ji(s),u)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:Zi(),value:this.value};if(Pi(n))return null;{const s=Bi(n),u=this.children.get(s);if(null!==u){const p=u.findRootMostMatchingPathAndValue(Ur(n),e);return null!=p?{path:ns(new Ji(s),p.path),value:p.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Pi(n))return this;{const e=Bi(n),s=this.children.get(e);return null!==s?s.subtree(Ur(n)):new Kr(null)}}set(n,e){if(Pi(n))return new Kr(e,this.children);{const s=Bi(n),p=(this.children.get(s)||new Kr(null)).set(Ur(n),e),x=this.children.insert(s,p);return new Kr(this.value,x)}}remove(n){if(Pi(n))return this.children.isEmpty()?new Kr(null):new Kr(null,this.children);{const e=Bi(n),s=this.children.get(e);if(s){const u=s.remove(Ur(n));let p;return p=u.isEmpty()?this.children.remove(e):this.children.insert(e,u),null===this.value&&p.isEmpty()?new Kr(null):new Kr(this.value,p)}return this}}get(n){if(Pi(n))return this.value;{const e=Bi(n),s=this.children.get(e);return s?s.get(Ur(n)):null}}setTree(n,e){if(Pi(n))return e;{const s=Bi(n),p=(this.children.get(s)||new Kr(null)).setTree(Ur(n),e);let x;return x=p.isEmpty()?this.children.remove(s):this.children.insert(s,p),new Kr(this.value,x)}}fold(n){return this.fold_(Zi(),n)}fold_(n,e){const s={};return this.children.inorderTraversal((u,p)=>{s[u]=p.fold_(ns(n,u),e)}),e(n,this.value,s)}findOnPath(n,e){return this.findOnPath_(n,Zi(),e)}findOnPath_(n,e,s){const u=!!this.value&&s(e,this.value);if(u)return u;if(Pi(n))return null;{const p=Bi(n),x=this.children.get(p);return x?x.findOnPath_(Ur(n),ns(e,p),s):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,Zi(),e)}foreachOnPath_(n,e,s){if(Pi(n))return this;{this.value&&s(e,this.value);const u=Bi(n),p=this.children.get(u);return p?p.foreachOnPath_(Ur(n),ns(e,u),s):new Kr(null)}}foreach(n){this.foreach_(Zi(),n)}foreach_(n,e){this.children.inorderTraversal((s,u)=>{u.foreach_(ns(n,s),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,s)=>{s.value&&n(e,s.value)})}}class ad{constructor(n){this.writeTree_=n}static empty(){return new ad(new Kr(null))}}function mf(r,n,e){if(Pi(n))return new ad(new Kr(e));{const s=r.writeTree_.findRootMostValueAndPath(n);if(null!=s){const u=s.path;let p=s.value;const x=bo(u,n);return p=p.updateChild(x,e),new ad(r.writeTree_.set(u,p))}{const u=new Kr(e),p=r.writeTree_.setTree(n,u);return new ad(p)}}}function Bp(r,n,e){let s=r;return vo(e,(u,p)=>{s=mf(s,ns(n,u),p)}),s}function ob(r,n){if(Pi(n))return ad.empty();{const e=r.writeTree_.setTree(n,new Kr(null));return new ad(e)}}function ei(r,n){return null!=eh(r,n)}function eh(r,n){const e=r.writeTree_.findRootMostValueAndPath(n);return null!=e?r.writeTree_.get(e.path).getChild(bo(e.path,n)):null}function Ly(r){const n=[],e=r.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Jr,(s,u)=>{n.push(new Gi(s,u))}):r.writeTree_.children.inorderTraversal((s,u)=>{null!=u.value&&n.push(new Gi(s,u.value))}),n}function ld(r,n){if(Pi(n))return r;{const e=eh(r,n);return new ad(null!=e?new Kr(e):r.writeTree_.subtree(n))}}function kc(r){return r.writeTree_.isEmpty()}function xm(r,n){return __(Zi(),r.writeTree_,n)}function __(r,n,e){if(null!=n.value)return e.updateChild(r,n.value);{let s=null;return n.children.inorderTraversal((u,p)=>{".priority"===u?((0,F.hu)(null!==p.value,"Priority writes must always be leaf nodes"),s=p.value):e=__(ns(r,u),p,e)}),!e.getChild(r).isEmpty()&&null!==s&&(e=e.updateChild(ns(r,".priority"),s)),e}}function Em(r,n){return Rc(n,r)}function ou(r,n){if(r.snap)return Vo(r.path,n);for(const e in r.children)if(r.children.hasOwnProperty(e)&&Vo(ns(r.path,e),n))return!0;return!1}function au(r){return r.visible}function By(r,n,e){let s=ad.empty();for(let u=0;u<r.length;++u){const p=r[u];if(n(p)){const x=p.path;let S;if(p.snap)Vo(e,x)?(S=bo(e,x),s=mf(s,S,p.snap)):Vo(x,e)&&(S=bo(x,e),s=mf(s,Zi(),p.snap.getChild(S)));else{if(!p.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(Vo(e,x))S=bo(e,x),s=Bp(s,S,p.children);else if(Vo(x,e))if(S=bo(x,e),Pi(S))s=Bp(s,Zi(),p.children);else{const B=(0,F.DV)(p.children,Bi(S));if(B){const Q=B.getChild(Ur(S));s=mf(s,Zi(),Q)}}}}}return s}function y_(r,n,e,s,u){if(s||u){const p=ld(r.visibleWrites,n);return!u&&kc(p)?e:u||null!=e||ei(p,Zi())?xm(By(r.allWrites,function(Q){return(Q.visible||u)&&(!s||!~s.indexOf(Q.writeId))&&(Vo(Q.path,n)||Vo(n,Q.path))},n),e||Si.EMPTY_NODE):null}{const p=eh(r.visibleWrites,n);if(null!=p)return p;{const x=ld(r.visibleWrites,n);return kc(x)?e:null!=e||ei(x,Zi())?xm(x,e||Si.EMPTY_NODE):null}}}function v_(r,n,e,s){return y_(r.writeTree,r.treePath,n,e,s)}function pf(r,n){return function y0(r,n,e){let s=Si.EMPTY_NODE;const u=eh(r.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(Jr,(p,x)=>{s=s.updateImmediateChild(p,x)}),s;if(e){const p=ld(r.visibleWrites,n);return e.forEachChild(Jr,(x,S)=>{const B=xm(ld(p,new Ji(x)),S);s=s.updateImmediateChild(x,B)}),Ly(p).forEach(x=>{s=s.updateImmediateChild(x.name,x.node)}),s}return Ly(ld(r.visibleWrites,n)).forEach(x=>{s=s.updateImmediateChild(x.name,x.node)}),s}(r.writeTree,r.treePath,n)}function b_(r,n,e,s){return function nh(r,n,e,s,u){(0,F.hu)(s||u,"Either existingEventSnap or existingServerSnap must exist");const p=ns(n,e);if(ei(r.visibleWrites,p))return null;{const x=ld(r.visibleWrites,p);return kc(x)?u.getChild(e):xm(x,u.getChild(e))}}(r.writeTree,r.treePath,n,e,s)}function Vp(r,n){return function Up(r,n){return eh(r.visibleWrites,n)}(r.writeTree,ns(r.treePath,n))}function w_(r,n,e){return function v0(r,n,e,s){const u=ns(n,e),p=eh(r.visibleWrites,u);return null!=p?p:s.isCompleteForChild(e)?xm(ld(r.visibleWrites,u),s.getNode().getImmediateChild(e)):null}(r.writeTree,r.treePath,n,e)}function Dm(r,n){return Rc(ns(r.treePath,n),r.writeTree)}function Rc(r,n){return{treePath:r,writeTree:n}}class Uy{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,s=n.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(s);if(u){const p=u.type;if("child_added"===e&&"child_removed"===p)this.changeMap.set(s,fc(s,n.snapshotNode,u.snapshotNode));else if("child_removed"===e&&"child_added"===p)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===p)this.changeMap.set(s,Rp(s,u.oldSnap));else if("child_changed"===e&&"child_added"===p)this.changeMap.set(s,_l(s,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==p)throw(0,F.g5)("Illegal combination of changes: "+n+" occurred after "+u);this.changeMap.set(s,fc(s,n.snapshotNode,u.oldSnap))}}else this.changeMap.set(s,n)}getChanges(){return Array.from(this.changeMap.values())}}const lb=new class xw{getCompleteChild(n){return null}getChildAfterChild(n,e,s){return null}};class x_{constructor(n,e,s=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const s=null!=this.optCompleteServerCache_?new ru(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return w_(this.writes_,n,s)}}getChildAfterChild(n,e,s){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ff(this.viewCache_),p=function ab(r,n,e,s,u,p){return function b0(r,n,e,s,u,p,x){let S;const B=ld(r.visibleWrites,n),Q=eh(B,Zi());if(null!=Q)S=Q;else{if(null==e)return[];S=xm(B,e)}if(S=S.withIndex(x),S.isEmpty()||S.isLeafNode())return[];{const le=[],Te=x.getCompare(),We=p?S.getReverseIteratorFrom(s,x):S.getIteratorFrom(s,x);let vt=We.getNext();for(;vt&&le.length<u;)0!==Te(vt,s)&&le.push(vt),vt=We.getNext();return le}}(r.writeTree,r.treePath,n,e,s,u,p)}(this.writes_,u,e,1,s,n);return 0===p.length?null:p[0]}}function ub(r,n,e,s,u,p){const x=n.eventCache;if(null!=Vp(s,e))return n;{let S,B;if(Pi(e))if((0,F.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const Q=ff(n),Te=pf(s,Q instanceof Si?Q:Si.EMPTY_NODE);S=r.filter.updateFullNode(n.eventCache.getNode(),Te,p)}else{const Q=v_(s,ff(n));S=r.filter.updateFullNode(n.eventCache.getNode(),Q,p)}else{const Q=Bi(e);if(".priority"===Q){(0,F.hu)(1===Ac(e),"Can't have a priority with additional path components");const le=x.getNode();B=n.serverCache.getNode();const Te=b_(s,e,le,B);S=null!=Te?r.filter.updatePriority(le,Te):x.getNode()}else{const le=Ur(e);let Te;if(x.isCompleteForChild(Q)){B=n.serverCache.getNode();const We=b_(s,e,x.getNode(),B);Te=null!=We?x.getNode().getImmediateChild(Q).updateChild(le,We):x.getNode().getImmediateChild(Q)}else Te=w_(s,Q,n.serverCache);S=null!=Te?r.filter.updateChild(x.getNode(),Q,Te,le,u,p):x.getNode()}}return uf(n,S,x.isFullyInitialized()||Pi(e),r.filter.filtersNodes())}}function E_(r,n,e,s,u,p,x,S){const B=n.serverCache;let Q;const le=x?r.filter:r.filter.getIndexedFilter();if(Pi(e))Q=le.updateFullNode(B.getNode(),s,null);else if(le.filtersNodes()&&!B.isFiltered()){const vt=B.getNode().updateChild(e,s);Q=le.updateFullNode(B.getNode(),vt,null)}else{const vt=Bi(e);if(!B.isCompleteForPath(e)&&Ac(e)>1)return n;const Mt=Ur(e),ln=B.getNode().getImmediateChild(vt).updateChild(Mt,s);Q=".priority"===vt?le.updatePriority(B.getNode(),ln):le.updateChild(B.getNode(),vt,ln,Mt,lb,null)}const Te=Xu(n,Q,B.isFullyInitialized()||Pi(e),le.filtersNodes());return ub(r,Te,e,u,new x_(u,Te,p),S)}function E0(r,n,e,s,u,p,x){const S=n.eventCache;let B,Q;const le=new x_(u,n,p);if(Pi(e))Q=r.filter.updateFullNode(n.eventCache.getNode(),s,x),B=uf(n,Q,!0,r.filter.filtersNodes());else{const Te=Bi(e);if(".priority"===Te)Q=r.filter.updatePriority(n.eventCache.getNode(),s),B=uf(n,Q,S.isFullyInitialized(),S.isFiltered());else{const We=Ur(e),vt=S.getNode().getImmediateChild(Te);let Mt;if(Pi(We))Mt=s;else{const qt=le.getCompleteChild(Te);Mt=null!=qt?".priority"===um(We)&&qt.getChild(Tp(We)).isEmpty()?qt:qt.updateChild(We,s):Si.EMPTY_NODE}B=vt.equals(Mt)?n:uf(n,r.filter.updateChild(S.getNode(),Te,Mt,We,le,x),S.isFullyInitialized(),r.filter.filtersNodes())}}return B}function C0(r,n){return r.eventCache.isCompleteForChild(n)}function ih(r,n,e){return e.foreach((s,u)=>{n=n.updateChild(s,u)}),n}function C_(r,n,e,s,u,p,x,S){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let Q,B=n;Q=Pi(e)?s:new Kr(null).setTree(e,s);const le=n.serverCache.getNode();return Q.children.inorderTraversal((Te,We)=>{if(le.hasChild(Te)){const Mt=ih(0,n.serverCache.getNode().getImmediateChild(Te),We);B=E_(r,B,new Ji(Te),Mt,u,p,x,S)}}),Q.children.inorderTraversal((Te,We)=>{const vt=!n.serverCache.isCompleteForChild(Te)&&null===We.value;if(!le.hasChild(Te)&&!vt){const qt=ih(0,n.serverCache.getNode().getImmediateChild(Te),We);B=E_(r,B,new Ji(Te),qt,u,p,x,S)}}),B}class hb{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const s=this.query_._queryParams,u=new Ay(s.getIndex()),p=function lf(r){return r.loadsAllData()?new Ay(r.getIndex()):r.hasLimit()?new My(r):new _m(r)}(s);this.processor_=function cb(r){return{filter:r}}(p);const x=e.serverCache,S=e.eventCache,B=u.updateFullNode(Si.EMPTY_NODE,x.getNode(),null),Q=p.updateFullNode(Si.EMPTY_NODE,S.getNode(),null),le=new ru(B,x.isFullyInitialized(),u.filtersNodes()),Te=new ru(Q,S.isFullyInitialized(),p.filtersNodes());this.viewCache_=su(Te,le),this.eventGenerator_=new df(this.query_)}get query(){return this.query_}}function Cw(r,n){const e=ff(r.viewCache_);return e&&(r.query._queryParams.loadsAllData()||!Pi(n)&&!e.getImmediateChild(Bi(n)).isEmpty())?e.getChild(n):null}function A0(r){return 0===r.eventRegistrations_.length}function M0(r,n,e){const s=[];if(e){(0,F.hu)(null==n,"A cancel should cancel all event registrations.");const u=r.query._path;r.eventRegistrations_.forEach(p=>{const x=p.createCancelEvent(e,u);x&&s.push(x)})}if(n){let u=[];for(let p=0;p<r.eventRegistrations_.length;++p){const x=r.eventRegistrations_[p];if(x.matches(n)){if(n.hasAnyCallback()){u=u.concat(r.eventRegistrations_.slice(p+1));break}}else u.push(x)}r.eventRegistrations_=u}else r.eventRegistrations_=[];return s}function mb(r,n,e,s){n.type===ba.MERGE&&null!==n.source.queryId&&((0,F.hu)(ff(r.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(hf(r.viewCache_),"Missing event cache, even though we have a server cache"));const u=r.viewCache_,p=function Ew(r,n,e,s,u){const p=new Uy;let x,S;if(e.type===ba.OVERWRITE){const Q=e;Q.source.fromUser?x=E0(r,n,Q.path,Q.snap,s,u,p):((0,F.hu)(Q.source.fromServer,"Unknown source."),S=Q.source.tagged||n.serverCache.isFiltered()&&!Pi(Q.path),x=E_(r,n,Q.path,Q.snap,s,u,S,p))}else if(e.type===ba.MERGE){const Q=e;Q.source.fromUser?x=function D0(r,n,e,s,u,p,x){let S=n;return s.foreach((B,Q)=>{const le=ns(e,B);C0(n,Bi(le))&&(S=E0(r,S,le,Q,u,p,x))}),s.foreach((B,Q)=>{const le=ns(e,B);C0(n,Bi(le))||(S=E0(r,S,le,Q,u,p,x))}),S}(r,n,Q.path,Q.children,s,u,p):((0,F.hu)(Q.source.fromServer,"Unknown source."),S=Q.source.tagged||n.serverCache.isFiltered(),x=C_(r,n,Q.path,Q.children,s,u,S,p))}else if(e.type===ba.ACK_USER_WRITE){const Q=e;x=Q.revert?function S0(r,n,e,s,u,p){let x;if(null!=Vp(s,e))return n;{const S=new x_(s,n,u),B=n.eventCache.getNode();let Q;if(Pi(e)||".priority"===Bi(e)){let le;if(n.serverCache.isFullyInitialized())le=v_(s,ff(n));else{const Te=n.serverCache.getNode();(0,F.hu)(Te instanceof Si,"serverChildren would be complete if leaf node"),le=pf(s,Te)}Q=r.filter.updateFullNode(B,le,p)}else{const le=Bi(e);let Te=w_(s,le,n.serverCache);null==Te&&n.serverCache.isCompleteForChild(le)&&(Te=B.getImmediateChild(le)),Q=null!=Te?r.filter.updateChild(B,le,Te,Ur(e),S,p):n.eventCache.getNode().hasChild(le)?r.filter.updateChild(B,le,Si.EMPTY_NODE,Ur(e),S,p):B,Q.isEmpty()&&n.serverCache.isFullyInitialized()&&(x=v_(s,ff(n)),x.isLeafNode()&&(Q=r.filter.updateFullNode(Q,x,p)))}return x=n.serverCache.isFullyInitialized()||null!=Vp(s,Zi()),uf(n,Q,x,r.filter.filtersNodes())}}(r,n,Q.path,s,u,p):function D_(r,n,e,s,u,p,x){if(null!=Vp(u,e))return n;const S=n.serverCache.isFiltered(),B=n.serverCache;if(null!=s.value){if(Pi(e)&&B.isFullyInitialized()||B.isCompleteForPath(e))return E_(r,n,e,B.getNode().getChild(e),u,p,S,x);if(Pi(e)){let Q=new Kr(null);return B.getNode().forEachChild(dc,(le,Te)=>{Q=Q.set(new Ji(le),Te)}),C_(r,n,e,Q,u,p,S,x)}return n}{let Q=new Kr(null);return s.foreach((le,Te)=>{const We=ns(e,le);B.isCompleteForPath(We)&&(Q=Q.set(le,B.getNode().getChild(We)))}),C_(r,n,e,Q,u,p,S,x)}}(r,n,Q.path,Q.affectedTree,s,u,p)}else{if(e.type!==ba.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);x=function I0(r,n,e,s,u){const p=n.serverCache;return ub(r,Xu(n,p.getNode(),p.isFullyInitialized()||Pi(e),p.isFiltered()),e,s,lb,u)}(r,n,e.path,s,p)}const B=p.getChanges();return function db(r,n,e){const s=n.eventCache;if(s.isFullyInitialized()){const u=s.getNode().isLeafNode()||s.getNode().isEmpty(),p=hf(r);(e.length>0||!r.eventCache.isFullyInitialized()||u&&!s.getNode().equals(p)||!s.getNode().getPriority().equals(p.getPriority()))&&e.push(hc(hf(n)))}}(n,x,B),{viewCache:x,changes:B}}(r.processor_,u,n,e,s);return function x0(r,n){(0,F.hu)(n.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(n.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}(r.processor_,p.viewCache),(0,F.hu)(p.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=p.viewCache,Vy(r,p.changes,p.viewCache.eventCache.getNode(),null)}function Vy(r,n,e,s){return function g0(r,n,e,s){const u=[],p=[];return n.forEach(x=>{"child_changed"===x.type&&r.index_.indexedValueChanged(x.oldSnap,x.snapshotNode)&&p.push(function sf(r,n){return{type:"child_moved",snapshotNode:n,childName:r}}(x.childName,x.snapshotNode))}),Lp(r,u,"child_removed",n,s,e),Lp(r,u,"child_added",n,s,e),Lp(r,u,"child_moved",p,s,e),Lp(r,u,"child_changed",n,s,e),Lp(r,u,"value",n,s,e),u}(r.eventGenerator_,n,e,s?[s]:r.eventRegistrations_)}let jp,rh;class cd{constructor(){this.views=new Map}}function zp(r,n,e,s){const u=n.source.queryId;if(null!==u){const p=r.views.get(u);return(0,F.hu)(null!=p,"SyncTree gave us an op for an invalid query."),mb(p,n,e,s)}{let p=[];for(const x of r.views.values())p=p.concat(mb(x,n,e,s));return p}}function Gp(r,n,e,s,u){const x=r.views.get(n._queryIdentifier);if(!x){let S=v_(e,u?s:null),B=!1;S?B=!0:s instanceof Si?(S=pf(e,s),B=!1):(S=Si.EMPTY_NODE,B=!1);const Q=su(new ru(S,B,!1),new ru(s,u,!1));return new hb(n,Q)}return x}function $p(r){const n=[];for(const e of r.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function yl(r,n){let e=null;for(const s of r.views.values())e=e||Cw(s,n);return e}function vl(r,n){return n._queryParams.loadsAllData()?Wp(r):r.views.get(n._queryIdentifier)}function na(r,n){return null!=vl(r,n)}function lu(r){return null!=Wp(r)}function Wp(r){for(const n of r.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let yb=1;class S_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Kr(null),this.pendingWriteTree_=function w0(){return{visibleWrites:ad.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sh(r,n,e,s,u){return function zs(r,n,e,s,u){(0,F.hu)(s>r.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),r.allWrites.push({path:n,snap:e,writeId:s,visible:u}),u&&(r.visibleWrites=mf(r.visibleWrites,n,e)),r.lastWriteId=s}(r.pendingWriteTree_,n,e,s,u),u?oh(r,new Ga({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function dd(r,n,e=!1){const s=function _0(r,n){for(let e=0;e<r.allWrites.length;e++){const s=r.allWrites[e];if(s.writeId===n)return s}return null}(r.pendingWriteTree_,n);if(function th(r,n){const e=r.allWrites.findIndex(S=>S.writeId===n);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=r.allWrites[e];r.allWrites.splice(e,1);let u=s.visible,p=!1,x=r.allWrites.length-1;for(;u&&x>=0;){const S=r.allWrites[x];S.visible&&(x>=e&&ou(S,s.path)?u=!1:Vo(s.path,S.path)&&(p=!0)),x--}return!!u&&(p?(function Cm(r){r.visibleWrites=By(r.allWrites,au,Zi()),r.lastWriteId=r.allWrites.length>0?r.allWrites[r.allWrites.length-1].writeId:-1}(r),!0):(s.snap?r.visibleWrites=ob(r.visibleWrites,s.path):vo(s.children,B=>{r.visibleWrites=ob(r.visibleWrites,ns(s.path,B))}),!0))}(r.pendingWriteTree_,n)){let p=new Kr(null);return null!=s.snap?p=p.set(Zi(),!0):vo(s.children,x=>{p=p.set(new Ji(x),!0)}),oh(r,new wm(s.path,p,e))}return[]}function Oc(r,n,e){return oh(r,new Ga({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function pc(r,n,e,s,u=!1){const p=n._path,x=r.syncPointTree_.get(p);let S=[];if(x&&("default"===n._queryIdentifier||na(x,n))){const B=function _b(r,n,e,s){const u=n._queryIdentifier,p=[];let x=[];const S=lu(r);if("default"===u)for(const[B,Q]of r.views.entries())x=x.concat(M0(Q,e,s)),A0(Q)&&(r.views.delete(B),Q.query._queryParams.loadsAllData()||p.push(Q.query));else{const B=r.views.get(u);B&&(x=x.concat(M0(B,e,s)),A0(B)&&(r.views.delete(u),B.query._queryParams.loadsAllData()||p.push(B.query)))}return S&&!lu(r)&&p.push(new(function pb(){return(0,F.hu)(jp,"Reference.ts has not been loaded"),jp}())(n._repo,n._path)),{removed:p,events:x}}(x,n,e,s);(function k0(r){return 0===r.views.size})(x)&&(r.syncPointTree_=r.syncPointTree_.remove(p));const Q=B.removed;if(S=B.events,!u){const le=-1!==Q.findIndex(We=>We._queryParams.loadsAllData()),Te=r.syncPointTree_.findOnPath(p,(We,vt)=>lu(vt));if(le&&!Te){const We=r.syncPointTree_.subtree(p);if(!We.isEmpty()){const vt=function L0(r){return r.fold((n,e,s)=>{if(e&&lu(e))return[Wp(e)];{let u=[];return e&&(u=$p(e)),vo(s,(p,x)=>{u=u.concat(x)}),u}})}(We);for(let Mt=0;Mt<vt.length;++Mt){const qt=vt[Mt],ln=qt.query,oi=T_(r,qt);r.listenProvider_.startListening(yf(ln),ah(r,ln),oi.hashFn,oi.onComplete)}}}!Te&&Q.length>0&&!s&&(le?r.listenProvider_.stopListening(yf(n),null):Q.forEach(We=>{const vt=r.queryToTagMap.get(Sm(We));r.listenProvider_.stopListening(yf(We),vt)}))}!function vf(r,n){for(let e=0;e<n.length;++e){const s=n[e];if(!s._queryParams.loadsAllData()){const u=Sm(s),p=r.queryToTagMap.get(u);r.queryToTagMap.delete(u),r.tagToQueryMap.delete(p)}}}(r,Q)}return S}function jy(r,n,e,s){const u=A_(r,s);if(null!=u){const p=M_(u),x=p.path,S=p.queryId,B=bo(x,n);return Tm(r,x,new Ga(p_(S),B,e))}return[]}function zy(r,n,e,s=!1){const u=n._path;let p=null,x=!1;r.syncPointTree_.foreachOnPath(u,(We,vt)=>{const Mt=bo(We,u);p=p||yl(vt,Mt),x=x||lu(vt)});let B,S=r.syncPointTree_.get(u);S?(x=x||lu(S),p=p||yl(S,Zi())):(S=new cd,r.syncPointTree_=r.syncPointTree_.set(u,S)),null!=p?B=!0:(B=!1,p=Si.EMPTY_NODE,r.syncPointTree_.subtree(u).foreachChild((vt,Mt)=>{const qt=yl(Mt,Zi());qt&&(p=p.updateImmediateChild(vt,qt))}));const Q=na(S,n);if(!Q&&!n._queryParams.loadsAllData()){const We=Sm(n);(0,F.hu)(!r.queryToTagMap.has(We),"View does not exist, but we have a tag");const vt=function vb(){return yb++}();r.queryToTagMap.set(We,vt),r.tagToQueryMap.set(vt,We)}let Te=function gb(r,n,e,s,u,p){const x=Gp(r,n,s,u,p);return r.views.has(n._queryIdentifier)||r.views.set(n._queryIdentifier,x),function fb(r,n){r.eventRegistrations_.push(n)}(x,e),function I_(r,n){const e=r.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Jr,(p,x)=>{s.push(_l(p,x))}),e.isFullyInitialized()&&s.push(hc(e.getNode())),Vy(r,s,e.getNode(),n)}(x,e)}(S,n,e,Em(r.pendingWriteTree_,u),p,B);if(!Q&&!x&&!s){const We=vl(S,n);Te=Te.concat(function B0(r,n,e){const s=n._path,u=ah(r,n),p=T_(r,e),x=r.listenProvider_.startListening(yf(n),u,p.hashFn,p.onComplete),S=r.syncPointTree_.subtree(s);if(u)(0,F.hu)(!lu(S.value),"If we're adding a query, it shouldn't be shadowed");else{const B=S.fold((Q,le,Te)=>{if(!Pi(Q)&&le&&lu(le))return[Wp(le).query];{let We=[];return le&&(We=We.concat($p(le).map(vt=>vt.query))),vo(Te,(vt,Mt)=>{We=We.concat(Mt)}),We}});for(let Q=0;Q<B.length;++Q){const le=B[Q];r.listenProvider_.stopListening(yf(le),ah(r,le))}}return x}(r,n,We))}return Te}function Im(r,n,e){const u=r.pendingWriteTree_,p=r.syncPointTree_.findOnPath(n,(x,S)=>{const Q=yl(S,bo(x,n));if(Q)return Q});return y_(u,n,p,e,!0)}function oh(r,n){return Kp(n,r.syncPointTree_,null,Em(r.pendingWriteTree_,Zi()))}function Kp(r,n,e,s){if(Pi(r.path))return Yp(r,n,e,s);{const u=n.get(Zi());null==e&&null!=u&&(e=yl(u,Zi()));let p=[];const x=Bi(r.path),S=r.operationForChild(x),B=n.children.get(x);if(B&&S){const Q=e?e.getImmediateChild(x):null,le=Dm(s,x);p=p.concat(Kp(S,B,Q,le))}return u&&(p=p.concat(zp(u,r,s,e))),p}}function Yp(r,n,e,s){const u=n.get(Zi());null==e&&null!=u&&(e=yl(u,Zi()));let p=[];return n.children.inorderTraversal((x,S)=>{const B=e?e.getImmediateChild(x):null,Q=Dm(s,x),le=r.operationForChild(x);le&&(p=p.concat(Yp(le,S,B,Q)))}),u&&(p=p.concat(zp(u,r,s,e))),p}function T_(r,n){const e=n.query,s=ah(r,e);return{hashFn:()=>(function Hp(r){return r.viewCache_.serverCache.getNode()}(n)||Si.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return s?function P0(r,n,e){const s=A_(r,e);if(s){const u=M_(s),p=u.path,x=u.queryId,S=bo(p,n);return Tm(r,p,new od(p_(x),S))}return[]}(r,e._path,s):function O0(r,n){return oh(r,new od({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(r,e._path);{const p=function fy(r,n){let e="Unknown Error";"too_big"===r?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===r?e="Client doesn't have permission to access the desired data.":"unavailable"===r&&(e="The service is unavailable");const s=new Error(r+" at "+n._path.toString()+": "+e);return s.code=r.toUpperCase(),s}(u,e);return pc(r,e,null,p)}}}}function ah(r,n){const e=Sm(n);return r.queryToTagMap.get(e)}function Sm(r){return r._path.toString()+"$"+r._queryIdentifier}function A_(r,n){return r.tagToQueryMap.get(n)}function M_(r){const n=r.indexOf("$");return(0,F.hu)(-1!==n&&n<r.length-1,"Bad queryKey."),{queryId:r.substr(n+1),path:new Ji(r.substr(0,n))}}function Tm(r,n,e){const s=r.syncPointTree_.get(n);return(0,F.hu)(s,"Missing sync point for query tag that we're tracking"),zp(s,e,Em(r.pendingWriteTree_,n),null)}function yf(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(function $a(){return(0,F.hu)(rh,"Reference.ts has not been loaded"),rh}())(r._repo,r._path):r}class Gy{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new Gy(e)}node(){return this.node_}}class qp{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=ns(this.path_,n);return new qp(this.syncTree_,e)}node(){return Im(this.syncTree_,this.path_)}}const $y=function(r){return(r=r||{}).timestamp=r.timestamp||(new Date).getTime(),r},a=function(r,n,e){return r&&"object"==typeof r?((0,F.hu)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?t(r[".sv"],n,e):"object"==typeof r[".sv"]?i(r[".sv"],n):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},t=function(r,n,e){if("timestamp"===r)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+r)},i=function(r,n,e){r.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const s=r.increment;"number"!=typeof s&&(0,F.hu)(!1,"Unexpected increment value: "+s);const u=n.node();if((0,F.hu)(null!==u&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return s;const x=u.getValue();return"number"!=typeof x?s:x+s},c=function(r,n,e,s){return v(n,new qp(e,r),s)},m=function(r,n,e){return v(r,new Gy(n),e)};function v(r,n,e){const s=r.getPriority().val(),u=a(s,n.getImmediateChild(".priority"),e);let p;if(r.isLeafNode()){const x=r,S=a(x.getValue(),n,e);return S!==x.getValue()||u!==x.getPriority().val()?new mm(S,ks(u)):r}{const x=r;return p=x,u!==x.getPriority().val()&&(p=p.updatePriority(new mm(u))),x.forEachChild(Jr,(S,B)=>{const Q=v(B,n.getImmediateChild(S),e);Q!==B&&(p=p.updateImmediateChild(S,Q))}),p}}class E{constructor(n="",e=null,s={children:{},childCount:0}){this.name=n,this.parent=e,this.node=s}}function k(r,n){let e=n instanceof Ji?n:new Ji(n),s=r,u=Bi(e);for(;null!==u;){const p=(0,F.DV)(s.node.children,u)||{children:{},childCount:0};s=new E(u,s,p),e=Ur(e),u=Bi(e)}return s}function $(r){return r.node.value}function te(r,n){r.node.value=n,jn(r)}function fe(r){return r.node.childCount>0}function dt(r,n){vo(r.node.children,(e,s)=>{n(new E(e,r,s))})}function Ft(r,n,e,s){e&&!s&&n(r),dt(r,u=>{Ft(u,n,!0,s)}),e&&s&&n(r)}function bn(r){return new Ji(null===r.parent?r.name:bn(r.parent)+"/"+r.name)}function jn(r){null!==r.parent&&function sr(r,n,e){const s=function Ue(r){return void 0===$(r)&&!fe(r)}(e),u=(0,F.r3)(r.node.children,n);s&&u?(delete r.node.children[n],r.node.childCount--,jn(r)):!s&&!u&&(r.node.children[n]=e.node,r.node.childCount++,jn(r))}(r.parent,r.name,r)}const vs=/[\[\].#$\/\u0000-\u001F\u007F]/,zi=/[\[\].#$\u0000-\u001F\u007F]/,co=10485760,Rr=function(r){return"string"==typeof r&&0!==r.length&&!vs.test(r)},Yr=function(r){return"string"==typeof r&&0!==r.length&&!zi.test(r)},gc=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!Zh(r)||r&&"object"==typeof r&&(0,F.r3)(r,".sv")},lh=function(r,n,e,s){s&&void 0===n||Wy((0,F.gK)(r,"value"),n,e)},Wy=function(r,n,e){const s=e instanceof Ji?new n_(e,r):e;if(void 0===n)throw new Error(r+"contains undefined "+nu(s));if("function"==typeof n)throw new Error(r+"contains a function "+nu(s)+" with contents = "+n.toString());if(Zh(n))throw new Error(r+"contains "+n.toString()+" "+nu(s));if("string"==typeof n&&n.length>co/3&&(0,F.ug)(n)>co)throw new Error(r+"contains a string greater than "+co+" utf8 bytes "+nu(s)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let u=!1,p=!1;if(vo(n,(x,S)=>{if(".value"===x)u=!0;else if(".priority"!==x&&".sv"!==x&&(p=!0,!Rr(x)))throw new Error(r+" contains an invalid key ("+x+") "+nu(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Yv(r,n){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(n),r.byteLength_+=(0,F.ug)(n),Dy(r)})(s,x),Wy(r,S,s),function qv(r){const n=r.parts_.pop();r.byteLength_-=(0,F.ug)(n),r.parts_.length>0&&(r.byteLength_-=1)}(s)}),u&&p)throw new Error(r+' contains ".value" child '+nu(s)+" in addition to actual children.")}},Dw=function(r,n,e,s){if(s&&void 0===n)return;const u=(0,F.gK)(r,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(u+" must be an object containing the children to replace.");const p=[];vo(n,(x,S)=>{const B=new Ji(x);if(Wy(u,S,ns(e,B)),".priority"===um(B)&&!gc(S))throw new Error(u+"contains an invalid value for '"+B.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");p.push(B)}),function(r,n){let e,s;for(e=0;e<n.length;e++){s=n[e];const p=qu(s);for(let x=0;x<p.length;x++)if((".priority"!==p[x]||x!==p.length-1)&&!Rr(p[x]))throw new Error(r+"contains an invalid key ("+p[x]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(t_);let u=null;for(e=0;e<n.length;e++){if(s=n[e],null!==u&&Vo(u,s))throw new Error(r+"contains a path "+u.toString()+" that is ancestor of another path "+s.toString());u=s}}(u,p)},U0=function(r,n,e){if(!e||void 0!==n){if(Zh(n))throw new Error((0,F.gK)(r,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!gc(n))throw new Error((0,F.gK)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ky=function(r,n,e,s){if(!(s&&void 0===e||Rr(e)))throw new Error((0,F.gK)(r,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},bf=function(r,n,e,s){if(!(s&&void 0===e||Yr(e)))throw new Error((0,F.gK)(r,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Iw=function(r,n,e,s){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),bf(r,n,e,s)},Pc=function(r,n){if(".info"===Bi(n))throw new Error(r+" failed = Can't modify data under /.info/")},V0=function(r,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Rr(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Yr(r)}(e))throw new Error((0,F.gK)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Sw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yy(r,n){let e=null;for(let s=0;s<n.length;s++){const u=n[s],p=u.getPath();null!==e&&!Ap(p,e.path)&&(r.eventLists_.push(e),e=null),null===e&&(e={events:[],path:p}),e.events.push(u)}e&&r.eventLists_.push(e)}function H0(r,n,e){Yy(r,e),Ix(r,s=>Ap(s,n))}function Nc(r,n,e){Yy(r,e),Ix(r,s=>Vo(s,n)||Vo(n,s))}function Ix(r,n){r.recursionDepth_++;let e=!0;for(let s=0;s<r.eventLists_.length;s++){const u=r.eventLists_[s];u&&(n(u.path)?(Tw(r.eventLists_[s]),r.eventLists_[s]=null):e=!1)}e&&(r.eventLists_=[]),r.recursionDepth_--}function Tw(r){for(let n=0;n<r.events.length;n++){const e=r.events[n];if(null!==e){r.events[n]=null;const s=e.getEventRunner();Kh&&Ms("event: "+e.toString()),tm(s)}}}const j0="repo_interrupt",Sx=25;class Tx{constructor(n,e,s,u){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Sw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Np(),this.transactionQueueTree_=new E,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function k_(r){const e=r.infoData_.getNode(new Ji(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function qy(r){return $y({timestamp:k_(r)})}function bb(r,n,e,s,u){r.dataUpdateCount++;const p=new Ji(n);e=r.interceptServerDataCallback_?r.interceptServerDataCallback_(n,e):e;let x=[];if(u)if(s){const B=(0,F.UI)(e,Q=>ks(Q));x=function N0(r,n,e,s){const u=A_(r,s);if(u){const p=M_(u),x=p.path,S=p.queryId,B=bo(x,n),Q=Kr.fromObject(e);return Tm(r,x,new Mc(p_(S),B,Q))}return[]}(r.serverSyncTree_,p,B,u)}else{const B=ks(e);x=jy(r.serverSyncTree_,p,B,u)}else if(s){const B=(0,F.UI)(e,Q=>ks(Q));x=function R0(r,n,e){const s=Kr.fromObject(e);return oh(r,new Mc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,s))}(r.serverSyncTree_,p,B)}else{const B=ks(e);x=Oc(r.serverSyncTree_,p,B)}let S=p;x.length>0&&(S=O_(r,p)),Nc(r.eventQueue_,S,x)}function cu(r,n){R_(r,"connected",n),!1===n&&function wb(r){Mm(r,"onDisconnectEvents");const n=qy(r),e=Np();h_(r.onDisconnect_,Zi(),(u,p)=>{const x=c(u,p,r.serverSyncTree_,n);mc(e,u,x)});let s=[];h_(e,Zi(),(u,p)=>{s=s.concat(Oc(r.serverSyncTree_,u,p));const x=Db(r,u);O_(r,x)}),r.onDisconnect_=Np(),Nc(r.eventQueue_,Zi(),s)}(r)}function R_(r,n,e){const s=new Ji("/.info/"+n),u=ks(e);r.infoData_.updateSnapshot(s,u);const p=Oc(r.infoSyncTree_,s,u);Nc(r.eventQueue_,s,p)}function Am(r){return r.nextWriteId_++}function z0(r,n,e,s,u){Mm(r,"set",{path:n.toString(),value:e,priority:s});const p=qy(r),x=ks(e,s),S=Im(r.serverSyncTree_,n),B=m(x,S,p),Q=Am(r),le=sh(r.serverSyncTree_,n,B,Q,!0);Yy(r.eventQueue_,le),r.server_.put(n.toString(),x.val(!0),(We,vt)=>{const Mt="ok"===We;Mt||_o("set at "+n+" failed: "+We);const qt=dd(r.serverSyncTree_,Q,!Mt);Nc(r.eventQueue_,n,qt),wf(0,u,We,vt)});const Te=Db(r,n);O_(r,Te),Nc(r.eventQueue_,Te,[])}function xb(r,n,e){r.server_.onDisconnectCancel(n.toString(),(s,u)=>{"ok"===s&&u_(r.onDisconnect_,n),wf(0,e,s,u)})}function Aw(r,n,e,s){const u=ks(e);r.server_.onDisconnectPut(n.toString(),u.val(!0),(p,x)=>{"ok"===p&&mc(r.onDisconnect_,n,u),wf(0,s,p,x)})}function Zy(r,n,e){let s;s=".info"===Bi(n._path)?pc(r.infoSyncTree_,n,e):pc(r.serverSyncTree_,n,e),H0(r.eventQueue_,n._path,s)}function G0(r){r.persistentConnection_&&r.persistentConnection_.interrupt(j0)}function Mm(r,...n){let e="";r.persistentConnection_&&(e=r.persistentConnection_.id+":"),Ms(e,...n)}function wf(r,n,e,s){n&&tm(()=>{if("ok"===e)n(null);else{const u=(e||"error").toUpperCase();let p=u;s&&(p+=": "+s);const x=new Error(p);x.code=u,n(x)}})}function Qy(r,n,e){return Im(r.serverSyncTree_,n,e)||Si.EMPTY_NODE}function Eb(r,n=r.transactionQueueTree_){if(n||Xy(r,n),$(n)){const e=Cb(r,n);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(u=>0===u.status)&&function Px(r,n,e){const s=e.map(Q=>Q.currentWriteId),u=Qy(r,n,s);let p=u;const x=u.hash();for(let Q=0;Q<e.length;Q++){const le=e[Q];(0,F.hu)(0===le.status,"tryToSendTransactionQueue_: items in queue should all be run."),le.status=1,le.retryCount++;const Te=bo(n,le.path);p=p.updateChild(Te,le.currentOutputSnapshotRaw)}const S=p.val(!0),B=n;r.server_.put(B.toString(),S,Q=>{Mm(r,"transaction put response",{path:B.toString(),status:Q});let le=[];if("ok"===Q){const Te=[];for(let We=0;We<e.length;We++)e[We].status=2,le=le.concat(dd(r.serverSyncTree_,e[We].currentWriteId)),e[We].onComplete&&Te.push(()=>e[We].onComplete(null,!0,e[We].currentOutputSnapshotResolved)),e[We].unwatcher();Xy(r,k(r.transactionQueueTree_,n)),Eb(r,r.transactionQueueTree_),Nc(r.eventQueue_,n,le);for(let We=0;We<Te.length;We++)tm(Te[We])}else{if("datastale"===Q)for(let Te=0;Te<e.length;Te++)e[Te].status=3===e[Te].status?4:0;else{_o("transaction at "+B.toString()+" failed: "+Q);for(let Te=0;Te<e.length;Te++)e[Te].status=4,e[Te].abortReason=Q}O_(r,n)}},x)}(r,bn(n),e)}else fe(n)&&dt(n,e=>{Eb(r,e)})}function O_(r,n){const e=K0(r,n),s=bn(e);return function Nx(r,n,e){if(0===n.length)return;const s=[];let u=[];const x=n.filter(S=>0===S.status).map(S=>S.currentWriteId);for(let S=0;S<n.length;S++){const B=n[S],Q=bo(e,B.path);let Te,le=!1;if((0,F.hu)(null!==Q,"rerunTransactionsUnderNode_: relativePath should not be null."),4===B.status)le=!0,Te=B.abortReason,u=u.concat(dd(r.serverSyncTree_,B.currentWriteId,!0));else if(0===B.status)if(B.retryCount>=Sx)le=!0,Te="maxretry",u=u.concat(dd(r.serverSyncTree_,B.currentWriteId,!0));else{const We=Qy(r,B.path,x);B.currentInputSnapshot=We;const vt=n[S].update(We.val());if(void 0!==vt){Wy("transaction failed: Data returned ",vt,B.path);let Mt=ks(vt);"object"==typeof vt&&null!=vt&&(0,F.r3)(vt,".priority")||(Mt=Mt.updatePriority(We.getPriority()));const ln=B.currentWriteId,oi=qy(r),or=m(Mt,We,oi);B.currentOutputSnapshotRaw=Mt,B.currentOutputSnapshotResolved=or,B.currentWriteId=Am(r),x.splice(x.indexOf(ln),1),u=u.concat(sh(r.serverSyncTree_,B.path,or,B.currentWriteId,B.applyLocally)),u=u.concat(dd(r.serverSyncTree_,ln,!0))}else le=!0,Te="nodata",u=u.concat(dd(r.serverSyncTree_,B.currentWriteId,!0))}Nc(r.eventQueue_,e,u),u=[],le&&(n[S].status=2,setTimeout(n[S].unwatcher,Math.floor(0)),n[S].onComplete&&s.push("nodata"===Te?()=>n[S].onComplete(null,!1,n[S].currentInputSnapshot):()=>n[S].onComplete(new Error(Te),!1,null)))}Xy(r,r.transactionQueueTree_);for(let S=0;S<s.length;S++)tm(s[S]);Eb(r,r.transactionQueueTree_)}(r,Cb(r,e),s),s}function K0(r,n){let e,s=r.transactionQueueTree_;for(e=Bi(n);null!==e&&void 0===$(s);)s=k(s,e),e=Bi(n=Ur(n));return s}function Cb(r,n){const e=[];return Y0(r,n,e),e.sort((s,u)=>s.order-u.order),e}function Y0(r,n,e){const s=$(n);if(s)for(let u=0;u<s.length;u++)e.push(s[u]);dt(n,u=>{Y0(r,u,e)})}function Xy(r,n){const e=$(n);if(e){let s=0;for(let u=0;u<e.length;u++)2!==e[u].status&&(e[s]=e[u],s++);e.length=s,te(n,e.length>0?e:void 0)}dt(n,s=>{Xy(r,s)})}function Db(r,n){const e=bn(K0(r,n)),s=k(r.transactionQueueTree_,n);return function nn(r,n,e){let s=e?r:r.parent;for(;null!==s;){if(n(s))return!0;s=s.parent}}(s,u=>{Ib(r,u)}),Ib(r,s),Ft(s,u=>{Ib(r,u)}),e}function Ib(r,n){const e=$(n);if(e){const s=[];let u=[],p=-1;for(let x=0;x<e.length;x++)3===e[x].status||(1===e[x].status?((0,F.hu)(p===x-1,"All SENT items should be at beginning of queue."),p=x,e[x].status=3,e[x].abortReason="set"):((0,F.hu)(0===e[x].status,"Unexpected transaction status in abort"),e[x].unwatcher(),u=u.concat(dd(r.serverSyncTree_,e[x].currentWriteId,!0)),e[x].onComplete&&s.push(e[x].onComplete.bind(null,new Error("set"),!1,null))));-1===p?te(n,void 0):e.length=p+1,Nc(r.eventQueue_,bn(n),u);for(let x=0;x<s.length;x++)tm(s[x])}}const Sb=function(r,n){const e=Lx(r),s=e.namespace;return"firebase.com"===e.domain&&id(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&id("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_o("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new yp(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,n,"",s!==e.subdomain),path:new Ji(e.pathString)}},Lx=function(r){let n="",e="",s="",u="",p="",x=!0,S="https",B=443;if("string"==typeof r){let Q=r.indexOf("//");Q>=0&&(S=r.substring(0,Q-1),r=r.substring(Q+2));let le=r.indexOf("/");-1===le&&(le=r.length);let Te=r.indexOf("?");-1===Te&&(Te=r.length),n=r.substring(0,Math.min(le,Te)),le<Te&&(u=function Fx(r){let n="";const e=r.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let u=e[s];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}(r.substring(le,Te)));const We=function Rw(r){const n={};"?"===r.charAt(0)&&(r=r.substring(1));for(const e of r.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?n[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):_o(`Invalid query segment '${e}' in query '${r}'`)}return n}(r.substring(Math.min(r.length,Te)));Q=n.indexOf(":"),Q>=0?(x="https"===S||"wss"===S,B=parseInt(n.substring(Q+1),10)):Q=n.length;const vt=n.slice(0,Q);if("localhost"===vt.toLowerCase())e="localhost";else if(vt.split(".").length<=2)e=vt;else{const Mt=n.indexOf(".");s=n.substring(0,Mt).toLowerCase(),e=n.substring(Mt+1),p=s}"ns"in We&&(p=We.ns)}return{host:n,port:B,domain:e,subdomain:s,secure:x,scheme:S,pathString:u,namespace:p}},q0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ow=function(){let r=0;const n=[];return function(e){const s=e===r;let u;r=e;const p=new Array(8);for(u=7;u>=0;u--)p[u]=q0.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let x=p.join("");if(s){for(u=11;u>=0&&63===n[u];u--)n[u]=0;n[u]++}else for(u=0;u<12;u++)n[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)x+=q0.charAt(n[u]);return(0,F.hu)(20===x.length,"nextPushId: Length should be 20."),x}}();class bl{constructor(n,e,s,u){this.eventType=n,this.eventRegistration=e,this.snapshot=s,this.prevName=u}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class Zp{constructor(n,e,s){this.eventRegistration=n,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Z0{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Pw{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new F.BH;return xb(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Pc("OnDisconnect.remove",this._path);const n=new F.BH;return Aw(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Pc("OnDisconnect.set",this._path),lh("OnDisconnect.set",n,this._path,!1);const e=new F.BH;return Aw(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){Pc("OnDisconnect.setWithPriority",this._path),lh("OnDisconnect.setWithPriority",n,this._path,!1),U0("OnDisconnect.setWithPriority",e,!1);const s=new F.BH;return function Ox(r,n,e,s,u){const p=ks(e,s);r.server_.onDisconnectPut(n.toString(),p.val(!0),(x,S)=>{"ok"===x&&mc(r.onDisconnect_,n,p),wf(0,u,x,S)})}(this._repo,this._path,n,e,s.wrapCallback(()=>{})),s.promise}update(n){Pc("OnDisconnect.update",this._path),Dw("OnDisconnect.update",n,this._path,!1);const e=new F.BH;return function Mw(r,n,e,s){if((0,F.xb)(e))return Ms("onDisconnect().update() called with empty data.  Don't do anything."),void wf(0,s,"ok",void 0);r.server_.onDisconnectMerge(n.toString(),e,(u,p)=>{"ok"===u&&vo(e,(x,S)=>{const B=ks(S);mc(r.onDisconnect_,ns(n,x),B)}),wf(0,s,u,p)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class Fc{constructor(n,e,s,u){this._repo=n,this._path=e,this._queryParams=s,this._orderByCalled=u}get key(){return Pi(this._path)?null:um(this._path)}get ref(){return new wl(this._repo,this._path)}get _queryIdentifier(){const n=Ry(this._queryParams),e=zu(n);return"{}"===e?"default":e}get _queryObject(){return Ry(this._queryParams)}isEqual(n){if(!((n=(0,F.m9)(n))instanceof Fc))return!1;const e=this._repo===n._repo,s=Ap(this._path,n._path);return e&&s&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function e_(r){let n="";for(let e=r.pieceNum_;e<r.pieces_.length;e++)""!==r.pieces_[e]&&(n+="/"+encodeURIComponent(String(r.pieces_[e])));return n||"/"}(this._path)}}function Q0(r,n){if(!0===r._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function xf(r){let n=null,e=null;if(r.hasStart()&&(n=r.getIndexStartValue()),r.hasEnd()&&(e=r.getIndexEndValue()),r.getIndex()===dc){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==Jo)throw new Error(s);if("string"!=typeof n)throw new Error(u)}if(r.hasEnd()){if(r.getIndexEndName()!==yo)throw new Error(s);if("string"!=typeof e)throw new Error(u)}}else if(r.getIndex()===Jr){if(null!=n&&!gc(n)||null!=e&&!gc(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(r.getIndex()instanceof gm||r.getIndex()===Ty,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function P_(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class wl extends Fc{constructor(n,e){super(n,e,new af,!1)}get parent(){const n=Tp(this._path);return null===n?null:new wl(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class Qp{constructor(n,e,s){this._node=n,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new Ji(n),s=km(this.ref,n);return new Qp(this._node.getChild(e),s,Jr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,u)=>n(new Qp(u,km(this.ref,s),Jr)))}hasChild(n){const e=new Ji(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Tb(r,n){return(r=(0,F.m9)(r))._checkNotDeleted("ref"),void 0!==n?km(r._root,n):r._root}function Nw(r,n){(r=(0,F.m9)(r))._checkNotDeleted("refFromURL");const e=Sb(n,r._repo.repoInfo_.nodeAdmin);V0("refFromURL",e);const s=e.repoInfo;return!r._repo.repoInfo_.isCustomHost()&&s.host!==r._repo.repoInfo_.host&&id("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+r._repo.repoInfo_.host+")"),Tb(r,e.path.toString())}function km(r,n){return null===Bi((r=(0,F.m9)(r))._path)?Iw("child","path",n,!1):bf("child","path",n,!1),new wl(r._repo,ns(r._path,n))}function Jy(r,n){r=(0,F.m9)(r),Pc("set",r._path),lh("set",n,r._path,!1);const e=new F.BH;return z0(r._repo,r._path,n,null,e.wrapCallback(()=>{})),e.promise}function Ab(r,n){Dw("update",n,r._path,!1);const e=new F.BH;return function Rx(r,n,e,s){Mm(r,"update",{path:n.toString(),value:e});let u=!0;const p=qy(r),x={};if(vo(e,(S,B)=>{u=!1,x[S]=c(ns(n,S),ks(B),r.serverSyncTree_,p)}),u)Ms("update() called with empty data.  Don't do anything."),wf(0,s,"ok",void 0);else{const S=Am(r),B=function _f(r,n,e,s){!function Cx(r,n,e,s){(0,F.hu)(s>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:n,children:e,writeId:s,visible:!0}),r.visibleWrites=Bp(r.visibleWrites,n,e),r.lastWriteId=s}(r.pendingWriteTree_,n,e,s);const u=Kr.fromObject(e);return oh(r,new Mc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,u))}(r.serverSyncTree_,n,x,S);Yy(r.eventQueue_,B),r.server_.merge(n.toString(),e,(Q,le)=>{const Te="ok"===Q;Te||_o("update at "+n+" failed: "+Q);const We=dd(r.serverSyncTree_,S,!Te),vt=We.length>0?O_(r,n):n;Nc(r.eventQueue_,vt,We),wf(0,s,Q,le)}),vo(e,Q=>{const le=Db(r,ns(n,Q));O_(r,le)}),Nc(r.eventQueue_,n,[])}}(r._repo,r._path,n,e.wrapCallback(()=>{})),e.promise}function X0(r){r=(0,F.m9)(r);const n=new Z0(()=>{}),e=new Mb(n);return function kx(r,n,e){const s=function F0(r,n){const e=n._path;let s=null;r.syncPointTree_.foreachOnPath(e,(Q,le)=>{const Te=bo(Q,e);s=s||yl(le,Te)});let u=r.syncPointTree_.get(e);u?s=s||yl(u,Zi()):(u=new cd,r.syncPointTree_=r.syncPointTree_.set(e,u));const p=null!=s,x=p?new ru(s,!0,!1):null;return function T0(r){return hf(r.viewCache_)}(Gp(u,n,Em(r.pendingWriteTree_,n._path),p?x.getNode():Si.EMPTY_NODE,p))}(r.serverSyncTree_,n);return null!=s?Promise.resolve(s):r.server_.get(n).then(u=>{const p=ks(u).withIndex(n._queryParams.getIndex());let x;if(zy(r.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())x=Oc(r.serverSyncTree_,n._path,p);else{const S=ah(r.serverSyncTree_,n);x=jy(r.serverSyncTree_,n._path,p,S)}return Nc(r.eventQueue_,n._path,x),pc(r.serverSyncTree_,n,e,null,!0),p},u=>(Mm(r,"get for query "+(0,F.Wl)(n)+" failed: "+u),Promise.reject(new Error(u))))}(r._repo,r,e).then(s=>new Qp(s,new wl(r._repo,r._path),r._queryParams.getIndex()))}class Mb{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const s=e._queryParams.getIndex();return new bl("value",this,new Qp(n.snapshotNode,new wl(e._repo,e._path),s))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new Zp(this,n,e):null}matches(n){return n instanceof Mb&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ev{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new Zp(this,n,e):null}createEvent(n,e){(0,F.hu)(null!=n.childName,"Child events should have a childName.");const s=km(new wl(e._repo,e._path),n.childName),u=e._queryParams.getIndex();return new bl(n.type,this,new Qp(n.snapshotNode,s,u),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof ev&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function tv(r,n,e,s,u){let p;if("object"==typeof s&&(p=void 0,u=s),"function"==typeof s&&(p=s),u&&u.onlyOnce){const B=e,Q=(le,Te)=>{Zy(r._repo,r,S),B(le,Te)};Q.userCallback=e.userCallback,Q.context=e.context,e=Q}const x=new Z0(e,p||void 0),S="value"===n?new Mb(x):new ev(n,x);return function kw(r,n,e){let s;s=".info"===Bi(n._path)?zy(r.infoSyncTree_,n,e):zy(r.serverSyncTree_,n,e),H0(r.eventQueue_,n._path,s)}(r._repo,r,S),()=>Zy(r._repo,r,S)}function kb(r,n,e,s){return tv(r,"value",n,e,s)}function Xp(r,n,e,s){return tv(r,"child_added",n,e,s)}function Bw(r,n,e,s){return tv(r,"child_changed",n,e,s)}function J0(r,n,e,s){return tv(r,"child_moved",n,e,s)}function Rb(r,n,e,s){return tv(r,"child_removed",n,e,s)}function Vx(r,n,e){let s=null;const u=e?new Z0(e):null;"value"===n?s=new Mb(u):n&&(s=new ev(n,u)),Zy(r._repo,r,s)}class du{}class Hx extends du{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){lh("endAt",this._value,n._path,!0);const e=Op(n._queryParams,this._value,this._key);if(P_(e),xf(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fc(n._repo,n._path,e,n._orderByCalled)}}class zx extends du{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){lh("endBefore",this._value,n._path,!1);const e=function d_(r,n,e){let s;return s=Op(r,n,r.index_===dc||e?e:Jo),s.endBeforeSet_=!0,s}(n._queryParams,this._value,this._key);if(P_(e),xf(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fc(n._repo,n._path,e,n._orderByCalled)}}class ew extends du{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){lh("startAt",this._value,n._path,!0);const e=cf(n._queryParams,this._value,this._key);if(P_(e),xf(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fc(n._repo,n._path,e,n._orderByCalled)}}class $x extends du{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){lh("startAfter",this._value,n._path,!1);const e=function ym(r,n,e){let s;return s=cf(r,n,r.index_===dc||e?e:yo),s.startAfterSet_=!0,s}(n._queryParams,this._value,this._key);if(P_(e),xf(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fc(n._repo,n._path,e,n._orderByCalled)}}class Hw extends du{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fc(n._repo,n._path,function nb(r,n){const e=r.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class Kx extends du{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fc(n._repo,n._path,function Qu(r,n){const e=r.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class Yx extends du{constructor(n){super(),this._path=n}_apply(n){Q0(n,"orderByChild");const e=new Ji(this._path);if(Pi(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new gm(e),u=Pp(n._queryParams,s);return xf(u),new Fc(n._repo,n._path,u,!0)}}class Gw extends du{_apply(n){Q0(n,"orderByKey");const e=Pp(n._queryParams,dc);return xf(e),new Fc(n._repo,n._path,e,!0)}}class Ww extends du{_apply(n){Q0(n,"orderByPriority");const e=Pp(n._queryParams,Jr);return xf(e),new Fc(n._repo,n._path,e,!0)}}class Zx extends du{_apply(n){Q0(n,"orderByValue");const e=Pp(n._queryParams,Ty);return xf(e),new Fc(n._repo,n._path,e,!0)}}class Kw extends du{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(lh("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Hx(this._value,this._key)._apply(new ew(this._value,this._key)._apply(n))}}function ch(r,...n){let e=(0,F.m9)(r);for(const s of n)e=s._apply(e);return e}(function Hy(r){(0,F.hu)(!jp,"__referenceConstructor has already been defined"),jp=r})(wl),function gf(r){(0,F.hu)(!rh,"__referenceConstructor has already been defined"),rh=r}(wl);const HE="FIREBASE_DATABASE_EMULATOR_HOST",Yw={};let Qx=!1;function Xx(r,n,e,s,u){let p=s||r.options.databaseURL;void 0===p&&(r.options.projectId||id("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ms("Using default host for project ",r.options.projectId),p=`${r.options.projectId}-default-rtdb.firebaseio.com`);let B,Q,x=Sb(p,u),S=x.repoInfo;typeof process<"u"&&process.env&&(Q=process.env[HE]),Q?(B=!0,p=`http://${Q}?ns=${S.namespace}`,x=Sb(p,u),S=x.repoInfo):B=!x.repoInfo.secure;const le=u&&B?new Gu(Gu.OWNER):new py(r.name,r.options,n);V0("Invalid Firebase Database URL",x),Pi(x.path)||id("Database URL must point to the root of a Firebase Database (not including a child path).");const Te=function Ob(r,n,e,s){let u=Yw[n.name];u||(u={},Yw[n.name]=u);let p=u[r.toURLString()];return p&&id("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),p=new Tx(r,Qx,e,s),u[r.toURLString()]=p,p}(S,r,le,new Hv(r.name,e));return new qw(Te,r)}class qw{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ax(r,n,e){if(r.stats_=yy(r.repoInfo_),r.forceRestClient_||Vv())r.server_=new vm(r.repoInfo_,(s,u,p,x)=>{bb(r,s,u,p,x)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>cu(r,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}r.persistentConnection_=new sd(r.repoInfo_,n,(s,u,p,x)=>{bb(r,s,u,p,x)},s=>{cu(r,s)},s=>{!function Mx(r,n){vo(n,(e,s)=>{R_(r,e,s)})}(r,s)},r.authTokenProvider_,r.appCheckProvider_,e),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(s=>{r.server_.refreshAuthToken(s)}),r.appCheckProvider_.addTokenChangeListener(s=>{r.server_.refreshAppCheckToken(s.token)}),r.statsReporter_=function wp(r,n){const e=r.toString();return bp[e]||(bp[e]=n()),bp[e]}(r.repoInfo_,()=>new rb(r.stats_,r.server_)),r.infoData_=new Oy,r.infoSyncTree_=new S_({startListening:(s,u,p,x)=>{let S=[];const B=r.infoData_.getNode(s._path);return B.isEmpty()||(S=Oc(r.infoSyncTree_,s._path,B),setTimeout(()=>{x("ok")},0)),S},stopListening:()=>{}}),R_(r,"connected",!1),r.serverSyncTree_=new S_({startListening:(s,u,p,x)=>(r.server_.listen(s,p,u,(S,B)=>{const Q=x(S,B);Nc(r.eventQueue_,s._path,Q)}),[]),stopListening:(s,u)=>{r.server_.unlisten(s,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wl(this._repo,Zi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function zE(r,n){const e=Yw[n];(!e||e[r.key]!==r)&&id(`Database ${n}(${r.repoInfo_}) has already been deleted.`),G0(r),delete e[r.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&id("Cannot call "+n+" on a deleted database.")}}function nv(){Xg.IS_TRANSPORT_INITIALIZED&&_o("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Zw(){nv(),Jd.forceDisallow()}function Qw(){nv(),eu.forceDisallow(),Jd.forceAllow()}function $E(r,n){Hg(r,n)}const tE={".sv":"timestamp"};class iE{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}sd.prototype.simpleListen=function(r,n){this.sendRequest("q",{p:r},n)},sd.prototype.echo=function(r,n){this.sendRequest("echo",{d:r},n)},function eE(r){Bl(Z.SDK_VERSION),(0,Z._registerComponent)(new Ve.wA("database",(n,{instanceIdentifier:e})=>Xx(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Z.registerVersion)(Uv,"0.14.4",r),(0,Z.registerVersion)(Uv,"0.14.4","esm2017")}();const oE=new mp.Yd("@firebase/database-compat"),aE=function(r){oE.warn("FIREBASE WARNING: "+r)};class ex{constructor(n){this._delegate=n}cancel(n){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),s=>n(s)),e}remove(n){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),s=>n(s)),e}set(n,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(n);return e&&s.then(()=>e(null),u=>e(u)),s}setWithPriority(n,e,s){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const u=this._delegate.setWithPriority(n,e);return s&&u.then(()=>s(null),p=>s(p)),u}update(n,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const u={};for(let p=0;p<n.length;++p)u[""+p]=n[p];n=u,aE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(n);return e&&s.then(()=>e(null),u=>e(u)),s}}class KE{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class xa{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),bf("DataSnapshot.child","path",n,!1),new xa(this._database,this._delegate.child(n))}hasChild(n){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),bf("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new xa(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new jl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Wa{constructor(n,e){this.database=n,this._delegate=e}on(n,e,s,u){var p;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const x=Wa.getCancelAndContextArgs_("Query.on",s,u),S=(Q,le)=>{e.call(x.context,new xa(this.database,Q),le)};S.userCallback=e,S.context=x.context;const B=null===(p=x.cancel)||void 0===p?void 0:p.bind(x.context);switch(n){case"value":return kb(this._delegate,S,B),e;case"child_added":return Xp(this._delegate,S,B),e;case"child_removed":return Rb(this._delegate,S,B),e;case"child_changed":return Bw(this._delegate,S,B),e;case"child_moved":return J0(this._delegate,S,B),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,s){if((0,F.Dv)("Query.off",0,3,arguments.length),function(r,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",s,!0),e){const u=()=>{};u.userCallback=e,u.context=s,Vx(this._delegate,n,u)}else Vx(this._delegate,n)}get(){return X0(this._delegate).then(n=>new xa(this.database,n))}once(n,e,s,u){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const p=Wa.getCancelAndContextArgs_("Query.once",s,u),x=new F.BH,S=(Q,le)=>{const Te=new xa(this.database,Q);e&&e.call(p.context,Te,le),x.resolve(Te)};S.userCallback=e,S.context=p.context;const B=Q=>{p.cancel&&p.cancel.call(p.context,Q),x.reject(Q)};switch(n){case"value":kb(this._delegate,S,B,{onlyOnce:!0});break;case"child_added":Xp(this._delegate,S,B,{onlyOnce:!0});break;case"child_removed":Rb(this._delegate,S,B,{onlyOnce:!0});break;case"child_changed":Bw(this._delegate,S,B,{onlyOnce:!0});break;case"child_moved":J0(this._delegate,S,B,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return x.promise}limitToFirst(n){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new Wa(this.database,ch(this._delegate,function Wx(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Hw(r)}(n)))}limitToLast(n){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new Wa(this.database,ch(this._delegate,function jw(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Kx(r)}(n)))}orderByChild(n){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new Wa(this.database,ch(this._delegate,function zw(r){if("$key"===r)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===r)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===r)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return bf("orderByChild","path",r,!1),new Yx(r)}(n)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new Wa(this.database,ch(this._delegate,function $w(){return new Gw}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new Wa(this.database,ch(this._delegate,function qx(){return new Ww}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new Wa(this.database,ch(this._delegate,function UE(){return new Zx}()))}startAt(n=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new Wa(this.database,ch(this._delegate,function Uw(r=null,n){return Ky("startAt","key",n,!0),new ew(r,n)}(n,e)))}startAfter(n=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new Wa(this.database,ch(this._delegate,function Vw(r,n){return Ky("startAfter","key",n,!0),new $x(r,n)}(n,e)))}endAt(n=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new Wa(this.database,ch(this._delegate,function jx(r,n){return Ky("endAt","key",n,!0),new Hx(r,n)}(n,e)))}endBefore(n=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new Wa(this.database,ch(this._delegate,function Gx(r,n){return Ky("endBefore","key",n,!0),new zx(r,n)}(n,e)))}equalTo(n,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new Wa(this.database,ch(this._delegate,function VE(r,n){return Ky("equalTo","key",n,!0),new Kw(r,n)}(n,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof Wa))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,s){const u={cancel:void 0,context:void 0};if(e&&s)u.cancel=e,(0,F.Wj)(n,"cancel",u.cancel,!0),u.context=s,(0,F.lb)(n,"context",u.context,!0);else if(e)if("object"==typeof e&&null!==e)u.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=e}return u}get ref(){return new jl(this.database,new wl(this._delegate._repo,this._delegate._path))}}class jl extends Wa{constructor(n,e){super(n,new Fc(e._repo,e._path,new af,!1)),this.database=n,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new jl(this.database,km(this._delegate,n))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new jl(this.database,n):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new jl(this.database,this._delegate.root)}set(n,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const s=Jy(this._delegate,n);return e&&s.then(()=>e(null),u=>e(u)),s}update(n,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const u={};for(let p=0;p<n.length;++p)u[""+p]=n[p];n=u,aE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pc("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const s=Ab(this._delegate,n);return e&&s.then(()=>e(null),u=>e(u)),s}setWithPriority(n,e,s){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",s,!0);const u=function Lw(r,n,e){if(Pc("setWithPriority",r._path),lh("setWithPriority",n,r._path,!1),U0("setWithPriority",e,!1),".length"===r.key||".keys"===r.key)throw"setWithPriority failed: "+r.key+" is a read-only object.";const s=new F.BH;return z0(r._repo,r._path,n,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,n,e);return s&&u.then(()=>s(null),p=>s(p)),u}remove(n){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",n,!0);const e=function Ux(r){return Pc("remove",r._path),Jy(r,null)}(this._delegate);return n&&e.then(()=>n(null),s=>n(s)),e}transaction(n,e,s){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(r,n,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const u=function WE(r,n,e){var s;if(r=(0,F.m9)(r),Pc("Reference.transaction",r._path),".length"===r.key||".keys"===r.key)throw"Reference.transaction failed: "+r.key+" is a read-only object.";const u=null===(s=e?.applyLocally)||void 0===s||s,p=new F.BH,S=kb(r,()=>{});return function W0(r,n,e,s,u,p){Mm(r,"transaction on "+n);const x={path:n,update:e,onComplete:s,status:null,order:dy(),applyLocally:p,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},S=Qy(r,n,void 0);x.currentInputSnapshot=S;const B=x.update(S.val());if(void 0===B)x.unwatcher(),x.currentOutputSnapshotRaw=null,x.currentOutputSnapshotResolved=null,x.onComplete&&x.onComplete(null,!1,x.currentInputSnapshot);else{Wy("transaction failed: Data returned ",B,x.path),x.status=0;const Q=k(r.transactionQueueTree_,n),le=$(Q)||[];let Te;le.push(x),te(Q,le),"object"==typeof B&&null!==B&&(0,F.r3)(B,".priority")?(Te=(0,F.DV)(B,".priority"),(0,F.hu)(gc(Te),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Te=(Im(r.serverSyncTree_,n)||Si.EMPTY_NODE).getPriority().val();const We=qy(r),vt=ks(B,Te),Mt=m(vt,S,We);x.currentOutputSnapshotRaw=vt,x.currentOutputSnapshotResolved=Mt,x.currentWriteId=Am(r);const qt=sh(r.serverSyncTree_,n,Mt,x.currentWriteId,x.applyLocally);Nc(r.eventQueue_,n,qt),Eb(r,r.transactionQueueTree_)}}(r._repo,r._path,n,(B,Q,le)=>{let Te=null;B?p.reject(B):(Te=new Qp(le,new wl(r._repo,r._path),Jr),p.resolve(new iE(Q,Te)))},S,u),p.promise}(this._delegate,n,{applyLocally:s}).then(p=>new KE(p.committed,new xa(this.database,p.snapshot)));return e&&u.then(p=>e(null,p.committed,p.snapshot),p=>e(p,!1,null)),u}setPriority(n,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const s=function Fw(r,n){r=(0,F.m9)(r),Pc("setPriority",r._path),U0("setPriority",n,!1);const e=new F.BH;return z0(r._repo,ns(r._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&s.then(()=>e(null),u=>e(u)),s}push(n,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const s=function Bx(r,n){r=(0,F.m9)(r),Pc("push",r._path),lh("push",n,r._path,!0);const e=k_(r._repo),s=Ow(e),u=km(r,s),p=km(r,s);let x;return x=null!=n?Jy(p,n).then(()=>p):Promise.resolve(p),u.then=x.then.bind(x),u.catch=x.then.bind(x,void 0),u}(this._delegate,n),u=s.then(x=>new jl(this.database,x));e&&u.then(()=>e(null),x=>e(x));const p=new jl(this.database,s);return p.then=u.then.bind(u),p.catch=u.catch.bind(u,void 0),p}onDisconnect(){return Pc("Reference.onDisconnect",this._delegate._path),new ex(new Pw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class iv{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Zw,forceLongPolling:Qw}}useEmulator(n,e,s={}){!function Pb(r,n,e,s={}){(r=(0,F.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&id("Cannot call useEmulator() after instance has already been initialized.");const u=r._repoInternal;let p;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&id('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new Gu(Gu.OWNER);else if(s.mockUserToken){const x="string"==typeof s.mockUserToken?s.mockUserToken:(0,F.Sg)(s.mockUserToken,r.app.options.projectId);p=new Gu(x)}!function jE(r,n,e,s){r.repoInfo_=new yp(`${n}:${e}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),s&&(r.authTokenProvider_=s)}(u,n,e,p)}(this._delegate,n,e,s)}ref(n){if((0,F.Dv)("database.ref",0,1,arguments.length),n instanceof jl){const e=Nw(this._delegate,n.toString());return new jl(this,e)}{const e=Tb(this._delegate,n);return new jl(this,e)}}refFromURL(n){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const s=Nw(this._delegate,n);return new jl(this,s)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function Xw(r){(r=(0,F.m9)(r))._checkNotDeleted("goOffline"),G0(r._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function Jx(r){(r=(0,F.m9)(r))._checkNotDeleted("goOnline"),function $0(r){r.persistentConnection_&&r.persistentConnection_.resume(j0)}(r._repo)}(this._delegate)}}iv.ServerValue={TIMESTAMP:function nE(){return tE}(),increment:r=>function Nb(r){return{".sv":{increment:r}}}(r)};var ud=Object.freeze({__proto__:null,initStandalone:function YE({app:r,url:n,version:e,customAuthImpl:s,namespace:u,nodeAdmin:p=!1}){Bl(e);const x=new Ve.zt("auth-internal",new Ve.H0("database-standalone"));return x.setComponent(new Ve.wA("auth-internal",()=>s,"PRIVATE")),{instance:new iv(Xx(r,x,void 0,n,p),r),namespace:u}}});const cE=iv.ServerValue;function Fb(r){return null==r}function nw(r){return"function"==typeof r.set}function iw(r,n){return nw(n)?n:r.ref(n)}function tx(r,n){if(function dE(r){return"string"==typeof r}(r))return n.stringCase();if(nw(r))return n.firebaseCase();if(function uE(r){return"function"==typeof r.exportVal}(r))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function N_(r,n,e="on",s=dn.z){return new He.y(u=>{let p=null;return p=r[e](n,(x,S)=>{s.schedule(()=>{u.next({snapshot:x,prevKey:S})}),"once"===e&&s.schedule(()=>u.complete())},x=>{s.schedule(()=>u.error(x))}),"on"===e?{unsubscribe(){null!=p&&r.off(n,p)}}:{unsubscribe(){}}}).pipe((0,ve.U)(u=>{const{snapshot:p,prevKey:x}=u;let S=null;return p.exists()&&(S=p.key),{type:n,payload:p,prevKey:x,key:S}}),(0,Dr.B)())}function ix(r,n){const e=r.length;for(let s=0;s<e;s++)if(r[s].payload.key===n)return s;return-1}function hE(r,n){const{payload:e,prevKey:s,key:u}=n,p=ix(r,u),x=function rx(r,n){if(Fb(n))return 0;{const e=ix(r,n);return-1===e?r.length:e+1}}(r,s);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let S=null;n.payload.forEach(B=>{const Q={payload:B,type:"value",prevKey:S,key:B.key};return S=B.key,r=[...r,Q],!1})}return r;case"child_added":if(p>-1){const S=r[p-1];(S&&S.key||null)!==s&&(r=r.filter(B=>B.payload.key!==e.key)).splice(x,0,n)}else{if(null==s)return[n,...r];(r=r.slice()).splice(x,0,n)}return r;case"child_removed":return r.filter(S=>S.payload.key!==e.key);case"child_changed":return r.map(S=>S.payload.key===u?n:S);case"child_moved":if(p>-1){const S=r.splice(p,1)[0];return(r=r.slice()).splice(x,0,S),r}return r;default:return r}}function Lb(r){return(Fb(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function dh(r,n,e){return function nx(r,n,e){return N_(r,"value","once",e).pipe((0,C.w)(s=>{const u=[(0,Ct.of)(s)];return n.forEach(p=>u.push(N_(r,p,"on",e))),(0,Be.T)(...u).pipe((0,Fg.R)(hE,[]))}),(0,Lt.x)())}(r,n=Lb(n),e)}function Ef(r,n,e){const s=(n=Lb(n)).map(u=>N_(r,u,"on",e));return(0,Be.T)(...s)}function ax(r,n){return function(s,u){return tx(s,{stringCase:()=>r.child(s)[n](u),firebaseCase:()=>s[n](u),snapshotCase:()=>s.ref[n](u)})}}function qE(r){return function(e){return e?tx(e,{stringCase:()=>r.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):r.remove()}}function lx(r,n){return function(){return N_(r,"value","on",n)}}!function tw(r){r.INTERNAL.registerComponent(new Ve.wA("database-compat",(n,{instanceIdentifier:e})=>{const s=n.getProvider("app-compat").getImmediate(),u=n.getProvider("database").getImmediate({identifier:e});return new iv(u,s)},"PUBLIC").setServiceProps({Reference:jl,Query:Wa,Database:iv,DataSnapshot:xa,enableLogging:$E,INTERNAL:ud,ServerValue:cE}).setMultipleInstances(!0)),r.registerVersion("@firebase/database-compat","0.3.4")}(b.Z);const pE=new h.OlP("angularfire2.realtimeDatabaseURL"),cx=new h.OlP("angularfire2.database.use-emulator");let ZE=(()=>{class r{constructor(e,s,u,p,x,S,B,Q,le,Te,We,vt,Mt,qt,ln){this.schedulers=S;const oi=B,or=(0,Xc.on)(e,x,s);Q&&(0,Cc.nw)(or,x,le,We,vt,Mt,Te,qt),this.database=(0,Xc.cc)(`${or.name}.database.${u}`,"AngularFireDatabase",or.name,()=>{const er=x.runOutsideAngular(()=>or.database(u||void 0));return oi&&er.useEmulator(...oi),er},[oi])}list(e,s){const u=this.schedulers.ngZone.runOutsideAngular(()=>iw(this.database,e));let p=u;return s&&(p=s(u)),function fE(r,n){const e=n.schedulers.outsideAngular,s=n.schedulers.ngZone.run(()=>r.ref);return{query:r,update:ax(s,"update"),set:ax(s,"set"),push:u=>s.push(u),remove:qE(s),snapshotChanges:u=>dh(r,u,e).pipe(y.iC),stateChanges:u=>Ef(r,u,e).pipe(y.iC),auditTrail:u=>function sx(r,n,e){return function ox(r,n,e){return function rw(r,n){return N_(r,"value","on",n).pipe((0,ve.U)(e=>{let s;return e.payload.forEach(u=>(s=u.key,!1)),{data:e,lastKeyToLoad:s}}))}(r,e).pipe(function a0(...r){const n=(0,Bv.jO)(r);return(0,yi.e)((e,s)=>{const u=r.length,p=new Array(u);let x=r.map(()=>!1),S=!1;for(let B=0;B<u;B++)(0,De.Xf)(r[B]).subscribe((0,Wi.x)(s,Q=>{p[B]=Q,!S&&!x[B]&&(x[B]=!0,(S=x.every(ly.y))&&(x=null))},qd.Z));e.subscribe((0,Wi.x)(s,B=>{if(S){const Q=[B,...p];s.next(n?n(...Q):Q)}}))})}(n),(0,ve.U)(([u,p])=>{const x=u.lastKeyToLoad,S=p.map(B=>B.key);return{actions:p,lastKeyToLoad:x,loadedKeys:S}}),function fp(r){return(0,yi.e)((n,e)=>{let s=!1,u=0;n.subscribe((0,Wi.x)(e,p=>(s||(s=!r(p,u++)))&&e.next(p)))})}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,ve.U)(u=>u.actions))}(r,Ef(r,n).pipe((0,Fg.R)((u,p)=>[...u,p],[])),e)}(r,u,e).pipe(y.iC),valueChanges:(u,p)=>dh(r,u,e).pipe((0,ve.U)(S=>S.map(B=>p&&p.idField?Object.assign(Object.assign({},B.payload.val()),{[p.idField]:B.key}):B.payload.val())),y.iC)}}(p,this)}object(e){return function mE(r,n){return{query:r,snapshotChanges:()=>lx(r,n.schedulers.outsideAngular)().pipe(y.iC),update:e=>r.ref.update(e),set:e=>r.ref.set(e),remove:()=>r.ref.remove(),valueChanges:()=>lx(r,n.schedulers.outsideAngular)().pipe(y.iC,(0,ve.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>iw(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Xc.Dh),h.LFG(Xc.xv,8),h.LFG(pE,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(y.HU),h.LFG(cx,8),h.LFG(Cc.zQ,8),h.LFG(Cc.Qv,8),h.LFG(Cc.L6,8),h.LFG(Cc._Q,8),h.LFG(Cc.rT,8),h.LFG(Cc.lh,8),h.LFG(Cc.f7,8),h.LFG(Nv.nm,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),dx=(()=>{class r{constructor(){oy.Z.registerVersion("angularfire",y.q4.full,"rtdb-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[ZE]}),r})();const gE_firebase={apiKey:"AIzaSyBgtosirNT1jMu_uGkWy-RPHjq_eTsBkB8",authDomain:"drinkservice-11fde.firebaseapp.com",databaseURL:"https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app",projectId:"drinkservice-11fde",storageBucket:"drinkservice-11fde.appspot.com",messagingSenderId:"613068979993",appId:"1:613068979993:web:f7fe5309efb9c1b6c54f88"};class ux{constructor(n,e,s,u,p,x){this.drinkId=n,this.name=e,this.consumationCount=s,this.bookingCount=u,this.imageUrl=p,this.imageSize=x}}function QE(r,n){if(1&r&&(h.TgZ(0,"div",1)(1,"div",2),h._UZ(2,"img",10),h.TgZ(3,"div",4)(4,"h5",5),h._uU(5),h.qZA(),h.TgZ(6,"p",6)(7,"b"),h._uU(8),h.qZA(),h._uU(9," konsumiert"),h._UZ(10,"br"),h.TgZ(11,"b"),h._uU(12),h.qZA(),h._uU(13," Buchungen"),h.qZA()()()()),2&r){const e=n.$implicit,s=h.oxw();h.xp6(2),h.Udp("width",s.calculateWidth(e.imageSize),"px")("height",s.calculateWidth(e.imageSize),"px"),h.MGl("src","assets/",e.imageUrl,"",h.LSH),h.xp6(3),h.hij("",e.name," "),h.xp6(3),h.Oqu(e.consumationCount),h.xp6(4),h.Oqu(e.bookingCount)}}let sw=(()=>{class r{ngOnInit(){}constructor(e){this.globalService=e,this.drinkBookings=[],this.overallDrinkCount=0,this.overallBookingsCount=0,this.overallCost=0,this.drinkConsumationData=[],this.prepareDashboardData()}prepareDashboardData(){this.globalService.drinkBookings&&(console.log("Dashboard constructor drinkBookings=",this.drinkBookings.length," // drinksData=",this.globalService.drinksData.length),this.drinkBookings=this.globalService.drinkBookings,this.overallBookingsCount=this.drinkBookings.length,this.overallDrinkCount=0,this.globalService.drinksData.forEach(e=>{let s=this.drinkBookings.filter(x=>x.drinkId===e.drinkId),u=0;s.forEach(x=>{u+=x.count,this.overallCost+=x.count*e.price}),this.overallDrinkCount+=u;let p=new ux(e.drinkId,e.name,u,s.length,e.imageUrl,e.imageSize);this.drinkConsumationData.push(p),console.log("allBookingsForSingleDrink drinkId=",e.drinkId," // drinkConsumationCount=",u," // bookingCount=",s.length," // this.overallDrinkCount=",this.overallDrinkCount)}))}calculateWidth(e){return 60*e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Se.U))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-dashboard"]],decls:31,vars:4,consts:[[1,"row"],[1,"col-12","col-md-4","col-lg-4"],[1,"card"],["src","assets/overallBookingCount.png",1,"card-img-top-icon"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text","text-center"],["src","assets/overallDrinkCount.png",1,"card-img-top-icon"],["src","assets/overallCost.png",1,"card-img-top-icon"],["class","col-12 col-md-4 col-lg-4",4,"ngFor","ngForOf"],[1,"card-img-top",3,"src"]],template:function(e,s){1&e&&(h.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),h._UZ(4,"img",3),h.TgZ(5,"div",4)(6,"h5",5),h._uU(7,"Anzahl Buchungen gesamt "),h.qZA(),h.TgZ(8,"p",6)(9,"b"),h._uU(10),h.qZA()()()()(),h.TgZ(11,"div",1)(12,"div",2),h._UZ(13,"img",7),h.TgZ(14,"div",4)(15,"h5",5),h._uU(16,"Konsumierte Getr\xe4nke Gesamt "),h.qZA(),h.TgZ(17,"p",6)(18,"b"),h._uU(19),h.qZA()()()()(),h.TgZ(20,"div",1)(21,"div",2),h._UZ(22,"img",8),h.TgZ(23,"div",4)(24,"h5",5),h._uU(25,"\u20ac versoffen"),h.qZA(),h.TgZ(26,"p",6)(27,"b"),h._uU(28),h.qZA()()()()()()(),h.TgZ(29,"div",0),h.YNc(30,QE,14,8,"div",9),h.qZA()),2&e&&(h.xp6(10),h.Oqu(s.overallBookingsCount),h.xp6(9),h.Oqu(s.overallDrinkCount),h.xp6(9),h.Oqu(s.overallCost),h.xp6(2),h.Q6J("ngForOf",s.drinkConsumationData))},dependencies:[we.sg],styles:[".card-img-top-icon[_ngcontent-%COMP%]{width:50px;height:50px;display:block;margin-left:auto;margin-right:auto}.card[_ngcontent-%COMP%]{margin:40px;padding:20px}.card-img-top[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:40%}.main-card[_ngcontent-%COMP%]{max-width:500px}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:20px}"]}),r})();class F_{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class L_ extends F_{constructor(n,e,s,u,p){super(),this.component=n,this.viewContainerRef=e,this.injector=s,this.componentFactoryResolver=u,this.projectableNodes=p}}class Bb extends F_{constructor(n,e,s,u){super(),this.templateRef=n,this.viewContainerRef=e,this.context=s,this.injector=u}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class xE extends F_{constructor(n){super(),this.element=n instanceof h.SBq?n.nativeElement:n}}class aw{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof L_?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof Bb?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof xE?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class XE extends aw{constructor(n,e,s,u,p){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=s,this._defaultInjector=u,this.attachDomPortal=x=>{const S=x.element,B=this._document.createComment("dom-portal");S.parentNode.insertBefore(B,S),this.outletElement.appendChild(S),this._attachedPortal=x,super.setDisposeFn(()=>{B.parentNode&&B.parentNode.replaceChild(S,B)})},this._document=p}attachComponentPortal(n){const s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let u;return n.viewContainerRef?(u=n.viewContainerRef.createComponent(s,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>u.destroy())):(u=s.create(n.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(u.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(u.hostView),u.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(u)),this._attachedPortal=n,u}attachTemplatePortal(n){let e=n.viewContainerRef,s=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return s.rootNodes.forEach(u=>this.outletElement.appendChild(u)),s.detectChanges(),this.setDisposeFn(()=>{let u=e.indexOf(s);-1!==u&&e.remove(u)}),this._attachedPortal=n,s}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let rv=(()=>{class r extends aw{constructor(e,s,u){super(),this._componentFactoryResolver=e,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=p=>{const x=p.element,S=this._document.createComment("dom-portal");p.setAttachedHost(this),x.parentNode.insertBefore(S,x),this._getRootNode().appendChild(x),this._attachedPortal=p,super.setDisposeFn(()=>{S.parentNode&&S.parentNode.replaceChild(x,S)})},this._document=u}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const s=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,p=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),x=s.createComponent(p,s.length,e.injector||s.injector,e.projectableNodes||void 0);return s!==this._viewContainerRef&&this._getRootNode().appendChild(x.hostView.rootNodes[0]),super.setDisposeFn(()=>x.destroy()),this._attachedPortal=e,this._attachedRef=x,this.attached.emit(x),x}attachTemplatePortal(e){e.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(we.K0))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]}),r})(),Ub=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})();var tC=O(2529);const CE=(0,xe.Mq)();class DE{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=(0,Le.HM)(-this._previousScrollPosition.left),n.style.top=(0,Le.HM)(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,s=n.style,u=this._document.body.style,p=s.scrollBehavior||"",x=u.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),CE&&(s.scrollBehavior=u.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),CE&&(s.scrollBehavior=p,u.scrollBehavior=x)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,s=this._viewportRuler.getViewportSize();return e.scrollHeight>s.height||e.scrollWidth>s.width}}class IE{constructor(n,e,s,u){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=s,this._config=u,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class hx{enable(){}disable(){}attach(){}}function Vb(r,n){return n.some(e=>r.bottom<e.top||r.top>e.bottom||r.right<e.left||r.left>e.right)}function Rm(r,n){return n.some(e=>r.top<e.top||r.bottom>e.bottom||r.left<e.left||r.right>e.right)}class fx{constructor(n,e,s,u){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=s,this._config=u,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:u}=this._viewportRuler.getViewportSize();Vb(e,[{width:s,height:u,bottom:u,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let cw=(()=>{class r{constructor(e,s,u,p){this._scrollDispatcher=e,this._viewportRuler=s,this._ngZone=u,this.noop=()=>new hx,this.close=x=>new IE(this._scrollDispatcher,this._ngZone,this._viewportRuler,x),this.block=()=>new DE(this._viewportRuler,this._document),this.reposition=x=>new fx(this._scrollDispatcher,this._viewportRuler,this._ngZone,x),this._document=p}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(ri),h.LFG(K),h.LFG(h.R0b),h.LFG(we.K0))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class B_{constructor(n){if(this.scrollStrategy=new hx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const s of e)void 0!==n[s]&&(this[s]=n[s])}}}class dw{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let SE=(()=>{class r{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const s=this._attachedOverlays.indexOf(e);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(we.K0))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),iC=(()=>{class r extends SE{constructor(e,s){super(e),this._ngZone=s,this._keydownListener=u=>{const p=this._attachedOverlays;for(let x=p.length-1;x>-1;x--)if(p[x]._keydownEvents.observers.length>0){const S=p[x]._keydownEvents;this._ngZone?this._ngZone.run(()=>S.next(u)):S.next(u);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(we.K0),h.LFG(h.R0b,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rC=(()=>{class r extends SE{constructor(e,s,u){super(e),this._platform=s,this._ngZone=u,this._cursorStyleIsSet=!1,this._pointerDownListener=p=>{this._pointerDownEventTarget=(0,xe.sA)(p)},this._clickListener=p=>{const x=(0,xe.sA)(p),S="click"===p.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:x;this._pointerDownEventTarget=null;const B=this._attachedOverlays.slice();for(let Q=B.length-1;Q>-1;Q--){const le=B[Q];if(le._outsidePointerEvents.observers.length<1||!le.hasAttached())continue;if(le.overlayElement.contains(x)||le.overlayElement.contains(S))break;const Te=le._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Te.next(p)):Te.next(p)}}}add(e){if(super.add(e),!this._isAttached){const s=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(s)):this._addEventListeners(s),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(we.K0),h.LFG(xe.t4),h.LFG(h.R0b,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),sv=(()=>{class r{constructor(e,s){this._platform=s,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||(0,xe.Oy)()){const u=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let p=0;p<u.length;p++)u[p].remove()}const s=this._document.createElement("div");s.classList.add(e),(0,xe.Oy)()?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(we.K0),h.LFG(xe.t4))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class ov{constructor(n,e,s,u,p,x,S,B,Q,le=!1){this._portalOutlet=n,this._host=e,this._pane=s,this._config=u,this._ngZone=p,this._keyboardDispatcher=x,this._document=S,this._location=B,this._outsideClickDispatcher=Q,this._animationsDisabled=le,this._backdropElement=null,this._backdropClick=new Ee.x,this._attachments=new Ee.x,this._detachments=new Ee.x,this._locationChanges=It.w0.EMPTY,this._backdropClickHandler=Te=>this._backdropClick.next(Te),this._backdropTransitionendHandler=Te=>{this._disposeBackdrop(Te.target)},this._keydownEvents=new Ee.x,this._outsidePointerEvents=new Ee.x,u.scrollStrategy&&(this._scrollStrategy=u.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=u.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,tn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=(0,Le.HM)(this._config.width),n.height=(0,Le.HM)(this._config.height),n.minWidth=(0,Le.HM)(this._config.minWidth),n.minHeight=(0,Le.HM)(this._config.minHeight),n.maxWidth=(0,Le.HM)(this._config.maxWidth),n.maxHeight=(0,Le.HM)(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,s){const u=(0,Le.Eq)(e||[]).filter(p=>!!p);u.length&&(s?n.classList.add(...u):n.classList.remove(...u))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe((0,Un.R)((0,Be.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const px="cdk-overlay-connected-position-bounding-box",TE=/([A-Za-z%]+)$/;class AE{get positions(){return this._preferredPositions}constructor(n,e,s,u,p){this._viewportRuler=e,this._document=s,this._platform=u,this._overlayContainer=p,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ee.x,this._resizeSubscription=It.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(px),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,s=this._viewportRect,u=this._containerRect,p=[];let x;for(let S of this._preferredPositions){let B=this._getOriginPoint(n,u,S),Q=this._getOverlayPoint(B,e,S),le=this._getOverlayFit(Q,e,s,S);if(le.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(S,B);this._canFitWithFlexibleDimensions(le,Q,s)?p.push({position:S,origin:B,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(B,S)}):(!x||x.overlayFit.visibleArea<le.visibleArea)&&(x={overlayFit:le,overlayPoint:Q,originPoint:B,position:S,overlayRect:e})}if(p.length){let S=null,B=-1;for(const Q of p){const le=Q.boundingBoxRect.width*Q.boundingBoxRect.height*(Q.position.weight||1);le>B&&(B=le,S=Q)}return this._isPushed=!1,void this._applyPosition(S.position,S.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(x.position,x.originPoint);this._applyPosition(x.position,x.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Om(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(px),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,s){let u,p;if("center"==s.originX)u=n.left+n.width/2;else{const x=this._isRtl()?n.right:n.left,S=this._isRtl()?n.left:n.right;u="start"==s.originX?x:S}return e.left<0&&(u-=e.left),p="center"==s.originY?n.top+n.height/2:"top"==s.originY?n.top:n.bottom,e.top<0&&(p-=e.top),{x:u,y:p}}_getOverlayPoint(n,e,s){let u,p;return u="center"==s.overlayX?-e.width/2:"start"===s.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,p="center"==s.overlayY?-e.height/2:"top"==s.overlayY?0:-e.height,{x:n.x+u,y:n.y+p}}_getOverlayFit(n,e,s,u){const p=fw(e);let{x,y:S}=n,B=this._getOffset(u,"x"),Q=this._getOffset(u,"y");B&&(x+=B),Q&&(S+=Q);let We=0-S,vt=S+p.height-s.height,Mt=this._subtractOverflows(p.width,0-x,x+p.width-s.width),qt=this._subtractOverflows(p.height,We,vt),ln=Mt*qt;return{visibleArea:ln,isCompletelyWithinViewport:p.width*p.height===ln,fitsInViewportVertically:qt===p.height,fitsInViewportHorizontally:Mt==p.width}}_canFitWithFlexibleDimensions(n,e,s){if(this._hasFlexibleDimensions){const u=s.bottom-e.y,p=s.right-e.x,x=hw(this._overlayRef.getConfig().minHeight),S=hw(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=x&&x<=u)&&(n.fitsInViewportHorizontally||null!=S&&S<=p)}return!1}_pushOverlayOnScreen(n,e,s){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const u=fw(e),p=this._viewportRect,x=Math.max(n.x+u.width-p.width,0),S=Math.max(n.y+u.height-p.height,0),B=Math.max(p.top-s.top-n.y,0),Q=Math.max(p.left-s.left-n.x,0);let le=0,Te=0;return le=u.width<=p.width?Q||-x:n.x<this._viewportMargin?p.left-s.left-n.x:0,Te=u.height<=p.height?B||-S:n.y<this._viewportMargin?p.top-s.top-n.y:0,this._previousPushAmount={x:le,y:Te},{x:n.x+le,y:n.y+Te}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const s=this._getScrollVisibility(),u=new dw(n,s);this._positionChanges.next(u)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,u=n.overlayY;s="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let p=0;p<e.length;p++)e[p].style.transformOrigin=`${s} ${u}`}_calculateBoundingBoxRect(n,e){const s=this._viewportRect,u=this._isRtl();let p,x,S,le,Te,We;if("top"===e.overlayY)x=n.y,p=s.height-x+this._viewportMargin;else if("bottom"===e.overlayY)S=s.height-n.y+2*this._viewportMargin,p=s.height-S+this._viewportMargin;else{const vt=Math.min(s.bottom-n.y+s.top,n.y),Mt=this._lastBoundingBoxSize.height;p=2*vt,x=n.y-vt,p>Mt&&!this._isInitialRender&&!this._growAfterOpen&&(x=n.y-Mt/2)}if("end"===e.overlayX&&!u||"start"===e.overlayX&&u)We=s.width-n.x+this._viewportMargin,le=n.x-this._viewportMargin;else if("start"===e.overlayX&&!u||"end"===e.overlayX&&u)Te=n.x,le=s.right-n.x;else{const vt=Math.min(s.right-n.x+s.left,n.x),Mt=this._lastBoundingBoxSize.width;le=2*vt,Te=n.x-vt,le>Mt&&!this._isInitialRender&&!this._growAfterOpen&&(Te=n.x-Mt/2)}return{top:x,left:Te,bottom:S,right:We,width:le,height:p}}_setBoundingBoxStyles(n,e){const s=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const u={};if(this._hasExactPosition())u.top=u.left="0",u.bottom=u.right=u.maxHeight=u.maxWidth="",u.width=u.height="100%";else{const p=this._overlayRef.getConfig().maxHeight,x=this._overlayRef.getConfig().maxWidth;u.height=(0,Le.HM)(s.height),u.top=(0,Le.HM)(s.top),u.bottom=(0,Le.HM)(s.bottom),u.width=(0,Le.HM)(s.width),u.left=(0,Le.HM)(s.left),u.right=(0,Le.HM)(s.right),u.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",u.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",p&&(u.maxHeight=(0,Le.HM)(p)),x&&(u.maxWidth=(0,Le.HM)(x))}this._lastBoundingBoxSize=s,Om(this._boundingBox.style,u)}_resetBoundingBoxStyles(){Om(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Om(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const s={},u=this._hasExactPosition(),p=this._hasFlexibleDimensions,x=this._overlayRef.getConfig();if(u){const le=this._viewportRuler.getViewportScrollPosition();Om(s,this._getExactOverlayY(e,n,le)),Om(s,this._getExactOverlayX(e,n,le))}else s.position="static";let S="",B=this._getOffset(e,"x"),Q=this._getOffset(e,"y");B&&(S+=`translateX(${B}px) `),Q&&(S+=`translateY(${Q}px)`),s.transform=S.trim(),x.maxHeight&&(u?s.maxHeight=(0,Le.HM)(x.maxHeight):p&&(s.maxHeight="")),x.maxWidth&&(u?s.maxWidth=(0,Le.HM)(x.maxWidth):p&&(s.maxWidth="")),Om(this._pane.style,s)}_getExactOverlayY(n,e,s){let u={top:"",bottom:""},p=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(p=this._pushOverlayOnScreen(p,this._overlayRect,s)),"bottom"===n.overlayY?u.bottom=this._document.documentElement.clientHeight-(p.y+this._overlayRect.height)+"px":u.top=(0,Le.HM)(p.y),u}_getExactOverlayX(n,e,s){let x,u={left:"",right:""},p=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(p=this._pushOverlayOnScreen(p,this._overlayRect,s)),x=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===x?u.right=this._document.documentElement.clientWidth-(p.x+this._overlayRect.width)+"px":u.left=(0,Le.HM)(p.x),u}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),s=this._scrollables.map(u=>u.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Rm(n,s),isOriginOutsideView:Vb(n,s),isOverlayClipped:Rm(e,s),isOverlayOutsideView:Vb(e,s)}}_subtractOverflows(n,...e){return e.reduce((s,u)=>s-Math.max(u,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+n-this._viewportMargin,bottom:s.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&(0,Le.Eq)(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof h.SBq)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,s=n.height||0;return{top:n.y,bottom:n.y+s,left:n.x,right:n.x+e,height:s,width:e}}}function Om(r,n){for(let e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r}function hw(r){if("number"!=typeof r&&null!=r){const[n,e]=r.split(TE);return e&&"px"!==e?null:parseFloat(n)}return r||null}function fw(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const mw="cdk-global-overlay-wrapper";class pw{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(mw),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:u,height:p,maxWidth:x,maxHeight:S}=s,B=!("100%"!==u&&"100vw"!==u||x&&"100%"!==x&&"100vw"!==x),Q=!("100%"!==p&&"100vh"!==p||S&&"100%"!==S&&"100vh"!==S),le=this._xPosition,Te=this._xOffset,We="rtl"===this._overlayRef.getConfig().direction;let vt="",Mt="",qt="";B?qt="flex-start":"center"===le?(qt="center",We?Mt=Te:vt=Te):We?"left"===le||"end"===le?(qt="flex-end",vt=Te):("right"===le||"start"===le)&&(qt="flex-start",Mt=Te):"left"===le||"start"===le?(qt="flex-start",vt=Te):("right"===le||"end"===le)&&(qt="flex-end",Mt=Te),n.position=this._cssPosition,n.marginLeft=B?"0":vt,n.marginTop=Q?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=B?"0":Mt,e.justifyContent=qt,e.alignItems=Q?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,s=e.style;e.classList.remove(mw),s.justifyContent=s.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let aC=(()=>{class r{constructor(e,s,u,p){this._viewportRuler=e,this._document=s,this._platform=u,this._overlayContainer=p}global(){return new pw}flexibleConnectedTo(e){return new AE(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(K),h.LFG(we.K0),h.LFG(xe.t4),h.LFG(sv))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),gx=0,hd=(()=>{class r{constructor(e,s,u,p,x,S,B,Q,le,Te,We,vt){this.scrollStrategies=e,this._overlayContainer=s,this._componentFactoryResolver=u,this._positionBuilder=p,this._keyboardDispatcher=x,this._injector=S,this._ngZone=B,this._document=Q,this._directionality=le,this._location=Te,this._outsideClickDispatcher=We,this._animationsModuleType=vt}create(e){const s=this._createHostElement(),u=this._createPaneElement(s),p=this._createPortalOutlet(u),x=new B_(e);return x.direction=x.direction||this._directionality.value,new ov(p,s,u,x,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const s=this._document.createElement("div");return s.id="cdk-overlay-"+gx++,s.classList.add("cdk-overlay-pane"),e.appendChild(s),s}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new XE(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(cw),h.LFG(sv),h.LFG(h._Vd),h.LFG(aC),h.LFG(iC),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(we.K0),h.LFG(Yt.Is),h.LFG(we.Ye),h.LFG(rC),h.LFG(h.QbO,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const ME=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],_x=new h.OlP("cdk-connected-overlay-scroll-strategy");let yx=(()=>{class r{constructor(e){this.elementRef=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),r})(),kE=(()=>{class r{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=(0,Le.Ig)(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=(0,Le.Ig)(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=(0,Le.Ig)(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=(0,Le.Ig)(e)}get push(){return this._push}set push(e){this._push=(0,Le.Ig)(e)}constructor(e,s,u,p,x){this._overlay=e,this._dir=x,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=It.w0.EMPTY,this._attachSubscription=It.w0.EMPTY,this._detachSubscription=It.w0.EMPTY,this._positionSubscription=It.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new h.vpe,this.positionChange=new h.vpe,this.attach=new h.vpe,this.detach=new h.vpe,this.overlayKeydown=new h.vpe,this.overlayOutsideClick=new h.vpe,this._templatePortal=new Bb(s,u),this._scrollStrategyFactory=p,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ME);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),s.keyCode===de.hY&&!this.disableClose&&!(0,de.Vb)(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),s=new B_({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(e){const s=this.positions.map(u=>({originX:u.originX,originY:u.originY,overlayX:u.overlayX,overlayY:u.overlayY,offsetX:u.offsetX||this.offsetX,offsetY:u.offsetY||this.offsetY,panelClass:u.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof yx?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,tC.o)(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(hd),h.Y36(h.Rgc),h.Y36(h.s_b),h.Y36(_x),h.Y36(Yt.Is,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[h.TTD]}),r})();const OE={provide:_x,deps:[hd],useFactory:function RE(r){return()=>r.scrollStrategies.reposition()}};let Hb=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[hd,OE],imports:[Yt.vT,Ub,Ne,Ne]}),r})();var vx=O(9770);function lC(r,n){}class gw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let PE=(()=>{class r extends aw{constructor(e,s,u,p,x,S,B,Q){super(),this._elementRef=e,this._focusTrapFactory=s,this._config=p,this._interactivityChecker=x,this._ngZone=S,this._overlayRef=B,this._focusMonitor=Q,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=le=>{this._portalOutlet.hasAttached();const Te=this._portalOutlet.attachDomPortal(le);return this._contentAttached(),Te},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=u}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const s=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),s}attachTemplatePortal(e){this._portalOutlet.hasAttached();const s=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),s}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,s){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const u=()=>{e.removeEventListener("blur",u),e.removeEventListener("mousedown",u),e.removeAttribute("tabindex")};e.addEventListener("blur",u),e.addEventListener("mousedown",u)})),e.focus(s)}_focusByCssSelector(e,s){let u=this._elementRef.nativeElement.querySelector(e);u&&this._forceFocus(u,s)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(s=>{s||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let s=null;if("string"==typeof e?s=this._document.querySelector(e):"boolean"==typeof e?s=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(s=e),this._config.restoreFocus&&s&&"function"==typeof s.focus){const u=(0,xe.ht)(),p=this._elementRef.nativeElement;(!u||u===this._document.body||u===p||p.contains(u))&&(this._focusMonitor?(this._focusMonitor.focusVia(s,this._closeInteractionType),this._closeInteractionType=null):s.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,s=(0,xe.ht)();return e===s||e.contains(s)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,xe.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(Oe.qV),h.Y36(we.K0,8),h.Y36(gw),h.Y36(Oe.ic),h.Y36(h.R0b),h.Y36(ov),h.Y36(Oe.tE))},r.\u0275cmp=h.Xpm({type:r,selectors:[["cdk-dialog-container"]],viewQuery:function(e,s){if(1&e&&h.Gf(rv,7),2&e){let u;h.iGM(u=h.CRH())&&(s._portalOutlet=u.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,s){2&e&&h.uIk("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},features:[h.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,s){1&e&&h.YNc(0,lC,0,0,"ng-template",0)},dependencies:[rv],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),r})();class bx{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new Ee.x,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(s=>{s.keyCode===de.hY&&!this.disableClose&&!(0,de.Vb)(s)&&(s.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(n,e){if(this.containerInstance){const s=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),s.next(n),s.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}}const NE=new h.OlP("DialogScrollStrategy"),dC=new h.OlP("DialogData"),uC=new h.OlP("DefaultDialogConfig"),o={provide:NE,deps:[hd],useFactory:function hC(r){return()=>r.scrollStrategies.block()}};let l=0,d=(()=>{class r{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,s,u,p,x,S){this._overlay=e,this._injector=s,this._defaultOptions=u,this._parentDialog=p,this._overlayContainer=x,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ee.x,this._afterOpenedAtThisLevel=new Ee.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,vx.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Ot.O)(void 0))),this._scrollStrategy=S}open(e,s){(s={...this._defaultOptions||new gw,...s}).id=s.id||"cdk-dialog-"+l++,s.id&&this.getDialogById(s.id);const p=this._getOverlayConfig(s),x=this._overlay.create(p),S=new bx(x,s),B=this._attachContainer(x,S,s);return S.containerInstance=B,this._attachDialogContent(e,S,B,s),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(S),S.closed.subscribe(()=>this._removeOpenDialog(S,!0)),this.afterOpened.next(S),S}closeAll(){f(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(s=>s.id===e)}ngOnDestroy(){f(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),f(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const s=new B_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(s.backdropClass=e.backdropClass),s}_attachContainer(e,s,u){const p=u.injector||u.viewContainerRef?.injector,x=[{provide:gw,useValue:u},{provide:bx,useValue:s},{provide:ov,useValue:e}];let S;u.container?"function"==typeof u.container?S=u.container:(S=u.container.type,x.push(...u.container.providers(u))):S=PE;const B=new L_(S,u.viewContainerRef,h.zs3.create({parent:p||this._injector,providers:x}),u.componentFactoryResolver);return e.attach(B).instance}_attachDialogContent(e,s,u,p){if(e instanceof h.Rgc){const x=this._createInjector(p,s,u,void 0);let S={$implicit:p.data,dialogRef:s};p.templateContext&&(S={...S,..."function"==typeof p.templateContext?p.templateContext():p.templateContext}),u.attachTemplatePortal(new Bb(e,null,S,x))}else{const x=this._createInjector(p,s,u,this._injector),S=u.attachComponentPortal(new L_(e,p.viewContainerRef,x,p.componentFactoryResolver));s.componentInstance=S.instance}}_createInjector(e,s,u,p){const x=e.injector||e.viewContainerRef?.injector,S=[{provide:dC,useValue:e.data},{provide:bx,useValue:s}];return e.providers&&("function"==typeof e.providers?S.push(...e.providers(s,e,u)):S.push(...e.providers)),e.direction&&(!x||!x.get(Yt.Is,null,{optional:!0}))&&S.push({provide:Yt.Is,useValue:{value:e.direction,change:(0,Ct.of)()}}),h.zs3.create({parent:x||p,providers:S})}_removeOpenDialog(e,s){const u=this.openDialogs.indexOf(e);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((p,x)=>{p?x.setAttribute("aria-hidden",p):x.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),s&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const s=e.parentElement.children;for(let u=s.length-1;u>-1;u--){const p=s[u];p!==e&&"SCRIPT"!==p.nodeName&&"STYLE"!==p.nodeName&&!p.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(p,p.getAttribute("aria-hidden")),p.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(hd),h.LFG(h.zs3),h.LFG(uC,8),h.LFG(r,12),h.LFG(sv),h.LFG(NE))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();function f(r,n){let e=r.length;for(;e--;)n(r[e])}let g=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[d,o],imports:[Hb,Ub,Oe.rt,Ub]}),r})();function w(r,n){}class I{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const R="mdc-dialog--open",U="mdc-dialog--opening",ee="mdc-dialog--closing";let Je=(()=>{class r extends PE{constructor(e,s,u,p,x,S,B,Q){super(e,s,u,p,x,S,B,Q),this._animationStateChanged=new h.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(Oe.qV),h.Y36(we.K0,8),h.Y36(I),h.Y36(Oe.ic),h.Y36(h.R0b),h.Y36(ov),h.Y36(Oe.tE))},r.\u0275cmp=h.Xpm({type:r,selectors:[["ng-component"]],features:[h.qOj],decls:0,vars:0,template:function(e,s){},encapsulation:2}),r})();const _t="--mat-dialog-transition-duration";function Gt(r){return null==r?null:"number"==typeof r?r:r.endsWith("ms")?(0,Le.su)(r.substring(0,r.length-2)):r.endsWith("s")?1e3*(0,Le.su)(r.substring(0,r.length-1)):"0"===r?0:null}let un=(()=>{class r extends Je{constructor(e,s,u,p,x,S,B,Q,le){super(e,s,u,p,x,S,B,le),this._animationMode=Q,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Gt(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Gt(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(_t,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(U),this._hostElement.classList.add(R),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(R),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(R),this._animationsEnabled?(this._hostElement.style.setProperty(_t,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(ee),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(U),this._hostElement.classList.remove(ee)}_waitForAnimationToComplete(e,s){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(s,e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(Oe.qV),h.Y36(we.K0,8),h.Y36(I),h.Y36(Oe.ic),h.Y36(h.R0b),h.Y36(ov),h.Y36(h.QbO,8),h.Y36(Oe.tE))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,s){2&e&&(h.Ikx("id",s._config.id),h.uIk("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),h.ekj("_mat-animation-noopable",!s._animationsEnabled))},features:[h.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,s){1&e&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,w,0,0,"ng-template",2),h.qZA()())},dependencies:[rv],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),r})();class xn{constructor(n,e,s){this._ref=n,this._containerInstance=s,this._afterOpened=new Ee.x,this._beforeClosed=new Ee.x,this._state=0,this.disableClose=e.disableClose,this.id=n.id,s._animationStateChanged.pipe((0,Dt.h)(u=>"opened"===u.state),(0,tn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),s._animationStateChanged.pipe((0,Dt.h)(u=>"closed"===u.state),(0,tn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Be.T)(this.backdropClick(),this.keydownEvents().pipe((0,Dt.h)(u=>u.keyCode===de.hY&&!this.disableClose&&!(0,de.Vb)(u)))).subscribe(u=>{this.disableClose||(u.preventDefault(),function zn(r,n,e){r._closeInteractionType=n,r.close(e)}(this,"keydown"===u.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe((0,Dt.h)(e=>"closing"===e.state),(0,tn.q)(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const si=new h.OlP("MatMdcDialogData"),Qt=new h.OlP("mat-mdc-dialog-default-options"),Ti=new h.OlP("mat-mdc-dialog-scroll-strategy"),xo={provide:Ti,deps:[hd],useFactory:function Gs(r){return()=>r.scrollStrategies.block()}};let FC=0,LC=(()=>{class r{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,s,u,p,x,S,B,Q,le,Te){this._overlay=e,this._defaultOptions=u,this._parentDialog=p,this._dialogRefConstructor=B,this._dialogContainerType=Q,this._dialogDataToken=le,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ee.x,this._afterOpenedAtThisLevel=new Ee.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=I,this.afterAllClosed=(0,vx.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Ot.O)(void 0))),this._scrollStrategy=S,this._dialog=s.get(d)}open(e,s){let u;(s={...this._defaultOptions||new I,...s}).id=s.id||`${this._idPrefix}${FC++}`,s.scrollStrategy=s.scrollStrategy||this._scrollStrategy();const p=this._dialog.open(e,{...s,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:s},{provide:gw,useValue:s}]},templateContext:()=>({dialogRef:u}),providers:(x,S,B)=>(u=new this._dialogRefConstructor(x,s,B),u.updatePosition(s?.position),[{provide:this._dialogContainerType,useValue:B},{provide:this._dialogDataToken,useValue:S.data},{provide:this._dialogRefConstructor,useValue:u}])});return u.componentInstance=p.componentInstance,this.openDialogs.push(u),this.afterOpened.next(u),u.afterClosed().subscribe(()=>{const x=this.openDialogs.indexOf(u);x>-1&&(this.openDialogs.splice(x,1),this.openDialogs.length||this._getAfterAllClosed().next())}),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(s=>s.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let s=e.length;for(;s--;)e[s].close()}}return r.\u0275fac=function(e){h.$Z()},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),fC=(()=>{class r extends LC{constructor(e,s,u,p,x,S,B,Q){super(e,s,p,S,B,x,xn,un,si,Q),this._idPrefix="mat-mdc-dialog-"}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(hd),h.LFG(h.zs3),h.LFG(we.Ye,8),h.LFG(Qt,8),h.LFG(Ti),h.LFG(r,12),h.LFG(sv),h.LFG(h.QbO,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),BC=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[fC,xo],imports:[g,Hb,Ub,ce.BQ,ce.BQ]}),r})();class UC{constructor(n,e,s,u,p){this.loggedInUserName=n,this.consumerUserName=e,this.count=s,this.drinkId=u,this.timestamp=p}}var U_=O(9549);const VC=["trigger"],HC=["panel"];function jC(r,n){if(1&r&&(h.TgZ(0,"span",10),h._uU(1),h.qZA()),2&r){const e=h.oxw();h.xp6(1),h.Oqu(e.placeholder)}}function zC(r,n){if(1&r&&(h.TgZ(0,"span",14),h._uU(1),h.qZA()),2&r){const e=h.oxw(2);h.xp6(1),h.Oqu(e.triggerValue)}}function GC(r,n){1&r&&h.Hsn(0,0,["*ngSwitchCase","true"])}function $C(r,n){if(1&r&&(h.TgZ(0,"span",11),h.YNc(1,zC,2,1,"span",12),h.YNc(2,GC,1,0,"ng-content",13),h.qZA()),2&r){const e=h.oxw();h.Q6J("ngSwitch",!!e.customTrigger),h.xp6(2),h.Q6J("ngSwitchCase",!0)}}function WC(r,n){if(1&r){const e=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"div",15,16),h.NdJ("@transformPanel.done",function(u){h.CHM(e);const p=h.oxw();return h.KtG(p._panelDoneAnimatingStream.next(u.toState))})("keydown",function(u){h.CHM(e);const p=h.oxw();return h.KtG(p._handleKeydown(u))}),h.Hsn(2,1),h.qZA()}if(2&r){const e=h.oxw();h.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),h.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),h.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const KC=[[["mat-select-trigger"]],"*"],YC=["mat-select-trigger","*"],qC={transformPanelWrap:(0,Vt.X$)("transformPanelWrap",[(0,Vt.eR)("* => void",(0,Vt.IO)("@transformPanel",[(0,Vt.pV)()],{optional:!0}))]),transformPanel:(0,Vt.X$)("transformPanel",[(0,Vt.SB)("void",(0,Vt.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,Vt.eR)("void => showing",(0,Vt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Vt.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,Vt.eR)("* => void",(0,Vt.jt)("100ms linear",(0,Vt.oB)({opacity:0})))])};let pC=0;const gC=new h.OlP("mat-select-scroll-strategy"),QC=new h.OlP("MAT_SELECT_CONFIG"),XC={provide:gC,deps:[hd],useFactory:function ZC(r){return()=>r.scrollStrategies.reposition()}},JC=new h.OlP("MatSelectTrigger");class eD{constructor(n,e){this.source=n,this.value=e}}const tD=(0,ce.Kr)((0,ce.sb)((0,ce.Id)((0,ce.FD)(class{constructor(r,n,e,s,u){this._elementRef=r,this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=s,this.ngControl=u,this.stateChanges=new Ee.x}}))));let nD=(()=>{class r extends tD{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(nr.kI.required)??!1}set required(e){this._required=(0,Le.Ig)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,Le.Ig)(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=(0,Le.Ig)(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=(0,Le.su)(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,s,u,p,x,S,B,Q,le,Te,We,vt,Mt,qt){super(x,p,B,Q,Te),this._viewportRuler=e,this._changeDetectorRef=s,this._ngZone=u,this._dir=S,this._parentFormField=le,this._liveAnnouncer=Mt,this._defaultOptions=qt,this._panelOpen=!1,this._compareWith=(ln,oi)=>ln===oi,this._uid="mat-select-"+pC++,this._triggerAriaLabelledBy=null,this._destroy=new Ee.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+pC++,this._panelDoneAnimatingStream=new Ee.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,vx.P)(()=>{const ln=this.options;return ln?ln.changes.pipe((0,Ot.O)(ln),(0,C.w)(()=>(0,Be.T)(...ln.map(oi=>oi.onSelectionChange)))):this._ngZone.onStable.pipe((0,tn.q)(1),(0,C.w)(()=>this.optionSelectionChanges))}),this.openedChange=new h.vpe,this._openedStream=this.openedChange.pipe((0,Dt.h)(ln=>ln),(0,ve.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Dt.h)(ln=>!ln),(0,ve.U)(()=>{})),this.selectionChange=new h.vpe,this.valueChange=new h.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=qt?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=qt.typeaheadDebounceInterval),this._scrollStrategyFactory=vt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(We)||0,this.id=this.id}ngOnInit(){this._selectionModel=new fo(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Lt.x)(),(0,Un.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Un.R)(this._destroy)).subscribe(e=>{e.added.forEach(s=>s.select()),e.removed.forEach(s=>s.deselect())}),this.options.changes.pipe((0,Ot.O)(null),(0,Un.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),s=this.ngControl;if(e!==this._triggerAriaLabelledBy){const u=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?u.setAttribute("aria-labelledby",e):u.removeAttribute("aria-labelledby")}s&&(this._previousControl!==s.control&&(void 0!==this._previousControl&&null!==s.disabled&&s.disabled!==this.disabled&&(this.disabled=s.disabled),this._previousControl=s.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const s=e.keyCode,u=s===de.JH||s===de.LH||s===de.oh||s===de.SV,p=s===de.K5||s===de.L_,x=this._keyManager;if(!x.isTyping()&&p&&!(0,de.Vb)(e)||(this.multiple||e.altKey)&&u)e.preventDefault(),this.open();else if(!this.multiple){const S=this.selected;x.onKeydown(e);const B=this.selected;B&&S!==B&&this._liveAnnouncer.announce(B.viewValue,1e4)}}_handleOpenKeydown(e){const s=this._keyManager,u=e.keyCode,p=u===de.JH||u===de.LH,x=s.isTyping();if(p&&e.altKey)e.preventDefault(),this.close();else if(x||u!==de.K5&&u!==de.L_||!s.activeItem||(0,de.Vb)(e))if(!x&&this._multiple&&u===de.A&&e.ctrlKey){e.preventDefault();const S=this.options.some(B=>!B.disabled&&!B.selected);this.options.forEach(B=>{B.disabled||(S?B.select():B.deselect())})}else{const S=s.activeItemIndex;s.onKeydown(e),this._multiple&&p&&e.shiftKey&&s.activeItem&&s.activeItemIndex!==S&&s.activeItem._selectViaInteraction()}else e.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,tn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(s=>this._selectOptionByValue(s)),this._sortValues();else{const s=this._selectOptionByValue(e);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const s=this.options.find(u=>{if(this._selectionModel.isSelected(u))return!1;try{return null!=u.value&&this._compareWith(u.value,e)}catch{return!1}});return s&&this._selectionModel.select(s),s}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Oe.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Be.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Un.R)(e)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Be.T)(...this.options.map(s=>s._stateChanges)).pipe((0,Un.R)(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,s){const u=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(u!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),s&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),s&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),u!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((s,u)=>this.sortComparator?this.sortComparator(s,u,e):e.indexOf(s)-e.indexOf(u)),this.stateChanges.next()}}_propagateChanges(e){let s=null;s=this.multiple?this.selected.map(u=>u.value):this.selected?this.selected.value:e,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let s=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(K),h.Y36(h.sBO),h.Y36(h.R0b),h.Y36(ce.rD),h.Y36(h.SBq),h.Y36(Yt.Is,8),h.Y36(nr.F,8),h.Y36(nr.sg,8),h.Y36(U_.G_,8),h.Y36(nr.a5,10),h.$8M("tabindex"),h.Y36(gC),h.Y36(Oe.Kd),h.Y36(QC,8))},r.\u0275dir=h.lG2({type:r,viewQuery:function(e,s){if(1&e&&(h.Gf(VC,5),h.Gf(HC,5),h.Gf(kE,5)),2&e){let u;h.iGM(u=h.CRH())&&(s.trigger=u.first),h.iGM(u=h.CRH())&&(s.panel=u.first),h.iGM(u=h.CRH())&&(s._overlayDir=u.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[h.qOj,h.TTD]}),r})(),_C=(()=>{class r extends nD{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Un.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const s=this.options.toArray()[e];if(s){const u=this.panel.nativeElement,p=(0,ce.CB)(e,this.options,this.optionGroups),x=s._getHostElement();u.scrollTop=0===e&&1===p?0:(0,ce.jH)(x.offsetTop,x.offsetHeight,u.scrollTop,u.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new eD(this,e)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof yx?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=(0,Le.Ig)(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-select"]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,JC,5),h.Suo(u,ce.ey,5),h.Suo(u,ce.K7,5)),2&e){let p;h.iGM(p=h.CRH())&&(s.customTrigger=p.first),h.iGM(p=h.CRH())&&(s.options=p),h.iGM(p=h.CRH())&&(s.optionGroups=p)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,s){1&e&&h.NdJ("keydown",function(p){return s._handleKeydown(p)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&e&&(h.uIk("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-activedescendant",s._getAriaActiveDescendant()),h.ekj("mat-mdc-select-disabled",s.disabled)("mat-mdc-select-invalid",s.errorState)("mat-mdc-select-required",s.required)("mat-mdc-select-empty",s.empty)("mat-mdc-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[h._Bn([{provide:U_.Eo,useExisting:r},{provide:ce.HF,useExisting:r}]),h.qOj],ngContentSelectors:YC,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,s){if(1&e&&(h.F$t(KC),h.TgZ(0,"div",0,1),h.NdJ("click",function(){return s.toggle()}),h.TgZ(3,"div",2),h.YNc(4,jC,2,1,"span",3),h.YNc(5,$C,3,2,"span",4),h.qZA(),h.TgZ(6,"div",5)(7,"div",6),h.O4$(),h.TgZ(8,"svg",7),h._UZ(9,"path",8),h.qZA()()()(),h.YNc(10,WC,3,9,"ng-template",9),h.NdJ("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&e){const u=h.MAs(1);h.uIk("aria-owns",s.panelOpen?s.id+"-panel":null),h.xp6(3),h.Q6J("ngSwitch",s.empty),h.uIk("id",s._valueId),h.xp6(1),h.Q6J("ngSwitchCase",!0),h.xp6(1),h.Q6J("ngSwitchCase",!1),h.xp6(5),h.Q6J("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",s._preferredOverlayOrigin||u)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayWidth",s._overlayWidth)}},dependencies:[we.mk,we.RF,we.n9,we.ED,kE,yx],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[qC.transformPanel]},changeDetection:0}),r})(),iD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[XC],imports:[we.ez,Hb,ce.Ng,ce.BQ,sn,U_.lN,ce.Ng,ce.BQ]}),r})();function rD(r,n){1&r&&(h.TgZ(0,"th",11),h._uU(1," Bild "),h.qZA())}function sD(r,n){if(1&r&&(h.TgZ(0,"td",12),h._UZ(1,"img",13),h.qZA()),2&r){const e=n.$implicit,s=h.oxw();h.xp6(1),h.Udp("width",s.calculateWidth(e.imageSize),"px"),h.MGl("src","assets/",e.imageUrl?e.imageUrl:"","",h.LSH)}}function oD(r,n){1&r&&(h.TgZ(0,"th",11),h._uU(1," Name "),h.qZA())}function aD(r,n){if(1&r&&(h.TgZ(0,"td",14),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",e.name," ")}}function lD(r,n){1&r&&(h.TgZ(0,"th",11),h._uU(1," Preis "),h.qZA())}function cD(r,n){if(1&r&&(h.TgZ(0,"td",14),h._uU(1),h.ALo(2,"currency"),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",h.xi3(2,1,e.price,"EUR")," ")}}function dD(r,n){1&r&&(h.TgZ(0,"th",11),h._uU(1," Buchen "),h.qZA())}function uD(r,n){if(1&r){const e=h.EpF();h.TgZ(0,"td",15)(1,"button",16),h.NdJ("click",function(){const p=h.CHM(e).$implicit,x=h.oxw();return h.KtG(x.openDialog("0ms","0ms",p))}),h.TgZ(2,"mat-icon"),h._uU(3,"plus_one"),h.qZA(),h._uU(4," Buchen "),h.qZA()()}}function hD(r,n){1&r&&h._UZ(0,"tr",17)}function fD(r,n){1&r&&h._UZ(0,"tr",18)}function mD(r,n){if(1&r&&(h.TgZ(0,"mat-option",10),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.Q6J("value",e),h.xp6(1),h.Oqu(e)}}function pD(r,n){if(1&r&&(h.TgZ(0,"mat-option",10),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.Q6J("value",e),h.xp6(1),h.Oqu(e.firstName)}}let gD=(()=>{class r{get drinksData(){return this._drinksData}set drinksData(e){this._drinksData=e}constructor(e,s){this.globalService=e,this.dialog=s,this._drinksData=[],this.displayedColumns=["imageUrl","name","price","book"]}ngOnInit(){this._drinksData=this.globalService.drinksData}calculateWidth(e){return 50*e}openDialog(e,s,u){this.dialog.open(_D,{width:"400px",enterAnimationDuration:e,exitAnimationDuration:s,data:u})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Se.U),h.Y36(fC))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-list-of-drinks"]],decls:15,vars:3,consts:[["mat-table","",3,"dataSource"],["matColumnDef","imageUrl"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col-1 text-center",4,"matCellDef"],["matColumnDef","name"],["mat-cell","","class","col-2",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","book"],["mat-cell","","class","col-12","height","60",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"col-1","text-center"],[3,"src"],["mat-cell","",1,"col-2"],["mat-cell","","height","60",1,"col-12"],["mat-fab","","extended","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,s){1&e&&(h.TgZ(0,"table",0),h.ynx(1,1),h.YNc(2,rD,2,0,"th",2),h.YNc(3,sD,2,3,"td",3),h.BQk(),h.ynx(4,4),h.YNc(5,oD,2,0,"th",2),h.YNc(6,aD,2,1,"td",5),h.BQk(),h.ynx(7,6),h.YNc(8,lD,2,0,"th",2),h.YNc(9,cD,3,4,"td",5),h.BQk(),h.ynx(10,7),h.YNc(11,dD,2,0,"th",2),h.YNc(12,uD,5,0,"td",8),h.BQk(),h.YNc(13,hD,1,0,"tr",9),h.YNc(14,fD,1,0,"tr",10),h.qZA()),2&e&&(h.Q6J("dataSource",s.drinksData),h.xp6(13),h.Q6J("matHeaderRowDef",s.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",s.displayedColumns))},dependencies:[qe.cs,ss,qc,_a,Uf,Ld,Fd,Li,Lf,Bf,Pu,Ba,we.H9]}),r})(),_D=(()=>{class r{constructor(e,s,u,p){this.dialogRef=e,this.data=s,this.httpClient=u,this.globalService=p,this.drinkName="",this.drinkCountList=[1,2,3,4,5,6,7,8],this.personList=[],this.personList=p.userListBooking}performBooking(e,s){console.log("performBooking() bookingForm.value=",e.value," // drink=",s);let u=e.value.drinkCount,x=s.drinkId;e.value.persons.forEach(S=>{let B=new UC("phil",S.userName,u,x,Date.now());this.httpClient.post("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/bookings.json",B).subscribe({next:Q=>console.log("HttpClient DrinkBooking subscribe next:",Q),error:Q=>{console.error(Q)},complete:()=>{console.log("DrinkBooking success"),this.dialogRef.close()}})})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(xn),h.Y36(si),h.Y36(tr.eN),h.Y36(Se.U))},r.\u0275cmp=h.Xpm({type:r,selectors:[["book-drink-dialog"]],decls:24,vars:3,consts:[[1,"main"],[1,"mt-3",3,"ngSubmit"],["bookingForm","ngForm"],["appearance","fill","width","400"],["matInput","","ngModel","","name","drinkCount"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill"],["matInput","","multiple","","ngModel","","name","persons"],[1,"drink-count-hint"],["type","submit","mat-fab","","extended","","color","primary"],[3,"value"]],template:function(e,s){if(1&e){const u=h.EpF();h.TgZ(0,"div",0)(1,"p"),h._uU(2),h.qZA(),h.TgZ(3,"form",1,2),h.NdJ("ngSubmit",function(){h.CHM(u);const x=h.MAs(4);return h.KtG(s.performBooking(x,s.data))}),h.TgZ(5,"mat-form-field",3)(6,"mat-label"),h._uU(7,"Getr\xe4nkeanzahl ausw\xe4hlen"),h.qZA(),h.TgZ(8,"mat-select",4),h.YNc(9,mD,2,2,"mat-option",5),h.qZA()(),h.TgZ(10,"p"),h._uU(11," Auf wen darf gebucht werden? "),h.qZA(),h.TgZ(12,"mat-form-field",6)(13,"mat-label"),h._uU(14,"Ein oder mehrere Personen ausw\xe4hlen"),h.qZA(),h.TgZ(15,"mat-select",7),h.YNc(16,pD,2,2,"mat-option",5),h.qZA()(),h.TgZ(17,"span",8),h._uU(18," Die ausgew\xe4hlte Getr\xe4nkeanzahl wird auf alle angegebenen Personen gebucht! "),h.qZA(),h.TgZ(19,"p")(20,"button",9)(21,"mat-icon"),h._uU(22,"done_outline"),h.qZA(),h._uU(23," Buchung abschlie\xdfen "),h.qZA()()()()}2&e&&(h.xp6(2),h.hij(" Wieviele Getr\xe4nke von ",s.data.name,"? "),h.xp6(7),h.Q6J("ngForOf",s.drinkCountList),h.xp6(7),h.Q6J("ngForOf",s.personList))},dependencies:[we.sg,qe.cs,ss,U_.KE,U_.hX,nr._Y,nr.JJ,nr.JL,nr.On,nr.F,_C,ce.ey],styles:[".main[_ngcontent-%COMP%]{margin:20px}mat-form-field[_ngcontent-%COMP%]{width:100%}.drink-count-hint[_ngcontent-%COMP%]{font-size:small;color:red}button[_ngcontent-%COMP%]{margin-top:10px}"]}),r})();var yD=O(3546);let wD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ce.uc,ce.BQ,ce.uc,ce.BQ]}),r})();class xD{constructor(n,e,s,u){this.userName=n,this.bookedByUserName=e,this.amount=s,this.timestamp=u}}class ED{constructor(n,e,s,u,p){this.userName=n,this.bookingCount=e,this.currentBalanceAmount=s,this.overallBookingAmount=u,this.numberOfDrinksConsumed=p}}function CD(r,n){if(1&r){const e=h.EpF();h.TgZ(0,"div",2)(1,"button",3),h.NdJ("click",function(){h.CHM(e);const u=h.oxw();return h.KtG(u.action())}),h._uU(2),h.qZA()()}if(2&r){const e=h.oxw();h.xp6(2),h.hij(" ",e.data.action," ")}}const DD=["label"];function ID(r,n){}const SD=Math.pow(2,31)-1;class wx{constructor(n,e){this._overlayRef=e,this._afterDismissed=new Ee.x,this._afterOpened=new Ee.x,this._onAction=new Ee.x,this._dismissedByAction=!1,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,SD))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const vC=new h.OlP("MatSnackBarData");class xx{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let TD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),r})(),AD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),r})(),MD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),r})(),kD=(()=>{class r{constructor(e,s){this.snackBarRef=e,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(wx),h.Y36(vC))},r.\u0275cmp=h.Xpm({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,s){1&e&&(h.TgZ(0,"div",0),h._uU(1),h.qZA(),h.YNc(2,CD,3,1,"div",1)),2&e&&(h.xp6(1),h.hij(" ",s.data.message,"\n"),h.xp6(1),h.Q6J("ngIf",s.hasAction))},dependencies:[we.O5,qe.lW,TD,AD,MD],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),r})();const RD={snackBarState:(0,Vt.X$)("state",[(0,Vt.SB)("void, hidden",(0,Vt.oB)({transform:"scale(0.8)",opacity:0})),(0,Vt.SB)("visible",(0,Vt.oB)({transform:"scale(1)",opacity:1})),(0,Vt.eR)("* => visible",(0,Vt.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,Vt.eR)("* => void, * => hidden",(0,Vt.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,Vt.oB)({opacity:0})))])};let OD=0,PD=(()=>{class r extends aw{constructor(e,s,u,p,x){super(),this._ngZone=e,this._elementRef=s,this._changeDetectorRef=u,this._platform=p,this.snackBarConfig=x,this._document=(0,h.f3M)(we.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ee.x,this._onExit=new Ee.x,this._onEnter=new Ee.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+OD++,this.attachDomPortal=S=>{this._assertNotAttached();const B=this._portalOutlet.attachDomPortal(S);return this._afterPortalAttached(),B},this._live="assertive"!==x.politeness||x.announcementMessage?"off"===x.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const s=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),s}attachTemplatePortal(e){this._assertNotAttached();const s=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),s}onAnimationEnd(e){const{fromState:s,toState:u}=e;if(("void"===u&&"void"!==s||"hidden"===u)&&this._completeExit(),"visible"===u){const p=this._onEnter;this._ngZone.run(()=>{p.next(),p.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,tn.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(u=>e.classList.add(u)):e.classList.add(s)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,s=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let u=0;u<s.length;u++){const p=s[u],x=p.getAttribute("aria-owns");this._trackedModals.add(p),x?-1===x.indexOf(e)&&p.setAttribute("aria-owns",x+" "+e):p.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const s=e.getAttribute("aria-owns");if(s){const u=s.replace(this._liveElementId,"").trim();u.length>0?e.setAttribute("aria-owns",u):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&s){let u=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(u=document.activeElement),e.removeAttribute("aria-hidden"),s.appendChild(e),u?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.R0b),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(xe.t4),h.Y36(xx))},r.\u0275dir=h.lG2({type:r,viewQuery:function(e,s){if(1&e&&h.Gf(rv,7),2&e){let u;h.iGM(u=h.CRH())&&(s._portalOutlet=u.first)}},features:[h.qOj]}),r})(),ND=(()=>{class r extends PD{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,s="mdc-snackbar__label";e.classList.toggle(s,!e.querySelector(`.${s}`))}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,s){if(1&e&&h.Gf(DD,7),2&e){let u;h.iGM(u=h.CRH())&&(s._label=u.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,s){1&e&&h.WFA("@state.done",function(p){return s.onAnimationEnd(p)}),2&e&&h.d8E("@state",s._animationState)},features:[h.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,s){1&e&&(h.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),h.YNc(4,ID,0,0,"ng-template",4),h.qZA(),h._UZ(5,"div"),h.qZA()()),2&e&&(h.xp6(5),h.uIk("aria-live",s._live)("role",s._role)("id",s._liveElementId))},dependencies:[rv],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[RD.snackBarState]}}),r})(),FD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Hb,Ub,we.ez,qe.ot,ce.BQ,ce.BQ]}),r})();const bC=new h.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function LD(){return new xx}});let BD=(()=>{class r{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,s,u,p,x,S){this._overlay=e,this._live=s,this._injector=u,this._breakpointObserver=p,this._parentSnackBar=x,this._defaultConfig=S,this._snackBarRefAtThisLevel=null}openFromComponent(e,s){return this._attach(e,s)}openFromTemplate(e,s){return this._attach(e,s)}open(e,s="",u){const p={...this._defaultConfig,...u};return p.data={message:e,action:s},p.announcementMessage===e&&(p.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,p)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,s){const p=h.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:xx,useValue:s}]}),x=new L_(this.snackBarContainerComponent,s.viewContainerRef,p),S=e.attach(x);return S.instance.snackBarConfig=s,S.instance}_attach(e,s){const u={...new xx,...this._defaultConfig,...s},p=this._createOverlay(u),x=this._attachSnackBarContainer(p,u),S=new wx(x,p);if(e instanceof h.Rgc){const B=new Bb(e,null,{$implicit:u.data,snackBarRef:S});S.instance=x.attachTemplatePortal(B)}else{const B=this._createInjector(u,S),Q=new L_(e,void 0,B),le=x.attachComponentPortal(Q);S.instance=le.instance}return this._breakpointObserver.observe(X.u3.HandsetPortrait).pipe((0,Un.R)(p.detachments())).subscribe(B=>{p.overlayElement.classList.toggle(this.handsetCssClass,B.matches)}),u.announcementMessage&&x._onAnnounce.subscribe(()=>{this._live.announce(u.announcementMessage,u.politeness)}),this._animateSnackBar(S,u),this._openedSnackBarRef=S,this._openedSnackBarRef}_animateSnackBar(e,s){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),s.duration&&s.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(s.duration))}_createOverlay(e){const s=new B_;s.direction=e.direction;let u=this._overlay.position().global();const p="rtl"===e.direction,x="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!p||"end"===e.horizontalPosition&&p,S=!x&&"center"!==e.horizontalPosition;return x?u.left("0"):S?u.right("0"):u.centerHorizontally(),"top"===e.verticalPosition?u.top("0"):u.bottom("0"),s.positionStrategy=u,this._overlay.create(s)}_createInjector(e,s){return h.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:wx,useValue:s},{provide:vC,useValue:e.data}]})}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(hd),h.LFG(Oe.Kd),h.LFG(h.zs3),h.LFG(X.Yg),h.LFG(r,12),h.LFG(bC))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),wC=(()=>{class r extends BD{constructor(e,s,u,p,x,S){super(e,s,u,p,x,S),this.simpleSnackBarComponent=kD,this.snackBarContainerComponent=ND,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(hd),h.LFG(Oe.Kd),h.LFG(h.zs3),h.LFG(X.Yg),h.LFG(r,12),h.LFG(bC))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:FD}),r})();var xC=O(4144);let UD=(()=>{class r{constructor(e,s){this.elementRef=e,this.renderer=s,this.onChange=()=>{},this.onTouched=()=>{},this.value=""}onInputChange(e){const s=function VD(r){return r.replace(/[^0-9]*/g,"")}(e);this.updateTextInput(s,this.value!==s)}onBlur(){this.onTouched()}updateTextInput(e,s){this.renderer.setProperty(this.elementRef.nativeElement,"value",e),s&&this.onChange(e),this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}writeValue(e){e=e?String(e):"",this.updateTextInput(e,!1)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.Qsj))},r.\u0275dir=h.lG2({type:r,selectors:[["","onlyNumber",""]],hostBindings:function(e,s){1&e&&h.NdJ("input",function(p){return s.onInputChange(p.target.value)})("blur",function(){return s.onBlur()})},features:[h._Bn([{provide:nr.JU,useExisting:(0,h.Gpc)(()=>r),multi:!0}])]}),r})();function HD(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Bild "),h.qZA())}function jD(r,n){1&r&&(h.TgZ(0,"mat-icon"),h._uU(1," money_off"),h.qZA())}function zD(r,n){1&r&&(h.TgZ(0,"mat-icon"),h._uU(1,"attach_money"),h.qZA())}function GD(r,n){if(1&r&&(h.TgZ(0,"td",27),h.YNc(1,jD,2,0,"mat-icon",28),h.YNc(2,zD,2,0,"mat-icon",28),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.Q6J("ngIf",e.currentBalanceAmount<0),h.xp6(1),h.Q6J("ngIf",e.currentBalanceAmount>=0)}}function $D(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Name "),h.qZA())}function WD(r,n){if(1&r&&(h.TgZ(0,"td",29),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",e.userName," ")}}function KD(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Aktuelles Guthaben "),h.qZA())}const YD=function(r,n){return{positive:r,negative:n}};function qD(r,n){if(1&r&&(h.TgZ(0,"td",30),h._uU(1),h.ALo(2,"currency"),h.qZA()),2&r){const e=n.$implicit;h.Q6J("ngClass",h.WLB(5,YD,e.currentBalanceAmount>=0,e.currentBalanceAmount<0)),h.xp6(1),h.hij(" ",h.xi3(2,2,e.currentBalanceAmount,"EUR")," ")}}function ZD(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Summe aller Aufladungen "),h.qZA())}function QD(r,n){if(1&r&&(h.TgZ(0,"td",31),h._uU(1),h.ALo(2,"currency"),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",h.xi3(2,1,e.overallBookingAmount,"EUR")," ")}}function XD(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Anzahl aller Buchungen "),h.qZA())}function JD(r,n){if(1&r&&(h.TgZ(0,"td",31),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",e.bookingCount," ")}}function eI(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Anzahl konsumierte Getr\xe4nke "),h.qZA())}function tI(r,n){if(1&r&&(h.TgZ(0,"td",31),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",e.numberOfDrinksConsumed," ")}}function nI(r,n){1&r&&h._UZ(0,"tr",32)}function iI(r,n){1&r&&h._UZ(0,"tr",33)}function rI(r,n){if(1&r&&(h.TgZ(0,"mat-option",34),h._uU(1),h.qZA()),2&r){const e=n.$implicit,s=h.oxw();h.Q6J("value",e.userName)("disabled",!s.bookingAllowed),h.xp6(1),h.Oqu(e.firstName)}}const sI=function(r){return{disabledBooking:r}};let oI=(()=>{class r{get globalService(){return this._globalService}ngOnInit(){this.updateBalances()}updateBalances(){this.httpClient.get("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/balances.json?auth="+this.globalService.firebaseUserIdToken).subscribe({next:e=>{console.log("Firebase Balances:",e," // user length:",this.globalService.userList.length),this.balanceData=Object.values(e);let s=[];this.globalService.userList.forEach(u=>{let p=0,x=this.balanceData.filter(Te=>Te.userName===u.userName);x.forEach(Te=>p+=Number(Te.amount));let S=0,B=0;this.globalService.drinkBookings.filter(Te=>Te.consumerUserName===u.userName).forEach(Te=>{let We=this.globalService.drinksData.filter(vt=>vt.drinkId)[0];S+=Number(Te.count*We.price),B+=Number(Te.count)});let Q=p-S;console.log("user=",u.userName," // currentBalance=",Q," // overallBookingAmountSum=",p,"// amountConsumed=",S);let le=new ED(u.userName,x.length,Q,p,B);s.push(le),this.balanceDataGrouped=s}),console.log("balanceDataGrouped: ",this.balanceDataGrouped)},error:e=>{console.error(e)},complete:()=>{}})}performBalanceBooking(e){console.log("performBalanceBooking() bookingForm.value=",e.value);let s=new xD(e.value.userName,"phil",e.value.amount,Date.now());this.httpClient.post("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/balances.json",s).subscribe({next:u=>console.log("HttpClient performBalanceBooking subscribe next:",u),error:u=>{console.error(u)},complete:()=>{console.log("performBalanceBooking success"),e.reset(),e.resetForm(),this.updateBalances(),this.openSnackBar()}})}openSnackBar(){this._snackBar.openFromComponent(aI,{duration:5e3})}constructor(e,s,u){this.httpClient=e,this._globalService=s,this._snackBar=u,this.userList=[],this.balanceData=[],this.balanceDataGrouped=[],this.displayedColumns=["image","userName","currentBalanceAmount","overallBookingAmount","bookingCount","numberOfDrinksConsumed"],this.bookingAllowed=this.globalService.loggedInUser.email.startsWith("philipp.r@"),console.log("user count:",s.userList.length),this.userList=this._globalService.userList}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(tr.eN),h.Y36(Se.U),h.Y36(wC))},r.\u0275cmp=h.Xpm({type:r,selectors:[["balances"]],decls:45,vars:9,consts:[["mat-table","",3,"dataSource"],["matColumnDef","image"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col-1 text-center",4,"matCellDef"],["matColumnDef","userName"],["mat-cell","","class","col-2",4,"matCellDef"],["matColumnDef","currentBalanceAmount"],["mat-cell","","class","col-2 text-end",3,"ngClass",4,"matCellDef"],["matColumnDef","overallBookingAmount"],["mat-cell","","class","col-2 text-end",4,"matCellDef"],["matColumnDef","bookingCount"],["matColumnDef","numberOfDrinksConsumed"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"balance-booking-headline"],[1,"balance-booking-content",3,"ngClass"],[3,"ngSubmit"],["balanceBookingForm","ngForm"],[1,"row"],["appearance","outline",1,"col-12","col-md-4","col-lg-4"],["ngModel","","required","","matInput","","minlength","1","maxlength","5","onlyNumber","","name","amount","type","text","autocomplete","apds_amount",3,"disabled"],["amount","ngModel"],[1,"col-12","col-md-4","col-lg-4"],["matInput","","required","","ngModel","","name","userName"],[3,"value","disabled",4,"ngFor","ngForOf"],["type","submit","mat-fab","","extended","","color","primary",1,"col-12",3,"disabled"],["mat-header-cell",""],["mat-cell","",1,"col-1","text-center"],[4,"ngIf"],["mat-cell","",1,"col-2"],["mat-cell","",1,"col-2","text-end",3,"ngClass"],["mat-cell","",1,"col-2","text-end"],["mat-header-row",""],["mat-row",""],[3,"value","disabled"]],template:function(e,s){if(1&e){const u=h.EpF();h.TgZ(0,"table",0),h.ynx(1,1),h.YNc(2,HD,2,0,"th",2),h.YNc(3,GD,3,2,"td",3),h.BQk(),h.ynx(4,4),h.YNc(5,$D,2,0,"th",2),h.YNc(6,WD,2,1,"td",5),h.BQk(),h.ynx(7,6),h.YNc(8,KD,2,0,"th",2),h.YNc(9,qD,3,8,"td",7),h.BQk(),h.ynx(10,8),h.YNc(11,ZD,2,0,"th",2),h.YNc(12,QD,3,4,"td",9),h.BQk(),h.ynx(13,10),h.YNc(14,XD,2,0,"th",2),h.YNc(15,JD,2,1,"td",9),h.BQk(),h.ynx(16,11),h.YNc(17,eI,2,0,"th",2),h.YNc(18,tI,2,1,"td",9),h.BQk(),h.YNc(19,nI,1,0,"tr",12),h.YNc(20,iI,1,0,"tr",13),h.qZA(),h.TgZ(21,"p",14),h._uU(22," Guthaben aufladen (nur Philipp)\n"),h.qZA(),h.TgZ(23,"div",15)(24,"form",16,17),h.NdJ("ngSubmit",function(){h.CHM(u);const x=h.MAs(25);return h.KtG(s.performBalanceBooking(x))}),h.TgZ(26,"div",18)(27,"mat-form-field",19)(28,"mat-label"),h._uU(29,"Wieviel "),h.TgZ(30,"mat-icon"),h._uU(31,"euro_symbol"),h.qZA(),h.TgZ(32,"mat-icon"),h._uU(33,"question_mark"),h.qZA()(),h._UZ(34,"input",20,21),h.qZA(),h.TgZ(36,"mat-form-field",22)(37,"mat-label"),h._uU(38,"Wer kriegt's auf's Konto?"),h.qZA(),h.TgZ(39,"mat-select",23),h.YNc(40,rI,2,3,"mat-option",24),h.qZA()()(),h.TgZ(41,"button",25)(42,"mat-icon"),h._uU(43,"done_outline"),h.qZA(),h._uU(44," Buchung abschlie\xdfen "),h.qZA()()()}if(2&e){const u=h.MAs(25);h.Q6J("dataSource",s.balanceDataGrouped),h.xp6(19),h.Q6J("matHeaderRowDef",s.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",s.displayedColumns),h.xp6(3),h.Q6J("ngClass",h.VKq(7,sI,!s.bookingAllowed)),h.xp6(11),h.Q6J("disabled",!s.bookingAllowed),h.xp6(6),h.Q6J("ngForOf",s.globalService.userListBooking),h.xp6(1),h.Q6J("disabled",u.invalid)}},dependencies:[we.mk,we.sg,we.O5,qe.cs,ss,qc,_a,Uf,Ld,Fd,Li,Lf,Bf,Pu,Ba,U_.KE,U_.hX,nr._Y,nr.Fj,nr.JJ,nr.JL,nr.Q7,nr.wO,nr.nD,nr.On,nr.F,xC.Nt,_C,ce.ey,UD,we.H9],styles:[".positive[_ngcontent-%COMP%]{color:green}.negative[_ngcontent-%COMP%]{color:red}.row[_ngcontent-%COMP%]{padding:20}.balance-booking-headline[_ngcontent-%COMP%]{margin-top:50px;margin-left:20px}.balance-booking-content[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.disabledBooking[_ngcontent-%COMP%]{pointer-events:none;opacity:2}"]}),r})(),aI=(()=>{class r{constructor(){this.snackBarRef=(0,h.f3M)(wx)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["snack-bar-global"]],decls:5,vars:0,consts:[[1,"snack-bar-global"],["matSnackBarActions","",1,"snack-bar-global-button"],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,s){1&e&&(h.TgZ(0,"span",0),h._uU(1," Anfrage erfolgreich "),h.qZA(),h.TgZ(2,"span",1)(3,"button",2),h.NdJ("click",function(){return s.snackBarRef.dismissWithAction()}),h._uU(4,"Okay"),h.qZA()())},styles:["[_nghost-%COMP%]{display:flex}.snack-bar-global[_ngcontent-%COMP%]{color:#fff;font-weight:700;width:75%}.snack-bar-global-button[_ngcontent-%COMP%]{text-align:right;width:25%}"]}),r})();var lI=O(8146);let FE=(()=>{class r{constructor(e,s){this.globalService=e,this.router=s}canActivate(e,s){return!0===this.globalService.loggedIn||(this.router.navigate(["auth/login"]),!1)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Se.U),h.LFG(Cs.F0))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const cI=[{path:"dashboard",component:sw,canActivate:[FE]},{path:"list-of-drinks",component:gD,canActivate:[FE]},{path:"balances",component:oI,canActivate:[FE]},{path:"auth",loadChildren:()=>O.e(374).then(O.bind(O,4374)).then(r=>r.AuthModule)},{path:"**",component:lI.G}];let dI=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r,bootstrap:[Bc]}),r.\u0275inj=h.cJS({providers:[Se.U,wC],imports:[_.b2,xd,X.xu,tr.JF,ht,qe.ot,Er,Do,Go,Qc,BC,U_.lN,nr.u5,xC.c,nr.UX,iD,_.b2,yD.QW,wD,Xc.hO.initializeApp(gE_firebase),Cc.ww,Lv.yb,Ng,dx,Cs.Bz.forRoot(cI)]}),r})();_.q6().bootstrapModule(dI).catch(r=>console.error(r))},1135:(Wt,Ge,O)=>{O.d(Ge,{X:()=>h});var _=O(7579);class h extends _.x{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const Ae=super._subscribe(ve);return!Ae.closed&&ve.next(this._value),Ae}getValue(){const{hasError:ve,thrownError:Ae,_value:Se}=this;if(ve)throw Ae;return this._throwIfClosed(),Se}next(ve){super.next(this._value=ve)}}},9751:(Wt,Ge,O)=>{O.d(Ge,{y:()=>ce});var _=O(930),h=O(727),X=O(8822),ve=O(9635),Ae=O(2416),Se=O(576),we=O(2806);let ce=(()=>{class me{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const xt=new me;return xt.source=this,xt.operator=Ke,xt}subscribe(Ke,xt,ht){const qe=function ye(me){return me&&me instanceof _.Lv||function ie(me){return me&&(0,Se.m)(me.next)&&(0,Se.m)(me.error)&&(0,Se.m)(me.complete)}(me)&&(0,h.Nn)(me)}(Ke)?Ke:new _.Hp(Ke,xt,ht);return(0,we.x)(()=>{const{operator:Le,source:Ee}=this;qe.add(Le?Le.call(qe,Ee):Ee?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(xt){Ke.error(xt)}}forEach(Ke,xt){return new(xt=xe(xt))((ht,qe)=>{const Le=new _.Hp({next:Ee=>{try{Ke(Ee)}catch(Ct){qe(Ct),Le.unsubscribe()}},error:qe,complete:ht});this.subscribe(Le)})}_subscribe(Ke){var xt;return null===(xt=this.source)||void 0===xt?void 0:xt.subscribe(Ke)}[X.L](){return this}pipe(...Ke){return(0,ve.U)(Ke)(this)}toPromise(Ke){return new(Ke=xe(Ke))((xt,ht)=>{let qe;this.subscribe(Le=>qe=Le,Le=>ht(Le),()=>xt(qe))})}}return me.create=nt=>new me(nt),me})();function xe(me){var nt;return null!==(nt=me??Ae.v.Promise)&&void 0!==nt?nt:Promise}},7579:(Wt,Ge,O)=>{O.d(Ge,{x:()=>we});var _=O(9751),h=O(727);const ve=(0,O(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=O(8737),Se=O(2806);let we=(()=>{class xe extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const me=new ce(this,this);return me.operator=ye,me}_throwIfClosed(){if(this.closed)throw new ve}next(ye){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(ye)}})}error(ye){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:me}=this;for(;me.length;)me.shift().error(ye)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:me,isStopped:nt,observers:Ke}=this;return me||nt?h.Lc:(this.currentObservers=null,Ke.push(ye),new h.w0(()=>{this.currentObservers=null,(0,Ae.P)(Ke,ye)}))}_checkFinalizedStatuses(ye){const{hasError:me,thrownError:nt,isStopped:Ke}=this;me?ye.error(nt):Ke&&ye.complete()}asObservable(){const ye=new _.y;return ye.source=this,ye}}return xe.create=(ie,ye)=>new ce(ie,ye),xe})();class ce extends we{constructor(ie,ye){super(),this.destination=ie,this.source=ye}next(ie){var ye,me;null===(me=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===me||me.call(ye,ie)}error(ie){var ye,me;null===(me=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===me||me.call(ye,ie)}complete(){var ie,ye;null===(ye=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===ye||ye.call(ie)}_subscribe(ie){var ye,me;return null!==(me=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(ie))&&void 0!==me?me:h.Lc}}},930:(Wt,Ge,O)=>{O.d(Ge,{Hp:()=>ht,Lv:()=>me});var _=O(576),h=O(727),X=O(2416),ve=O(7849),Ae=O(5032);const Se=xe("C",void 0,void 0);function xe(He,De,pe){return{kind:He,value:De,error:pe}}var ie=O(3410),ye=O(2806);class me extends h.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,h.Nn)(De)&&De.add(this)):this.destination=Ct}static create(De,pe,ze){return new ht(De,pe,ze)}next(De){this.isStopped?Ee(function ce(He){return xe("N",He,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Ee(function we(He){return xe("E",void 0,He)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Ee(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function Ke(He,De){return nt.call(He,De)}class xt{constructor(De){this.partialObserver=De}next(De){const{partialObserver:pe}=this;if(pe.next)try{pe.next(De)}catch(ze){qe(ze)}}error(De){const{partialObserver:pe}=this;if(pe.error)try{pe.error(De)}catch(ze){qe(ze)}else qe(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(pe){qe(pe)}}}class ht extends me{constructor(De,pe,ze){let Xe;if(super(),(0,_.m)(De)||!De)Xe={next:De??void 0,error:pe??void 0,complete:ze??void 0};else{let ge;this&&X.v.useDeprecatedNextContext?(ge=Object.create(De),ge.unsubscribe=()=>this.unsubscribe(),Xe={next:De.next&&Ke(De.next,ge),error:De.error&&Ke(De.error,ge),complete:De.complete&&Ke(De.complete,ge)}):Xe=De}this.destination=new xt(Xe)}}function qe(He){X.v.useDeprecatedSynchronousErrorHandling?(0,ye.O)(He):(0,ve.h)(He)}function Ee(He,De){const{onStoppedNotification:pe}=X.v;pe&&ie.z.setTimeout(()=>pe(He,De))}const Ct={closed:!0,next:Ae.Z,error:function Le(He){throw He},complete:Ae.Z}},727:(Wt,Ge,O)=>{O.d(Ge,{Lc:()=>Se,w0:()=>Ae,Nn:()=>we});var _=O(576);const X=(0,O(3888).d)(xe=>function(ye){xe(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((me,nt)=>`${nt+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var ve=O(8737);class Ae{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const Ke of ye)Ke.remove(this);else ye.remove(this);const{initialTeardown:me}=this;if((0,_.m)(me))try{me()}catch(Ke){ie=Ke instanceof X?Ke.errors:[Ke]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const Ke of nt)try{ce(Ke)}catch(xt){ie=ie??[],xt instanceof X?ie=[...ie,...xt.errors]:ie.push(xt)}}if(ie)throw new X(ie)}}add(ie){var ye;if(ie&&ie!==this)if(this.closed)ce(ie);else{if(ie instanceof Ae){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(ie)}}_hasParent(ie){const{_parentage:ye}=this;return ye===ie||Array.isArray(ye)&&ye.includes(ie)}_addParent(ie){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(ie),ye):ye?[ye,ie]:ie}_removeParent(ie){const{_parentage:ye}=this;ye===ie?this._parentage=null:Array.isArray(ye)&&(0,ve.P)(ye,ie)}remove(ie){const{_finalizers:ye}=this;ye&&(0,ve.P)(ye,ie),ie instanceof Ae&&ie._removeParent(this)}}Ae.EMPTY=(()=>{const xe=new Ae;return xe.closed=!0,xe})();const Se=Ae.EMPTY;function we(xe){return xe instanceof Ae||xe&&"closed"in xe&&(0,_.m)(xe.remove)&&(0,_.m)(xe.add)&&(0,_.m)(xe.unsubscribe)}function ce(xe){(0,_.m)(xe)?xe():xe.unsubscribe()}},2416:(Wt,Ge,O)=>{O.d(Ge,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Wt,Ge,O)=>{O.d(Ge,{c:()=>Se});var _=O(9751),h=O(727),X=O(8343),ve=O(5403),Ae=O(4482);class Se extends _.y{constructor(ce,xe){super(),this.source=ce,this.subjectFactory=xe,this._subject=null,this._refCount=0,this._connection=null,(0,Ae.A)(ce)&&(this.lift=ce.lift)}_subscribe(ce){return this.getSubject().subscribe(ce)}getSubject(){const ce=this._subject;return(!ce||ce.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ce}=this;this._subject=this._connection=null,ce?.unsubscribe()}connect(){let ce=this._connection;if(!ce){ce=this._connection=new h.w0;const xe=this.getSubject();ce.add(this.source.subscribe((0,ve.x)(xe,void 0,()=>{this._teardown(),xe.complete()},ie=>{this._teardown(),xe.error(ie)},()=>this._teardown()))),ce.closed&&(this._connection=null,ce=h.w0.EMPTY)}return ce}refCount(){return(0,X.x)()(this)}}},9841:(Wt,Ge,O)=>{O.d(Ge,{a:()=>ie});var _=O(9751),h=O(4742),X=O(8996),ve=O(4671),Ae=O(3268),Se=O(3269),we=O(1810),ce=O(5403),xe=O(9672);function ie(...nt){const Ke=(0,Se.yG)(nt),xt=(0,Se.jO)(nt),{args:ht,keys:qe}=(0,h.D)(nt);if(0===ht.length)return(0,X.D)([],Ke);const Le=new _.y(function ye(nt,Ke,xt=ve.y){return ht=>{me(Ke,()=>{const{length:qe}=nt,Le=new Array(qe);let Ee=qe,Ct=qe;for(let He=0;He<qe;He++)me(Ke,()=>{const De=(0,X.D)(nt[He],Ke);let pe=!1;De.subscribe((0,ce.x)(ht,ze=>{Le[He]=ze,pe||(pe=!0,Ct--),Ct||ht.next(xt(Le.slice()))},()=>{--Ee||ht.complete()}))},ht)},ht)}}(ht,Ke,qe?Ee=>(0,we.n)(qe,Ee):ve.y));return xt?Le.pipe((0,Ae.Z)(xt)):Le}function me(nt,Ke,xt){nt?(0,xe.f)(xt,nt,Ke):Ke()}},7272:(Wt,Ge,O)=>{O.d(Ge,{z:()=>Ae});var _=O(8189),X=O(3269),ve=O(8996);function Ae(...Se){return function h(){return(0,_.J)(1)}()((0,ve.D)(Se,(0,X.yG)(Se)))}},9770:(Wt,Ge,O)=>{O.d(Ge,{P:()=>X});var _=O(9751),h=O(8421);function X(ve){return new _.y(Ae=>{(0,h.Xf)(ve()).subscribe(Ae)})}},515:(Wt,Ge,O)=>{O.d(Ge,{E:()=>h});const h=new(O(9751).y)(Ae=>Ae.complete())},4128:(Wt,Ge,O)=>{O.d(Ge,{D:()=>ce});var _=O(9751),h=O(4742),X=O(8421),ve=O(3269),Ae=O(5403),Se=O(3268),we=O(1810);function ce(...xe){const ie=(0,ve.jO)(xe),{args:ye,keys:me}=(0,h.D)(xe),nt=new _.y(Ke=>{const{length:xt}=ye;if(!xt)return void Ke.complete();const ht=new Array(xt);let qe=xt,Le=xt;for(let Ee=0;Ee<xt;Ee++){let Ct=!1;(0,X.Xf)(ye[Ee]).subscribe((0,Ae.x)(Ke,He=>{Ct||(Ct=!0,Le--),ht[Ee]=He},()=>qe--,void 0,()=>{(!qe||!Ct)&&(Le||Ke.next(me?(0,we.n)(me,ht):ht),Ke.complete())}))}});return ie?nt.pipe((0,Se.Z)(ie)):nt}},8996:(Wt,Ge,O)=>{O.d(Ge,{D:()=>De});var _=O(8421),h=O(5363),X=O(9468),Se=O(9751),ce=O(2202),xe=O(576),ie=O(9672);function me(pe,ze){if(!pe)throw new Error("Iterable cannot be null");return new Se.y(Xe=>{(0,ie.f)(Xe,ze,()=>{const ge=pe[Symbol.asyncIterator]();(0,ie.f)(Xe,ze,()=>{ge.next().then(Ce=>{Ce.done?Xe.complete():Xe.next(Ce.value)})},0,!0)})})}var nt=O(3670),Ke=O(8239),xt=O(1144),ht=O(6495),qe=O(2206),Le=O(4532),Ee=O(3260);function De(pe,ze){return ze?function He(pe,ze){if(null!=pe){if((0,nt.c)(pe))return function ve(pe,ze){return(0,_.Xf)(pe).pipe((0,X.R)(ze),(0,h.Q)(ze))}(pe,ze);if((0,xt.z)(pe))return function we(pe,ze){return new Se.y(Xe=>{let ge=0;return ze.schedule(function(){ge===pe.length?Xe.complete():(Xe.next(pe[ge++]),Xe.closed||this.schedule())})})}(pe,ze);if((0,Ke.t)(pe))return function Ae(pe,ze){return(0,_.Xf)(pe).pipe((0,X.R)(ze),(0,h.Q)(ze))}(pe,ze);if((0,qe.D)(pe))return me(pe,ze);if((0,ht.T)(pe))return function ye(pe,ze){return new Se.y(Xe=>{let ge;return(0,ie.f)(Xe,ze,()=>{ge=pe[ce.h](),(0,ie.f)(Xe,ze,()=>{let Ce,$e;try{({value:Ce,done:$e}=ge.next())}catch(mt){return void Xe.error(mt)}$e?Xe.complete():Xe.next(Ce)},0,!0)}),()=>(0,xe.m)(ge?.return)&&ge.return()})}(pe,ze);if((0,Ee.L)(pe))return function Ct(pe,ze){return me((0,Ee.Q)(pe),ze)}(pe,ze)}throw(0,Le.z)(pe)}(pe,ze):(0,_.Xf)(pe)}},8421:(Wt,Ge,O)=>{O.d(Ge,{Xf:()=>nt});var _=O(655),h=O(1144),X=O(8239),ve=O(9751),Ae=O(3670),Se=O(2206),we=O(4532),ce=O(6495),xe=O(3260),ie=O(576),ye=O(7849),me=O(8822);function nt(He){if(He instanceof ve.y)return He;if(null!=He){if((0,Ae.c)(He))return function Ke(He){return new ve.y(De=>{const pe=He[me.L]();if((0,ie.m)(pe.subscribe))return pe.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,h.z)(He))return function xt(He){return new ve.y(De=>{for(let pe=0;pe<He.length&&!De.closed;pe++)De.next(He[pe]);De.complete()})}(He);if((0,X.t)(He))return function ht(He){return new ve.y(De=>{He.then(pe=>{De.closed||(De.next(pe),De.complete())},pe=>De.error(pe)).then(null,ye.h)})}(He);if((0,Se.D)(He))return Le(He);if((0,ce.T)(He))return function qe(He){return new ve.y(De=>{for(const pe of He)if(De.next(pe),De.closed)return;De.complete()})}(He);if((0,xe.L)(He))return function Ee(He){return Le((0,xe.Q)(He))}(He)}throw(0,we.z)(He)}function Le(He){return new ve.y(De=>{(function Ct(He,De){var pe,ze,Xe,ge;return(0,_.mG)(this,void 0,void 0,function*(){try{for(pe=(0,_.KL)(He);!(ze=yield pe.next()).done;)if(De.next(ze.value),De.closed)return}catch(Ce){Xe={error:Ce}}finally{try{ze&&!ze.done&&(ge=pe.return)&&(yield ge.call(pe))}finally{if(Xe)throw Xe.error}}De.complete()})})(He,De).catch(pe=>De.error(pe))})}},6451:(Wt,Ge,O)=>{O.d(Ge,{T:()=>Se});var _=O(8189),h=O(8421),X=O(515),ve=O(3269),Ae=O(8996);function Se(...we){const ce=(0,ve.yG)(we),xe=(0,ve._6)(we,1/0),ie=we;return ie.length?1===ie.length?(0,h.Xf)(ie[0]):(0,_.J)(xe)((0,Ae.D)(ie,ce)):X.E}},9646:(Wt,Ge,O)=>{O.d(Ge,{of:()=>X});var _=O(3269),h=O(8996);function X(...ve){const Ae=(0,_.yG)(ve);return(0,h.D)(ve,Ae)}},2843:(Wt,Ge,O)=>{O.d(Ge,{_:()=>X});var _=O(9751),h=O(576);function X(ve,Ae){const Se=(0,h.m)(ve)?ve:()=>ve,we=ce=>ce.error(Se());return new _.y(Ae?ce=>Ae.schedule(we,0,ce):we)}},5403:(Wt,Ge,O)=>{O.d(Ge,{x:()=>h});var _=O(930);function h(ve,Ae,Se,we,ce){return new X(ve,Ae,Se,we,ce)}class X extends _.Lv{constructor(Ae,Se,we,ce,xe,ie){super(Ae),this.onFinalize=xe,this.shouldUnsubscribe=ie,this._next=Se?function(ye){try{Se(ye)}catch(me){Ae.error(me)}}:super._next,this._error=ce?function(ye){try{ce(ye)}catch(me){Ae.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(ye){Ae.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},262:(Wt,Ge,O)=>{O.d(Ge,{K:()=>ve});var _=O(8421),h=O(5403),X=O(4482);function ve(Ae){return(0,X.e)((Se,we)=>{let ie,ce=null,xe=!1;ce=Se.subscribe((0,h.x)(we,void 0,void 0,ye=>{ie=(0,_.Xf)(Ae(ye,ve(Ae)(Se))),ce?(ce.unsubscribe(),ce=null,ie.subscribe(we)):xe=!0})),xe&&(ce.unsubscribe(),ce=null,ie.subscribe(we))})}},4351:(Wt,Ge,O)=>{O.d(Ge,{b:()=>X});var _=O(5577),h=O(576);function X(ve,Ae){return(0,h.m)(Ae)?(0,_.z)(ve,Ae,1):(0,_.z)(ve,1)}},8372:(Wt,Ge,O)=>{O.d(Ge,{b:()=>ve});var _=O(4986),h=O(4482),X=O(5403);function ve(Ae,Se=_.z){return(0,h.e)((we,ce)=>{let xe=null,ie=null,ye=null;const me=()=>{if(xe){xe.unsubscribe(),xe=null;const Ke=ie;ie=null,ce.next(Ke)}};function nt(){const Ke=ye+Ae,xt=Se.now();if(xt<Ke)return xe=this.schedule(void 0,Ke-xt),void ce.add(xe);me()}we.subscribe((0,X.x)(ce,Ke=>{ie=Ke,ye=Se.now(),xe||(xe=Se.schedule(nt,Ae),ce.add(xe))},()=>{me(),ce.complete()},void 0,()=>{ie=xe=null}))})}},6590:(Wt,Ge,O)=>{O.d(Ge,{d:()=>X});var _=O(4482),h=O(5403);function X(ve){return(0,_.e)((Ae,Se)=>{let we=!1;Ae.subscribe((0,h.x)(Se,ce=>{we=!0,Se.next(ce)},()=>{we||Se.next(ve),Se.complete()}))})}},1884:(Wt,Ge,O)=>{O.d(Ge,{x:()=>ve});var _=O(4671),h=O(4482),X=O(5403);function ve(Se,we=_.y){return Se=Se??Ae,(0,h.e)((ce,xe)=>{let ie,ye=!0;ce.subscribe((0,X.x)(xe,me=>{const nt=we(me);(ye||!Se(ie,nt))&&(ye=!1,ie=nt,xe.next(me))}))})}function Ae(Se,we){return Se===we}},9300:(Wt,Ge,O)=>{O.d(Ge,{h:()=>X});var _=O(4482),h=O(5403);function X(ve,Ae){return(0,_.e)((Se,we)=>{let ce=0;Se.subscribe((0,h.x)(we,xe=>ve.call(Ae,xe,ce++)&&we.next(xe)))})}},8746:(Wt,Ge,O)=>{O.d(Ge,{x:()=>h});var _=O(4482);function h(X){return(0,_.e)((ve,Ae)=>{try{ve.subscribe(Ae)}finally{Ae.add(X)}})}},590:(Wt,Ge,O)=>{O.d(Ge,{P:()=>we});var _=O(6805),h=O(9300),X=O(5698),ve=O(6590),Ae=O(8068),Se=O(4671);function we(ce,xe){const ie=arguments.length>=2;return ye=>ye.pipe(ce?(0,h.h)((me,nt)=>ce(me,nt,ye)):Se.y,(0,X.q)(1),ie?(0,ve.d)(xe):(0,Ae.T)(()=>new _.K))}},4004:(Wt,Ge,O)=>{O.d(Ge,{U:()=>X});var _=O(4482),h=O(5403);function X(ve,Ae){return(0,_.e)((Se,we)=>{let ce=0;Se.subscribe((0,h.x)(we,xe=>{we.next(ve.call(Ae,xe,ce++))}))})}},9718:(Wt,Ge,O)=>{O.d(Ge,{h:()=>h});var _=O(4004);function h(X){return(0,_.U)(()=>X)}},8189:(Wt,Ge,O)=>{O.d(Ge,{J:()=>X});var _=O(5577),h=O(4671);function X(ve=1/0){return(0,_.z)(h.y,ve)}},5577:(Wt,Ge,O)=>{O.d(Ge,{z:()=>ce});var _=O(4004),h=O(8421),X=O(4482),ve=O(9672),Ae=O(5403),we=O(576);function ce(xe,ie,ye=1/0){return(0,we.m)(ie)?ce((me,nt)=>(0,_.U)((Ke,xt)=>ie(me,Ke,nt,xt))((0,h.Xf)(xe(me,nt))),ye):("number"==typeof ie&&(ye=ie),(0,X.e)((me,nt)=>function Se(xe,ie,ye,me,nt,Ke,xt,ht){const qe=[];let Le=0,Ee=0,Ct=!1;const He=()=>{Ct&&!qe.length&&!Le&&ie.complete()},De=ze=>Le<me?pe(ze):qe.push(ze),pe=ze=>{Ke&&ie.next(ze),Le++;let Xe=!1;(0,h.Xf)(ye(ze,Ee++)).subscribe((0,Ae.x)(ie,ge=>{nt?.(ge),Ke?De(ge):ie.next(ge)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(Le--;qe.length&&Le<me;){const ge=qe.shift();xt?(0,ve.f)(ie,xt,()=>pe(ge)):pe(ge)}He()}catch(ge){ie.error(ge)}}))};return xe.subscribe((0,Ae.x)(ie,De,()=>{Ct=!0,He()})),()=>{ht?.()}}(me,nt,xe,ye)))}},5363:(Wt,Ge,O)=>{O.d(Ge,{Q:()=>ve});var _=O(9672),h=O(4482),X=O(5403);function ve(Ae,Se=0){return(0,h.e)((we,ce)=>{we.subscribe((0,X.x)(ce,xe=>(0,_.f)(ce,Ae,()=>ce.next(xe),Se),()=>(0,_.f)(ce,Ae,()=>ce.complete(),Se),xe=>(0,_.f)(ce,Ae,()=>ce.error(xe),Se)))})}},8343:(Wt,Ge,O)=>{O.d(Ge,{x:()=>X});var _=O(4482),h=O(5403);function X(){return(0,_.e)((ve,Ae)=>{let Se=null;ve._refCount++;const we=(0,h.x)(Ae,void 0,void 0,void 0,()=>{if(!ve||ve._refCount<=0||0<--ve._refCount)return void(Se=null);const ce=ve._connection,xe=Se;Se=null,ce&&(!xe||ce===xe)&&ce.unsubscribe(),Ae.unsubscribe()});ve.subscribe(we),we.closed||(Se=ve.connect())})}},5026:(Wt,Ge,O)=>{O.d(Ge,{R:()=>ve});var _=O(4482),h=O(5403);function ve(Ae,Se){return(0,_.e)(function X(Ae,Se,we,ce,xe){return(ie,ye)=>{let me=we,nt=Se,Ke=0;ie.subscribe((0,h.x)(ye,xt=>{const ht=Ke++;nt=me?Ae(nt,xt,ht):(me=!0,xt),ce&&ye.next(nt)},xe&&(()=>{me&&ye.next(nt),ye.complete()})))}}(Ae,Se,arguments.length>=2,!0))}},3099:(Wt,Ge,O)=>{O.d(Ge,{B:()=>Ae});var _=O(8421),h=O(7579),X=O(930),ve=O(4482);function Ae(we={}){const{connector:ce=(()=>new h.x),resetOnError:xe=!0,resetOnComplete:ie=!0,resetOnRefCountZero:ye=!0}=we;return me=>{let nt,Ke,xt,ht=0,qe=!1,Le=!1;const Ee=()=>{Ke?.unsubscribe(),Ke=void 0},Ct=()=>{Ee(),nt=xt=void 0,qe=Le=!1},He=()=>{const De=nt;Ct(),De?.unsubscribe()};return(0,ve.e)((De,pe)=>{ht++,!Le&&!qe&&Ee();const ze=xt=xt??ce();pe.add(()=>{ht--,0===ht&&!Le&&!qe&&(Ke=Se(He,ye))}),ze.subscribe(pe),!nt&&ht>0&&(nt=new X.Hp({next:Xe=>ze.next(Xe),error:Xe=>{Le=!0,Ee(),Ke=Se(Ct,xe,Xe),ze.error(Xe)},complete:()=>{qe=!0,Ee(),Ke=Se(Ct,ie),ze.complete()}}),(0,_.Xf)(De).subscribe(nt))})(me)}}function Se(we,ce,...xe){if(!0===ce)return void we();if(!1===ce)return;const ie=new X.Hp({next:()=>{ie.unsubscribe(),we()}});return(0,_.Xf)(ce(...xe)).subscribe(ie)}},3151:(Wt,Ge,O)=>{O.d(Ge,{d:()=>Ae});var _=O(7579),h=O(6063);class X extends _.x{constructor(we=1/0,ce=1/0,xe=h.l){super(),this._bufferSize=we,this._windowTime=ce,this._timestampProvider=xe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ce===1/0,this._bufferSize=Math.max(1,we),this._windowTime=Math.max(1,ce)}next(we){const{isStopped:ce,_buffer:xe,_infiniteTimeWindow:ie,_timestampProvider:ye,_windowTime:me}=this;ce||(xe.push(we),!ie&&xe.push(ye.now()+me)),this._trimBuffer(),super.next(we)}_subscribe(we){this._throwIfClosed(),this._trimBuffer();const ce=this._innerSubscribe(we),{_infiniteTimeWindow:xe,_buffer:ie}=this,ye=ie.slice();for(let me=0;me<ye.length&&!we.closed;me+=xe?1:2)we.next(ye[me]);return this._checkFinalizedStatuses(we),ce}_trimBuffer(){const{_bufferSize:we,_timestampProvider:ce,_buffer:xe,_infiniteTimeWindow:ie}=this,ye=(ie?1:2)*we;if(we<1/0&&ye<xe.length&&xe.splice(0,xe.length-ye),!ie){const me=ce.now();let nt=0;for(let Ke=1;Ke<xe.length&&xe[Ke]<=me;Ke+=2)nt=Ke;nt&&xe.splice(0,nt+1)}}}var ve=O(3099);function Ae(Se,we,ce){let xe,ie=!1;return Se&&"object"==typeof Se?({bufferSize:xe=1/0,windowTime:we=1/0,refCount:ie=!1,scheduler:ce}=Se):xe=Se??1/0,(0,ve.B)({connector:()=>new X(xe,we,ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ie})}},5684:(Wt,Ge,O)=>{O.d(Ge,{T:()=>h});var _=O(9300);function h(X){return(0,_.h)((ve,Ae)=>X<=Ae)}},8675:(Wt,Ge,O)=>{O.d(Ge,{O:()=>ve});var _=O(7272),h=O(3269),X=O(4482);function ve(...Ae){const Se=(0,h.yG)(Ae);return(0,X.e)((we,ce)=>{(Se?(0,_.z)(Ae,we,Se):(0,_.z)(Ae,we)).subscribe(ce)})}},9468:(Wt,Ge,O)=>{O.d(Ge,{R:()=>h});var _=O(4482);function h(X,ve=0){return(0,_.e)((Ae,Se)=>{Se.add(X.schedule(()=>Ae.subscribe(Se),ve))})}},3900:(Wt,Ge,O)=>{O.d(Ge,{w:()=>ve});var _=O(8421),h=O(4482),X=O(5403);function ve(Ae,Se){return(0,h.e)((we,ce)=>{let xe=null,ie=0,ye=!1;const me=()=>ye&&!xe&&ce.complete();we.subscribe((0,X.x)(ce,nt=>{xe?.unsubscribe();let Ke=0;const xt=ie++;(0,_.Xf)(Ae(nt,xt)).subscribe(xe=(0,X.x)(ce,ht=>ce.next(Se?Se(nt,ht,xt,Ke++):ht),()=>{xe=null,me()}))},()=>{ye=!0,me()}))})}},5698:(Wt,Ge,O)=>{O.d(Ge,{q:()=>ve});var _=O(515),h=O(4482),X=O(5403);function ve(Ae){return Ae<=0?()=>_.E:(0,h.e)((Se,we)=>{let ce=0;Se.subscribe((0,X.x)(we,xe=>{++ce<=Ae&&(we.next(xe),Ae<=ce&&we.complete())}))})}},2722:(Wt,Ge,O)=>{O.d(Ge,{R:()=>Ae});var _=O(4482),h=O(5403),X=O(8421),ve=O(5032);function Ae(Se){return(0,_.e)((we,ce)=>{(0,X.Xf)(Se).subscribe((0,h.x)(ce,()=>ce.complete(),ve.Z)),!ce.closed&&we.subscribe(ce)})}},2529:(Wt,Ge,O)=>{O.d(Ge,{o:()=>X});var _=O(4482),h=O(5403);function X(ve,Ae=!1){return(0,_.e)((Se,we)=>{let ce=0;Se.subscribe((0,h.x)(we,xe=>{const ie=ve(xe,ce++);(ie||Ae)&&we.next(xe),!ie&&we.complete()}))})}},8505:(Wt,Ge,O)=>{O.d(Ge,{b:()=>Ae});var _=O(576),h=O(4482),X=O(5403),ve=O(4671);function Ae(Se,we,ce){const xe=(0,_.m)(Se)||we||ce?{next:Se,error:we,complete:ce}:Se;return xe?(0,h.e)((ie,ye)=>{var me;null===(me=xe.subscribe)||void 0===me||me.call(xe);let nt=!0;ie.subscribe((0,X.x)(ye,Ke=>{var xt;null===(xt=xe.next)||void 0===xt||xt.call(xe,Ke),ye.next(Ke)},()=>{var Ke;nt=!1,null===(Ke=xe.complete)||void 0===Ke||Ke.call(xe),ye.complete()},Ke=>{var xt;nt=!1,null===(xt=xe.error)||void 0===xt||xt.call(xe,Ke),ye.error(Ke)},()=>{var Ke,xt;nt&&(null===(Ke=xe.unsubscribe)||void 0===Ke||Ke.call(xe)),null===(xt=xe.finalize)||void 0===xt||xt.call(xe)}))}):ve.y}},8068:(Wt,Ge,O)=>{O.d(Ge,{T:()=>ve});var _=O(6805),h=O(4482),X=O(5403);function ve(Se=Ae){return(0,h.e)((we,ce)=>{let xe=!1;we.subscribe((0,X.x)(ce,ie=>{xe=!0,ce.next(ie)},()=>xe?ce.complete():ce.error(Se())))})}function Ae(){return new _.K}},4408:(Wt,Ge,O)=>{O.d(Ge,{o:()=>Ae});var _=O(727);class h extends _.w0{constructor(we,ce){super()}schedule(we,ce=0){return this}}const X={setInterval(Se,we,...ce){const{delegate:xe}=X;return xe?.setInterval?xe.setInterval(Se,we,...ce):setInterval(Se,we,...ce)},clearInterval(Se){const{delegate:we}=X;return(we?.clearInterval||clearInterval)(Se)},delegate:void 0};var ve=O(8737);class Ae extends h{constructor(we,ce){super(we,ce),this.scheduler=we,this.work=ce,this.pending=!1}schedule(we,ce=0){var xe;if(this.closed)return this;this.state=we;const ie=this.id,ye=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(ye,ie,ce)),this.pending=!0,this.delay=ce,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(ye,this.id,ce),this}requestAsyncId(we,ce,xe=0){return X.setInterval(we.flush.bind(we,this),xe)}recycleAsyncId(we,ce,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return ce;null!=ce&&X.clearInterval(ce)}execute(we,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(we,ce);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,ce){let ie,xe=!1;try{this.work(we)}catch(ye){xe=!0,ie=ye||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:we,scheduler:ce}=this,{actions:xe}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(xe,this),null!=we&&(this.id=this.recycleAsyncId(ce,we,null)),this.delay=null,super.unsubscribe()}}}},7565:(Wt,Ge,O)=>{O.d(Ge,{v:()=>X});var _=O(6063);class h{constructor(Ae,Se=h.now){this.schedulerActionCtor=Ae,this.now=Se}schedule(Ae,Se=0,we){return new this.schedulerActionCtor(this,Ae).schedule(we,Se)}}h.now=_.l.now;class X extends h{constructor(Ae,Se=h.now){super(Ae,Se),this.actions=[],this._active=!1}flush(Ae){const{actions:Se}=this;if(this._active)return void Se.push(Ae);let we;this._active=!0;do{if(we=Ae.execute(Ae.state,Ae.delay))break}while(Ae=Se.shift());if(this._active=!1,we){for(;Ae=Se.shift();)Ae.unsubscribe();throw we}}}},4986:(Wt,Ge,O)=>{O.d(Ge,{P:()=>ve,z:()=>X});var _=O(4408);const X=new(O(7565).v)(_.o),ve=X},6063:(Wt,Ge,O)=>{O.d(Ge,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(Wt,Ge,O)=>{O.d(Ge,{z:()=>_});const _={setTimeout(h,X,...ve){const{delegate:Ae}=_;return Ae?.setTimeout?Ae.setTimeout(h,X,...ve):setTimeout(h,X,...ve)},clearTimeout(h){const{delegate:X}=_;return(X?.clearTimeout||clearTimeout)(h)},delegate:void 0}},2202:(Wt,Ge,O)=>{O.d(Ge,{h:()=>h});const h=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Wt,Ge,O)=>{O.d(Ge,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Wt,Ge,O)=>{O.d(Ge,{K:()=>h});const h=(0,O(3888).d)(X=>function(){X(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Wt,Ge,O)=>{O.d(Ge,{_6:()=>Se,jO:()=>ve,yG:()=>Ae});var _=O(576),h=O(3532);function X(we){return we[we.length-1]}function ve(we){return(0,_.m)(X(we))?we.pop():void 0}function Ae(we){return(0,h.K)(X(we))?we.pop():void 0}function Se(we,ce){return"number"==typeof X(we)?we.pop():ce}},4742:(Wt,Ge,O)=>{O.d(Ge,{D:()=>Ae});const{isArray:_}=Array,{getPrototypeOf:h,prototype:X,keys:ve}=Object;function Ae(we){if(1===we.length){const ce=we[0];if(_(ce))return{args:ce,keys:null};if(function Se(we){return we&&"object"==typeof we&&h(we)===X}(ce)){const xe=ve(ce);return{args:xe.map(ie=>ce[ie]),keys:xe}}}return{args:we,keys:null}}},8737:(Wt,Ge,O)=>{function _(h,X){if(h){const ve=h.indexOf(X);0<=ve&&h.splice(ve,1)}}O.d(Ge,{P:()=>_})},3888:(Wt,Ge,O)=>{function _(h){const ve=h(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}O.d(Ge,{d:()=>_})},1810:(Wt,Ge,O)=>{function _(h,X){return h.reduce((ve,Ae,Se)=>(ve[Ae]=X[Se],ve),{})}O.d(Ge,{n:()=>_})},2806:(Wt,Ge,O)=>{O.d(Ge,{O:()=>ve,x:()=>X});var _=O(2416);let h=null;function X(Ae){if(_.v.useDeprecatedSynchronousErrorHandling){const Se=!h;if(Se&&(h={errorThrown:!1,error:null}),Ae(),Se){const{errorThrown:we,error:ce}=h;if(h=null,we)throw ce}}else Ae()}function ve(Ae){_.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=Ae)}},9672:(Wt,Ge,O)=>{function _(h,X,ve,Ae=0,Se=!1){const we=X.schedule(function(){ve(),Se?h.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(h.add(we),!Se)return we}O.d(Ge,{f:()=>_})},4671:(Wt,Ge,O)=>{function _(h){return h}O.d(Ge,{y:()=>_})},1144:(Wt,Ge,O)=>{O.d(Ge,{z:()=>_});const _=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(Wt,Ge,O)=>{O.d(Ge,{D:()=>h});var _=O(576);function h(X){return Symbol.asyncIterator&&(0,_.m)(X?.[Symbol.asyncIterator])}},576:(Wt,Ge,O)=>{function _(h){return"function"==typeof h}O.d(Ge,{m:()=>_})},3670:(Wt,Ge,O)=>{O.d(Ge,{c:()=>X});var _=O(8822),h=O(576);function X(ve){return(0,h.m)(ve[_.L])}},6495:(Wt,Ge,O)=>{O.d(Ge,{T:()=>X});var _=O(2202),h=O(576);function X(ve){return(0,h.m)(ve?.[_.h])}},8239:(Wt,Ge,O)=>{O.d(Ge,{t:()=>h});var _=O(576);function h(X){return(0,_.m)(X?.then)}},3260:(Wt,Ge,O)=>{O.d(Ge,{L:()=>ve,Q:()=>X});var _=O(655),h=O(576);function X(Ae){return(0,_.FC)(this,arguments,function*(){const we=Ae.getReader();try{for(;;){const{value:ce,done:xe}=yield(0,_.qq)(we.read());if(xe)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(ce)}}finally{we.releaseLock()}})}function ve(Ae){return(0,h.m)(Ae?.getReader)}},3532:(Wt,Ge,O)=>{O.d(Ge,{K:()=>h});var _=O(576);function h(X){return X&&(0,_.m)(X.schedule)}},4482:(Wt,Ge,O)=>{O.d(Ge,{A:()=>h,e:()=>X});var _=O(576);function h(ve){return(0,_.m)(ve?.lift)}function X(ve){return Ae=>{if(h(Ae))return Ae.lift(function(Se){try{return ve(Se,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Wt,Ge,O)=>{O.d(Ge,{Z:()=>ve});var _=O(4004);const{isArray:h}=Array;function ve(Ae){return(0,_.U)(Se=>function X(Ae,Se){return h(Se)?Ae(...Se):Ae(Se)}(Ae,Se))}},5032:(Wt,Ge,O)=>{function _(){}O.d(Ge,{Z:()=>_})},9635:(Wt,Ge,O)=>{O.d(Ge,{U:()=>X,z:()=>h});var _=O(4671);function h(...ve){return X(ve)}function X(ve){return 0===ve.length?_.y:1===ve.length?ve[0]:function(Se){return ve.reduce((we,ce)=>ce(we),Se)}}},7849:(Wt,Ge,O)=>{O.d(Ge,{h:()=>X});var _=O(2416),h=O(3410);function X(ve){h.z.setTimeout(()=>{const{onUnhandledError:Ae}=_.v;if(!Ae)throw ve;Ae(ve)})}},4532:(Wt,Ge,O)=>{function _(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ge,{z:()=>_})},655:(Wt,Ge,O)=>{function ve(rt,ft){var Et={};for(var kt in rt)Object.prototype.hasOwnProperty.call(rt,kt)&&ft.indexOf(kt)<0&&(Et[kt]=rt[kt]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var It=0;for(kt=Object.getOwnPropertySymbols(rt);It<kt.length;It++)ft.indexOf(kt[It])<0&&Object.prototype.propertyIsEnumerable.call(rt,kt[It])&&(Et[kt[It]]=rt[kt[It]])}return Et}function me(rt,ft,Et,kt){return new(Et||(Et=Promise))(function(Rt,St){function bt(wn){try{at(kt.next(wn))}catch(rn){St(rn)}}function et(wn){try{at(kt.throw(wn))}catch(rn){St(rn)}}function at(wn){wn.done?Rt(wn.value):function It(Rt){return Rt instanceof Et?Rt:new Et(function(St){St(Rt)})}(wn.value).then(bt,et)}at((kt=kt.apply(rt,ft||[])).next())})}function He(rt){return this instanceof He?(this.v=rt,this):new He(rt)}function De(rt,ft,Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,kt=Et.apply(rt,ft||[]),Rt=[];return It={},St("next"),St("throw"),St("return"),It[Symbol.asyncIterator]=function(){return this},It;function St(Tn){kt[Tn]&&(It[Tn]=function(En){return new Promise(function(On,Vn){Rt.push([Tn,En,On,Vn])>1||bt(Tn,En)})})}function bt(Tn,En){try{!function et(Tn){Tn.value instanceof He?Promise.resolve(Tn.value.v).then(at,wn):rn(Rt[0][2],Tn)}(kt[Tn](En))}catch(On){rn(Rt[0][3],On)}}function at(Tn){bt("next",Tn)}function wn(Tn){bt("throw",Tn)}function rn(Tn,En){Tn(En),Rt.shift(),Rt.length&&bt(Rt[0][0],Rt[0][1])}}function ze(rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,ft=rt[Symbol.asyncIterator];return ft?ft.call(rt):(rt=function ht(rt){var ft="function"==typeof Symbol&&Symbol.iterator,Et=ft&&rt[ft],kt=0;if(Et)return Et.call(rt);if(rt&&"number"==typeof rt.length)return{next:function(){return rt&&kt>=rt.length&&(rt=void 0),{value:rt&&rt[kt++],done:!rt}}};throw new TypeError(ft?"Object is not iterable.":"Symbol.iterator is not defined.")}(rt),Et={},kt("next"),kt("throw"),kt("return"),Et[Symbol.asyncIterator]=function(){return this},Et);function kt(Rt){Et[Rt]=rt[Rt]&&function(St){return new Promise(function(bt,et){!function It(Rt,St,bt,et){Promise.resolve(et).then(function(at){Rt({value:at,done:bt})},St)}(bt,et,(St=rt[Rt](St)).done,St.value)})}}}O.d(Ge,{FC:()=>De,KL:()=>ze,_T:()=>ve,mG:()=>me,qq:()=>He})},7340:(Wt,Ge,O)=>{O.d(Ge,{IO:()=>xt,LC:()=>h,SB:()=>xe,X$:()=>ve,ZE:()=>Ee,ZN:()=>Le,_j:()=>_,eR:()=>ye,jt:()=>Ae,k1:()=>Ct,l3:()=>X,oB:()=>ce,pV:()=>nt,ru:()=>Se,vP:()=>we});class _{}class h{}const X="*";function ve(He,De){return{type:7,name:He,definitions:De,options:{}}}function Ae(He,De=null){return{type:4,styles:De,timings:He}}function Se(He,De=null){return{type:3,steps:He,options:De}}function we(He,De=null){return{type:2,steps:He,options:De}}function ce(He){return{type:6,styles:He,offset:null}}function xe(He,De,pe){return{type:0,name:He,styles:De,options:pe}}function ye(He,De,pe=null){return{type:1,expr:He,animation:De,options:pe}}function nt(He=null){return{type:9,options:He}}function xt(He,De,pe=null){return{type:11,selector:He,animation:De,options:pe}}function qe(He){Promise.resolve().then(He)}class Le{constructor(De=0,pe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+pe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._originalOnStartFns.push(De),this._onStartFns.push(De)}onDone(De){this._originalOnDoneFns.push(De),this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const pe="start"==De?this._onStartFns:this._onDoneFns;pe.forEach(ze=>ze()),pe.length=0}}class Ee{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let pe=0,ze=0,Xe=0;const ge=this.players.length;0==ge?qe(()=>this._onFinish()):this.players.forEach(Ce=>{Ce.onDone(()=>{++pe==ge&&this._onFinish()}),Ce.onDestroy(()=>{++ze==ge&&this._onDestroy()}),Ce.onStart(()=>{++Xe==ge&&this._onStart()})}),this.totalTime=this.players.reduce((Ce,$e)=>Math.max(Ce,$e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const pe=De*this.totalTime;this.players.forEach(ze=>{const Xe=ze.totalTime?Math.min(1,pe/ze.totalTime):1;ze.setPosition(Xe)})}getPosition(){const De=this.players.reduce((pe,ze)=>null===pe||ze.totalTime>pe.totalTime?ze:pe,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const pe="start"==De?this._onStartFns:this._onDoneFns;pe.forEach(ze=>ze()),pe.length=0}}const Ct="!"},2687:(Wt,Ge,O)=>{O.d(Ge,{Em:()=>ft,Kd:()=>Yt,X6:()=>dn,ic:()=>kt,qV:()=>Hn,qm:()=>$t,rt:()=>Re,s1:()=>rt,tE:()=>Cn,yG:()=>yi});var _=O(6895),h=O(4650),X=O(3353),ve=O(7579),Ae=O(727),Se=O(1135),we=O(9646),ce=O(9521),xe=O(8505),ie=O(8372),ye=O(9300),me=O(4004),nt=O(5698),Ke=O(5684),xt=O(1884),ht=O(2722),qe=O(1281),Le=O(9643),Ee=O(2289);class Pt{constructor(P){this._items=P,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ve.x,this._typeaheadSubscription=Ae.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=j=>j.disabled,this._pressedLetters=[],this.tabOut=new ve.x,this.change=new ve.x,P instanceof h.n_E&&(this._itemChangesSubscription=P.changes.subscribe(j=>{if(this._activeItem){const Ie=j.toArray().indexOf(this._activeItem);Ie>-1&&Ie!==this._activeItemIndex&&(this._activeItemIndex=Ie)}}))}skipPredicate(P){return this._skipPredicateFn=P,this}withWrap(P=!0){return this._wrap=P,this}withVerticalOrientation(P=!0){return this._vertical=P,this}withHorizontalOrientation(P){return this._horizontal=P,this}withAllowedModifierKeys(P){return this._allowedModifierKeys=P,this}withTypeAhead(P=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,xe.b)(j=>this._pressedLetters.push(j)),(0,ie.b)(P),(0,ye.h)(()=>this._pressedLetters.length>0),(0,me.U)(()=>this._pressedLetters.join(""))).subscribe(j=>{const ue=this._getItemsArray();for(let Ie=1;Ie<ue.length+1;Ie++){const se=(this._activeItemIndex+Ie)%ue.length,be=ue[se];if(!this._skipPredicateFn(be)&&0===be.getLabel().toUpperCase().trim().indexOf(j)){this.setActiveItem(se);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(P=!0){return this._homeAndEnd=P,this}withPageUpDown(P=!0,j=10){return this._pageUpAndDown={enabled:P,delta:j},this}setActiveItem(P){const j=this._activeItem;this.updateActiveItem(P),this._activeItem!==j&&this.change.next(this._activeItemIndex)}onKeydown(P){const j=P.keyCode,Ie=["altKey","ctrlKey","metaKey","shiftKey"].every(se=>!P[se]||this._allowedModifierKeys.indexOf(se)>-1);switch(j){case ce.Mf:return void this.tabOut.next();case ce.JH:if(this._vertical&&Ie){this.setNextItemActive();break}return;case ce.LH:if(this._vertical&&Ie){this.setPreviousItemActive();break}return;case ce.SV:if(this._horizontal&&Ie){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ce.oh:if(this._horizontal&&Ie){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ce.Sd:if(this._homeAndEnd&&Ie){this.setFirstItemActive();break}return;case ce.uR:if(this._homeAndEnd&&Ie){this.setLastItemActive();break}return;case ce.Ku:if(this._pageUpAndDown.enabled&&Ie){const se=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(se>0?se:0,1);break}return;case ce.VM:if(this._pageUpAndDown.enabled&&Ie){const se=this._activeItemIndex+this._pageUpAndDown.delta,be=this._getItemsArray().length;this._setActiveItemByIndex(se<be?se:be-1,-1);break}return;default:return void((Ie||(0,ce.Vb)(P,"shiftKey"))&&(P.key&&1===P.key.length?this._letterKeyStream.next(P.key.toLocaleUpperCase()):(j>=ce.A&&j<=ce.Z||j>=ce.xE&&j<=ce.aO)&&this._letterKeyStream.next(String.fromCharCode(j))))}this._pressedLetters=[],P.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(P){const j=this._getItemsArray(),ue="number"==typeof P?P:j.indexOf(P);this._activeItem=j[ue]??null,this._activeItemIndex=ue}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(P){this._wrap?this._setActiveInWrapMode(P):this._setActiveInDefaultMode(P)}_setActiveInWrapMode(P){const j=this._getItemsArray();for(let ue=1;ue<=j.length;ue++){const Ie=(this._activeItemIndex+P*ue+j.length)%j.length;if(!this._skipPredicateFn(j[Ie]))return void this.setActiveItem(Ie)}}_setActiveInDefaultMode(P){this._setActiveItemByIndex(this._activeItemIndex+P,P)}_setActiveItemByIndex(P,j){const ue=this._getItemsArray();if(ue[P]){for(;this._skipPredicateFn(ue[P]);)if(!ue[P+=j])return;this.setActiveItem(P)}}_getItemsArray(){return this._items instanceof h.n_E?this._items.toArray():this._items}}class rt extends Pt{setActiveItem(P){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(P),this.activeItem&&this.activeItem.setActiveStyles()}}class ft extends Pt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(P){return this._origin=P,this}setActiveItem(P){super.setActiveItem(P),this.activeItem&&this.activeItem.focus(this._origin)}}let kt=(()=>{class K{constructor(j){this._platform=j}isDisabled(j){return j.hasAttribute("disabled")}isVisible(j){return function Rt(K){return!!(K.offsetWidth||K.offsetHeight||"function"==typeof K.getClientRects&&K.getClientRects().length)}(j)&&"visible"===getComputedStyle(j).visibility}isTabbable(j){if(!this._platform.isBrowser)return!1;const ue=function It(K){try{return K.frameElement}catch{return null}}(function Vn(K){return K.ownerDocument&&K.ownerDocument.defaultView||window}(j));if(ue&&(-1===Tn(ue)||!this.isVisible(ue)))return!1;let Ie=j.nodeName.toLowerCase(),se=Tn(j);return j.hasAttribute("contenteditable")?-1!==se:!("iframe"===Ie||"object"===Ie||this._platform.WEBKIT&&this._platform.IOS&&!function En(K){let P=K.nodeName.toLowerCase(),j="input"===P&&K.type;return"text"===j||"password"===j||"select"===P||"textarea"===P}(j))&&("audio"===Ie?!!j.hasAttribute("controls")&&-1!==se:"video"===Ie?-1!==se&&(null!==se||this._platform.FIREFOX||j.hasAttribute("controls")):j.tabIndex>=0)}isFocusable(j,ue){return function On(K){return!function bt(K){return function at(K){return"input"==K.nodeName.toLowerCase()}(K)&&"hidden"==K.type}(K)&&(function St(K){let P=K.nodeName.toLowerCase();return"input"===P||"select"===P||"button"===P||"textarea"===P}(K)||function et(K){return function wn(K){return"a"==K.nodeName.toLowerCase()}(K)&&K.hasAttribute("href")}(K)||K.hasAttribute("contenteditable")||rn(K))}(j)&&!this.isDisabled(j)&&(ue?.ignoreVisibility||this.isVisible(j))}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(X.t4))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function rn(K){if(!K.hasAttribute("tabindex")||void 0===K.tabIndex)return!1;let P=K.getAttribute("tabindex");return!(!P||isNaN(parseInt(P,10)))}function Tn(K){if(!rn(K))return null;const P=parseInt(K.getAttribute("tabindex")||"",10);return isNaN(P)?-1:P}class Ei{get enabled(){return this._enabled}set enabled(P){this._enabled=P,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(P,this._startAnchor),this._toggleAnchorTabIndex(P,this._endAnchor))}constructor(P,j,ue,Ie,se=!1){this._element=P,this._checker=j,this._ngZone=ue,this._document=Ie,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,se||this.attachAnchors()}destroy(){const P=this._startAnchor,j=this._endAnchor;P&&(P.removeEventListener("focus",this.startAnchorListener),P.remove()),j&&(j.removeEventListener("focus",this.endAnchorListener),j.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(P){return new Promise(j=>{this._executeOnStable(()=>j(this.focusInitialElement(P)))})}focusFirstTabbableElementWhenReady(P){return new Promise(j=>{this._executeOnStable(()=>j(this.focusFirstTabbableElement(P)))})}focusLastTabbableElementWhenReady(P){return new Promise(j=>{this._executeOnStable(()=>j(this.focusLastTabbableElement(P)))})}_getRegionBoundary(P){const j=this._element.querySelectorAll(`[cdk-focus-region-${P}], [cdkFocusRegion${P}], [cdk-focus-${P}]`);return"start"==P?j.length?j[0]:this._getFirstTabbableElement(this._element):j.length?j[j.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(P){const j=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(j){if(!this._checker.isFocusable(j)){const ue=this._getFirstTabbableElement(j);return ue?.focus(P),!!ue}return j.focus(P),!0}return this.focusFirstTabbableElement(P)}focusFirstTabbableElement(P){const j=this._getRegionBoundary("start");return j&&j.focus(P),!!j}focusLastTabbableElement(P){const j=this._getRegionBoundary("end");return j&&j.focus(P),!!j}hasAttached(){return this._hasAttached}_getFirstTabbableElement(P){if(this._checker.isFocusable(P)&&this._checker.isTabbable(P))return P;const j=P.children;for(let ue=0;ue<j.length;ue++){const Ie=j[ue].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(j[ue]):null;if(Ie)return Ie}return null}_getLastTabbableElement(P){if(this._checker.isFocusable(P)&&this._checker.isTabbable(P))return P;const j=P.children;for(let ue=j.length-1;ue>=0;ue--){const Ie=j[ue].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(j[ue]):null;if(Ie)return Ie}return null}_createAnchor(){const P=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,P),P.classList.add("cdk-visually-hidden"),P.classList.add("cdk-focus-trap-anchor"),P.setAttribute("aria-hidden","true"),P}_toggleAnchorTabIndex(P,j){P?j.setAttribute("tabindex","0"):j.removeAttribute("tabindex")}toggleAnchors(P){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(P,this._startAnchor),this._toggleAnchorTabIndex(P,this._endAnchor))}_executeOnStable(P){this._ngZone.isStable?P():this._ngZone.onStable.pipe((0,nt.q)(1)).subscribe(P)}}let Hn=(()=>{class K{constructor(j,ue,Ie){this._checker=j,this._ngZone=ue,this._document=Ie}create(j,ue=!1){return new Ei(j,this._checker,this._ngZone,this._document,ue)}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(kt),h.LFG(h.R0b),h.LFG(_.K0))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function dn(K){return 0===K.buttons||0===K.offsetX&&0===K.offsetY}function yi(K){const P=K.touches&&K.touches[0]||K.changedTouches&&K.changedTouches[0];return!(!P||-1!==P.identifier||null!=P.radiusX&&1!==P.radiusX||null!=P.radiusY&&1!==P.radiusY)}const Wi=new h.OlP("cdk-input-modality-detector-options"),di={ignoreKeys:[ce.zL,ce.jx,ce.b2,ce.MW,ce.JU]},Ci=(0,X.i$)({passive:!0,capture:!0});let Sn=(()=>{class K{get mostRecentModality(){return this._modality.value}constructor(j,ue,Ie,se){this._platform=j,this._mostRecentTarget=null,this._modality=new Se.X(null),this._lastTouchMs=0,this._onKeydown=be=>{this._options?.ignoreKeys?.some(Fe=>Fe===be.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,X.sA)(be))},this._onMousedown=be=>{Date.now()-this._lastTouchMs<650||(this._modality.next(dn(be)?"keyboard":"mouse"),this._mostRecentTarget=(0,X.sA)(be))},this._onTouchstart=be=>{yi(be)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,X.sA)(be))},this._options={...di,...se},this.modalityDetected=this._modality.pipe((0,Ke.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,xt.x)()),j.isBrowser&&ue.runOutsideAngular(()=>{Ie.addEventListener("keydown",this._onKeydown,Ci),Ie.addEventListener("mousedown",this._onMousedown,Ci),Ie.addEventListener("touchstart",this._onTouchstart,Ci)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ci),document.removeEventListener("mousedown",this._onMousedown,Ci),document.removeEventListener("touchstart",this._onTouchstart,Ci))}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(X.t4),h.LFG(h.R0b),h.LFG(_.K0),h.LFG(Wi,8))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const on=new h.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Dt(){return null}}),Un=new h.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ot=0,Yt=(()=>{class K{constructor(j,ue,Ie,se){this._ngZone=ue,this._defaultOptions=se,this._document=Ie,this._liveElement=j||this._createLiveElement()}announce(j,...ue){const Ie=this._defaultOptions;let se,be;return 1===ue.length&&"number"==typeof ue[0]?be=ue[0]:[se,be]=ue,this.clear(),clearTimeout(this._previousTimeout),se||(se=Ie&&Ie.politeness?Ie.politeness:"polite"),null==be&&Ie&&(be=Ie.duration),this._liveElement.setAttribute("aria-live",se),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Fe=>this._currentResolve=Fe)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=j,"number"==typeof be&&(this._previousTimeout=setTimeout(()=>this.clear(),be)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const j="cdk-live-announcer-element",ue=this._document.getElementsByClassName(j),Ie=this._document.createElement("div");for(let se=0;se<ue.length;se++)ue[se].remove();return Ie.classList.add(j),Ie.classList.add("cdk-visually-hidden"),Ie.setAttribute("aria-atomic","true"),Ie.setAttribute("aria-live","polite"),Ie.id="cdk-live-announcer-"+Ot++,this._document.body.appendChild(Ie),Ie}_exposeAnnouncerToModals(j){const ue=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ie=0;Ie<ue.length;Ie++){const se=ue[Ie],be=se.getAttribute("aria-owns");be?-1===be.indexOf(j)&&se.setAttribute("aria-owns",be+" "+j):se.setAttribute("aria-owns",j)}}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(on,8),h.LFG(h.R0b),h.LFG(_.K0),h.LFG(Un,8))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const Nt=new h.OlP("cdk-focus-monitor-default-options"),Pn=(0,X.i$)({passive:!0,capture:!0});let Cn=(()=>{class K{constructor(j,ue,Ie,se,be){this._ngZone=j,this._platform=ue,this._inputModalityDetector=Ie,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ve.x,this._rootNodeFocusAndBlurListener=Fe=>{for(let Ye=(0,X.sA)(Fe);Ye;Ye=Ye.parentElement)"focus"===Fe.type?this._onFocus(Fe,Ye):this._onBlur(Fe,Ye)},this._document=se,this._detectionMode=be?.detectionMode||0}monitor(j,ue=!1){const Ie=(0,qe.fI)(j);if(!this._platform.isBrowser||1!==Ie.nodeType)return(0,we.of)(null);const se=(0,X.kV)(Ie)||this._getDocument(),be=this._elementInfo.get(Ie);if(be)return ue&&(be.checkChildren=!0),be.subject;const Fe={checkChildren:ue,subject:new ve.x,rootNode:se};return this._elementInfo.set(Ie,Fe),this._registerGlobalListeners(Fe),Fe.subject}stopMonitoring(j){const ue=(0,qe.fI)(j),Ie=this._elementInfo.get(ue);Ie&&(Ie.subject.complete(),this._setClasses(ue),this._elementInfo.delete(ue),this._removeGlobalListeners(Ie))}focusVia(j,ue,Ie){const se=(0,qe.fI)(j);se===this._getDocument().activeElement?this._getClosestElementsInfo(se).forEach(([Fe,ot])=>this._originChanged(Fe,ue,ot)):(this._setOrigin(ue),"function"==typeof se.focus&&se.focus(Ie))}ngOnDestroy(){this._elementInfo.forEach((j,ue)=>this.stopMonitoring(ue))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(j){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(j)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:j&&this._isLastInteractionFromInputLabel(j)?"mouse":"program"}_shouldBeAttributedToTouch(j){return 1===this._detectionMode||!!j?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(j,ue){j.classList.toggle("cdk-focused",!!ue),j.classList.toggle("cdk-touch-focused","touch"===ue),j.classList.toggle("cdk-keyboard-focused","keyboard"===ue),j.classList.toggle("cdk-mouse-focused","mouse"===ue),j.classList.toggle("cdk-program-focused","program"===ue)}_setOrigin(j,ue=!1){this._ngZone.runOutsideAngular(()=>{this._origin=j,this._originFromTouchInteraction="touch"===j&&ue,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(j,ue){const Ie=this._elementInfo.get(ue),se=(0,X.sA)(j);!Ie||!Ie.checkChildren&&ue!==se||this._originChanged(ue,this._getFocusOrigin(se),Ie)}_onBlur(j,ue){const Ie=this._elementInfo.get(ue);!Ie||Ie.checkChildren&&j.relatedTarget instanceof Node&&ue.contains(j.relatedTarget)||(this._setClasses(ue),this._emitOrigin(Ie,null))}_emitOrigin(j,ue){j.subject.observers.length&&this._ngZone.run(()=>j.subject.next(ue))}_registerGlobalListeners(j){if(!this._platform.isBrowser)return;const ue=j.rootNode,Ie=this._rootNodeFocusListenerCount.get(ue)||0;Ie||this._ngZone.runOutsideAngular(()=>{ue.addEventListener("focus",this._rootNodeFocusAndBlurListener,Pn),ue.addEventListener("blur",this._rootNodeFocusAndBlurListener,Pn)}),this._rootNodeFocusListenerCount.set(ue,Ie+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ht.R)(this._stopInputModalityDetector)).subscribe(se=>{this._setOrigin(se,!0)}))}_removeGlobalListeners(j){const ue=j.rootNode;if(this._rootNodeFocusListenerCount.has(ue)){const Ie=this._rootNodeFocusListenerCount.get(ue);Ie>1?this._rootNodeFocusListenerCount.set(ue,Ie-1):(ue.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Pn),ue.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Pn),this._rootNodeFocusListenerCount.delete(ue))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(j,ue,Ie){this._setClasses(j,ue),this._emitOrigin(Ie,ue),this._lastFocusOrigin=ue}_getClosestElementsInfo(j){const ue=[];return this._elementInfo.forEach((Ie,se)=>{(se===j||Ie.checkChildren&&se.contains(j))&&ue.push([se,Ie])}),ue}_isLastInteractionFromInputLabel(j){const{_mostRecentTarget:ue,mostRecentModality:Ie}=this._inputModalityDetector;if("mouse"!==Ie||!ue||ue===j||"INPUT"!==j.nodeName&&"TEXTAREA"!==j.nodeName||j.disabled)return!1;const se=j.labels;if(se)for(let be=0;be<se.length;be++)if(se[be].contains(ue))return!0;return!1}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(h.R0b),h.LFG(X.t4),h.LFG(Sn),h.LFG(_.K0,8),h.LFG(Nt,8))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const kn="cdk-high-contrast-black-on-white",Ai="cdk-high-contrast-white-on-black",ri="cdk-high-contrast-active";let $t=(()=>{class K{constructor(j,ue){this._platform=j,this._document=ue,this._breakpointSubscription=(0,h.f3M)(Ee.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const j=this._document.createElement("div");j.style.backgroundColor="rgb(1,2,3)",j.style.position="absolute",this._document.body.appendChild(j);const ue=this._document.defaultView||window,Ie=ue&&ue.getComputedStyle?ue.getComputedStyle(j):null,se=(Ie&&Ie.backgroundColor||"").replace(/ /g,"");switch(j.remove(),se){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const j=this._document.body.classList;j.remove(ri,kn,Ai),this._hasCheckedHighContrastMode=!0;const ue=this.getHighContrastMode();1===ue?j.add(ri,kn):2===ue&&j.add(ri,Ai)}}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(X.t4),h.LFG(_.K0))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),Re=(()=>{class K{constructor(j){j._applyBodyHighContrastModeCssClasses()}}return K.\u0275fac=function(j){return new(j||K)(h.LFG($t))},K.\u0275mod=h.oAB({type:K}),K.\u0275inj=h.cJS({imports:[Le.Q8]}),K})()},445:(Wt,Ge,O)=>{O.d(Ge,{Is:()=>we,vT:()=>xe});var _=O(4650),h=O(6895);const X=new _.OlP("cdk-dir-doc",{providedIn:"root",factory:function ve(){return(0,_.f3M)(h.K0)}}),Ae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let we=(()=>{class ie{constructor(me){this.value="ltr",this.change=new _.vpe,me&&(this.value=function Se(ie){const ye=ie?.toLowerCase()||"";return"auto"===ye&&typeof navigator<"u"&&navigator?.language?Ae.test(navigator.language)?"rtl":"ltr":"rtl"===ye?"rtl":"ltr"}((me.body?me.body.dir:null)||(me.documentElement?me.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return ie.\u0275fac=function(me){return new(me||ie)(_.LFG(X,8))},ie.\u0275prov=_.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),xe=(()=>{class ie{}return ie.\u0275fac=function(me){return new(me||ie)},ie.\u0275mod=_.oAB({type:ie}),ie.\u0275inj=_.cJS({}),ie})()},1281:(Wt,Ge,O)=>{O.d(Ge,{Eq:()=>Ae,HM:()=>Se,Ig:()=>h,fI:()=>we,su:()=>X});var _=O(4650);function h(xe){return null!=xe&&"false"!=`${xe}`}function X(xe,ie=0){return function ve(xe){return!isNaN(parseFloat(xe))&&!isNaN(Number(xe))}(xe)?Number(xe):ie}function Ae(xe){return Array.isArray(xe)?xe:[xe]}function Se(xe){return null==xe?"":"string"==typeof xe?xe:`${xe}px`}function we(xe){return xe instanceof _.SBq?xe.nativeElement:xe}},9521:(Wt,Ge,O)=>{O.d(Ge,{A:()=>bt,JH:()=>Ct,JU:()=>Se,K5:()=>Ae,Ku:()=>nt,LH:()=>Le,L_:()=>me,MW:()=>Un,Mf:()=>X,SV:()=>Ee,Sd:()=>ht,VM:()=>Ke,Vb:()=>Er,Z:()=>Dt,aO:()=>Et,b2:()=>ki,hY:()=>ye,jx:()=>we,oh:()=>qe,uR:()=>xt,xE:()=>Xe,zL:()=>ce});const X=9,Ae=13,Se=16,we=17,ce=18,ye=27,me=32,nt=33,Ke=34,xt=35,ht=36,qe=37,Le=38,Ee=39,Ct=40,Xe=48,Et=57,bt=65,Dt=90,Un=91,ki=224;function Er(Cr,...qn){return qn.length?qn.some(Hr=>Cr[Hr]):Cr.altKey||Cr.shiftKey||Cr.ctrlKey||Cr.metaKey}},2289:(Wt,Ge,O)=>{O.d(Ge,{Yg:()=>Ct,u3:()=>De,xu:()=>Ke});var _=O(4650),h=O(1281),X=O(7579),ve=O(9841),Ae=O(7272),Se=O(9751),we=O(5698),ce=O(5684),xe=O(8372),ie=O(4004),ye=O(8675),me=O(2722),nt=O(3353);let Ke=(()=>{class pe{}return pe.\u0275fac=function(Xe){return new(Xe||pe)},pe.\u0275mod=_.oAB({type:pe}),pe.\u0275inj=_.cJS({}),pe})();const xt=new Set;let ht,qe=(()=>{class pe{constructor(Xe){this._platform=Xe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ee}matchMedia(Xe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Le(pe){if(!xt.has(pe))try{ht||(ht=document.createElement("style"),ht.setAttribute("type","text/css"),document.head.appendChild(ht)),ht.sheet&&(ht.sheet.insertRule(`@media ${pe} {body{ }}`,0),xt.add(pe))}catch(ze){console.error(ze)}}(Xe),this._matchMedia(Xe)}}return pe.\u0275fac=function(Xe){return new(Xe||pe)(_.LFG(nt.t4))},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function Ee(pe){return{matches:"all"===pe||""===pe,media:pe,addListener:()=>{},removeListener:()=>{}}}let Ct=(()=>{class pe{constructor(Xe,ge){this._mediaMatcher=Xe,this._zone=ge,this._queries=new Map,this._destroySubject=new X.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Xe){return He((0,h.Eq)(Xe)).some(Ce=>this._registerQuery(Ce).mql.matches)}observe(Xe){const Ce=He((0,h.Eq)(Xe)).map(mt=>this._registerQuery(mt).observable);let $e=(0,ve.a)(Ce);return $e=(0,Ae.z)($e.pipe((0,we.q)(1)),$e.pipe((0,ce.T)(1),(0,xe.b)(0))),$e.pipe((0,ie.U)(mt=>{const en={matches:!1,breakpoints:{}};return mt.forEach(({matches:Pt,query:rt})=>{en.matches=en.matches||Pt,en.breakpoints[rt]=Pt}),en}))}_registerQuery(Xe){if(this._queries.has(Xe))return this._queries.get(Xe);const ge=this._mediaMatcher.matchMedia(Xe),$e={observable:new Se.y(mt=>{const en=Pt=>this._zone.run(()=>mt.next(Pt));return ge.addListener(en),()=>{ge.removeListener(en)}}).pipe((0,ye.O)(ge),(0,ie.U)(({matches:mt})=>({query:Xe,matches:mt})),(0,me.R)(this._destroySubject)),mql:ge};return this._queries.set(Xe,$e),$e}}return pe.\u0275fac=function(Xe){return new(Xe||pe)(_.LFG(qe),_.LFG(_.R0b))},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function He(pe){return pe.map(ze=>ze.split(",")).reduce((ze,Xe)=>ze.concat(Xe)).map(ze=>ze.trim())}const De={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(Wt,Ge,O)=>{O.d(Ge,{Q8:()=>xe,wD:()=>ce});var _=O(1281),h=O(4650),X=O(9751),ve=O(7579),Ae=O(8372);let Se=(()=>{class ie{create(me){return typeof MutationObserver>"u"?null:new MutationObserver(me)}}return ie.\u0275fac=function(me){return new(me||ie)},ie.\u0275prov=h.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),we=(()=>{class ie{constructor(me){this._mutationObserverFactory=me,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((me,nt)=>this._cleanupObserver(nt))}observe(me){const nt=(0,_.fI)(me);return new X.y(Ke=>{const ht=this._observeElement(nt).subscribe(Ke);return()=>{ht.unsubscribe(),this._unobserveElement(nt)}})}_observeElement(me){if(this._observedElements.has(me))this._observedElements.get(me).count++;else{const nt=new ve.x,Ke=this._mutationObserverFactory.create(xt=>nt.next(xt));Ke&&Ke.observe(me,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(me,{observer:Ke,stream:nt,count:1})}return this._observedElements.get(me).stream}_unobserveElement(me){this._observedElements.has(me)&&(this._observedElements.get(me).count--,this._observedElements.get(me).count||this._cleanupObserver(me))}_cleanupObserver(me){if(this._observedElements.has(me)){const{observer:nt,stream:Ke}=this._observedElements.get(me);nt&&nt.disconnect(),Ke.complete(),this._observedElements.delete(me)}}}return ie.\u0275fac=function(me){return new(me||ie)(h.LFG(Se))},ie.\u0275prov=h.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),ce=(()=>{class ie{get disabled(){return this._disabled}set disabled(me){this._disabled=(0,_.Ig)(me),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(me){this._debounce=(0,_.su)(me),this._subscribe()}constructor(me,nt,Ke){this._contentObserver=me,this._elementRef=nt,this._ngZone=Ke,this.event=new h.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const me=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?me.pipe((0,Ae.b)(this.debounce)):me).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return ie.\u0275fac=function(me){return new(me||ie)(h.Y36(we),h.Y36(h.SBq),h.Y36(h.R0b))},ie.\u0275dir=h.lG2({type:ie,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),ie})(),xe=(()=>{class ie{}return ie.\u0275fac=function(me){return new(me||ie)},ie.\u0275mod=h.oAB({type:ie}),ie.\u0275inj=h.cJS({providers:[Se]}),ie})()},3353:(Wt,Ge,O)=>{O.d(Ge,{Mq:()=>Ke,Oy:()=>He,_i:()=>xt,ht:()=>Ee,i$:()=>ye,kV:()=>Le,qK:()=>ce,sA:()=>Ct,t4:()=>ve});var _=O(4650),h=O(6895);let X;try{X=typeof Intl<"u"&&Intl.v8BreakIterator}catch{X=!1}let Se,ve=(()=>{class De{constructor(ze){this._platformId=ze,this.isBrowser=this._platformId?(0,h.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!X)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return De.\u0275fac=function(ze){return new(ze||De)(_.LFG(_.Lbi))},De.\u0275prov=_.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();const we=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ce(){if(Se)return Se;if("object"!=typeof document||!document)return Se=new Set(we),Se;let De=document.createElement("input");return Se=new Set(we.filter(pe=>(De.setAttribute("type",pe),De.type===pe))),Se}let xe,me,nt,ht;function ye(De){return function ie(){if(null==xe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xe=!0}))}finally{xe=xe||!1}return xe}()?De:!!De.capture}function Ke(){if(null==nt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return nt=!1,nt;if("scrollBehavior"in document.documentElement.style)nt=!0;else{const De=Element.prototype.scrollTo;nt=!!De&&!/\{\s*\[native code\]\s*\}/.test(De.toString())}}return nt}function xt(){if("object"!=typeof document||!document)return 0;if(null==me){const De=document.createElement("div"),pe=De.style;De.dir="rtl",pe.width="1px",pe.overflow="auto",pe.visibility="hidden",pe.pointerEvents="none",pe.position="absolute";const ze=document.createElement("div"),Xe=ze.style;Xe.width="2px",Xe.height="1px",De.appendChild(ze),document.body.appendChild(De),me=0,0===De.scrollLeft&&(De.scrollLeft=1,me=0===De.scrollLeft?1:2),De.remove()}return me}function Le(De){if(function qe(){if(null==ht){const De=typeof document<"u"?document.head:null;ht=!(!De||!De.createShadowRoot&&!De.attachShadow)}return ht}()){const pe=De.getRootNode?De.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&pe instanceof ShadowRoot)return pe}return null}function Ee(){let De=typeof document<"u"&&document?document.activeElement:null;for(;De&&De.shadowRoot;){const pe=De.shadowRoot.activeElement;if(pe===De)break;De=pe}return De}function Ct(De){return De.composedPath?De.composedPath()[0]:De.target}function He(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6895:(Wt,Ge,O)=>{O.d(Ge,{Do:()=>Ee,ED:()=>Rs,EM:()=>to,H9:()=>gs,HT:()=>ve,JF:()=>Qa,K0:()=>Se,Mx:()=>fn,NF:()=>pr,O5:()=>Hr,Ov:()=>Jn,PM:()=>as,RF:()=>tr,S$:()=>ht,V_:()=>xe,Ye:()=>Ct,b0:()=>Le,bD:()=>nr,ez:()=>eo,mk:()=>Or,n9:()=>ms,q:()=>X,sg:()=>Er,tP:()=>Ks,w_:()=>Ae});var _=O(4650);let h=null;function X(){return h}function ve(N){h||(h=N)}class Ae{}const Se=new _.OlP("DocumentToken");let we=(()=>{class N{historyGo(H){throw new Error("Not implemented")}}return N.\u0275fac=function(H){return new(H||N)},N.\u0275prov=_.Yz7({token:N,factory:function(){return function ce(){return(0,_.LFG)(ie)}()},providedIn:"platform"}),N})();const xe=new _.OlP("Location Initialized");let ie=(()=>{class N extends we{constructor(H){super(),this._doc=H,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(H){const oe=X().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("popstate",H,!1),()=>oe.removeEventListener("popstate",H)}onHashChange(H){const oe=X().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("hashchange",H,!1),()=>oe.removeEventListener("hashchange",H)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(H){this._location.pathname=H}pushState(H,oe,ke){ye()?this._history.pushState(H,oe,ke):this._location.hash=ke}replaceState(H,oe,ke){ye()?this._history.replaceState(H,oe,ke):this._location.hash=ke}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return N.\u0275fac=function(H){return new(H||N)(_.LFG(Se))},N.\u0275prov=_.Yz7({token:N,factory:function(){return function me(){return new ie((0,_.LFG)(Se))}()},providedIn:"platform"}),N})();function ye(){return!!window.history.pushState}function nt(N,J){if(0==N.length)return J;if(0==J.length)return N;let H=0;return N.endsWith("/")&&H++,J.startsWith("/")&&H++,2==H?N+J.substring(1):1==H?N+J:N+"/"+J}function Ke(N){const J=N.match(/#|\?|$/),H=J&&J.index||N.length;return N.slice(0,H-("/"===N[H-1]?1:0))+N.slice(H)}function xt(N){return N&&"?"!==N[0]?"?"+N:N}let ht=(()=>{class N{historyGo(H){throw new Error("Not implemented")}}return N.\u0275fac=function(H){return new(H||N)},N.\u0275prov=_.Yz7({token:N,factory:function(){return(0,_.f3M)(Le)},providedIn:"root"}),N})();const qe=new _.OlP("appBaseHref");let Le=(()=>{class N extends ht{constructor(H,oe){super(),this._platformLocation=H,this._removeListenerFns=[],this._baseHref=oe??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return nt(this._baseHref,H)}path(H=!1){const oe=this._platformLocation.pathname+xt(this._platformLocation.search),ke=this._platformLocation.hash;return ke&&H?`${oe}${ke}`:oe}pushState(H,oe,ke,wt){const Ut=this.prepareExternalUrl(ke+xt(wt));this._platformLocation.pushState(H,oe,Ut)}replaceState(H,oe,ke,wt){const Ut=this.prepareExternalUrl(ke+xt(wt));this._platformLocation.replaceState(H,oe,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return N.\u0275fac=function(H){return new(H||N)(_.LFG(we),_.LFG(qe,8))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Ee=(()=>{class N extends ht{constructor(H,oe){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=oe&&(this._baseHref=oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let oe=this._platformLocation.hash;return null==oe&&(oe="#"),oe.length>0?oe.substring(1):oe}prepareExternalUrl(H){const oe=nt(this._baseHref,H);return oe.length>0?"#"+oe:oe}pushState(H,oe,ke,wt){let Ut=this.prepareExternalUrl(ke+xt(wt));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.pushState(H,oe,Ut)}replaceState(H,oe,ke,wt){let Ut=this.prepareExternalUrl(ke+xt(wt));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.replaceState(H,oe,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return N.\u0275fac=function(H){return new(H||N)(_.LFG(we),_.LFG(qe,8))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac}),N})(),Ct=(()=>{class N{constructor(H){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=H;const oe=this._locationStrategy.getBaseHref();this._basePath=function ze(N){if(new RegExp("^(https?:)?//").test(N)){const[,H]=N.split(/\/\/[^\/]+/);return H}return N}(Ke(pe(oe))),this._locationStrategy.onPopState(ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:ke.state,type:ke.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(H=!1){return this.normalize(this._locationStrategy.path(H))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(H,oe=""){return this.path()==this.normalize(H+xt(oe))}normalize(H){return N.stripTrailingSlash(function De(N,J){if(!N||!J.startsWith(N))return J;const H=J.substring(N.length);return""===H||["/",";","?","#"].includes(H[0])?H:J}(this._basePath,pe(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._locationStrategy.prepareExternalUrl(H)}go(H,oe="",ke=null){this._locationStrategy.pushState(ke,"",H,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+xt(oe)),ke)}replaceState(H,oe="",ke=null){this._locationStrategy.replaceState(ke,"",H,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+xt(oe)),ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(H=0){this._locationStrategy.historyGo?.(H)}onUrlChange(H){return this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(oe=>{this._notifyUrlChangeListeners(oe.url,oe.state)})),()=>{const oe=this._urlChangeListeners.indexOf(H);this._urlChangeListeners.splice(oe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(H="",oe){this._urlChangeListeners.forEach(ke=>ke(H,oe))}subscribe(H,oe,ke){return this._subject.subscribe({next:H,error:oe,complete:ke})}}return N.normalizeQueryParams=xt,N.joinWithSlash=nt,N.stripTrailingSlash=Ke,N.\u0275fac=function(H){return new(H||N)(_.LFG(ht))},N.\u0275prov=_.Yz7({token:N,factory:function(){return function He(){return new Ct((0,_.LFG)(ht))}()},providedIn:"root"}),N})();function pe(N){return N.replace(/\/index.html$/,"")}const Xe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Percent=1]="Percent",ge[ge.Currency=2]="Currency",ge[ge.Scientific=3]="Scientific",ge))(),Pt=(()=>((Pt=Pt||{})[Pt.Decimal=0]="Decimal",Pt[Pt.Group=1]="Group",Pt[Pt.List=2]="List",Pt[Pt.PercentSign=3]="PercentSign",Pt[Pt.PlusSign=4]="PlusSign",Pt[Pt.MinusSign=5]="MinusSign",Pt[Pt.Exponential=6]="Exponential",Pt[Pt.SuperscriptingExponent=7]="SuperscriptingExponent",Pt[Pt.PerMille=8]="PerMille",Pt[Pt.Infinity=9]="Infinity",Pt[Pt.NaN=10]="NaN",Pt[Pt.TimeSeparator=11]="TimeSeparator",Pt[Pt.CurrencyDecimal=12]="CurrencyDecimal",Pt[Pt.CurrencyGroup=13]="CurrencyGroup",Pt))();function rn(N,J){const H=(0,_.cg1)(N),oe=H[_.wAp.NumberSymbols][J];if(typeof oe>"u"){if(J===Pt.CurrencyDecimal)return H[_.wAp.NumberSymbols][Pt.Decimal];if(J===Pt.CurrencyGroup)return H[_.wAp.NumberSymbols][Pt.Group]}return oe}const yi=2,Oe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,de=22,Be=".",yt="0",Lt=";",tn=",",Mn="#",Vt="\xa4";function $s(N,J,H,oe,ke){const Ut=function Ws(N,J="-"){const H={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},oe=N.split(Lt),ke=oe[0],wt=oe[1],Ut=-1!==ke.indexOf(Be)?ke.split(Be):[ke.substring(0,ke.lastIndexOf(yt)+1),ke.substring(ke.lastIndexOf(yt)+1)],gn=Ut[0],Ri=Ut[1]||"";H.posPre=gn.substring(0,gn.indexOf(Mn));for(let Kn=0;Kn<Ri.length;Kn++){const $n=Ri.charAt(Kn);$n===yt?H.minFrac=H.maxFrac=Kn+1:$n===Mn?H.maxFrac=Kn+1:H.posSuf+=$n}const At=gn.split(tn);if(H.gSize=At[1]?At[1].length:0,H.lgSize=At[2]||At[1]?(At[2]||At[1]).length:0,wt){const Kn=ke.length-H.posPre.length-H.posSuf.length,$n=wt.indexOf(Mn);H.negPre=wt.substring(0,$n).replace(/'/g,""),H.negSuf=wt.slice($n+Kn).replace(/'/g,"")}else H.negPre=J+H.posPre,H.negSuf=H.posSuf;return H}(function Tn(N,J){return(0,_.cg1)(N)[_.wAp.NumberFormats][J]}(J,ge.Currency),rn(J,Pt.MinusSign));return Ut.minFrac=function Wi(N){let J;const H=Xe[N];return H&&(J=H[2]),"number"==typeof J?J:yi}(oe),Ut.maxFrac=Ut.minFrac,function mr(N,J,H,oe,ke,wt,Ut=!1){let gn="",Ri=!1;if(isFinite(N)){let At=function bs(N){let oe,ke,wt,Ut,gn,J=Math.abs(N)+"",H=0;for((ke=J.indexOf(Be))>-1&&(J=J.replace(Be,"")),(wt=J.search(/e/i))>0?(ke<0&&(ke=wt),ke+=+J.slice(wt+1),J=J.substring(0,wt)):ke<0&&(ke=J.length),wt=0;J.charAt(wt)===yt;wt++);if(wt===(gn=J.length))oe=[0],ke=1;else{for(gn--;J.charAt(gn)===yt;)gn--;for(ke-=wt,oe=[],Ut=0;wt<=gn;wt++,Ut++)oe[Ut]=Number(J.charAt(wt))}return ke>de&&(oe=oe.splice(0,de-1),H=ke-1,ke=1),{digits:oe,exponent:H,integerLen:ke}}(N);Ut&&(At=function uo(N){if(0===N.digits[0])return N;const J=N.digits.length-N.integerLen;return N.exponent?N.exponent+=2:(0===J?N.digits.push(0,0):1===J&&N.digits.push(0),N.integerLen+=2),N}(At));let Kn=J.minInt,$n=J.minFrac,ir=J.maxFrac;if(wt){const Ht=wt.match(Oe);if(null===Ht)throw new Error(`${wt} is not a valid digit info`);const cr=Ht[1],Mo=Ht[3],Aa=Ht[5];null!=cr&&(Kn=ar(cr)),null!=Mo&&($n=ar(Mo)),null!=Aa?ir=ar(Aa):null!=Mo&&$n>ir&&(ir=$n)}!function ui(N,J,H){if(J>H)throw new Error(`The minimum number of digits after fraction (${J}) is higher than the maximum (${H}).`);let oe=N.digits,ke=oe.length-N.integerLen;const wt=Math.min(Math.max(J,ke),H);let Ut=wt+N.integerLen,gn=oe[Ut];if(Ut>0){oe.splice(Math.max(N.integerLen,Ut));for(let $n=Ut;$n<oe.length;$n++)oe[$n]=0}else{ke=Math.max(0,ke),N.integerLen=1,oe.length=Math.max(1,Ut=wt+1),oe[0]=0;for(let $n=1;$n<Ut;$n++)oe[$n]=0}if(gn>=5)if(Ut-1<0){for(let $n=0;$n>Ut;$n--)oe.unshift(0),N.integerLen++;oe.unshift(1),N.integerLen++}else oe[Ut-1]++;for(;ke<Math.max(0,wt);ke++)oe.push(0);let Ri=0!==wt;const At=J+N.integerLen,Kn=oe.reduceRight(function($n,ir,Xt,hn){return hn[Xt]=(ir+=$n)<10?ir:ir-10,Ri&&(0===hn[Xt]&&Xt>=At?hn.pop():Ri=!1),ir>=10?1:0},0);Kn&&(oe.unshift(Kn),N.integerLen++)}(At,$n,ir);let Xt=At.digits,hn=At.integerLen;const ds=At.exponent;let Jt=[];for(Ri=Xt.every(Ht=>!Ht);hn<Kn;hn++)Xt.unshift(0);for(;hn<0;hn++)Xt.unshift(0);hn>0?Jt=Xt.splice(hn,Xt.length):(Jt=Xt,Xt=[0]);const pt=[];for(Xt.length>=J.lgSize&&pt.unshift(Xt.splice(-J.lgSize,Xt.length).join(""));Xt.length>J.gSize;)pt.unshift(Xt.splice(-J.gSize,Xt.length).join(""));Xt.length&&pt.unshift(Xt.join("")),gn=pt.join(rn(H,oe)),Jt.length&&(gn+=rn(H,ke)+Jt.join("")),ds&&(gn+=rn(H,Pt.Exponential)+"+"+ds)}else gn=rn(H,Pt.Infinity);return gn=N<0&&!Ri?J.negPre+gn+J.negSuf:J.posPre+gn+J.posSuf,gn}(N,Ut,J,Pt.CurrencyGroup,Pt.CurrencyDecimal,ke).replace(Vt,H).replace(Vt,"").trim()}function ar(N){const J=parseInt(N);if(isNaN(J))throw new Error("Invalid integer literal when parsing "+N);return J}function fn(N,J){J=encodeURIComponent(J);for(const H of N.split(";")){const oe=H.indexOf("="),[ke,wt]=-1==oe?[H,""]:[H.slice(0,oe),H.slice(oe+1)];if(ke.trim()===J)return decodeURIComponent(wt)}return null}const Nn=/\s+/,Di=[];let Or=(()=>{class N{constructor(H,oe,ke,wt){this._iterableDiffers=H,this._keyValueDiffers=oe,this._ngEl=ke,this._renderer=wt,this.initialClasses=Di,this.stateMap=new Map}set klass(H){this.initialClasses=null!=H?H.trim().split(Nn):Di}set ngClass(H){this.rawClass="string"==typeof H?H.trim().split(Nn):H}ngDoCheck(){for(const oe of this.initialClasses)this._updateState(oe,!0);const H=this.rawClass;if(Array.isArray(H)||H instanceof Set)for(const oe of H)this._updateState(oe,!0);else if(null!=H)for(const oe of Object.keys(H))this._updateState(oe,Boolean(H[oe]));this._applyStateDiff()}_updateState(H,oe){const ke=this.stateMap.get(H);void 0!==ke?(ke.enabled!==oe&&(ke.changed=!0,ke.enabled=oe),ke.touched=!0):this.stateMap.set(H,{enabled:oe,changed:!0,touched:!0})}_applyStateDiff(){for(const H of this.stateMap){const oe=H[0],ke=H[1];ke.changed?(this._toggleClass(oe,ke.enabled),ke.changed=!1):ke.touched||(ke.enabled&&this._toggleClass(oe,!1),this.stateMap.delete(oe)),ke.touched=!1}}_toggleClass(H,oe){(H=H.trim()).length>0&&H.split(Nn).forEach(ke=>{oe?this._renderer.addClass(this._ngEl.nativeElement,ke):this._renderer.removeClass(this._ngEl.nativeElement,ke)})}}return N.\u0275fac=function(H){return new(H||N)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),N})();class ki{constructor(J,H,oe,ke){this.$implicit=J,this.ngForOf=H,this.index=oe,this.count=ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Er=(()=>{class N{set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}constructor(H,oe,ke){this._viewContainer=H,this._template=oe,this._differs=ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const oe=this._viewContainer;H.forEachOperation((ke,wt,Ut)=>{if(null==ke.previousIndex)oe.createEmbeddedView(this._template,new ki(ke.item,this._ngForOf,-1,-1),null===Ut?void 0:Ut);else if(null==Ut)oe.remove(null===wt?void 0:wt);else if(null!==wt){const gn=oe.get(wt);oe.move(gn,Ut),Cr(gn,ke)}});for(let ke=0,wt=oe.length;ke<wt;ke++){const gn=oe.get(ke).context;gn.index=ke,gn.count=wt,gn.ngForOf=this._ngForOf}H.forEachIdentityChange(ke=>{Cr(oe.get(ke.currentIndex),ke)})}static ngTemplateContextGuard(H,oe){return!0}}return N.\u0275fac=function(H){return new(H||N)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function Cr(N,J){N.context.$implicit=J.item}let Hr=(()=>{class N{constructor(H,oe){this._viewContainer=H,this._context=new ia,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=oe}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){Ea("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){Ea("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,oe){return!0}}return N.\u0275fac=function(H){return new(H||N)(_.Y36(_.s_b),_.Y36(_.Rgc))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class ia{constructor(){this.$implicit=null,this.ngIf=null}}function Ea(N,J){if(J&&!J.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,_.AaK)(J)}'.`)}class Dr{constructor(J,H){this._viewContainerRef=J,this._templateRef=H,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(J){J&&!this._created?this.create():!J&&this._created&&this.destroy()}}let tr=(()=>{class N{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(H){this._ngSwitch=H,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(H){this._defaultViews.push(H)}_matchCase(H){const oe=H==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||oe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),oe}_updateDefaultCases(H){if(this._defaultViews.length>0&&H!==this._defaultUsed){this._defaultUsed=H;for(const oe of this._defaultViews)oe.enforceState(H)}}}return N.\u0275fac=function(H){return new(H||N)},N.\u0275dir=_.lG2({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),N})(),ms=(()=>{class N{constructor(H,oe,ke){this.ngSwitch=ke,ke._addCase(),this._view=new Dr(H,oe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function(H){return new(H||N)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(tr,9))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),N})(),Rs=(()=>{class N{constructor(H,oe,ke){ke._addDefault(new Dr(H,oe))}}return N.\u0275fac=function(H){return new(H||N)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(tr,9))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngSwitchDefault",""]],standalone:!0}),N})(),Ks=(()=>{class N{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(H){if(H.ngTemplateOutlet||H.ngTemplateOutletInjector){const oe=this._viewContainerRef;if(this._viewRef&&oe.remove(oe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ke,ngTemplateOutletContext:wt,ngTemplateOutletInjector:Ut}=this;this._viewRef=oe.createEmbeddedView(ke,wt,Ut?{injector:Ut}:void 0)}else this._viewRef=null}else this._viewRef&&H.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return N.\u0275fac=function(H){return new(H||N)(_.Y36(_.s_b))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_.TTD]}),N})();function je(N,J){return new _.vHH(2100,!1)}class lt{createSubscription(J,H){return J.subscribe({next:H,error:oe=>{throw oe}})}dispose(J){J.unsubscribe()}}class Bt{createSubscription(J,H){return J.then(H,oe=>{throw oe})}dispose(J){}}const Zt=new Bt,mn=new lt;let Jn=(()=>{class N{constructor(H){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=H}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(H){return this._obj?H!==this._obj?(this._dispose(),this.transform(H)):this._latestValue:(H&&this._subscribe(H),this._latestValue)}_subscribe(H){this._obj=H,this._strategy=this._selectStrategy(H),this._subscription=this._strategy.createSubscription(H,oe=>this._updateLatestValue(H,oe))}_selectStrategy(H){if((0,_.QGY)(H))return Zt;if((0,_.F4k)(H))return mn;throw je()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(H,oe){H===this._obj&&(this._latestValue=oe,this._ref.markForCheck())}}return N.\u0275fac=function(H){return new(H||N)(_.Y36(_.sBO,16))},N.\u0275pipe=_.Yjl({name:"async",type:N,pure:!1,standalone:!0}),N})(),gs=(()=>{class N{constructor(H,oe="USD"){this._locale=H,this._defaultCurrencyCode=oe}transform(H,oe=this._defaultCurrencyCode,ke="symbol",wt,Ut){if(!function sa(N){return!(null==N||""===N||N!=N)}(H))return null;Ut=Ut||this._locale,"boolean"==typeof ke&&(ke=ke?"symbol":"code");let gn=oe||this._defaultCurrencyCode;"code"!==ke&&(gn="symbol"===ke||"symbol-narrow"===ke?function dn(N,J,H="en"){const oe=function Ei(N){return(0,_.cg1)(N)[_.wAp.Currencies]}(H)[N]||Xe[N]||[],ke=oe[1];return"narrow"===J&&"string"==typeof ke?ke:oe[0]||N}(gn,"symbol"===ke?"wide":"narrow",Ut):ke);try{return $s(function fo(N){if("string"==typeof N&&!isNaN(Number(N)-parseFloat(N)))return Number(N);if("number"!=typeof N)throw new Error(`${N} is not a number`);return N}(H),Ut,gn,oe,wt)}catch(Ri){throw je()}}}return N.\u0275fac=function(H){return new(H||N)(_.Y36(_.soG,16),_.Y36(_.EJc,16))},N.\u0275pipe=_.Yjl({name:"currency",type:N,pure:!0,standalone:!0}),N})();let eo=(()=>{class N{}return N.\u0275fac=function(H){return new(H||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({}),N})();const nr="browser",os="server";function pr(N){return N===nr}function as(N){return N===os}let to=(()=>{class N{}return N.\u0275prov=(0,_.Yz7)({token:N,providedIn:"root",factory:()=>new Gl((0,_.LFG)(Se),window)}),N})();class Gl{constructor(J,H){this.document=J,this.window=H,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const H=function Da(N,J){const H=N.getElementById(J)||N.getElementsByName(J)[0];if(H)return H;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const oe=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let ke=oe.currentNode;for(;ke;){const wt=ke.shadowRoot;if(wt){const Ut=wt.getElementById(J)||wt.querySelector(`[name="${J}"]`);if(Ut)return Ut}ke=oe.nextNode()}}return null}(this.document,J);H&&(this.scrollToElement(H),H.focus())}setHistoryScrollRestoration(J){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=J)}}scrollToElement(J){const H=J.getBoundingClientRect(),oe=H.left+this.window.pageXOffset,ke=H.top+this.window.pageYOffset,wt=this.offset();this.window.scrollTo(oe-wt[0],ke-wt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const J=no(this.window.history)||no(Object.getPrototypeOf(this.window.history));return!(!J||!J.writable&&!J.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function no(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class Qa{}},529:(Wt,Ge,O)=>{O.d(Ge,{JF:()=>ri,eN:()=>ft});var _=O(6895),h=O(4650),X=O(9646),ve=O(9751),Ae=O(4351),Se=O(9300),we=O(4004);class ce{}class xe{}class ie{constructor(P){this.normalizedNames=new Map,this.lazyUpdate=null,P?this.lazyInit="string"==typeof P?()=>{this.headers=new Map,P.split("\n").forEach(j=>{const ue=j.indexOf(":");if(ue>0){const Ie=j.slice(0,ue),se=Ie.toLowerCase(),be=j.slice(ue+1).trim();this.maybeSetNormalizedName(Ie,se),this.headers.has(se)?this.headers.get(se).push(be):this.headers.set(se,[be])}})}:()=>{this.headers=new Map,Object.keys(P).forEach(j=>{let ue=P[j];const Ie=j.toLowerCase();"string"==typeof ue&&(ue=[ue]),ue.length>0&&(this.headers.set(Ie,ue),this.maybeSetNormalizedName(j,Ie))})}:this.headers=new Map}has(P){return this.init(),this.headers.has(P.toLowerCase())}get(P){this.init();const j=this.headers.get(P.toLowerCase());return j&&j.length>0?j[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(P){return this.init(),this.headers.get(P.toLowerCase())||null}append(P,j){return this.clone({name:P,value:j,op:"a"})}set(P,j){return this.clone({name:P,value:j,op:"s"})}delete(P,j){return this.clone({name:P,value:j,op:"d"})}maybeSetNormalizedName(P,j){this.normalizedNames.has(j)||this.normalizedNames.set(j,P)}init(){this.lazyInit&&(this.lazyInit instanceof ie?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(P=>this.applyUpdate(P)),this.lazyUpdate=null))}copyFrom(P){P.init(),Array.from(P.headers.keys()).forEach(j=>{this.headers.set(j,P.headers.get(j)),this.normalizedNames.set(j,P.normalizedNames.get(j))})}clone(P){const j=new ie;return j.lazyInit=this.lazyInit&&this.lazyInit instanceof ie?this.lazyInit:this,j.lazyUpdate=(this.lazyUpdate||[]).concat([P]),j}applyUpdate(P){const j=P.name.toLowerCase();switch(P.op){case"a":case"s":let ue=P.value;if("string"==typeof ue&&(ue=[ue]),0===ue.length)return;this.maybeSetNormalizedName(P.name,j);const Ie=("a"===P.op?this.headers.get(j):void 0)||[];Ie.push(...ue),this.headers.set(j,Ie);break;case"d":const se=P.value;if(se){let be=this.headers.get(j);if(!be)return;be=be.filter(Fe=>-1===se.indexOf(Fe)),0===be.length?(this.headers.delete(j),this.normalizedNames.delete(j)):this.headers.set(j,be)}else this.headers.delete(j),this.normalizedNames.delete(j)}}forEach(P){this.init(),Array.from(this.normalizedNames.keys()).forEach(j=>P(this.normalizedNames.get(j),this.headers.get(j)))}}class me{encodeKey(P){return ht(P)}encodeValue(P){return ht(P)}decodeKey(P){return decodeURIComponent(P)}decodeValue(P){return decodeURIComponent(P)}}const Ke=/%(\d[a-f0-9])/gi,xt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ht(K){return encodeURIComponent(K).replace(Ke,(P,j)=>xt[j]??P)}function qe(K){return`${K}`}class Le{constructor(P={}){if(this.updates=null,this.cloneFrom=null,this.encoder=P.encoder||new me,P.fromString){if(P.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nt(K,P){const j=new Map;return K.length>0&&K.replace(/^\?/,"").split("&").forEach(Ie=>{const se=Ie.indexOf("="),[be,Fe]=-1==se?[P.decodeKey(Ie),""]:[P.decodeKey(Ie.slice(0,se)),P.decodeValue(Ie.slice(se+1))],ot=j.get(be)||[];ot.push(Fe),j.set(be,ot)}),j}(P.fromString,this.encoder)}else P.fromObject?(this.map=new Map,Object.keys(P.fromObject).forEach(j=>{const ue=P.fromObject[j],Ie=Array.isArray(ue)?ue.map(qe):[qe(ue)];this.map.set(j,Ie)})):this.map=null}has(P){return this.init(),this.map.has(P)}get(P){this.init();const j=this.map.get(P);return j?j[0]:null}getAll(P){return this.init(),this.map.get(P)||null}keys(){return this.init(),Array.from(this.map.keys())}append(P,j){return this.clone({param:P,value:j,op:"a"})}appendAll(P){const j=[];return Object.keys(P).forEach(ue=>{const Ie=P[ue];Array.isArray(Ie)?Ie.forEach(se=>{j.push({param:ue,value:se,op:"a"})}):j.push({param:ue,value:Ie,op:"a"})}),this.clone(j)}set(P,j){return this.clone({param:P,value:j,op:"s"})}delete(P,j){return this.clone({param:P,value:j,op:"d"})}toString(){return this.init(),this.keys().map(P=>{const j=this.encoder.encodeKey(P);return this.map.get(P).map(ue=>j+"="+this.encoder.encodeValue(ue)).join("&")}).filter(P=>""!==P).join("&")}clone(P){const j=new Le({encoder:this.encoder});return j.cloneFrom=this.cloneFrom||this,j.updates=(this.updates||[]).concat(P),j}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(P=>this.map.set(P,this.cloneFrom.map.get(P))),this.updates.forEach(P=>{switch(P.op){case"a":case"s":const j=("a"===P.op?this.map.get(P.param):void 0)||[];j.push(qe(P.value)),this.map.set(P.param,j);break;case"d":if(void 0===P.value){this.map.delete(P.param);break}{let ue=this.map.get(P.param)||[];const Ie=ue.indexOf(qe(P.value));-1!==Ie&&ue.splice(Ie,1),ue.length>0?this.map.set(P.param,ue):this.map.delete(P.param)}}}),this.cloneFrom=this.updates=null)}}class Ct{constructor(){this.map=new Map}set(P,j){return this.map.set(P,j),this}get(P){return this.map.has(P)||this.map.set(P,P.defaultValue()),this.map.get(P)}delete(P){return this.map.delete(P),this}has(P){return this.map.has(P)}keys(){return this.map.keys()}}function De(K){return typeof ArrayBuffer<"u"&&K instanceof ArrayBuffer}function pe(K){return typeof Blob<"u"&&K instanceof Blob}function ze(K){return typeof FormData<"u"&&K instanceof FormData}class ge{constructor(P,j,ue,Ie){let se;if(this.url=j,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=P.toUpperCase(),function He(K){switch(K){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ie?(this.body=void 0!==ue?ue:null,se=Ie):se=ue,se&&(this.reportProgress=!!se.reportProgress,this.withCredentials=!!se.withCredentials,se.responseType&&(this.responseType=se.responseType),se.headers&&(this.headers=se.headers),se.context&&(this.context=se.context),se.params&&(this.params=se.params)),this.headers||(this.headers=new ie),this.context||(this.context=new Ct),this.params){const be=this.params.toString();if(0===be.length)this.urlWithParams=j;else{const Fe=j.indexOf("?");this.urlWithParams=j+(-1===Fe?"?":Fe<j.length-1?"&":"")+be}}else this.params=new Le,this.urlWithParams=j}serializeBody(){return null===this.body?null:De(this.body)||pe(this.body)||ze(this.body)||function Xe(K){return typeof URLSearchParams<"u"&&K instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ze(this.body)?null:pe(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(P={}){const j=P.method||this.method,ue=P.url||this.url,Ie=P.responseType||this.responseType,se=void 0!==P.body?P.body:this.body,be=void 0!==P.withCredentials?P.withCredentials:this.withCredentials,Fe=void 0!==P.reportProgress?P.reportProgress:this.reportProgress;let ot=P.headers||this.headers,Ye=P.params||this.params;const sn=P.context??this.context;return void 0!==P.setHeaders&&(ot=Object.keys(P.setHeaders).reduce((Ne,Oe)=>Ne.set(Oe,P.setHeaders[Oe]),ot)),P.setParams&&(Ye=Object.keys(P.setParams).reduce((Ne,Oe)=>Ne.set(Oe,P.setParams[Oe]),Ye)),new ge(j,ue,se,{params:Ye,headers:ot,context:sn,reportProgress:Fe,responseType:Ie,withCredentials:be})}}var Ce=(()=>((Ce=Ce||{})[Ce.Sent=0]="Sent",Ce[Ce.UploadProgress=1]="UploadProgress",Ce[Ce.ResponseHeader=2]="ResponseHeader",Ce[Ce.DownloadProgress=3]="DownloadProgress",Ce[Ce.Response=4]="Response",Ce[Ce.User=5]="User",Ce))();class $e{constructor(P,j=200,ue="OK"){this.headers=P.headers||new ie,this.status=void 0!==P.status?P.status:j,this.statusText=P.statusText||ue,this.url=P.url||null,this.ok=this.status>=200&&this.status<300}}class mt extends $e{constructor(P={}){super(P),this.type=Ce.ResponseHeader}clone(P={}){return new mt({headers:P.headers||this.headers,status:void 0!==P.status?P.status:this.status,statusText:P.statusText||this.statusText,url:P.url||this.url||void 0})}}class en extends $e{constructor(P={}){super(P),this.type=Ce.Response,this.body=void 0!==P.body?P.body:null}clone(P={}){return new en({body:void 0!==P.body?P.body:this.body,headers:P.headers||this.headers,status:void 0!==P.status?P.status:this.status,statusText:P.statusText||this.statusText,url:P.url||this.url||void 0})}}class Pt extends $e{constructor(P){super(P,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${P.url||"(unknown url)"}`:`Http failure response for ${P.url||"(unknown url)"}: ${P.status} ${P.statusText}`,this.error=P.error||null}}function rt(K,P){return{body:P,headers:K.headers,context:K.context,observe:K.observe,params:K.params,reportProgress:K.reportProgress,responseType:K.responseType,withCredentials:K.withCredentials}}let ft=(()=>{class K{constructor(j){this.handler=j}request(j,ue,Ie={}){let se;if(j instanceof ge)se=j;else{let ot,Ye;ot=Ie.headers instanceof ie?Ie.headers:new ie(Ie.headers),Ie.params&&(Ye=Ie.params instanceof Le?Ie.params:new Le({fromObject:Ie.params})),se=new ge(j,ue,void 0!==Ie.body?Ie.body:null,{headers:ot,context:Ie.context,params:Ye,reportProgress:Ie.reportProgress,responseType:Ie.responseType||"json",withCredentials:Ie.withCredentials})}const be=(0,X.of)(se).pipe((0,Ae.b)(ot=>this.handler.handle(ot)));if(j instanceof ge||"events"===Ie.observe)return be;const Fe=be.pipe((0,Se.h)(ot=>ot instanceof en));switch(Ie.observe||"body"){case"body":switch(se.responseType){case"arraybuffer":return Fe.pipe((0,we.U)(ot=>{if(null!==ot.body&&!(ot.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ot.body}));case"blob":return Fe.pipe((0,we.U)(ot=>{if(null!==ot.body&&!(ot.body instanceof Blob))throw new Error("Response is not a Blob.");return ot.body}));case"text":return Fe.pipe((0,we.U)(ot=>{if(null!==ot.body&&"string"!=typeof ot.body)throw new Error("Response is not a string.");return ot.body}));default:return Fe.pipe((0,we.U)(ot=>ot.body))}case"response":return Fe;default:throw new Error(`Unreachable: unhandled observe type ${Ie.observe}}`)}}delete(j,ue={}){return this.request("DELETE",j,ue)}get(j,ue={}){return this.request("GET",j,ue)}head(j,ue={}){return this.request("HEAD",j,ue)}jsonp(j,ue){return this.request("JSONP",j,{params:(new Le).append(ue,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(j,ue={}){return this.request("OPTIONS",j,ue)}patch(j,ue,Ie={}){return this.request("PATCH",j,rt(Ie,ue))}post(j,ue,Ie={}){return this.request("POST",j,rt(Ie,ue))}put(j,ue,Ie={}){return this.request("PUT",j,rt(Ie,ue))}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(ce))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac}),K})();function Et(K,P){return P(K)}function kt(K,P){return(j,ue)=>P.intercept(j,{handle:Ie=>K(Ie,ue)})}const Rt=new h.OlP("HTTP_INTERCEPTORS"),St=new h.OlP("HTTP_INTERCEPTOR_FNS");function bt(){let K=null;return(P,j)=>(null===K&&(K=((0,h.f3M)(Rt,{optional:!0})??[]).reduceRight(kt,Et)),K(P,j))}let et=(()=>{class K extends ce{constructor(j,ue){super(),this.backend=j,this.injector=ue,this.chain=null}handle(j){if(null===this.chain){const ue=Array.from(new Set(this.injector.get(St)));this.chain=ue.reduceRight((Ie,se)=>function It(K,P,j){return(ue,Ie)=>j.runInContext(()=>P(ue,se=>K(se,Ie)))}(Ie,se,this.injector),Et)}return this.chain(j,ue=>this.backend.handle(ue))}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(xe),h.LFG(h.lqb))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac}),K})();const ii=/^\)\]\}',?\n/;let ci=(()=>{class K{constructor(j){this.xhrFactory=j}handle(j){if("JSONP"===j.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ve.y(ue=>{const Ie=this.xhrFactory.build();if(Ie.open(j.method,j.urlWithParams),j.withCredentials&&(Ie.withCredentials=!0),j.headers.forEach((de,Be)=>Ie.setRequestHeader(de,Be.join(","))),j.headers.has("Accept")||Ie.setRequestHeader("Accept","application/json, text/plain, */*"),!j.headers.has("Content-Type")){const de=j.detectContentTypeHeader();null!==de&&Ie.setRequestHeader("Content-Type",de)}if(j.responseType){const de=j.responseType.toLowerCase();Ie.responseType="json"!==de?de:"text"}const se=j.serializeBody();let be=null;const Fe=()=>{if(null!==be)return be;const de=Ie.statusText||"OK",Be=new ie(Ie.getAllResponseHeaders()),yt=function fi(K){return"responseURL"in K&&K.responseURL?K.responseURL:/^X-Request-URL:/m.test(K.getAllResponseHeaders())?K.getResponseHeader("X-Request-URL"):null}(Ie)||j.url;return be=new mt({headers:Be,status:Ie.status,statusText:de,url:yt}),be},ot=()=>{let{headers:de,status:Be,statusText:yt,url:Lt}=Fe(),tn=null;204!==Be&&(tn=typeof Ie.response>"u"?Ie.responseText:Ie.response),0===Be&&(Be=tn?200:0);let Mn=Be>=200&&Be<300;if("json"===j.responseType&&"string"==typeof tn){const Vt=tn;tn=tn.replace(ii,"");try{tn=""!==tn?JSON.parse(tn):null}catch(qr){tn=Vt,Mn&&(Mn=!1,tn={error:qr,text:tn})}}Mn?(ue.next(new en({body:tn,headers:de,status:Be,statusText:yt,url:Lt||void 0})),ue.complete()):ue.error(new Pt({error:tn,headers:de,status:Be,statusText:yt,url:Lt||void 0}))},Ye=de=>{const{url:Be}=Fe(),yt=new Pt({error:de,status:Ie.status||0,statusText:Ie.statusText||"Unknown Error",url:Be||void 0});ue.error(yt)};let sn=!1;const Ne=de=>{sn||(ue.next(Fe()),sn=!0);let Be={type:Ce.DownloadProgress,loaded:de.loaded};de.lengthComputable&&(Be.total=de.total),"text"===j.responseType&&Ie.responseText&&(Be.partialText=Ie.responseText),ue.next(Be)},Oe=de=>{let Be={type:Ce.UploadProgress,loaded:de.loaded};de.lengthComputable&&(Be.total=de.total),ue.next(Be)};return Ie.addEventListener("load",ot),Ie.addEventListener("error",Ye),Ie.addEventListener("timeout",Ye),Ie.addEventListener("abort",Ye),j.reportProgress&&(Ie.addEventListener("progress",Ne),null!==se&&Ie.upload&&Ie.upload.addEventListener("progress",Oe)),Ie.send(se),ue.next({type:Ce.Sent}),()=>{Ie.removeEventListener("error",Ye),Ie.removeEventListener("abort",Ye),Ie.removeEventListener("load",ot),Ie.removeEventListener("timeout",Ye),j.reportProgress&&(Ie.removeEventListener("progress",Ne),null!==se&&Ie.upload&&Ie.upload.removeEventListener("progress",Oe)),Ie.readyState!==Ie.DONE&&Ie.abort()}})}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(_.JF))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac}),K})();const ai=new h.OlP("XSRF_ENABLED"),yi=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),di=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class pi{}let Ci=(()=>{class K{constructor(j,ue,Ie){this.doc=j,this.platform=ue,this.cookieName=Ie,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const j=this.doc.cookie||"";return j!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_.Mx)(j,this.cookieName),this.lastCookieString=j),this.lastToken}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(_.K0),h.LFG(h.Lbi),h.LFG(yi))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac}),K})();function Sn(K,P){const j=K.url.toLowerCase();if(!(0,h.f3M)(ai)||"GET"===K.method||"HEAD"===K.method||j.startsWith("http://")||j.startsWith("https://"))return P(K);const ue=(0,h.f3M)(pi).getToken(),Ie=(0,h.f3M)(di);return null!=ue&&!K.headers.has(Ie)&&(K=K.clone({headers:K.headers.set(Ie,ue)})),P(K)}var Dt=(()=>((Dt=Dt||{})[Dt.Interceptors=0]="Interceptors",Dt[Dt.LegacyInterceptors=1]="LegacyInterceptors",Dt[Dt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Dt[Dt.NoXsrfProtection=3]="NoXsrfProtection",Dt[Dt.JsonpSupport=4]="JsonpSupport",Dt[Dt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Dt))();function Un(K,P){return{\u0275kind:K,\u0275providers:P}}function Ot(...K){const P=[ft,ci,et,{provide:ce,useExisting:et},{provide:xe,useExisting:ci},{provide:St,useValue:Sn,multi:!0},{provide:ai,useValue:!0},{provide:pi,useClass:Ci}];for(const j of K)P.push(...j.\u0275providers);return(0,h.MR2)(P)}const st=new h.OlP("LEGACY_INTERCEPTOR_FN");let ri=(()=>{class K{}return K.\u0275fac=function(j){return new(j||K)},K.\u0275mod=h.oAB({type:K}),K.\u0275inj=h.cJS({providers:[Ot(Un(Dt.LegacyInterceptors,[{provide:st,useFactory:bt},{provide:St,useExisting:st,multi:!0}]))]}),K})()},4650:(Wt,Ge,O)=>{O.d(Ge,{$8M:()=>Vs,$WT:()=>ws,$Z:()=>kg,AFp:()=>Zw,ALo:()=>H0,AaK:()=>ce,BQk:()=>cm,CHM:()=>vi,CRH:()=>Ib,CZH:()=>nv,CqO:()=>Cy,D6c:()=>Hb,EJc:()=>iE,EiD:()=>Xn,EpF:()=>xy,F$t:()=>Tp,F4k:()=>Ey,FYo:()=>$f,FiY:()=>ua,Gf:()=>Xy,GfV:()=>gv,GkF:()=>tf,Gpc:()=>ye,Gre:()=>Ry,Hsn:()=>ns,Ikx:()=>su,JOm:()=>Ol,JVY:()=>Lf,JZr:()=>ht,KtG:()=>Ii,L6k:()=>qm,LAX:()=>Uf,LFG:()=>$t,LSH:()=>Mh,Lbi:()=>Jx,Lck:()=>B0,MAs:()=>vy,MGl:()=>bo,MMx:()=>t,MR2:()=>Vd,NdJ:()=>Ji,O4$:()=>rl,OlP:()=>ur,Oqu:()=>af,P3R:()=>Qm,PXZ:()=>lx,Q6J:()=>Ip,QGY:()=>dm,QbO:()=>eE,Qsj:()=>Y_,R0b:()=>ud,RDi:()=>Th,Rgc:()=>Am,SBq:()=>Nh,Sil:()=>sE,Suo:()=>Db,TTD:()=>Hi,TgZ:()=>Sp,Udp:()=>eb,VKq:()=>Yr,W1O:()=>Ow,WFA:()=>Zi,WLB:()=>wa,X6Q:()=>xE,XFs:()=>dn,Xpm:()=>Vt,Xts:()=>dg,Y36:()=>nd,YKP:()=>vb,YNc:()=>Kv,Yjl:()=>bs,Yz7:()=>rn,Z0I:()=>Vn,ZZ4:()=>pw,_Bn:()=>yf,_UZ:()=>lm,_Vd:()=>Ph,_c5:()=>RE,_uU:()=>My,aQg:()=>hd,c2e:()=>tE,cJS:()=>En,cg1:()=>Kr,d8E:()=>uf,dDg:()=>ix,dqk:()=>Sn,eBb:()=>Bf,eFA:()=>dx,eJc:()=>P_,ekj:()=>Jr,eoX:()=>rx,f3M:()=>K,g9A:()=>Xw,h0i:()=>vf,hGG:()=>OE,hij:()=>lf,iGM:()=>Y0,ifc:()=>Ye,ip1:()=>qw,jDz:()=>c,kL8:()=>mf,kcU:()=>Vc,lG2:()=>uo,lcZ:()=>Tw,lqb:()=>Fu,lri:()=>N_,mCW:()=>Ec,n5z:()=>al,n_E:()=>R_,oAB:()=>fs,oxw:()=>e_,pB0:()=>Xi,q3G:()=>Mr,q4F:()=>Fo,qLn:()=>Uu,qOj:()=>Gu,qZA:()=>Yu,qzn:()=>Qo,rWj:()=>nx,sBO:()=>JE,s_b:()=>xb,soG:()=>Nb,tBr:()=>Fa,tb:()=>ox,tp0:()=>fl,uIk:()=>Ep,vHH:()=>qe,vpe:()=>cu,wAp:()=>ei,xi3:()=>j0,xp6:()=>Lh,ynx:()=>tu,z2F:()=>ow,z3N:()=>_a,zSh:()=>jd,zs3:()=>td});var _=O(7579),h=O(727),X=O(9751),ve=O(6451),Ae=O(3099);function Se(o){for(let l in o)if(o[l]===Se)return l;throw Error("Could not find renamed property on target object.")}function we(o,l){for(const d in l)l.hasOwnProperty(d)&&!o.hasOwnProperty(d)&&(o[d]=l[d])}function ce(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ce).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function xe(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const ie=Se({__forward_ref__:Se});function ye(o){return o.__forward_ref__=ye,o.toString=function(){return ce(this())},o}function me(o){return nt(o)?o():o}function nt(o){return"function"==typeof o&&o.hasOwnProperty(ie)&&o.__forward_ref__===ye}function Ke(o){return o&&!!o.\u0275providers}const ht="https://g.co/ng/security#xss";class qe extends Error{constructor(l,d){super(Le(l,d)),this.code=l}}function Le(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}function Ee(o){return"string"==typeof o?o:null==o?"":String(o)}function ze(o,l){throw new qe(-201,!1)}function St(o,l){null==o&&function bt(o,l,d,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${d} ${f} ${l} <=Actual]`))}(l,o,null,"!=")}function rn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function En(o){return{providers:o.providers||[],imports:o.imports||[]}}function On(o){return Ei(o,ii)||Ei(o,ci)}function Vn(o){return null!==On(o)}function Ei(o,l){return o.hasOwnProperty(l)?o[l]:null}function _n(o){return o&&(o.hasOwnProperty(fi)||o.hasOwnProperty(ai))?o[fi]:null}const ii=Se({\u0275prov:Se}),fi=Se({\u0275inj:Se}),ci=Se({ngInjectableDef:Se}),ai=Se({ngInjectorDef:Se});var dn=(()=>((dn=dn||{})[dn.Default=0]="Default",dn[dn.Host=1]="Host",dn[dn.Self=2]="Self",dn[dn.SkipSelf=4]="SkipSelf",dn[dn.Optional=8]="Optional",dn))();let yi;function di(o){const l=yi;return yi=o,l}function pi(o,l,d){const f=On(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&dn.Optional?null:void 0!==l?l:void ze(ce(o))}const Sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ot={},Yt="__NG_DI_FLAG__",st="ngTempTokenPath",Nt="ngTokenPath",Pn=/\n/gm,Cn="\u0275",Ui="__source";let kn;function Ai(o){const l=kn;return kn=o,l}function ri(o,l=dn.Default){if(void 0===kn)throw new qe(-203,!1);return null===kn?pi(o,void 0,l):kn.get(o,l&dn.Optional?null:void 0,l)}function $t(o,l=dn.Default){return(function Wi(){return yi}()||ri)(me(o),l)}function K(o,l=dn.Default){return $t(o,P(l))}function P(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function j(o){const l=[];for(let d=0;d<o.length;d++){const f=me(o[d]);if(Array.isArray(f)){if(0===f.length)throw new qe(900,!1);let g,w=dn.Default;for(let I=0;I<f.length;I++){const R=f[I],U=Ie(R);"number"==typeof U?-1===U?g=R.token:w|=U:g=R}l.push($t(g,w))}else l.push($t(f))}return l}function ue(o,l){return o[Yt]=l,o.prototype[Yt]=l,o}function Ie(o){return o[Yt]}function Fe(o){return{toString:o}.toString()}var ot=(()=>((ot=ot||{})[ot.OnPush=0]="OnPush",ot[ot.Default=1]="Default",ot))(),Ye=(()=>{return(o=Ye||(Ye={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Ye;var o})();const sn={},Ne=[],Oe=Se({\u0275cmp:Se}),de=Se({\u0275dir:Se}),Be=Se({\u0275pipe:Se}),yt=Se({\u0275mod:Se}),Lt=Se({\u0275fac:Se}),tn=Se({__NG_ELEMENT_ID__:Se});let Mn=0;function Vt(o){return Fe(()=>{const d=!0===o.standalone,f={},g={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ot.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Ne,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ye.Emulated,id:"c"+Mn++,styles:o.styles||Ne,_:null,setInput:null,schemas:o.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},w=o.dependencies,I=o.features;return g.inputs=Ws(o.inputs,f),g.outputs=Ws(o.outputs),I&&I.forEach(R=>R(g)),g.directiveDefs=w?()=>("function"==typeof w?w():w).map(mr).filter($s):null,g.pipeDefs=w?()=>("function"==typeof w?w():w).map(qi).filter($s):null,g})}function mr(o){return ui(o)||ar(o)}function $s(o){return null!==o}function fs(o){return Fe(()=>({type:o.type,bootstrap:o.bootstrap||Ne,declarations:o.declarations||Ne,imports:o.imports||Ne,exports:o.exports||Ne,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Ws(o,l){if(null==o)return sn;const d={};for(const f in o)if(o.hasOwnProperty(f)){let g=o[f],w=g;Array.isArray(g)&&(w=g[1],g=g[0]),d[g]=f,l&&(l[g]=w)}return d}const uo=Vt;function bs(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function ui(o){return o[Oe]||null}function ar(o){return o[de]||null}function qi(o){return o[Be]||null}function ws(o){const l=ui(o)||ar(o)||qi(o);return null!==l&&l.standalone}function is(o,l){const d=o[yt]||null;if(!d&&!0===l)throw new Error(`Type ${ce(o)} does not have '\u0275mod' property.`);return d}const Mi=0,fn=1,Nn=2,Di=3,Or=4,rs=5,Gn=6,Ki=7,ki=8,Er=9,Cr=10,qn=11,Hr=12,ia=13,Ea=14,Dr=15,tr=16,ms=17,Rs=18,es=19,xs=20,Ir=21,Vi=22,Qe=1,je=2,lt=7,Bt=8,Zt=9,mn=10;function Wn(o){return Array.isArray(o)&&"object"==typeof o[Qe]}function ti(o){return Array.isArray(o)&&!0===o[Qe]}function lr(o){return 0!=(4&o.flags)}function Pr(o){return o.componentOffset>-1}function Nr(o){return 1==(1&o.flags)}function ps(o){return null!==o.template}function Ya(o){return 0!=(256&o[Nn])}function pr(o,l){return o.hasOwnProperty(Lt)?o[Lt]:null}class as{constructor(l,d,f){this.previousValue=l,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function Hi(){return Ps}function Ps(o){return o.type.prototype.ngOnChanges&&(o.setInput=to),mo}function mo(){const o=no(this),l=o?.current;if(l){const d=o.previous;if(d===sn)o.previous=l;else for(let f in l)d[f]=l[f];o.current=null,this.ngOnChanges(l)}}function to(o,l,d,f){const g=this.declaredInputs[d],w=no(o)||function Da(o,l){return o[Gl]=l}(o,{previous:sn,current:null}),I=w.current||(w.current={}),R=w.previous,U=R[g];I[g]=new as(U&&U.currentValue,l,R===sn),o[f]=l}Hi.ngInherit=!0;const Gl="__ngSimpleChanges__";function no(o){return o[Gl]||null}const Zr=function(o,l,d){},Ns="svg";function mi(o){for(;Array.isArray(o);)o=o[Mi];return o}function io(o,l){return mi(l[o])}function ji(o,l){return mi(l[o.index])}function oa(o,l){return o.data[l]}function ro(o,l){return o[l]}function gr(o,l){const d=l[o];return Wn(d)?d:d[Mi]}function So(o){return 64==(64&o[Nn])}function cs(o,l){return null==l?null:o[l]}function Cl(o){o[Rs]=0}function la(o,l){o[rs]+=l;let d=o,f=o[Di];for(;null!==f&&(1===l&&1===d[rs]||-1===l&&0===d[rs]);)f[rs]+=l,d=f,f=f[Di]}const Ln={lFrame:Ta(null),bindingsEnabled:!0};function z(){return Ln.bindingsEnabled}function ut(){return Ln.lFrame.lView}function Bn(){return Ln.lFrame.tView}function vi(o){return Ln.lFrame.contextLView=o,o[ki]}function Ii(o){return Ln.lFrame.contextLView=null,o}function br(){let o=Wl();for(;null!==o&&64===o.type;)o=o.parent;return o}function Wl(){return Ln.lFrame.currentTNode}function Cs(o,l){const d=Ln.lFrame;d.currentTNode=o,d.isParent=l}function Dl(){return Ln.lFrame.isParent}function Il(){Ln.lFrame.isParent=!1}function Qi(){const o=Ln.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function Ds(){return Ln.lFrame.bindingIndex++}function Qr(o){const l=Ln.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,d}function Al(o,l){const d=Ln.lFrame;d.bindingIndex=d.bindingRootIndex=o,el(l)}function el(o){Ln.lFrame.currentDirectiveIndex=o}function tl(o){const l=Ln.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function Ml(){return Ln.lFrame.currentQueryIndex}function $o(o){Ln.lFrame.currentQueryIndex=o}function nl(o){const l=o[fn];return 2===l.type?l.declTNode:1===l.type?o[Gn]:null}function il(o,l,d){if(d&dn.SkipSelf){let g=l,w=o;for(;!(g=g.parent,null!==g||d&dn.Host||(g=nl(w),null===g||(w=w[Dr],10&g.type))););if(null===g)return!1;l=g,o=w}const f=Ln.lFrame=Sa();return f.currentTNode=l,f.lView=o,!0}function Wo(o){const l=Sa(),d=o[fn];Ln.lFrame=l,l.currentTNode=d.firstChild,l.lView=o,l.tView=d,l.contextLView=o,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function Sa(){const o=Ln.lFrame,l=null===o?null:o.child;return null===l?Ta(o):l}function Ta(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function Kl(){const o=Ln.lFrame;return Ln.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const vc=Kl;function Uc(){const o=Kl();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ts(){return Ln.lFrame.selectedIndex}function Ao(o){Ln.lFrame.selectedIndex=o}function _r(){const o=Ln.lFrame;return oa(o.tView,o.selectedIndex)}function rl(){Ln.lFrame.currentNamespace=Ns}function Vc(){!function da(){Ln.lFrame.currentNamespace=null}()}function _s(o,l){for(let d=l.directiveStart,f=l.directiveEnd;d<f;d++){const w=o.data[d].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:R,ngAfterViewInit:U,ngAfterViewChecked:ee,ngOnDestroy:ae}=w;I&&(o.contentHooks||(o.contentHooks=[])).push(-d,I),R&&((o.contentHooks||(o.contentHooks=[])).push(d,R),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(d,R)),U&&(o.viewHooks||(o.viewHooks=[])).push(-d,U),ee&&((o.viewHooks||(o.viewHooks=[])).push(d,ee),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(d,ee)),null!=ae&&(o.destroyHooks||(o.destroyHooks=[])).push(d,ae)}}function sl(o,l,d){Hc(o,l,3,d)}function Yl(o,l,d,f){(3&o[Nn])===d&&Hc(o,l,d,f)}function md(o,l){let d=o[Nn];(3&d)===l&&(d&=2047,d+=1,o[Nn]=d)}function Hc(o,l,d,f){const w=f??-1,I=l.length-1;let R=0;for(let U=void 0!==f?65535&o[Rs]:0;U<I;U++)if("number"==typeof l[U+1]){if(R=l[U],null!=f&&R>=f)break}else l[U]<0&&(o[Rs]+=65536),(R<w||-1==w)&&(N(o,d,l,U),o[Rs]=(4294901760&o[Rs])+U+2),U++}function N(o,l,d,f){const g=d[f]<0,w=d[f+1],R=o[g?-d[f]:d[f]];if(g){if(o[Nn]>>11<o[Rs]>>16&&(3&o[Nn])===l){o[Nn]+=2048,Zr(4,R,w);try{w.call(R)}finally{Zr(5,R,w)}}}else{Zr(4,R,w);try{w.call(R)}finally{Zr(5,R,w)}}}const J=-1;class H{constructor(l,d,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function $n(o,l,d){let f=0;for(;f<d.length;){const g=d[f];if("number"==typeof g){if(0!==g)break;f++;const w=d[f++],I=d[f++],R=d[f++];o.setAttribute(l,I,R,w)}else{const w=g,I=d[++f];Xt(w)?o.setProperty(l,w,I):o.setAttribute(l,w,I),f++}}return f}function ir(o){return 3===o||4===o||6===o}function Xt(o){return 64===o.charCodeAt(0)}function hn(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let d=-1;for(let f=0;f<l.length;f++){const g=l[f];"number"==typeof g?d=g:0===d||ds(o,d,g,null,-1===d||2===d?l[++f]:null)}}return o}function ds(o,l,d,f,g){let w=0,I=o.length;if(-1===l)I=-1;else for(;w<o.length;){const R=o[w++];if("number"==typeof R){if(R===l){I=-1;break}if(R>l){I=w-1;break}}}for(;w<o.length;){const R=o[w];if("number"==typeof R)break;if(R===d){if(null===f)return void(null!==g&&(o[w+1]=g));if(f===o[w+1])return void(o[w+2]=g)}w++,null!==f&&w++,null!==g&&w++}-1!==I&&(o.splice(I,0,l),w=I+1),o.splice(w++,0,d),null!==f&&o.splice(w++,0,f),null!==g&&o.splice(w++,0,g)}function Jt(o){return o!==J}function pt(o){return 32767&o}function cr(o,l){let d=function Ht(o){return o>>16}(o),f=l;for(;d>0;)f=f[Dr],d--;return f}let Mo=!0;function Aa(o){const l=Mo;return Mo=o,l}const pd=255,Ma=5;let Cf=0;const Is={};function so(o,l){const d=ol(o,l);if(-1!==d)return d;const f=l[fn];f.firstCreatePass&&(o.injectorIndex=l.length,ql(f.data,o),ql(l,null),ql(f.blueprint,null));const g=Yn(o,l),w=o.injectorIndex;if(Jt(g)){const I=pt(g),R=cr(g,l),U=R[fn].data;for(let ee=0;ee<8;ee++)l[w+ee]=R[I+ee]|U[I+ee]}return l[w+8]=g,w}function ql(o,l){o.push(0,0,0,0,0,0,0,0,l)}function ol(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Yn(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let d=0,f=null,g=l;for(;null!==g;){if(f=ll(g),null===f)return J;if(d++,g=g[Dr],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return J}function Sr(o,l,d){!function pu(o,l,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(tn)&&(f=d[tn]),null==f&&(f=d[tn]=Cf++);const g=f&pd;l.data[o+(g>>Ma)]|=1<<g}(o,l,d)}function Oi(o,l,d){if(d&dn.Optional||void 0!==o)return o;ze()}function Rn(o,l,d,f){if(d&dn.Optional&&void 0===f&&(f=null),!(d&(dn.Self|dn.Host))){const g=o[Er],w=di(void 0);try{return g?g.get(l,f,d&dn.Optional):pi(l,f,d&dn.Optional)}finally{di(w)}}return Oi(f,0,d)}function ka(o,l,d,f=dn.Default,g){if(null!==o){if(1024&l[Nn]){const I=function ko(o,l,d,f,g){let w=o,I=l;for(;null!==w&&null!==I&&1024&I[Nn]&&!(256&I[Nn]);){const R=gi(w,I,d,f|dn.Self,Is);if(R!==Is)return R;let U=w.parent;if(!U){const ee=I[Ir];if(ee){const ae=ee.get(d,Is,f);if(ae!==Is)return ae}U=ll(I),I=I[Dr]}w=U}return g}(o,l,d,f,Is);if(I!==Is)return I}const w=gi(o,l,d,f,Is);if(w!==Is)return w}return Rn(l,d,f,g)}function gi(o,l,d,f,g){const w=function qs(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(tn)?o[tn]:void 0;return"number"==typeof l?l>=0?l&pd:zr:l}(d);if("function"==typeof w){if(!il(l,o,f))return f&dn.Host?Oi(g,0,f):Rn(l,d,f,g);try{const I=w(f);if(null!=I||f&dn.Optional)return I;ze()}finally{vc()}}else if("number"==typeof w){let I=null,R=ol(o,l),U=J,ee=f&dn.Host?l[tr][Gn]:null;for((-1===R||f&dn.SkipSelf)&&(U=-1===R?Yn(o,l):l[R+8],U!==J&&Fr(f,!1)?(I=l[fn],R=pt(U),l=cr(U,l)):R=-1);-1!==R;){const ae=l[fn];if(Us(w,R,ae.data)){const Me=jc(R,l,d,I,f,ee);if(Me!==Is)return Me}U=l[R+8],U!==J&&Fr(f,l[fn].data[R+8]===ee)&&Us(w,R,l)?(I=ae,R=pt(U),l=cr(U,l)):R=-1}}return g}function jc(o,l,d,f,g,w){const I=l[fn],R=I.data[o+8],ae=dr(R,I,d,null==f?Pr(R)&&Mo:f!=I&&0!=(3&R.type),g&dn.Host&&w===R);return null!==ae?cn(l,I,ae,R):Is}function dr(o,l,d,f,g){const w=o.providerIndexes,I=l.data,R=1048575&w,U=o.directiveStart,ae=w>>20,Je=g?R+ae:o.directiveEnd;for(let _t=f?R:R+ae;_t<Je;_t++){const Gt=I[_t];if(_t<U&&d===Gt||_t>=U&&Gt.type===d)return _t}if(g){const _t=I[U];if(_t&&ps(_t)&&_t.type===d)return U}return null}function cn(o,l,d,f){let g=o[d];const w=l.data;if(function oe(o){return o instanceof H}(g)){const I=g;I.resolving&&function He(o,l){const d=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new qe(-200,`Circular dependency in DI detected for ${o}${d}`)}(function Ct(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ee(o)}(w[d]));const R=Aa(I.canSeeViewProviders);I.resolving=!0;const U=I.injectImpl?di(I.injectImpl):null;il(o,f,dn.Default);try{g=o[d]=I.factory(void 0,w,o,f),l.firstCreatePass&&d>=f.directiveStart&&function fd(o,l,d){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:w}=l.type.prototype;if(f){const I=Ps(l);(d.preOrderHooks||(d.preOrderHooks=[])).push(o,I),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(o,I)}g&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-o,g),w&&((d.preOrderHooks||(d.preOrderHooks=[])).push(o,w),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(o,w))}(d,w[d],l)}finally{null!==U&&di(U),Aa(R),I.resolving=!1,vc()}}return g}function Us(o,l,d){return!!(d[l+(o>>Ma)]&1<<o)}function Fr(o,l){return!(o&dn.Self||o&dn.Host&&l)}class oo{constructor(l,d){this._tNode=l,this._lView=d}get(l,d,f){return ka(this._tNode,this._lView,l,P(f),d)}}function zr(){return new oo(br(),ut())}function al(o){return Fe(()=>{const l=o.prototype.constructor,d=l[Lt]||Gr(l),f=Object.prototype;let g=Object.getPrototypeOf(o.prototype).constructor;for(;g&&g!==f;){const w=g[Lt]||Gr(g);if(w&&w!==d)return w;g=Object.getPrototypeOf(g)}return w=>new w})}function Gr(o){return nt(o)?()=>{const l=Gr(me(o));return l&&l()}:pr(o)}function ll(o){const l=o[fn],d=l.type;return 2===d?l.declTNode:1===d?o[Gn]:null}function Vs(o){return function xr(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const d=o.attrs;if(d){const f=d.length;let g=0;for(;g<f;){const w=d[g];if(ir(w))break;if(0===w)g+=2;else if("number"==typeof w)for(g++;g<f&&"string"==typeof d[g];)g++;else{if(w===l)return d[g+1];g+=2}}}return null}(br(),o)}const Ra="__parameters__";function gt(o,l,d){return Fe(()=>{const f=function dl(o){return function(...d){if(o){const f=o(...d);for(const g in f)this[g]=f[g]}}}(l);function g(...w){if(this instanceof g)return f.apply(this,w),this;const I=new g(...w);return R.annotation=I,R;function R(U,ee,ae){const Me=U.hasOwnProperty(Ra)?U[Ra]:Object.defineProperty(U,Ra,{value:[]})[Ra];for(;Me.length<=ae;)Me.push(null);return(Me[ae]=Me[ae]||[]).push(I),U}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}class ur{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=rn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ss(o,l){o.forEach(d=>Array.isArray(d)?Ss(d,l):l(d))}function kl(o,l,d){l>=o.length?o.push(d):o.splice(l,0,d)}function Pa(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function A(o,l){const d=[];for(let f=0;f<o;f++)d.push(l);return d}function re(o,l,d){let f=tt(o,l);return f>=0?o[1|f]=d:(f=~f,function L(o,l,d,f){let g=o.length;if(g==l)o.push(d,f);else if(1===g)o.push(f,o[0]),o[0]=d;else{for(g--,o.push(o[g-1],o[g]);g>l;)o[g]=o[g-2],g--;o[l]=d,o[l+1]=f}}(o,f,l,d)),f}function _e(o,l){const d=tt(o,l);if(d>=0)return o[1|d]}function tt(o,l){return function pn(o,l,d){let f=0,g=o.length>>d;for(;g!==f;){const w=f+(g-f>>1),I=o[w<<d];if(l===I)return w<<d;I>l?g=w:f=w+1}return~(g<<d)}(o,l,1)}const Fa=ue(gt("Inject",o=>({token:o})),-1),ua=ue(gt("Optional"),8),fl=ue(gt("SkipSelf"),4);var Ol=(()=>((Ol=Ol||{})[Ol.Important=1]="Important",Ol[Ol.DashCase=2]="DashCase",Ol))();const Tr=new Map;let Gc=0;const bh="__ngContext__";function ao(o,l){Wn(l)?(o[bh]=l[xs],function vh(o){Tr.set(o[xs],o)}(l)):o[bh]=l}let jm;function xh(o,l){return jm(o,l)}function ic(o){const l=o[Di];return ti(l)?l[Di]:l}function Ed(o){return rc(o[ia])}function Iu(o){return rc(o[Or])}function rc(o){for(;null!==o&&!ti(o);)o=o[Or];return o}function $c(o,l,d,f,g){if(null!=f){let w,I=!1;ti(f)?w=f:Wn(f)&&(I=!0,f=f[Mi]);const R=mi(f);0===o&&null!==d?null==g?Rf(l,d,R):qo(l,d,R,g||null,!0):1===o&&null!==d?qo(l,d,R,g||null,!0):2===o?function oc(o,l,d){const f=Ch(o,l);f&&function z_(o,l,d,f){o.removeChild(l,d,f)}(o,f,l,d)}(l,R,I):3===o&&l.destroyNode(R),null!=w&&function Sh(o,l,d,f,g){const w=d[lt];w!==mi(d)&&$c(l,o,f,w,g);for(let R=mn;R<d.length;R++){const U=d[R];Ih(U[fn],U,o,l,f,w)}}(l,o,w,d,g)}}function Af(o,l,d){return o.createElement(l,d)}function Wc(o,l){const d=o[Zt],f=d.indexOf(l),g=l[Di];512&l[Nn]&&(l[Nn]&=-513,la(g,-1)),d.splice(f,1)}function Dd(o,l){if(o.length<=mn)return;const d=mn+l,f=o[d];if(f){const g=f[ms];null!==g&&g!==o&&Wc(g,f),l>0&&(o[d-1][Or]=f[Or]);const w=Pa(o,mn+l);!function Wm(o,l){Ih(o,l,l[qn],2,null,null),l[Mi]=null,l[Gn]=null}(f[fn],f);const I=w[es];null!==I&&I.detachView(w[fn]),f[Di]=null,f[Or]=null,f[Nn]&=-65}return f}function Eh(o,l){if(!(128&l[Nn])){const d=l[qn];d.destroyNode&&Ih(o,l,d,3,null,null),function Cd(o){let l=o[ia];if(!l)return La(o[fn],o);for(;l;){let d=null;if(Wn(l))d=l[ia];else{const f=l[mn];f&&(d=f)}if(!d){for(;l&&!l[Or]&&l!==o;)Wn(l)&&La(l[fn],l),l=l[Di];null===l&&(l=o),Wn(l)&&La(l[fn],l),d=l&&l[Or]}l=d}}(l)}}function La(o,l){if(!(128&l[Nn])){l[Nn]&=-65,l[Nn]|=128,function Mf(o,l){let d;if(null!=o&&null!=(d=o.destroyHooks))for(let f=0;f<d.length;f+=2){const g=l[d[f]];if(!(g instanceof H)){const w=d[f+1];if(Array.isArray(w))for(let I=0;I<w.length;I+=2){const R=g[w[I]],U=w[I+1];Zr(4,R,U);try{U.call(R)}finally{Zr(5,R,U)}}else{Zr(4,g,w);try{w.call(g)}finally{Zr(5,g,w)}}}}}(o,l),function xc(o,l){const d=o.cleanup,f=l[Ki];let g=-1;if(null!==d)for(let w=0;w<d.length-1;w+=2)if("string"==typeof d[w]){const I=d[w+3];I>=0?f[g=I]():f[g=-I].unsubscribe(),w+=2}else{const I=f[g=d[w+1]];d[w].call(I)}if(null!==f){for(let w=g+1;w<f.length;w++)(0,f[w])();l[Ki]=null}}(o,l),1===l[fn].type&&l[qn].destroy();const d=l[ms];if(null!==d&&ti(l[Di])){d!==l[Di]&&Wc(d,l);const f=l[es];null!==f&&f.detachView(o)}!function H_(o){Tr.delete(o[xs])}(l)}}function kf(o,l,d){return function Au(o,l,d){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return d[Mi];{const{componentOffset:g}=f;if(g>-1){const{encapsulation:w}=o.data[f.directiveStart+g];if(w===Ye.None||w===Ye.Emulated)return null}return ji(f,d)}}(o,l.parent,d)}function qo(o,l,d,f,g){o.insertBefore(l,d,f,g)}function Rf(o,l,d){o.appendChild(l,d)}function lo(o,l,d,f,g){null!==f?qo(o,l,d,f,g):Rf(o,l,d)}function Ch(o,l){return o.parentNode(l)}function Id(o,l,d){return Of(o,l,d)}let Td,Kc,Od,Nd,Of=function Sd(o,l,d){return 40&o.type?ji(o,d):null};function ga(o,l,d,f){const g=kf(o,f,l),w=l[qn],R=Id(f.parent||l[Gn],f,l);if(null!=g)if(Array.isArray(d))for(let U=0;U<d.length;U++)lo(w,g,d[U],R,!1);else lo(w,g,d,R,!1);void 0!==Td&&Td(w,f,l,d,g)}function Pl(o,l){if(null!==l){const d=l.type;if(3&d)return ji(l,o);if(4&d)return ku(-1,o[l.index]);if(8&d){const f=l.child;if(null!==f)return Pl(o,f);{const g=o[l.index];return ti(g)?ku(-1,g):mi(g)}}if(32&d)return xh(l,o)()||mi(o[l.index]);{const f=Dh(o,l);return null!==f?Array.isArray(f)?f[0]:Pl(ic(o[tr]),f):Pl(o,l.next)}}return null}function Dh(o,l){return null!==l?o[tr][Gn].projection[l.projection]:null}function ku(o,l){const d=mn+o+1;if(d<l.length){const f=l[d],g=f[fn].firstChild;if(null!==g)return Pl(f,g)}return l[lt]}function Ad(o,l,d,f,g,w,I){for(;null!=d;){const R=f[d.index],U=d.type;if(I&&0===l&&(R&&ao(mi(R),f),d.flags|=2),32!=(32&d.flags))if(8&U)Ad(o,l,d.child,f,g,w,!1),$c(l,o,g,R,w);else if(32&U){const ee=xh(d,f);let ae;for(;ae=ee();)$c(l,o,g,ae,w);$c(l,o,g,R,w)}else 16&U?Km(o,l,f,d,g,w):$c(l,o,g,R,w);d=I?d.projectionNext:d.next}}function Ih(o,l,d,f,g,w){Ad(d,f,o.firstChild,l,g,w,!1)}function Km(o,l,d,f,g,w){const I=d[tr],U=I[Gn].projection[f.projection];if(Array.isArray(U))for(let ee=0;ee<U.length;ee++)$c(l,o,g,U[ee],w);else Ad(o,l,U,I[Di],g,w,!0)}function Md(o,l,d){""===d?o.removeAttribute(l,"class"):o.setAttribute(l,"class",d)}function Ou(o,l,d){const{mergedAttrs:f,classes:g,styles:w}=d;null!==f&&$n(o,l,f),null!==g&&Md(o,l,g),null!==w&&function G_(o,l,d){o.setAttribute(l,"style",d)}(o,l,w)}function Rd(o){return function kd(){if(void 0===Kc&&(Kc=null,Sn.trustedTypes))try{Kc=Sn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Kc}()?.createHTML(o)||o}function Th(o){Od=o}function Nl(o){return function ac(){if(void 0===Nd&&(Nd=null,Sn.trustedTypes))try{Nd=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Nd}()?.createScriptURL(o)||o}class No{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}class ig extends No{getTypeName(){return"HTML"}}class Nf extends No{getTypeName(){return"Style"}}class Ff extends No{getTypeName(){return"Script"}}class qc extends No{getTypeName(){return"URL"}}class Fd extends No{getTypeName(){return"ResourceURL"}}function _a(o){return o instanceof No?o.changingThisBreaksApplicationSecurity:o}function Qo(o,l){const d=function Ld(o){return o instanceof No&&o.getTypeName()||null}(o);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see ${ht})`)}return d===l}function Lf(o){return new ig(o)}function qm(o){return new Nf(o)}function Bf(o){return new Ff(o)}function Uf(o){return new qc(o)}function Xi(o){return new Fd(o)}class Pu{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(Rd(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch{return null}}}class rg{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const d=this.inertDocument.createElement("template");return d.innerHTML=Rd(l),d}}const Zc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ec(o){return(o=String(o)).match(Zc)?o:"unsafe:"+o}function Ua(o){const l={};for(const d of o.split(","))l[d]=!0;return l}function Qc(...o){const l={};for(const d of o)for(const f in d)d.hasOwnProperty(f)&&(l[f]=!0);return l}const Ah=Ua("area,br,col,hr,img,wbr"),sg=Ua("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),og=Ua("rp,rt"),y=Qc(Ah,Qc(sg,Ua("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qc(og,Ua("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qc(og,sg)),b=Ua("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),F=Qc(b,Ua("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ua("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ve=Ua("script,style,template");class ct{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let d=l.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let g=this.checkClobberedElement(d,d.nextSibling);if(g){d=g;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(l){const d=l.nodeName.toLowerCase();if(!y.hasOwnProperty(d))return this.sanitizedSomething=!0,!Ve.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=l.attributes;for(let g=0;g<f.length;g++){const w=f.item(g),I=w.name,R=I.toLowerCase();if(!F.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let U=w.value;b[R]&&(U=Ec(U)),this.buf.push(" ",I,'="',In(U),'"')}return this.buf.push(">"),!0}endElement(l){const d=l.nodeName.toLowerCase();y.hasOwnProperty(d)&&!Ah.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push(In(l))}checkClobberedElement(l,d){if(d&&(l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return d}}const jt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,an=/([^\#-~ |!])/g;function In(o){return o.replace(/&/g,"&amp;").replace(jt,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(an,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vn;function Xn(o,l){let d=null;try{vn=vn||function Li(o){const l=new rg(o);return function Ba(){try{return!!(new window.DOMParser).parseFromString(Rd(""),"text/html")}catch{return!1}}()?new Pu(l):l}(o);let f=l?String(l):"";d=vn.getInertBodyElement(f);let g=5,w=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=w,w=d.innerHTML,d=vn.getInertBodyElement(f)}while(f!==w);return Rd((new ct).sanitizeChildren(Ni(d)||d))}finally{if(d){const f=Ni(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Ni(o){return"content"in o&&function Bd(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Mr=(()=>((Mr=Mr||{})[Mr.NONE=0]="NONE",Mr[Mr.HTML=1]="HTML",Mr[Mr.STYLE=2]="STYLE",Mr[Mr.SCRIPT=3]="SCRIPT",Mr[Mr.URL=4]="URL",Mr[Mr.RESOURCE_URL=5]="RESOURCE_URL",Mr))();function Mh(o){const l=Xm();return l?l.sanitize(Mr.URL,o)||"":Qo(o,"URL")?_a(o):Ec(Ee(o))}function Hf(o){const l=Xm();if(l)return Nl(l.sanitize(Mr.RESOURCE_URL,o)||"");if(Qo(o,"ResourceURL"))return Nl(_a(o));throw new qe(904,!1)}function Qm(o,l,d){return function lg(o,l){return"src"===l&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===l&&("base"===o||"link"===o)?Hf:Mh}(l,d)(o)}function Xm(){const o=ut();return o&&o[Hr]}const dg=new ur("ENVIRONMENT_INITIALIZER"),uv=new ur("INJECTOR",-1),kh=new ur("INJECTOR_DEF_TYPES");class W_{get(l,d=Ot){if(d===Ot){const f=new Error(`NullInjectorError: No provider for ${ce(l)}!`);throw f.name="NullInjectorError",f}return d}}function Vd(o){return{\u0275providers:o}}function Jc(...o){return{\u0275providers:Rh(0,o),\u0275fromNgModule:!0}}function Rh(o,...l){const d=[],f=new Set;let g;return Ss(l,w=>{const I=w;ug(I,d,[],f)&&(g||(g=[]),g.push(I))}),void 0!==g&&Xo(g,d),d}function Xo(o,l){for(let d=0;d<o.length;d++){const{providers:g}=o[d];hg(g,w=>{l.push(w)})}}function ug(o,l,d,f){if(!(o=me(o)))return!1;let g=null,w=_n(o);const I=!w&&ui(o);if(w||I){if(I&&!I.standalone)return!1;g=o}else{const U=o.ngModule;if(w=_n(U),!w)return!1;g=U}const R=f.has(g);if(I){if(R)return!1;if(f.add(g),I.dependencies){const U="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const ee of U)ug(ee,l,d,f)}}else{if(!w)return!1;{if(null!=w.imports&&!R){let ee;f.add(g);try{Ss(w.imports,ae=>{ug(ae,l,d,f)&&(ee||(ee=[]),ee.push(ae))})}finally{}void 0!==ee&&Xo(ee,l)}if(!R){const ee=pr(g)||(()=>new g);l.push({provide:g,useFactory:ee,deps:Ne},{provide:kh,useValue:g,multi:!0},{provide:dg,useValue:()=>$t(g),multi:!0})}const U=w.providers;null==U||R||hg(U,ae=>{l.push(ae)})}}return g!==o&&void 0!==o.providers}function hg(o,l){for(let d of o)Ke(d)&&(d=d.\u0275providers),Array.isArray(d)?hg(d,l):l(d)}const jb=Se({provide:String,useValue:Se});function fg(o){return null!==o&&"object"==typeof o&&jb in o}function pl(o){return"function"==typeof o}const jd=new ur("Set Injector scope."),Fl={},mg={};let lc;function zf(){return void 0===lc&&(lc=new W_),lc}class Fu{}class ep extends Fu{get destroyed(){return this._destroyed}constructor(l,d,f,g){super(),this.parent=d,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,K_(l,I=>this.processProvider(I)),this.records.set(uv,cc(void 0,this)),g.has("environment")&&this.records.set(Fu,cc(void 0,this));const w=this.records.get(jd);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(kh.multi,Ne,dn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const d=Ai(this),f=di(void 0);try{return l()}finally{Ai(d),di(f)}}get(l,d=Ot,f=dn.Default){this.assertNotDestroyed(),f=P(f);const g=Ai(this),w=di(void 0);try{if(!(f&dn.SkipSelf)){let R=this.records.get(l);if(void 0===R){const U=function Gb(o){return"function"==typeof o||"object"==typeof o&&o instanceof ur}(l)&&On(l);R=U&&this.injectableDefInScope(U)?cc(pg(l),Fl):null,this.records.set(l,R)}if(null!=R)return this.hydrate(l,R)}return(f&dn.Self?zf():this.parent).get(l,d=f&dn.Optional&&d===Ot?null:d)}catch(I){if("NullInjectorError"===I.name){if((I[st]=I[st]||[]).unshift(ce(l)),g)throw I;return function se(o,l,d,f){const g=o[st];throw l[Ui]&&g.unshift(l[Ui]),o.message=function be(o,l,d,f=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==Cn?o.slice(2):o;let g=ce(l);if(Array.isArray(l))g=l.map(ce).join(" -> ");else if("object"==typeof l){let w=[];for(let I in l)if(l.hasOwnProperty(I)){let R=l[I];w.push(I+":"+("string"==typeof R?JSON.stringify(R):ce(R)))}g=`{${w.join(", ")}}`}return`${d}${f?"("+f+")":""}[${g}]: ${o.replace(Pn,"\n  ")}`}("\n"+o.message,g,d,f),o[Nt]=g,o[st]=null,o}(I,l,"R3InjectorError",this.source)}throw I}finally{di(w),Ai(g)}}resolveInjectorInitializers(){const l=Ai(this),d=di(void 0);try{const f=this.get(dg.multi,Ne,dn.Self);for(const g of f)g()}finally{Ai(l),di(d)}}toString(){const l=[],d=this.records;for(const f of d.keys())l.push(ce(f));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,!1)}processProvider(l){let d=pl(l=me(l))?l:me(l&&l.provide);const f=function gg(o){return fg(o)?cc(void 0,o.useValue):cc(Gf(o),Fl)}(l);if(pl(l)||!0!==l.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=cc(void 0,Fl,!0),g.factory=()=>j(g.multi),this.records.set(d,g)),d=l,g.multi.push(l)}this.records.set(d,f)}hydrate(l,d){return d.value===Fl&&(d.value=mg,d.value=d.factory()),"object"==typeof d.value&&d.value&&function fv(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(l){if(!l.providedIn)return!1;const d=me(l.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function pg(o){const l=On(o),d=null!==l?l.factory:pr(o);if(null!==d)return d;if(o instanceof ur)throw new qe(204,!1);if(o instanceof Function)return function hv(o){const l=o.length;if(l>0)throw A(l,"?"),new qe(204,!1);const d=function Hn(o){const l=o&&(o[ii]||o[ci]);return l?(function _i(o){if(o.hasOwnProperty("name"))return o.name;(""+o).match(/^function\s*([^\s(]+)/)}(o),l):null}(o);return null!==d?()=>d.factory(o):()=>new o}(o);throw new qe(204,!1)}function Gf(o,l,d){let f;if(pl(o)){const g=me(o);return pr(g)||pg(g)}if(fg(o))f=()=>me(o.useValue);else if(function Dc(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...j(o.deps||[]));else if(function Jm(o){return!(!o||!o.useExisting)}(o))f=()=>$t(me(o.useExisting));else{const g=me(o&&(o.useClass||o.provide));if(!function zb(o){return!!o.deps}(o))return pr(g)||pg(g);f=()=>new g(...j(o.deps))}return f}function cc(o,l,d=!1){return{factory:o,value:l,multi:d?[]:void 0}}function K_(o,l){for(const d of o)Array.isArray(d)?K_(d,l):d&&Ke(d)?K_(d.\u0275providers,l):l(d)}class Ll{}class Lu{}class mv{resolveComponentFactory(l){throw function zd(o){const l=Error(`No component factory found for ${ce(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let Ph=(()=>{class o{}return o.NULL=new mv,o})();function Wb(){return Bu(br(),ut())}function Bu(o,l){return new Nh(ji(o,l))}let Nh=(()=>{class o{constructor(d){this.nativeElement=d}}return o.__NG_ELEMENT_ID__=Wb,o})();function Ic(o){return o instanceof Nh?o.nativeElement:o}class $f{}let Y_=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function pv(){const o=ut(),d=gr(br().index,o);return(Wn(d)?d:o)[qn]}(),o})(),tp=(()=>{class o{}return o.\u0275prov=rn({token:o,providedIn:"root",factory:()=>null}),o})();class gv{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Fo=new gv("15.2.2"),Gd={},q_="ngOriginalError";function Fh(o){return o[q_]}class Uu{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l);this._console.error("ERROR",l),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(l){let d=l&&Fh(l);for(;d&&Fh(d);)d=Fh(d);return d||null}}function hs(o){return o instanceof Function?o():o}function Wd(o,l,d){let f=o.length;for(;;){const g=o.indexOf(l,d);if(-1===g)return g;if(0===g||o.charCodeAt(g-1)<=32){const w=l.length;if(g+w===f||o.charCodeAt(g+w)<=32)return g}d=g+1}}const bg="ng-template";function Kb(o,l,d){let f=0;for(;f<o.length;){let g=o[f++];if(d&&"class"===g){if(g=o[f],-1!==Wd(g.toLowerCase(),l,0))return!0}else if(1===g){for(;f<o.length&&"string"==typeof(g=o[f++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function bv(o){return 4===o.type&&o.value!==bg}function Yb(o,l,d){return l===(4!==o.type||d?o.value:bg)}function qb(o,l,d){let f=4;const g=o.attrs||[],w=function Zb(o){for(let l=0;l<o.length;l++)if(ir(o[l]))return l;return o.length}(g);let I=!1;for(let R=0;R<l.length;R++){const U=l[R];if("number"!=typeof U){if(!I)if(4&f){if(f=2|1&f,""!==U&&!Yb(o,U,d)||""===U&&1===l.length){if(Ha(f))return!1;I=!0}}else{const ee=8&f?U:l[++R];if(8&f&&null!==o.attrs){if(!Kb(o.attrs,ee,d)){if(Ha(f))return!1;I=!0}continue}const Me=Q_(8&f?"class":U,g,bv(o),d);if(-1===Me){if(Ha(f))return!1;I=!0;continue}if(""!==ee){let Je;Je=Me>w?"":g[Me+1].toLowerCase();const _t=8&f?Je:null;if(_t&&-1!==Wd(_t,ee,0)||2&f&&ee!==Je){if(Ha(f))return!1;I=!0}}}}else{if(!I&&!Ha(f)&&!Ha(U))return!1;if(I&&Ha(U))continue;I=!1,f=U|1&f}}return Ha(f)||I}function Ha(o){return 0==(1&o)}function Q_(o,l,d,f){if(null===l)return-1;let g=0;if(f||!d){let w=!1;for(;g<l.length;){const I=l[g];if(I===o)return g;if(3===I||6===I)w=!0;else{if(1===I||2===I){let R=l[++g];for(;"string"==typeof R;)R=l[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=w?1:2}return-1}return function wv(o,l){let d=o.indexOf(4);if(d>-1)for(d++;d<o.length;){const f=o[d];if("number"==typeof f)return-1;if(f===l)return d;d++}return-1}(l,o)}function ip(o,l,d=!1){for(let f=0;f<l.length;f++)if(qb(o,l[f],d))return!0;return!1}function Vu(o,l){e:for(let d=0;d<l.length;d++){const f=l[d];if(o.length===f.length){for(let g=0;g<o.length;g++)if(o[g]!==f[g])continue e;return!0}}return!1}function qf(o,l){return o?":not("+l.trim()+")":l}function xv(o){let l=o[0],d=1,f=2,g="",w=!1;for(;d<o.length;){let I=o[d];if("string"==typeof I)if(2&f){const R=o[++d];g+="["+I+(R.length>0?'="'+R+'"':"")+"]"}else 8&f?g+="."+I:4&f&&(g+=" "+I);else""!==g&&!Ha(I)&&(l+=qf(w,g),g=""),f=I,w=w||!Ha(f);d++}return""!==g&&(l+=qf(w,g)),l}const wi={};function Lh(o){J_(Bn(),ut(),ts()+o,!1)}function J_(o,l,d,f){if(!f)if(3==(3&l[Nn])){const w=o.preOrderCheckHooks;null!==w&&sl(l,w,d)}else{const w=o.preOrderHooks;null!==w&&Yl(l,w,0,d)}Ao(d)}function Sv(o,l=null,d=null,f){const g=ey(o,l,d,f);return g.resolveInjectorInitializers(),g}function ey(o,l=null,d=null,f,g=new Set){const w=[d||Ne,Jc(o)];return f=f||("object"==typeof o?void 0:ce(o)),new ep(w,l||zf(),f||null,g)}let td=(()=>{class o{static create(d,f){if(Array.isArray(d))return Sv({name:""},f,d,"");{const g=d.name??"";return Sv({name:g},d.parent,d.providers,g)}}}return o.THROW_IF_NOT_FOUND=Ot,o.NULL=new W_,o.\u0275prov=rn({token:o,providedIn:"any",factory:()=>$t(uv)}),o.__NG_ELEMENT_ID__=-1,o})();function nd(o,l=dn.Default){const d=ut();return null===d?$t(o,l):ka(br(),d,me(o),l)}function kg(){throw new Error("invalid")}function ap(o,l){const d=o.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const w=d[f+1];if(-1!==w){const I=o.data[w];$o(d[f]),I.contentQueries(2,l[w],w)}}}function lp(o,l,d,f,g,w,I,R,U,ee,ae){const Me=l.blueprint.slice();return Me[Mi]=g,Me[Nn]=76|f,(null!==ae||o&&1024&o[Nn])&&(Me[Nn]|=1024),Cl(Me),Me[Di]=Me[Dr]=o,Me[ki]=d,Me[Cr]=I||o&&o[Cr],Me[qn]=R||o&&o[qn],Me[Hr]=U||o&&o[Hr]||null,Me[Er]=ee||o&&o[Er]||null,Me[Gn]=w,Me[xs]=function Bm(){return Gc++}(),Me[Ir]=ae,Me[tr]=2==l.type?o[tr]:Me,Me}function Yd(o,l,d,f,g){let w=o.data[l];if(null===w)w=function Hu(o,l,d,f,g){const w=Wl(),I=Dl(),U=o.data[l]=function s0(o,l,d,f,g,w){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?w:w&&w.parent,d,l,f,g);return null===o.firstChild&&(o.firstChild=U),null!==w&&(I?null==w.child&&null!==U.parent&&(w.child=U):null===w.next&&(w.next=U,U.prev=w)),U}(o,l,d,f,g),function ca(){return Ln.lFrame.inI18n}()&&(w.flags|=32);else if(64&w.type){w.type=d,w.value=f,w.attrs=g;const I=function Go(){const o=Ln.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();w.injectorIndex=null===I?-1:I.injectorIndex}return Cs(w,!0),w}function Qf(o,l,d,f){if(0===d)return-1;const g=l.length;for(let w=0;w<d;w++)l.push(f),o.blueprint.push(f),o.data.push(null);return g}function Rg(o,l,d){Wo(l);try{const f=o.viewQuery;null!==f&&qh(1,f,d);const g=o.template;null!==g&&sy(o,l,g,1,d),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&ap(o,l),o.staticViewQueries&&qh(2,o.viewQuery,d);const w=o.components;null!==w&&function vw(o,l){for(let d=0;d<l.length;d++)Wh(o,l[d])}(l,w)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{l[Nn]&=-5,Uc()}}function Xr(o,l,d,f){const g=l[Nn];if(128!=(128&g)){Wo(l);try{Cl(l),function Ja(o){return Ln.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==d&&sy(o,l,d,2,f);const I=3==(3&g);if(I){const ee=o.preOrderCheckHooks;null!==ee&&sl(l,ee,null)}else{const ee=o.preOrderHooks;null!==ee&&Yl(l,ee,0,null),md(l,0)}if(function $h(o){for(let l=Ed(o);null!==l;l=Iu(l)){if(!l[je])continue;const d=l[Zt];for(let f=0;f<d.length;f++){const g=d[f];512&g[Nn]||la(g[Di],1),g[Nn]|=512}}}(l),function cy(o){for(let l=Ed(o);null!==l;l=Iu(l))for(let d=mn;d<l.length;d++){const f=l[d],g=f[fn];So(f)&&Xr(g,f,g.template,f[ki])}}(l),null!==o.contentQueries&&ap(o,l),I){const ee=o.contentCheckHooks;null!==ee&&sl(l,ee)}else{const ee=o.contentHooks;null!==ee&&Yl(l,ee,1),md(l,1)}!function Pv(o,l){const d=o.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const g=d[f];if(g<0)Ao(~g);else{const w=g,I=d[++f],R=d[++f];Al(I,w),R(2,l[w])}}}finally{Ao(-1)}}(o,l);const R=o.components;null!==R&&function n0(o,l){for(let d=0;d<l.length;d++)dy(o,l[d])}(l,R);const U=o.viewQuery;if(null!==U&&qh(2,U,f),I){const ee=o.viewCheckHooks;null!==ee&&sl(l,ee)}else{const ee=o.viewHooks;null!==ee&&Yl(l,ee,2),md(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[Nn]&=-41,512&l[Nn]&&(l[Nn]&=-513,la(l[Di],-1))}finally{Uc()}}}function sy(o,l,d,f,g){const w=ts(),I=2&f;try{Ao(-1),I&&l.length>Vi&&J_(o,l,Vi,!1),Zr(I?2:0,g),d(f,g)}finally{Ao(w),Zr(I?3:1,g)}}function cp(o,l,d){if(lr(l)){const g=l.directiveEnd;for(let w=l.directiveStart;w<g;w++){const I=o.data[w];I.contentQueries&&I.contentQueries(1,d[w],w)}}}function Xf(o,l,d){z()&&(function ly(o,l,d,f){const g=d.directiveStart,w=d.directiveEnd;Pr(d)&&function Jf(o,l,d){const f=ji(l,o),g=Og(d),w=o[Cr],I=Yh(o,lp(o,g,null,d.onPush?32:16,f,l,w,w.createRenderer(f,d),null,null,null));o[l.index]=I}(l,d,o.data[g+d.componentOffset]),o.firstCreatePass||so(d,l),ao(f,l);const I=d.initialInputs;for(let R=g;R<w;R++){const U=o.data[R],ee=cn(l,o,R,d);ao(ee,l),null!==I&&em(0,R-g,ee,U,0,I),ps(U)&&(gr(d.index,l)[ki]=cn(l,o,R,d))}}(o,l,d,ji(d,l)),64==(64&d.flags)&&qd(o,l,d))}function jh(o,l,d=ji){const f=l.localNames;if(null!==f){let g=l.index+1;for(let w=0;w<f.length;w+=2){const I=f[w+1],R=-1===I?d(l,o):o[I];o[g++]=R}}}function Og(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=Pg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function Pg(o,l,d,f,g,w,I,R,U,ee){const ae=Vi+f,Me=ae+g,Je=function r0(o,l){const d=[];for(let f=0;f<l;f++)d.push(f<o?null:wi);return d}(ae,Me),_t="function"==typeof ee?ee():ee;return Je[fn]={type:o,blueprint:Je,template:d,queries:null,viewQuery:R,declTNode:l,data:Je.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:U,consts:_t,incompleteFirstPass:!1}}function oy(o,l,d,f){const g=_o(l);null===d?g.push(f):(g.push(d),o.firstCreatePass&&zg(o).push(f,g.length-1))}function dp(o,l,d,f){for(let g in o)if(o.hasOwnProperty(g)){d=null===d?{}:d;const w=o[g];null===f?up(d,l,g,w):f.hasOwnProperty(g)&&up(d,l,f[g],w)}return d}function up(o,l,d,f){o.hasOwnProperty(d)?o[d].push(l,f):o[d]=[l,f]}function ja(o,l,d,f,g,w,I,R){const U=ji(l,d);let ae,ee=l.inputs;!R&&null!=ee&&(ae=ee[f])?(Jo(o,d,ae,f,g),Pr(l)&&zh(d,l.index)):3&l.type&&(f=function hp(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),g=null!=I?I(g,l.value||"",f):g,w.setProperty(U,f,g))}function zh(o,l){const d=gr(l,o);16&d[Nn]||(d[Nn]|=32)}function Gh(o,l,d,f){if(z()){const g=null===f?null:{"":-1},w=function a0(o,l){const d=o.directiveRegistry;let f=null,g=null;if(d)for(let w=0;w<d.length;w++){const I=d[w];if(ip(l,I.selectors,!1))if(f||(f=[]),ps(I))if(null!==I.findHostDirectiveDefs){const R=[];g=g||new Map,I.findHostDirectiveDefs(I,R,g),f.unshift(...R,I),fp(o,l,R.length)}else f.unshift(I),fp(o,l,0);else g=g||new Map,I.findHostDirectiveDefs?.(I,f,g),f.push(I)}return null===f?null:[f,g]}(o,d);let I,R;null===w?I=R=null:[I,R]=w,null!==I&&Ng(o,l,d,I,g,R),g&&function bw(o,l,d){if(l){const f=o.localNames=[];for(let g=0;g<l.length;g+=2){const w=d[l[g+1]];if(null==w)throw new qe(-301,!1);f.push(l[g],w)}}}(d,f,g)}d.mergedAttrs=hn(d.mergedAttrs,d.attrs)}function Ng(o,l,d,f,g,w){for(let ee=0;ee<f.length;ee++)Sr(so(d,l),o,f[ee].type);!function Uv(o,l,d){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+d,o.providerIndexes=l}(d,o.data.length,f.length);for(let ee=0;ee<f.length;ee++){const ae=f[ee];ae.providersResolver&&ae.providersResolver(ae)}let I=!1,R=!1,U=Qf(o,l,f.length,null);for(let ee=0;ee<f.length;ee++){const ae=f[ee];d.mergedAttrs=hn(d.mergedAttrs,ae.hostAttrs),Lg(o,d,l,U,ae),mp(U,ae,g),null!==ae.contentQueries&&(d.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(d.flags|=64);const Me=ae.type.prototype;!I&&(Me.ngOnChanges||Me.ngOnInit||Me.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(d.index),I=!0),!R&&(Me.ngOnChanges||Me.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(d.index),R=!0),U++}!function o0(o,l,d){const g=l.directiveEnd,w=o.data,I=l.attrs,R=[];let U=null,ee=null;for(let ae=l.directiveStart;ae<g;ae++){const Me=w[ae],Je=d?d.get(Me):null,Gt=Je?Je.outputs:null;U=dp(Me.inputs,ae,U,Je?Je.inputs:null),ee=dp(Me.outputs,ae,ee,Gt);const un=null===U||null===I||bv(l)?null:Ug(U,ae,I);R.push(un)}null!==U&&(U.hasOwnProperty("class")&&(l.flags|=8),U.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=R,l.inputs=U,l.outputs=ee}(o,d,w)}function qd(o,l,d){const f=d.directiveStart,g=d.directiveEnd,w=d.index,I=function Ia(){return Ln.lFrame.currentDirectiveIndex}();try{Ao(w);for(let R=f;R<g;R++){const U=o.data[R],ee=l[R];el(R),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&Bv(U,ee)}}finally{Ao(-1),el(I)}}function Bv(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function fp(o,l,d){l.componentOffset=d,(o.components||(o.components=[])).push(l.index)}function mp(o,l,d){if(d){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)d[l.exportAs[f]]=o;ps(l)&&(d[""]=o)}}function Lg(o,l,d,f,g){o.data[f]=g;const w=g.factory||(g.factory=pr(g.type)),I=new H(w,ps(g),nd);o.blueprint[f]=I,d[f]=I,function Lv(o,l,d,f,g){const w=g.hostBindings;if(w){let I=o.hostBindingOpCodes;null===I&&(I=o.hostBindingOpCodes=[]);const R=~l.index;(function Fg(o){let l=o.length;for(;l>0;){const d=o[--l];if("number"==typeof d&&d<0)return d}return 0})(I)!=R&&I.push(R),I.push(d,f,w)}}(o,l,f,Qf(o,d,g.hostVars,wi),g)}function Bl(o,l,d,f,g,w){const I=ji(o,l);!function Bg(o,l,d,f,g,w,I){if(null==w)o.removeAttribute(l,g,d);else{const R=null==I?Ee(w):I(w,f||"",g);o.setAttribute(l,g,R,d)}}(l[qn],I,w,o.value,d,f,g)}function em(o,l,d,f,g,w){const I=w[l];if(null!==I){const R=f.setInput;for(let U=0;U<I.length;){const ee=I[U++],ae=I[U++],Me=I[U++];null!==R?f.setInput(d,Me,ee,ae):d[ae]=Me}}}function Ug(o,l,d){let f=null,g=0;for(;g<d.length;){const w=d[g];if(0!==w)if(5!==w){if("number"==typeof w)break;if(o.hasOwnProperty(w)){null===f&&(f=[]);const I=o[w];for(let R=0;R<I.length;R+=2)if(I[R]===l){f.push(w,I[R+1],d[g+1]);break}}g+=2}else g+=2;else g+=4}return f}function ju(o,l,d,f){return[o,!0,!1,l,null,0,f,d,null,null]}function dy(o,l){const d=gr(l,o);if(So(d)){const f=d[fn];48&d[Nn]?Xr(f,d,f.template,d[ki]):d[rs]>0&&Vg(d)}}function Vg(o){for(let f=Ed(o);null!==f;f=Iu(f))for(let g=mn;g<f.length;g++){const w=f[g];if(So(w))if(512&w[Nn]){const I=w[fn];Xr(I,w,I.template,w[ki])}else w[rs]>0&&Vg(w)}const d=o[fn].components;if(null!==d)for(let f=0;f<d.length;f++){const g=gr(d[f],o);So(g)&&g[rs]>0&&Vg(g)}}function Wh(o,l){const d=gr(l,o),f=d[fn];(function Kh(o,l){for(let d=l.length;d<o.blueprint.length;d++)l.push(o.blueprint[d])})(f,d),Rg(f,d,d[ki])}function Yh(o,l){return o[ia]?o[Ea][Or]=l:o[ia]=l,o[Ea]=l,l}function Hg(o){for(;o;){o[Nn]|=32;const l=ic(o);if(Ya(o)&&!l)return o;o=l}return null}function Ms(o,l,d,f=!0){const g=l[Cr];g.begin&&g.begin();try{Xr(o,l,o.template,d)}catch(I){throw f&&Qh(l,I),I}finally{g.end&&g.end()}}function qh(o,l,d){$o(0),l(o,d)}function _o(o){return o[Ki]||(o[Ki]=[])}function zg(o){return o.cleanup||(o.cleanup=[])}function Zh(o,l,d){return(null===o||ps(o))&&(d=function ls(o){for(;Array.isArray(o);){if("object"==typeof o[Qe])return o;o=o[Mi]}return null}(d[l.index])),d[qn]}function Qh(o,l){const d=o[Er],f=d?d.get(Uu,null):null;f&&f.handleError(l)}function Jo(o,l,d,f,g){for(let w=0;w<d.length;){const I=d[w++],R=d[w++],U=l[I],ee=o.data[I];null!==ee.setInput?ee.setInput(U,g,f,R):U[R]=g}}function za(o,l,d){let f=d?o.styles:null,g=d?o.classes:null,w=0;if(null!==l)for(let I=0;I<l.length;I++){const R=l[I];"number"==typeof R?w=R:1==w?g=xe(g,R):2==w&&(f=xe(f,R+": "+l[++I]+";"))}d?o.styles=f:o.stylesWithoutHost=f,d?o.classes=g:o.classesWithoutHost=g}function Zd(o,l,d,f,g=!1){for(;null!==d;){const w=l[d.index];if(null!==w&&f.push(mi(w)),ti(w))for(let R=mn;R<w.length;R++){const U=w[R],ee=U[fn].firstChild;null!==ee&&Zd(U[fn],U,ee,f)}const I=d.type;if(8&I)Zd(o,l,d.child,f);else if(32&I){const R=xh(d,l);let U;for(;U=R();)f.push(U)}else if(16&I){const R=Dh(l,d);if(Array.isArray(R))f.push(...R);else{const U=ic(l[tr]);Zd(U[fn],U,R,f,!0)}}d=g?d.projectionNext:d.next}return f}class rd{get rootNodes(){const l=this._lView,d=l[fn];return Zd(d,l,d.firstChild,[])}constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ki]}set context(l){this._lView[ki]=l}get destroyed(){return 128==(128&this._lView[Nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Di];if(ti(l)){const d=l[Bt],f=d?d.indexOf(this):-1;f>-1&&(Dd(l,f),Pa(d,f))}this._attachedToViewContainer=!1}Eh(this._lView[fn],this._lView)}onDestroy(l){oy(this._lView[fn],this._lView,null,l)}markForCheck(){Hg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nn]&=-65}reattach(){this._lView[Nn]|=64}detectChanges(){Ms(this._lView[fn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wc(o,l){Ih(o,l,l[qn],2,null,null)}(this._lView[fn],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new qe(902,!1);this._appRef=l}}class zu extends rd{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Ms(l[fn],l,l[ki],!1)}checkNoChanges(){}get context(){return null}}class uy extends Ph{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=ui(l);return new Xh(d,this.ngModule)}}function vo(o){const l=[];for(let d in o)o.hasOwnProperty(d)&&l.push({propName:o[d],templateName:d});return l}class hy{constructor(l,d){this.injector=l,this.parentInjector=d}get(l,d,f){f=P(f);const g=this.injector.get(l,Gd,f);return g!==Gd||d===Gd?g:this.parentInjector.get(l,d,f)}}class Xh extends Lu{get inputs(){return vo(this.componentDef.inputs)}get outputs(){return vo(this.componentDef.outputs)}constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=function va(o){return o.map(xv).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}create(l,d,f,g){let w=(g=g||this.ngModule)instanceof Fu?g:g?.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const I=w?new hy(l,w):l,R=I.get($f,null);if(null===R)throw new qe(407,!1);const U=I.get(tp,null),ee=R.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",Me=f?function Nv(o,l,d){return o.selectRootElement(l,d===Ye.ShadowDom)}(ee,f,this.componentDef.encapsulation):Af(ee,ae,function Gg(o){const l=o.toLowerCase();return"svg"===l?Ns:"math"===l?"math":null}(ae)),Je=this.componentDef.onPush?288:272,_t=Pg(0,null,null,1,0,null,null,null,null,null),Gt=lp(null,_t,null,Je,null,null,R,ee,U,I,null);let un,xn;Wo(Gt);try{const zn=this.componentDef;let si,Qt=null;zn.findHostDirectiveDefs?(si=[],Qt=new Map,zn.findHostDirectiveDefs(zn,si,Qt),si.push(zn)):si=[zn];const Ti=function l0(o,l){const d=o[fn],f=Vi;return o[f]=l,Yd(d,f,2,"#host",null)}(Gt,Me),Gs=function my(o,l,d,f,g,w,I,R){const U=g[fn];!function $g(o,l,d,f){for(const g of o)l.mergedAttrs=hn(l.mergedAttrs,g.hostAttrs);null!==l.mergedAttrs&&(za(l,l.mergedAttrs,!0),null!==d&&Ou(f,d,l))}(f,o,l,I);const ee=w.createRenderer(l,d),ae=lp(g,Og(d),null,d.onPush?32:16,g[o.index],o,w,ee,R||null,null,null);return U.firstCreatePass&&fp(U,o,f.length-1),Yh(g,ae),g[o.index]=ae}(Ti,Me,zn,si,Gt,R,ee);xn=oa(_t,Vi),Me&&function Vv(o,l,d,f){if(f)$n(o,d,["ng-version",Fo.full]);else{const{attrs:g,classes:w}=function X_(o){const l=[],d=[];let f=1,g=2;for(;f<o.length;){let w=o[f];if("string"==typeof w)2===g?""!==w&&l.push(w,o[++f]):8===g&&d.push(w);else{if(!Ha(g))break;g=w}f++}return{attrs:l,classes:d}}(l.selectors[0]);g&&$n(o,d,g),w&&w.length>0&&Md(o,d,w.join(" "))}}(ee,zn,Me,f),void 0!==d&&function pp(o,l,d){const f=o.projection=[];for(let g=0;g<l.length;g++){const w=d[g];f.push(null!=w?Array.from(w):null)}}(xn,this.ngContentSelectors,d),un=function tm(o,l,d,f,g,w){const I=br(),R=g[fn],U=ji(I,g);Ng(R,g,I,d,null,f);for(let ae=0;ae<d.length;ae++)ao(cn(g,R,I.directiveStart+ae,I),g);qd(R,g,I),U&&ao(U,g);const ee=cn(g,R,I.directiveStart+I.componentOffset,I);if(o[ki]=g[ki]=ee,null!==w)for(const ae of w)ae(ee,l);return cp(R,I,o),ee}(Gs,zn,si,Qt,Gt,[Hv]),Rg(_t,Gt,null)}finally{Uc()}return new fy(this.componentType,un,Bu(xn,Gt),Gt,xn)}}class fy extends Ll{constructor(l,d,f,g,w){super(),this.location=f,this._rootLView=g,this._tNode=w,this.instance=d,this.hostView=this.changeDetectorRef=new zu(g),this.componentType=l}setInput(l,d){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[l])){const w=this._rootLView;Jo(w[fn],w,g,l,d),zh(w,this._tNode.index)}}get injector(){return new oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Hv(){const o=br();_s(ut()[fn],o)}function Gu(o){let l=function py(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),d=!0;const f=[o];for(;l;){let g;if(ps(o))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new qe(903,!1);g=l.\u0275dir}if(g){if(d){f.push(g);const I=o;I.inputs=Wg(o.inputs),I.declaredInputs=Wg(o.declaredInputs),I.outputs=Wg(o.outputs);const R=g.hostBindings;R&&Gv(o,R);const U=g.viewQuery,ee=g.contentQueries;if(U&&jv(o,U),ee&&zv(o,ee),we(o.inputs,g.inputs),we(o.declaredInputs,g.declaredInputs),we(o.outputs,g.outputs),ps(g)&&g.data.animation){const ae=o.data;ae.animation=(ae.animation||[]).concat(g.data.animation)}}const w=g.features;if(w)for(let I=0;I<w.length;I++){const R=w[I];R&&R.ngInherit&&R(o),R===Gu&&(d=!1)}}l=Object.getPrototypeOf(l)}!function gp(o){let l=0,d=null;for(let f=o.length-1;f>=0;f--){const g=o[f];g.hostVars=l+=g.hostVars,g.hostAttrs=hn(g.hostAttrs,d=hn(d,g.hostAttrs))}}(f)}function Wg(o){return o===sn?{}:o===Ne?[]:o}function jv(o,l){const d=o.viewQuery;o.viewQuery=d?(f,g)=>{l(f,g),d(f,g)}:l}function zv(o,l){const d=o.contentQueries;o.contentQueries=d?(f,g,w)=>{l(f,g,w),d(f,g,w)}:l}function Gv(o,l){const d=o.hostBindings;o.hostBindings=d?(f,g)=>{l(f,g),d(f,g)}:l}function nm(o){return!!wp(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function wp(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ul(o,l,d){return o[l]=d}function Bo(o,l,d){return!Object.is(o[l],d)&&(o[l]=d,!0)}function Ep(o,l,d,f){const g=ut();return Bo(g,Ds(),l)&&(Bn(),Bl(_r(),g,o,l,d,f)),Ep}function im(o,l,d,f){return Bo(o,Ds(),d)?l+Ee(d)+f:wi}function Kv(o,l,d,f,g,w,I,R){const U=ut(),ee=Bn(),ae=o+Vi,Me=ee.firstCreatePass?function h0(o,l,d,f,g,w,I,R,U){const ee=l.consts,ae=Yd(l,o,4,I||null,cs(ee,R));Gh(l,d,ae,cs(ee,U)),_s(l,ae);const Me=ae.tView=Pg(2,ae,f,g,w,l.directiveRegistry,l.pipeRegistry,null,l.schemas,ee);return null!==l.queries&&(l.queries.template(l,ae),Me.queries=l.queries.embeddedTView(ae)),ae}(ae,ee,U,l,d,f,g,w,I):ee.data[ae];Cs(Me,!1);const Je=U[qn].createComment("");ga(ee,U,Je,Me),ao(Je,U),Yh(U,U[ae]=ju(Je,U,Je,Me)),Nr(Me)&&Xf(ee,U,Me),null!=I&&jh(U,Me,R)}function vy(o){return ro(function Sl(){return Ln.lFrame.contextLView}(),Vi+o)}function Ip(o,l,d){const f=ut();return Bo(f,Ds(),l)&&ja(Bn(),_r(),f,o,l,f[qn],d,!1),Ip}function am(o,l,d,f,g){const I=g?"class":"style";Jo(o,d,l.inputs[I],I,f)}function Sp(o,l,d,f){const g=ut(),w=Bn(),I=Vi+o,R=g[qn],U=w.firstCreatePass?function by(o,l,d,f,g,w){const I=l.consts,U=Yd(l,o,2,f,cs(I,g));return Gh(l,d,U,cs(I,w)),null!==U.attrs&&za(U,U.attrs,!1),null!==U.mergedAttrs&&za(U,U.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,U),U}(I,w,g,l,d,f):w.data[I],ee=g[I]=Af(R,l,function wr(){return Ln.lFrame.currentNamespace}()),ae=Nr(U);return Cs(U,!0),Ou(R,ee,U),32!=(32&U.flags)&&ga(w,g,ee,U),0===function Xa(){return Ln.lFrame.elementDepthCount}()&&ao(ee,g),function Y(){Ln.lFrame.elementDepthCount++}(),ae&&(Xf(w,g,U),cp(w,U,g)),null!==f&&jh(g,U),Sp}function Yu(){let o=br();Dl()?Il():(o=o.parent,Cs(o,!1));const l=o;!function G(){Ln.lFrame.elementDepthCount--}();const d=Bn();return d.firstCreatePass&&(_s(d,o),lr(o)&&d.queries.elementEnd(o)),null!=l.classesWithoutHost&&function gn(o){return 0!=(8&o.flags)}(l)&&am(d,l,ut(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Ri(o){return 0!=(16&o.flags)}(l)&&am(d,l,ut(),l.stylesWithoutHost,!1),Yu}function lm(o,l,d,f){return Sp(o,l,d,f),Yu(),lm}function tu(o,l,d){const f=ut(),g=Bn(),w=o+Vi,I=g.firstCreatePass?function wy(o,l,d,f,g){const w=l.consts,I=cs(w,f),R=Yd(l,o,8,"ng-container",I);return null!==I&&za(R,I,!0),Gh(l,d,R,cs(w,g)),null!==l.queries&&l.queries.elementStart(l,R),R}(w,g,f,l,d):g.data[w];Cs(I,!0);const R=f[w]=f[qn].createComment("");return ga(g,f,R,I),ao(R,f),Nr(I)&&(Xf(g,f,I),cp(g,I,f)),null!=d&&jh(f,I),tu}function cm(){let o=br();const l=Bn();return Dl()?Il():(o=o.parent,Cs(o,!1)),l.firstCreatePass&&(_s(l,o),lr(o)&&l.queries.elementEnd(o)),cm}function tf(o,l,d){return tu(o,l,d),cm(),tf}function xy(){return ut()}function dm(o){return!!o&&"function"==typeof o.then}function Ey(o){return!!o&&"function"==typeof o.subscribe}const Cy=Ey;function Ji(o,l,d,f){const g=ut(),w=Bn(),I=br();return Ac(w,g,g[qn],I,o,l,f),Ji}function Zi(o,l){const d=br(),f=ut(),g=Bn();return Ac(g,f,Zh(tl(g.data),d,f),d,o,l),Zi}function Ac(o,l,d,f,g,w,I){const R=Nr(f),ee=o.firstCreatePass&&zg(o),ae=l[ki],Me=_o(l);let Je=!0;if(3&f.type||I){const un=ji(f,l),xn=I?I(un):un,zn=Me.length,si=I?Ti=>I(mi(Ti[f.index])):f.index;let Qt=null;if(!I&&R&&(Qt=function Bi(o,l,d,f){const g=o.cleanup;if(null!=g)for(let w=0;w<g.length-1;w+=2){const I=g[w];if(I===d&&g[w+1]===f){const R=l[Ki],U=g[w+2];return R.length>U?R[U]:null}"string"==typeof I&&(w+=2)}return null}(o,l,g,f.index)),null!==Qt)(Qt.__ngLastListenerFn__||Qt).__ngNextListenerFn__=w,Qt.__ngLastListenerFn__=w,Je=!1;else{w=um(f,l,ae,w,!1);const Ti=d.listen(xn,g,w);Me.push(w,Ti),ee&&ee.push(g,si,zn,zn+1)}}else w=um(f,l,ae,w,!1);const _t=f.outputs;let Gt;if(Je&&null!==_t&&(Gt=_t[g])){const un=Gt.length;if(un)for(let xn=0;xn<un;xn+=2){const Gs=l[Gt[xn]][Gt[xn+1]].subscribe(w),xo=Me.length;Me.push(w,Gs),ee&&ee.push(g,f.index,xo,-(xo+1))}}}function Ur(o,l,d,f){try{return Zr(6,l,d),!1!==d(f)}catch(g){return Qh(o,g),!1}finally{Zr(7,l,d)}}function um(o,l,d,f,g){return function w(I){if(I===Function)return f;Hg(o.componentOffset>-1?gr(o.index,l):l);let U=Ur(l,d,f,I),ee=w.__ngNextListenerFn__;for(;ee;)U=Ur(l,d,ee,I)&&U,ee=ee.__ngNextListenerFn__;return g&&!1===U&&(I.preventDefault(),I.returnValue=!1),U}}function e_(o=1){return function To(o){return(Ln.lFrame.contextLView=function mu(o,l){for(;o>0;)l=l[Dr],o--;return l}(o,Ln.lFrame.contextLView))[ki]}(o)}function qu(o,l){let d=null;const f=function wg(o){const l=o.attrs;if(null!=l){const d=l.indexOf(5);if(!(1&d))return l[d+1]}return null}(o);for(let g=0;g<l.length;g++){const w=l[g];if("*"!==w){if(null===f?ip(o,w,!0):Vu(f,w))return g}else d=g}return d}function Tp(o){const l=ut()[tr][Gn];if(!l.projection){const f=l.projection=A(o?o.length:1,null),g=f.slice();let w=l.child;for(;null!==w;){const I=o?qu(w,o):0;null!==I&&(g[I]?g[I].projectionNext=w:f[I]=w,g[I]=w),w=w.next}}}function ns(o,l=0,d){const f=ut(),g=Bn(),w=Yd(g,Vi+o,16,null,d||null);null===w.projection&&(w.projection=l),Il(),32!=(32&w.flags)&&function dv(o,l,d){Km(l[qn],0,l,d,kf(o,d,l),Id(d.parent||l[Gn],d,l))}(g,f,w)}function bo(o,l,d,f,g){const w=ut(),I=im(w,l,d,f);return I!==wi&&ja(Bn(),_r(),w,o,I,w[qn],g,!1),bo}function hm(o,l){return o<<17|l<<2}function Vl(o){return o>>17&32767}function Iy(o){return 2|o}function nf(o){return(131068&o)>>2}function i_(o,l){return-131069&o|l<<2}function sd(o){return 1|o}function dc(o,l,d,f,g){const w=o[d+1],I=null===l;let R=f?Vl(w):nf(w),U=!1;for(;0!==R&&(!1===U||I);){const ae=o[R+1];Mp(o[R],l)&&(U=!0,o[R+1]=f?sd(ae):Iy(ae)),R=f?Vl(ae):nf(ae)}U&&(o[d+1]=f?Iy(w):sd(w))}function Mp(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&tt(o,l)>=0}const hr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sy(o){return o.substring(hr.key,hr.keyEnd)}function Hl(o,l){const d=hr.textEnd;return d===l?-1:(l=hr.keyEnd=function a_(o,l,d){for(;l<d&&o.charCodeAt(l)>32;)l++;return l}(o,hr.key=l,d),Zu(o,l,d))}function Zu(o,l,d){for(;l<d&&o.charCodeAt(l)<=32;)l++;return l}function eb(o,l,d){return ta(o,l,d,!1),eb}function Jr(o,l){return ta(o,l,null,!0),Jr}function uc(o,l){for(let d=function ea(o){return function fm(o){hr.key=0,hr.keyEnd=0,hr.value=0,hr.valueEnd=0,hr.textEnd=o.length}(o),Hl(o,Zu(o,0,hr.textEnd))}(l);d>=0;d=Hl(l,d))re(o,Sy(l),!0)}function ta(o,l,d,f){const g=ut(),w=Bn(),I=Qr(2);w.firstUpdatePass&&Si(w,o,I,f),l!==wi&&Bo(g,I,l)&&Rp(w,w.data[ts()],g,g[qn],o,g[I+1]=function Ay(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=ce(_a(o)))),o}(l,d),f,I)}function pm(o,l){return l>=o.expandoStartIndex}function Si(o,l,d,f){const g=o.data;if(null===g[d+1]){const w=g[ts()],I=pm(o,d);_m(w,f)&&null===l&&!I&&(l=!1),l=function m0(o,l,d,f){const g=tl(o);let w=f?l.residualClasses:l.residualStyles;if(null===g)0===(f?l.classBindings:l.styleBindings)&&(d=iu(d=gm(null,o,l,d,f),l.attrs,f),w=null);else{const I=l.directiveStylingLast;if(-1===I||o[I]!==g)if(d=gm(g,o,l,d,f),null===w){let U=function c_(o,l,d){const f=d?l.classBindings:l.styleBindings;if(0!==nf(f))return o[Vl(f)]}(o,l,f);void 0!==U&&Array.isArray(U)&&(U=gm(null,o,l,U[1],f),U=iu(U,l.attrs,f),function p0(o,l,d,f){o[Vl(d?l.classBindings:l.styleBindings)]=f}(o,l,f,U))}else w=function ks(o,l,d){let f;const g=l.directiveEnd;for(let w=1+l.directiveStylingLast;w<g;w++)f=iu(f,o[w].hostAttrs,d);return iu(f,l.attrs,d)}(o,l,f)}return void 0!==w&&(f?l.residualClasses=w:l.residualStyles=w),d}(g,w,l,f),function rf(o,l,d,f,g,w){let I=w?l.classBindings:l.styleBindings,R=Vl(I),U=nf(I);o[f]=d;let ae,ee=!1;if(Array.isArray(d)?(ae=d[1],(null===ae||tt(d,ae)>0)&&(ee=!0)):ae=d,g)if(0!==U){const Je=Vl(o[R+1]);o[f+1]=hm(Je,R),0!==Je&&(o[Je+1]=i_(o[Je+1],f)),o[R+1]=function Zv(o,l){return 131071&o|l<<17}(o[R+1],f)}else o[f+1]=hm(R,0),0!==R&&(o[R+1]=i_(o[R+1],f)),R=f;else o[f+1]=hm(U,0),0===R?R=f:o[U+1]=i_(o[U+1],f),U=f;ee&&(o[f+1]=Iy(o[f+1])),dc(o,ae,f,!0),dc(o,ae,f,!1),function Yi(o,l,d,f,g){const w=g?o.residualClasses:o.residualStyles;null!=w&&"string"==typeof l&&tt(w,l)>=0&&(d[f+1]=sd(d[f+1]))}(l,ae,o,f,w),I=hm(R,U),w?l.classBindings=I:l.styleBindings=I}(g,w,l,d,I,f)}}function gm(o,l,d,f,g){let w=null;const I=d.directiveEnd;let R=d.directiveStylingLast;for(-1===R?R=d.directiveStart:R++;R<I&&(w=l[R],f=iu(f,w.hostAttrs,g),w!==o);)R++;return null!==o&&(d.directiveStylingLast=R),f}function iu(o,l,d){const f=d?1:2;let g=-1;if(null!==l)for(let w=0;w<l.length;w++){const I=l[w];"number"==typeof I?g=I:g===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),re(o,I,!!d||l[++w]))}return void 0===o?null:o}function Rp(o,l,d,f,g,w,I,R){if(!(3&l.type))return;const U=o.data,ee=U[R+1],ae=function r_(o){return 1==(1&o)}(ee)?fc(U,l,d,g,nf(ee),I):void 0;sf(ae)||(sf(w)||function f0(o){return 2==(2&o)}(ee)&&(w=fc(U,null,d,g,R,I)),function Ru(o,l,d,f,g){if(l)g?o.addClass(d,f):o.removeClass(d,f);else{let w=-1===f.indexOf("-")?void 0:Ol.DashCase;null==g?o.removeStyle(d,f,w):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),w|=Ol.Important),o.setStyle(d,f,g,w))}}(f,I,io(ts(),d),g,w))}function fc(o,l,d,f,g,w){const I=null===l;let R;for(;g>0;){const U=o[g],ee=Array.isArray(U),ae=ee?U[1]:U,Me=null===ae;let Je=d[g+1];Je===wi&&(Je=Me?Ne:void 0);let _t=Me?_e(Je,f):ae===f?Je:void 0;if(ee&&!sf(_t)&&(_t=_e(U,f)),sf(_t)&&(R=_t,I))return R;const Gt=o[g+1];g=I?Vl(Gt):nf(Gt)}if(null!==l){let U=w?l.residualClasses:l.residualStyles;null!=U&&(R=_e(U,f))}return R}function sf(o){return void 0!==o}function _m(o,l){return 0!=(o.flags&(l?8:16))}function My(o,l=""){const d=ut(),f=Bn(),g=o+Vi,w=f.firstCreatePass?Yd(f,g,1,l,null):f.data[g],I=d[g]=function ml(o,l){return o.createText(l)}(d[qn],l);ga(f,d,I,w),Cs(w,!1)}function af(o){return lf("",o,""),af}function lf(o,l,d){const f=ut(),g=im(f,o,l,d);return g!==wi&&function yo(o,l,d){const f=io(l,o);!function $m(o,l,d){o.setValue(l,d)}(o[qn],f,d)}(f,ts(),g),lf}function Ry(o,l,d){!function wo(o,l,d,f){const g=Bn(),w=Qr(2);g.firstUpdatePass&&Si(g,null,w,f);const I=ut();if(d!==wi&&Bo(I,w,d)){const R=g.data[ts()];if(_m(R,f)&&!pm(g,w)){let U=f?R.classesWithoutHost:R.stylesWithoutHost;null!==U&&(d=xe(U,d||"")),am(g,R,I,d,f)}else!function _l(o,l,d,f,g,w,I,R){g===wi&&(g=Ne);let U=0,ee=0,ae=0<g.length?g[0]:null,Me=0<w.length?w[0]:null;for(;null!==ae||null!==Me;){const Je=U<g.length?g[U+1]:void 0,_t=ee<w.length?w[ee+1]:void 0;let un,Gt=null;ae===Me?(U+=2,ee+=2,Je!==_t&&(Gt=Me,un=_t)):null===Me||null!==ae&&ae<Me?(U+=2,Gt=ae):(ee+=2,Gt=Me,un=_t),null!==Gt&&Rp(o,l,d,f,Gt,un,I,R),ae=U<g.length?g[U]:null,Me=ee<w.length?w[ee]:null}}(g,R,I,I[qn],I[w+1],I[w+1]=function Ty(o,l,d){if(null==d||""===d)return Ne;const f=[],g=_a(d);if(Array.isArray(g))for(let w=0;w<g.length;w++)o(f,g[w],!0);else if("object"==typeof g)for(const w in g)g.hasOwnProperty(w)&&o(f,w,g[w]);else"string"==typeof g&&l(f,g);return f}(o,l,d),f,w)}}(re,uc,im(ut(),o,l,d),!0)}function su(o,l,d){const f=ut();return Bo(f,Ds(),l)&&ja(Bn(),_r(),f,o,l,f[qn],d,!0),su}function uf(o,l,d){const f=ut();if(Bo(f,Ds(),l)){const w=Bn(),I=_r();ja(w,I,f,o,l,Zh(tl(w.data),I,f),d,!0)}return uf}const Xu=void 0;var ff=["en",[["a","p"],["AM","PM"],Xu],[["AM","PM"],Xu,Xu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xu,"{1} 'at' {0}",Xu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hf(o){const d=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let Ju={};function Kr(o){const l=function eh(o){return o.toLowerCase().replace(/_/g,"-")}(o);let d=Bp(l);if(d)return d;const f=l.split("-")[0];if(d=Bp(f),d)return d;if("en"===f)return ff;throw new qe(701,!1)}function mf(o){return Kr(o)[ei.PluralCase]}function Bp(o){return o in Ju||(Ju[o]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[o]),Ju[o]}var ei=(()=>((ei=ei||{})[ei.LocaleId=0]="LocaleId",ei[ei.DayPeriodsFormat=1]="DayPeriodsFormat",ei[ei.DayPeriodsStandalone=2]="DayPeriodsStandalone",ei[ei.DaysFormat=3]="DaysFormat",ei[ei.DaysStandalone=4]="DaysStandalone",ei[ei.MonthsFormat=5]="MonthsFormat",ei[ei.MonthsStandalone=6]="MonthsStandalone",ei[ei.Eras=7]="Eras",ei[ei.FirstDayOfWeek=8]="FirstDayOfWeek",ei[ei.WeekendRange=9]="WeekendRange",ei[ei.DateFormat=10]="DateFormat",ei[ei.TimeFormat=11]="TimeFormat",ei[ei.DateTimeFormat=12]="DateTimeFormat",ei[ei.NumberSymbols=13]="NumberSymbols",ei[ei.NumberFormats=14]="NumberFormats",ei[ei.CurrencyCode=15]="CurrencyCode",ei[ei.CurrencySymbol=16]="CurrencySymbol",ei[ei.CurrencyName=17]="CurrencyName",ei[ei.Currencies=18]="Currencies",ei[ei.Directionality=19]="Directionality",ei[ei.PluralCase=20]="PluralCase",ei[ei.ExtraData=21]="ExtraData",ei))();const kc="en-US";let _0=kc;function Yp(o,l,d,f,g){if(o=me(o),Array.isArray(o))for(let w=0;w<o.length;w++)Yp(o[w],l,d,f,g);else{const w=Bn(),I=ut();let R=pl(o)?o:me(o.provide),U=Gf(o);const ee=br(),ae=1048575&ee.providerIndexes,Me=ee.directiveStart,Je=ee.providerIndexes>>20;if(pl(o)||!o.multi){const _t=new H(U,g,nd),Gt=Sm(R,l,g?ae:ae+Je,Me);-1===Gt?(Sr(so(ee,I),w,R),T_(w,o,l.length),l.push(R),ee.directiveStart++,ee.directiveEnd++,g&&(ee.providerIndexes+=1048576),d.push(_t),I.push(_t)):(d[Gt]=_t,I[Gt]=_t)}else{const _t=Sm(R,l,ae+Je,Me),Gt=Sm(R,l,ae,ae+Je),xn=Gt>=0&&d[Gt];if(g&&!xn||!g&&!(_t>=0&&d[_t])){Sr(so(ee,I),w,R);const zn=function L0(o,l,d,f,g){const w=new H(o,d,nd);return w.multi=[],w.index=l,w.componentProviders=0,ah(w,g,f&&!d),w}(g?M_:A_,d.length,g,f,U);!g&&xn&&(d[Gt].providerFactory=zn),T_(w,o,l.length,0),l.push(R),ee.directiveStart++,ee.directiveEnd++,g&&(ee.providerIndexes+=1048576),d.push(zn),I.push(zn)}else T_(w,o,_t>-1?_t:Gt,ah(d[g?Gt:_t],U,!g&&f));!g&&f&&xn&&d[Gt].componentProviders++}}}function T_(o,l,d,f){const g=pl(l),w=function Hd(o){return!!o.useClass}(l);if(g||w){const U=(w?me(l.useClass):l).prototype.ngOnDestroy;if(U){const ee=o.destroyHooks||(o.destroyHooks=[]);if(!g&&l.multi){const ae=ee.indexOf(d);-1===ae?ee.push(d,[f,U]):ee[ae+1].push(f,U)}else ee.push(d,U)}}}function ah(o,l,d){return d&&o.componentProviders++,o.multi.push(l)-1}function Sm(o,l,d,f){for(let g=d;g<f;g++)if(l[g]===o)return g;return-1}function A_(o,l,d,f){return Tm(this.multi,[])}function M_(o,l,d,f){const g=this.multi;let w;if(this.providerFactory){const I=this.providerFactory.componentProviders,R=cn(d,d[fn],this.providerFactory.index,f);w=R.slice(0,I),Tm(g,w);for(let U=I;U<R.length;U++)w.push(R[U])}else w=[],Tm(g,w);return w}function Tm(o,l){for(let d=0;d<o.length;d++)l.push((0,o[d])());return l}function yf(o,l=[]){return d=>{d.providersResolver=(f,g)=>function Kp(o,l,d){const f=Bn();if(f.firstCreatePass){const g=ps(o);Yp(d,f.data,f.blueprint,g,!0),Yp(l,f.data,f.blueprint,g,!1)}}(f,g?g(o):o,l)}}class vf{}class vb{}function B0(o,l){return new qp(o,l??null)}class qp extends vf{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uy(this);const f=is(l);this._bootstrapComponents=hs(f.bootstrap),this._r3Injector=ey(l,d,[{provide:vf,useValue:this},{provide:Ph,useValue:this.componentFactoryResolver}],ce(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class $y extends vb{constructor(l){super(),this.moduleType=l}create(l){return new qp(this.moduleType,l)}}class a extends vf{constructor(l,d,f){super(),this.componentFactoryResolver=new uy(this),this.instance=null;const g=new ep([...l,{provide:vf,useValue:this},{provide:Ph,useValue:this.componentFactoryResolver}],d||zf(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function t(o,l,d=null){return new a(o,l,d).injector}let i=(()=>{class o{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const f=Rh(0,d.type),g=f.length>0?t([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,g)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=rn({token:o,providedIn:"environment",factory:()=>new o($t(Fu))}),o})();function c(o){o.getStandaloneInjector=l=>l.get(i).getOrCreateStandaloneInjector(o)}function Yr(o,l,d,f){return Iw(ut(),Qi(),o,l,d,f)}function wa(o,l,d,f,g){return Pc(ut(),Qi(),o,l,d,f,g)}function bf(o,l){const d=o[l];return d===wi?void 0:d}function Iw(o,l,d,f,g,w){const I=l+d;return Bo(o,I,g)?Ul(o,I+1,w?f.call(w,g):f(g)):bf(o,I+1)}function Pc(o,l,d,f,g,w,I){const R=l+d;return function Qd(o,l,d,f){const g=Bo(o,l,d);return Bo(o,l+1,f)||g}(o,R,g,w)?Ul(o,R+2,I?f.call(I,g,w):f(g,w)):bf(o,R+2)}function H0(o,l){const d=Bn();let f;const g=o+Vi;d.firstCreatePass?(f=function Nc(o,l){if(l)for(let d=l.length-1;d>=0;d--){const f=l[d];if(o===f.name)return f}}(l,d.pipeRegistry),d.data[g]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(g,f.onDestroy)):f=d.data[g];const w=f.factory||(f.factory=pr(f.type)),I=di(nd);try{const R=Aa(!1),U=w();return Aa(R),function Dp(o,l,d,f){d>=o.data.length&&(o.data[d]=null,o.blueprint[d]=null),l[d]=f}(d,ut(),g,U),U}finally{di(I)}}function Tw(o,l,d){const f=o+Vi,g=ut(),w=ro(g,f);return k_(g,f)?Iw(g,Qi(),l,w.transform,d,w):w.transform(d)}function j0(o,l,d,f){const g=o+Vi,w=ut(),I=ro(w,g);return k_(w,g)?Pc(w,Qi(),l,I.transform,d,f,I):I.transform(d,f)}function k_(o,l){return o[fn].data[l].pure}function bb(o){return l=>{setTimeout(o,void 0,l)}}const cu=class qy extends _.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,f){let g=l,w=d||(()=>null),I=f;if(l&&"object"==typeof l){const U=l;g=U.next?.bind(U),w=U.error?.bind(U),I=U.complete?.bind(U)}this.__isAsync&&(w=bb(w),g&&(g=bb(g)),I&&(I=bb(I)));const R=super.subscribe({next:g,error:w,complete:I});return l instanceof h.w0&&l.add(R),R}};function Mx(){return this._results[Symbol.iterator]()}class R_{get changes(){return this._changes||(this._changes=new cu)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=R_.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=Mx)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const f=this;f.dirty=!1;const g=function Zs(o){return o.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function yu(o,l,d){if(o.length!==l.length)return!1;for(let f=0;f<o.length;f++){let g=o[f],w=l[f];if(d&&(g=d(g),w=d(w)),w!==g)return!1}return!0}(f._results,g,d))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Am=(()=>{class o{}return o.__NG_ELEMENT_ID__=Rx,o})();const kx=Am,z0=class extends kx{constructor(l,d,f){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(l,d){const f=this._declarationTContainer.tView,g=lp(this._declarationLView,f,l,16,null,f.declTNode,null,null,null,null,d||null);g[ms]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[es];return null!==I&&(g[es]=I.createEmbeddedView(f)),Rg(f,g,l),new rd(g)}};function Rx(){return wb(br(),ut())}function wb(o,l){return 4&o.type?new z0(l,o,Bu(o,l)):null}let xb=(()=>{class o{}return o.__NG_ELEMENT_ID__=Aw,o})();function Aw(){return G0(br(),ut())}const Ox=xb,Mw=class extends Ox{constructor(l,d,f){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=f}get element(){return Bu(this._hostTNode,this._hostLView)}get injector(){return new oo(this._hostTNode,this._hostLView)}get parentInjector(){const l=Yn(this._hostTNode,this._hostLView);if(Jt(l)){const d=cr(l,this._hostLView),f=pt(l);return new oo(d[fn].data[f+8],d)}return new oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=kw(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-mn}createEmbeddedView(l,d,f){let g,w;"number"==typeof f?g=f:null!=f&&(g=f.index,w=f.injector);const I=l.createEmbeddedView(d||{},w);return this.insert(I,g),I}createComponent(l,d,f,g,w){const I=l&&!function Br(o){return"function"==typeof o}(l);let R;if(I)R=d;else{const Me=d||{};R=Me.index,f=Me.injector,g=Me.projectableNodes,w=Me.environmentInjector||Me.ngModuleRef}const U=I?l:new Xh(ui(l)),ee=f||this.parentInjector;if(!w&&null==U.ngModule){const Je=(I?ee:this.parentInjector).get(Fu,null);Je&&(w=Je)}const ae=U.create(ee,g,void 0,w);return this.insert(ae.hostView,R),ae}insert(l,d){const f=l._lView,g=f[fn];if(function Fs(o){return ti(o[Di])}(f)){const ae=this.indexOf(l);if(-1!==ae)this.detach(ae);else{const Me=f[Di],Je=new Mw(Me,Me[Gn],Me[Di]);Je.detach(Je.indexOf(l))}}const w=this._adjustIndex(d),I=this._lContainer;!function Xs(o,l,d,f){const g=mn+f,w=d.length;f>0&&(d[g-1][Or]=l),f<w-mn?(l[Or]=d[g],kl(d,mn+f,l)):(d.push(l),l[Or]=null),l[Di]=d;const I=l[ms];null!==I&&d!==I&&function pa(o,l){const d=o[Zt];l[tr]!==l[Di][Di][tr]&&(o[je]=!0),null===d?o[Zt]=[l]:d.push(l)}(I,l);const R=l[es];null!==R&&R.insertView(o),l[Nn]|=64}(g,f,I,w);const R=ku(w,I),U=f[qn],ee=Ch(U,I[lt]);return null!==ee&&function Tu(o,l,d,f,g,w){f[Mi]=g,f[Gn]=l,Ih(o,f,d,1,g,w)}(g,I[Gn],U,f,ee,R),l.attachToViewContainerRef(),kl(Zy(I),w,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=kw(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),f=Dd(this._lContainer,d);f&&(Pa(Zy(this._lContainer),d),Eh(f[fn],f))}detach(l){const d=this._adjustIndex(l,-1),f=Dd(this._lContainer,d);return f&&null!=Pa(Zy(this._lContainer),d)?new rd(f):null}_adjustIndex(l,d=0){return l??this.length+d}};function kw(o){return o[Bt]}function Zy(o){return o[Bt]||(o[Bt]=[])}function G0(o,l){let d;const f=l[o.index];if(ti(f))d=f;else{let g;if(8&o.type)g=mi(f);else{const w=l[qn];g=w.createComment("");const I=ji(o,l);qo(w,Ch(w,I),g,function sc(o,l){return o.nextSibling(l)}(w,I),!1)}l[o.index]=d=ju(f,l,g,o),Yh(l,d)}return new Mw(d,o,l)}class $0{constructor(l){this.queryList=l,this.matches=null}clone(){return new $0(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mm{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const f=null!==l.contentQueries?l.contentQueries[0]:d.length,g=[];for(let w=0;w<f;w++){const I=d.getByIndex(w);g.push(this.queries[I.indexInDeclarationView].clone())}return new Mm(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==q0(l,d).matches&&this.queries[d].setDirty()}}class wf{constructor(l,d,f=null){this.predicate=l,this.flags=d,this.read=f}}class W0{constructor(l=[]){this.queries=l}elementStart(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let f=0;f<this.length;f++){const g=null!==d?d.length:0,w=this.getByIndex(f).embeddedTView(l,g);w&&(w.indexInDeclarationView=f,null!==d?d.push(w):d=[w])}return null!==d?new W0(d):null}template(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Qy{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new Qy(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const w=f[g];this.matchTNodeWithReadOption(l,d,Eb(d,w)),this.matchTNodeWithReadOption(l,d,dr(d,l,w,!1,!1))}else f===Am?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,dr(d,l,f,!1,!1))}matchTNodeWithReadOption(l,d,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===Nh||g===xb||g===Am&&4&d.type)this.addMatch(d.index,-2);else{const w=dr(d,l,g,!1,!1);null!==w&&this.addMatch(d.index,w)}else this.addMatch(d.index,f)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function Eb(o,l){const d=o.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===l)return d[f+1];return null}function O_(o,l,d,f){return-1===d?function Px(o,l){return 11&o.type?Bu(o,l):4&o.type?wb(o,l):null}(l,o):-2===d?function Nx(o,l,d){return d===Nh?Bu(l,o):d===Am?wb(l,o):d===xb?G0(l,o):void 0}(o,l,f):cn(o,o[fn],d,l)}function K0(o,l,d,f){const g=l[es].queries[f];if(null===g.matches){const w=o.data,I=d.matches,R=[];for(let U=0;U<I.length;U+=2){const ee=I[U];R.push(ee<0?null:O_(l,w[ee],I[U+1],d.metadata.read))}g.matches=R}return g.matches}function Cb(o,l,d,f){const g=o.queries.getByIndex(d),w=g.matches;if(null!==w){const I=K0(o,l,g,d);for(let R=0;R<w.length;R+=2){const U=w[R];if(U>0)f.push(I[R/2]);else{const ee=w[R+1],ae=l[-U];for(let Me=mn;Me<ae.length;Me++){const Je=ae[Me];Je[ms]===Je[Di]&&Cb(Je[fn],Je,ee,f)}if(null!==ae[Zt]){const Me=ae[Zt];for(let Je=0;Je<Me.length;Je++){const _t=Me[Je];Cb(_t[fn],_t,ee,f)}}}}}return f}function Y0(o){const l=ut(),d=Bn(),f=Ml();$o(f+1);const g=q0(d,f);if(o.dirty&&function aa(o){return 4==(4&o[Nn])}(l)===(2==(2&g.metadata.flags))){if(null===g.matches)o.reset([]);else{const w=g.crossesNgTemplate?Cb(d,l,f,[]):K0(d,l,g,f);o.reset(w,Ic),o.notifyOnChanges()}return!0}return!1}function Xy(o,l,d){const f=Bn();f.firstCreatePass&&(Sb(f,new wf(o,l,d),-1),2==(2&l)&&(f.staticViewQueries=!0)),Rw(f,ut(),l)}function Db(o,l,d,f){const g=Bn();if(g.firstCreatePass){const w=br();Sb(g,new wf(l,d,f),w.index),function Lx(o,l){const d=o.contentQueries||(o.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(o.queries.length-1,l)}(g,o),2==(2&d)&&(g.staticContentQueries=!0)}Rw(g,ut(),d)}function Ib(){return function Fx(o,l){return o[es].queries[l].queryList}(ut(),Ml())}function Rw(o,l,d){const f=new R_(4==(4&d));oy(o,l,f,f.destroy),null===l[es]&&(l[es]=new Mm),l[es].queries.push(new $0(f))}function Sb(o,l,d){null===o.queries&&(o.queries=new W0),o.queries.track(new Qy(l,d))}function q0(o,l){return o.queries.getByIndex(l)}function Ow(o,l){return wb(o,l)}function P_(o){return!!is(o)}function Ob(...o){}const qw=new ur("Application Initializer");let nv=(()=>{class o{constructor(d){this.appInits=d,this.resolve=Ob,this.reject=Ob,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const w=this.appInits[g]();if(dm(w))d.push(w);else if(Cy(w)){const I=new Promise((R,U)=>{w.subscribe({complete:R,error:U})});d.push(I)}}Promise.all(d).then(()=>{f()}).catch(g=>{this.reject(g)}),0===d.length&&f(),this.initialized=!0}}return o.\u0275fac=function(d){return new(d||o)($t(qw,8))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Zw=new ur("AppId",{providedIn:"root",factory:function Qw(){return`${Pb()}${Pb()}${Pb()}`}});function Pb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xw=new ur("Platform Initializer"),Jx=new ur("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eE=new ur("AnimationModuleType");let tE=(()=>{class o{log(d){console.log(d)}warn(d){console.warn(d)}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Nb=new ur("LocaleId",{providedIn:"root",factory:()=>K(Nb,dn.Optional|dn.SkipSelf)||function nE(){return typeof $localize<"u"&&$localize.locale||kc}()}),iE=new ur("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rE{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}let sE=(()=>{class o{compileModuleSync(d){return new $y(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),w=hs(is(d).declarations).reduce((I,R)=>{const U=ui(R);return U&&I.push(new Xh(U)),I},[]);return new rE(f,w)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Wa=(()=>Promise.resolve(0))();function jl(o){typeof Zone>"u"?Wa.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ud{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cu(!1),this.onMicrotaskEmpty=new cu(!1),this.onStable=new cu(!1),this.onError=new cu(!1),typeof Zone>"u")throw new qe(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&d,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function iv(){let o=Sn.requestAnimationFrame,l=Sn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function uE(o){const l=()=>{!function dE(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Sn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Fb(o),o.isCheckStableRunning=!0,tw(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Fb(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,g,w,I,R)=>{try{return nw(o),d.invokeTask(g,w,I,R)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||o.shouldCoalesceRunChangeDetection)&&l(),iw(o)}},onInvoke:(d,f,g,w,I,R,U)=>{try{return nw(o),d.invoke(g,w,I,R,U)}finally{o.shouldCoalesceRunChangeDetection&&l(),iw(o)}},onHasTask:(d,f,g,w)=>{d.hasTask(g,w),f===g&&("microTask"==w.change?(o._hasPendingMicrotasks=w.microTask,Fb(o),tw(o)):"macroTask"==w.change&&(o.hasPendingMacrotasks=w.macroTask))},onHandleError:(d,f,g,w)=>(d.handleError(g,w),o.runOutsideAngular(()=>o.onError.emit(w)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ud.isInAngularZone())throw new qe(909,!1)}static assertNotInAngularZone(){if(ud.isInAngularZone())throw new qe(909,!1)}run(l,d,f){return this._inner.run(l,d,f)}runTask(l,d,f,g){const w=this._inner,I=w.scheduleEventTask("NgZoneEvent: "+g,l,cE,Ob,Ob);try{return w.runTask(I,d,f)}finally{w.cancelTask(I)}}runGuarded(l,d,f){return this._inner.runGuarded(l,d,f)}runOutsideAngular(l){return this._outer.run(l)}}const cE={};function tw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Fb(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function nw(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function iw(o){o._nesting--,tw(o)}class tx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cu,this.onMicrotaskEmpty=new cu,this.onStable=new cu,this.onError=new cu}run(l,d,f){return l.apply(d,f)}runGuarded(l,d,f){return l.apply(d,f)}runOutsideAngular(l){return l()}runTask(l,d,f,g){return l.apply(d,f)}}const N_=new ur(""),nx=new ur("");let Lb,ix=(()=>{class o{constructor(d,f,g){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lb||(function hE(o){Lb=o}(g),g.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ud.assertNotInAngularZone(),jl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jl(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,g){let w=-1;f&&f>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==w),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:w,updateCb:g})}whenStable(d,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,g){return[]}}return o.\u0275fac=function(d){return new(d||o)($t(ud),$t(rx),$t(nx))},o.\u0275prov=rn({token:o,factory:o.\u0275fac}),o})(),rx=(()=>{class o{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return Lb?.findTestabilityInTree(this,d,f)??null}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const dh=!1;let Ef=null;const sx=new ur("AllowMultipleToken"),rw=new ur("PlatformDestroyListeners"),ox=new ur("appBootstrapListener");class lx{constructor(l,d){this.name=l,this.token=d}}function dx(o,l,d=[]){const f=`Platform: ${l}`,g=new ur(f);return(w=[])=>{let I=sw();if(!I||I.injector.get(sx,!1)){const R=[...d,...w,{provide:g,useValue:!0}];o?o(R):function mE(o){if(Ef&&!Ef.get(sx,!1))throw new qe(400,!1);Ef=o;const l=o.get(_E);(function cx(o){const l=o.get(Xw,null);l&&l.forEach(d=>d())})(o)}(function ux(o=[],l){return td.create({name:l,providers:[{provide:jd,useValue:"platform"},{provide:rw,useValue:new Set([()=>Ef=null])},...o]})}(R,f))}return function gE(o){const l=sw();if(!l)throw new qe(401,!1);return l}()}}function sw(){return Ef?.get(_E)??null}let _E=(()=>{class o{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const g=function vE(o,l){let d;return d="noop"===o?new tx:("zone.js"===o?void 0:o)||new ud(l),d}(f?.ngZone,function yE(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(f)),w=[{provide:ud,useValue:g}];return g.run(()=>{const I=td.create({providers:w,parent:this.injector,name:d.moduleType.name}),R=d.create(I),U=R.injector.get(Uu,null);if(!U)throw new qe(402,!1);return g.runOutsideAngular(()=>{const ee=g.onError.subscribe({next:ae=>{U.handleError(ae)}});R.onDestroy(()=>{F_(this._modules,R),ee.unsubscribe()})}),function bE(o,l,d){try{const f=d();return dm(f)?f.catch(g=>{throw l.runOutsideAngular(()=>o.handleError(g)),g}):f}catch(f){throw l.runOutsideAngular(()=>o.handleError(f)),f}}(U,g,()=>{const ee=R.injector.get(nv);return ee.runInitializers(),ee.donePromise.then(()=>(function th(o){St(o,"Expected localeId to be defined"),"string"==typeof o&&(_0=o.toLowerCase().replace(/_/g,"-"))}(R.injector.get(Nb,kc)||kc),this._moduleDoBootstrap(R),R))})})}bootstrapModule(d,f=[]){const g=wE({},f);return function ax(o,l,d){const f=new $y(d);return Promise.resolve(f)}(0,0,d).then(w=>this.bootstrapModuleFactory(w,g))}_moduleDoBootstrap(d){const f=d.injector.get(ow);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!d.instance.ngDoBootstrap)throw new qe(-403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(rw,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(d){return new(d||o)($t(td))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function wE(o,l){return Array.isArray(l)?l.reduce(wE,o):{...o,...l}}let ow=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,f,g){this._zone=d,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new X.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),I=new X.y(R=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{ud.assertNotInAngularZone(),jl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const ee=this._zone.onUnstable.subscribe(()=>{ud.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{U.unsubscribe(),ee.unsubscribe()}});this.isStable=(0,ve.T)(w,I.pipe((0,Ae.B)()))}bootstrap(d,f){const g=d instanceof Lu;if(!this._injector.get(nv).done){!g&&ws(d);throw new qe(405,dh)}let I;I=g?d:this._injector.get(Ph).resolveComponentFactory(d),this.componentTypes.push(I.componentType);const R=function fE(o){return o.isBoundToModule}(I)?void 0:this._injector.get(vf),ee=I.create(td.NULL,[],f||I.selector,R),ae=ee.location.nativeElement,Me=ee.injector.get(N_,null);return Me?.registerApplication(ae),ee.onDestroy(()=>{this.detachView(ee.hostView),F_(this.components,ee),Me?.unregisterApplication(ae)}),this._loadComponent(ee),ee}tick(){if(this._runningTick)throw new qe(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;F_(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const f=this._injector.get(ox,[]);f.push(...this._bootstrapListeners),f.forEach(g=>g(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>F_(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new qe(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(d){return new(d||o)($t(ud),$t(Fu),$t(Uu))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function F_(o,l){const d=o.indexOf(l);d>-1&&o.splice(d,1)}function xE(){return!1}let JE=(()=>{class o{}return o.__NG_ELEMENT_ID__=eC,o})();function eC(o){return function rv(o,l,d){if(Pr(o)&&!d){const f=gr(o.index,l);return new rd(f,f)}return 47&o.type?new rd(l[tr],l):null}(br(),ut(),16==(16&o))}class sv{constructor(){}supports(l){return nm(l)}create(l){return new px(l)}}const ov=(o,l)=>l;class px{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||ov}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,f=this._removalsHead,g=0,w=null;for(;d||f;){const I=!f||d&&d.currentIndex<hw(f,g,w)?d:f,R=hw(I,g,w),U=I.currentIndex;if(I===f)g--,f=f._nextRemoved;else if(d=d._next,null==I.previousIndex)g++;else{w||(w=[]);const ee=R-g,ae=U-g;if(ee!=ae){for(let Je=0;Je<ee;Je++){const _t=Je<w.length?w[Je]:w[Je]=0,Gt=_t+Je;ae<=Gt&&Gt<ee&&(w[Je]=_t+1)}w[I.previousIndex]=ae-ee}}R!==U&&l(I,R,U)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!nm(l))throw new qe(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,w,I,d=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let R=0;R<this.length;R++)w=l[R],I=this._trackByFn(R,w),null!==d&&Object.is(d.trackById,I)?(f&&(d=this._verifyReinsertion(d,w,I,R)),Object.is(d.item,w)||this._addIdentityChange(d,w)):(d=this._mismatch(d,w,I,R),f=!0),d=d._next}else g=0,function yy(o,l){if(Array.isArray(o))for(let d=0;d<o.length;d++)l(o[d]);else{const d=o[Symbol.iterator]();let f;for(;!(f=d.next()).done;)l(f.value)}}(l,R=>{I=this._trackByFn(g,R),null!==d&&Object.is(d.trackById,I)?(f&&(d=this._verifyReinsertion(d,R,I,g)),Object.is(d.item,R)||this._addIdentityChange(d,R)):(d=this._mismatch(d,R,I,g),f=!0),d=d._next,g++}),this.length=g;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,f,g){let w;return null===l?w=this._itTail:(w=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,w,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,w,g)):l=this._addAfter(new TE(d,f),w,g),l}_verifyReinsertion(l,d,f,g){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==w?l=this._reinsertAfter(w,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,w=l._nextRemoved;return null===g?this._removalsHead=w:g._nextRemoved=w,null===w?this._removalsTail=g:w._prevRemoved=g,this._insertAfter(l,d,f),this._addToMoves(l,f),l}_moveAfter(l,d,f){return this._unlink(l),this._insertAfter(l,d,f),this._addToMoves(l,f),l}_addAfter(l,d,f){return this._insertAfter(l,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,f){const g=null===d?this._itHead:d._next;return l._next=g,l._prev=d,null===g?this._itTail=l:g._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new Om),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,f=l._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Om),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class TE{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AE{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const d=l._prevDup,f=l._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class Om{constructor(){this.map=new Map}put(l){const d=l.trackById;let f=this.map.get(d);f||(f=new AE,this.map.set(d,f)),f.add(l)}get(l,d){const g=this.map.get(l);return g?g.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hw(o,l,d){const f=o.previousIndex;if(null===f)return f;let g=0;return d&&f<d.length&&(g=d[f]),f+l+g}class fw{constructor(){}supports(l){return l instanceof Map||wp(l)}create(){return new sC}}class sC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||wp(l)))throw new qe(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,g)=>{if(d&&d.key===g)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const w=this._getOrCreateRecordForKey(g,f);d=this._insertBeforeOrAppend(d,w)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const f=l._prev;return d._next=l,d._prev=f,l._prev=d,f&&(f._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,d);const w=g._prev,I=g._next;return w&&(w._next=I),I&&(I._prev=w),g._next=null,g._prev=null,g}const f=new oC(l);return this._records.set(l,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(f=>d(l[f],f))}}class oC{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mw(){return new pw([new sv])}let pw=(()=>{class o{constructor(d){this.factories=d}static create(d,f){if(null!=f){const g=f.factories.slice();d=d.concat(g)}return new o(d)}static extend(d){return{provide:o,useFactory:f=>o.create(d,f||mw()),deps:[[o,new fl,new ua]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(null!=f)return f;throw new qe(901,!1)}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:mw}),o})();function gx(){return new hd([new fw])}let hd=(()=>{class o{constructor(d){this.factories=d}static create(d,f){if(f){const g=f.factories.slice();d=d.concat(g)}return new o(d)}static extend(d){return{provide:o,useFactory:f=>o.create(d,f||gx()),deps:[[o,new fl,new ua]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(f)return f;throw new qe(901,!1)}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:gx}),o})();const RE=dx(null,"core",[]);let OE=(()=>{class o{constructor(d){}}return o.\u0275fac=function(d){return new(d||o)($t(ow))},o.\u0275mod=fs({type:o}),o.\u0275inj=En({}),o})();function Hb(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},4006:(Wt,Ge,O)=>{O.d(Ge,{F:()=>ki,Fj:()=>Ke,JJ:()=>ci,JL:()=>ai,JU:()=>ce,On:()=>Ks,Q7:()=>Da,UX:()=>Xa,_Y:()=>Qe,a5:()=>_i,kI:()=>He,nD:()=>ls,sg:()=>jr,u5:()=>$l,wO:()=>vr});var _=O(4650),h=O(6895),X=O(8996),ve=O(4128),Ae=O(4004);let Se=(()=>{class Y{constructor(z,he){this._renderer=z,this._elementRef=he,this.onChange=Tt=>{},this.onTouched=()=>{}}setProperty(z,he){this._renderer.setProperty(this._elementRef.nativeElement,z,he)}registerOnTouched(z){this.onTouched=z}registerOnChange(z){this.onChange=z}setDisabledState(z){this.setProperty("disabled",z)}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(_.Qsj),_.Y36(_.SBq))},Y.\u0275dir=_.lG2({type:Y}),Y})(),we=(()=>{class Y extends Se{}return Y.\u0275fac=function(){let G;return function(he){return(G||(G=_.n5z(Y)))(he||Y)}}(),Y.\u0275dir=_.lG2({type:Y,features:[_.qOj]}),Y})();const ce=new _.OlP("NgValueAccessor"),ye={provide:ce,useExisting:(0,_.Gpc)(()=>Ke),multi:!0},nt=new _.OlP("CompositionEventMode");let Ke=(()=>{class Y extends Se{constructor(z,he,Tt){super(z,he),this._compositionMode=Tt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function me(){const Y=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(z){this.setProperty("value",z??"")}_handleInput(z){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(z)}_compositionStart(){this._composing=!0}_compositionEnd(z){this._composing=!1,this._compositionMode&&this.onChange(z)}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(nt,8))},Y.\u0275dir=_.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(z,he){1&z&&_.NdJ("input",function(ut){return he._handleInput(ut.target.value)})("blur",function(){return he.onTouched()})("compositionstart",function(){return he._compositionStart()})("compositionend",function(ut){return he._compositionEnd(ut.target.value)})},features:[_._Bn([ye]),_.qOj]}),Y})();const xt=!1;function ht(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}function qe(Y){return null!=Y&&"number"==typeof Y.length}const Le=new _.OlP("NgValidators"),Ee=new _.OlP("NgAsyncValidators"),Ct=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class He{static min(G){return function De(Y){return G=>{if(ht(G.value)||ht(Y))return null;const z=parseFloat(G.value);return!isNaN(z)&&z<Y?{min:{min:Y,actual:G.value}}:null}}(G)}static max(G){return function pe(Y){return G=>{if(ht(G.value)||ht(Y))return null;const z=parseFloat(G.value);return!isNaN(z)&&z>Y?{max:{max:Y,actual:G.value}}:null}}(G)}static required(G){return ze(G)}static requiredTrue(G){return function Xe(Y){return!0===Y.value?null:{required:!0}}(G)}static email(G){return function ge(Y){return ht(Y.value)||Ct.test(Y.value)?null:{email:!0}}(G)}static minLength(G){return Ce(G)}static maxLength(G){return $e(G)}static pattern(G){return function mt(Y){if(!Y)return en;let G,z;return"string"==typeof Y?(z="","^"!==Y.charAt(0)&&(z+="^"),z+=Y,"$"!==Y.charAt(Y.length-1)&&(z+="$"),G=new RegExp(z)):(z=Y.toString(),G=Y),he=>{if(ht(he.value))return null;const Tt=he.value;return G.test(Tt)?null:{pattern:{requiredPattern:z,actualValue:Tt}}}}(G)}static nullValidator(G){return null}static compose(G){return Rt(G)}static composeAsync(G){return bt(G)}}function ze(Y){return ht(Y.value)?{required:!0}:null}function Ce(Y){return G=>ht(G.value)||!qe(G.value)?null:G.value.length<Y?{minlength:{requiredLength:Y,actualLength:G.value.length}}:null}function $e(Y){return G=>qe(G.value)&&G.value.length>Y?{maxlength:{requiredLength:Y,actualLength:G.value.length}}:null}function en(Y){return null}function Pt(Y){return null!=Y}function rt(Y){const G=(0,_.QGY)(Y)?(0,X.D)(Y):Y;if(xt&&!(0,_.CqO)(G)){let z="Expected async validator to return Promise or Observable.";throw"object"==typeof Y&&(z+=" Are you using a synchronous validator where an async validator is expected?"),new _.vHH(-1101,z)}return G}function ft(Y){let G={};return Y.forEach(z=>{G=null!=z?{...G,...z}:G}),0===Object.keys(G).length?null:G}function Et(Y,G){return G.map(z=>z(Y))}function It(Y){return Y.map(G=>function kt(Y){return!Y.validate}(G)?G:z=>G.validate(z))}function Rt(Y){if(!Y)return null;const G=Y.filter(Pt);return 0==G.length?null:function(z){return ft(Et(z,G))}}function St(Y){return null!=Y?Rt(It(Y)):null}function bt(Y){if(!Y)return null;const G=Y.filter(Pt);return 0==G.length?null:function(z){const he=Et(z,G).map(rt);return(0,ve.D)(he).pipe((0,Ae.U)(ft))}}function et(Y){return null!=Y?bt(It(Y)):null}function at(Y,G){return null===Y?[G]:Array.isArray(Y)?[...Y,G]:[Y,G]}function wn(Y){return Y._rawValidators}function rn(Y){return Y._rawAsyncValidators}function Tn(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function En(Y,G){return Array.isArray(Y)?Y.includes(G):Y===G}function On(Y,G){const z=Tn(G);return Tn(Y).forEach(Tt=>{En(z,Tt)||z.push(Tt)}),z}function Vn(Y,G){return Tn(G).filter(z=>!En(Y,z))}class Ei{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=St(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=et(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G){this.control&&this.control.reset(G)}hasError(G,z){return!!this.control&&this.control.hasError(G,z)}getError(G,z){return this.control?this.control.getError(G,z):null}}class Hn extends Ei{get formDirective(){return null}get path(){return null}}class _i extends Ei{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _n{constructor(G){this._cd=G}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ci=(()=>{class Y extends _n{constructor(z){super(z)}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(_i,2))},Y.\u0275dir=_.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(z,he){2&z&&_.ekj("ng-untouched",he.isUntouched)("ng-touched",he.isTouched)("ng-pristine",he.isPristine)("ng-dirty",he.isDirty)("ng-valid",he.isValid)("ng-invalid",he.isInvalid)("ng-pending",he.isPending)},features:[_.qOj]}),Y})(),ai=(()=>{class Y extends _n{constructor(z){super(z)}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(Hn,10))},Y.\u0275dir=_.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(z,he){2&z&&_.ekj("ng-untouched",he.isUntouched)("ng-touched",he.isTouched)("ng-pristine",he.isPristine)("ng-dirty",he.isDirty)("ng-valid",he.isValid)("ng-invalid",he.isInvalid)("ng-pending",he.isPending)("ng-submitted",he.isSubmitted)},features:[_.qOj]}),Y})();function Nt(Y,G){return Y?`with name: '${G}'`:`at index: ${G}`}const kn=!1,Ai="VALID",ri="INVALID",$t="PENDING",Re="DISABLED";function K(Y){return(Ie(Y)?Y.validators:Y)||null}function j(Y,G){return(Ie(G)?G.asyncValidators:Y)||null}function Ie(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}class Fe{constructor(G,z){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(G),this._assignAsyncValidators(z)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get valid(){return this.status===Ai}get invalid(){return this.status===ri}get pending(){return this.status==$t}get disabled(){return this.status===Re}get enabled(){return this.status!==Re}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._assignValidators(G)}setAsyncValidators(G){this._assignAsyncValidators(G)}addValidators(G){this.setValidators(On(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(On(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(Vn(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(Vn(G,this._rawAsyncValidators))}hasValidator(G){return En(this._rawValidators,G)}hasAsyncValidator(G){return En(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){this.touched=!0,this._parent&&!G.onlySelf&&this._parent.markAsTouched(G)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(G=>G.markAllAsTouched())}markAsUntouched(G={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(z=>{z.markAsUntouched({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}markAsDirty(G={}){this.pristine=!1,this._parent&&!G.onlySelf&&this._parent.markAsDirty(G)}markAsPristine(G={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(z=>{z.markAsPristine({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}markAsPending(G={}){this.status=$t,!1!==G.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!G.onlySelf&&this._parent.markAsPending(G)}disable(G={}){const z=this._parentMarkedDirty(G.onlySelf);this.status=Re,this.errors=null,this._forEachChild(he=>{he.disable({...G,onlySelf:!0})}),this._updateValue(),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...G,skipPristineCheck:z}),this._onDisabledChange.forEach(he=>he(!0))}enable(G={}){const z=this._parentMarkedDirty(G.onlySelf);this.status=Ai,this._forEachChild(he=>{he.enable({...G,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors({...G,skipPristineCheck:z}),this._onDisabledChange.forEach(he=>he(!1))}_updateAncestors(G){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(G){this._parent=G}getRawValue(){return this.value}updateValueAndValidity(G={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ai||this.status===$t)&&this._runAsyncValidator(G.emitEvent)),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity(G)}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild(z=>z._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Re:Ai}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G){if(this.asyncValidator){this.status=$t,this._hasOwnPendingAsyncValidator=!0;const z=rt(this.asyncValidator(this));this._asyncValidationSubscription=z.subscribe(he=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(he,{emitEvent:G})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(G,z={}){this.errors=G,this._updateControlsErrors(!1!==z.emitEvent)}get(G){let z=G;return null==z||(Array.isArray(z)||(z=z.split(".")),0===z.length)?null:z.reduce((he,Tt)=>he&&he._find(Tt),this)}getError(G,z){const he=z?this.get(z):this;return he&&he.errors?he.errors[G]:null}hasError(G,z){return!!this.getError(G,z)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(G)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Re:this.errors?ri:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($t)?$t:this._anyControlsHaveStatus(ri)?ri:Ai}_anyControlsHaveStatus(G){return this._anyControls(z=>z.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G={}){this.pristine=!this._anyControlsDirty(),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}_updateTouched(G={}){this.touched=this._anyControlsTouched(),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){Ie(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(G){return null}_assignValidators(G){this._rawValidators=Array.isArray(G)?G.slice():G,this._composedValidatorFn=function P(Y){return Array.isArray(Y)?St(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(G){this._rawAsyncValidators=Array.isArray(G)?G.slice():G,this._composedAsyncValidatorFn=function ue(Y){return Array.isArray(Y)?et(Y):Y||null}(this._rawAsyncValidators)}}class ot extends Fe{constructor(G,z,he){super(K(z),j(he,z)),this.controls=G,this._initObservables(),this._setUpdateStrategy(z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(G,z){return this.controls[G]?this.controls[G]:(this.controls[G]=z,z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange),z)}addControl(G,z,he={}){this.registerControl(G,z),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}removeControl(G,z={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}setControl(G,z,he={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],z&&this.registerControl(G,z),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,z={}){(function be(Y,G,z){Y._forEachChild((he,Tt)=>{if(void 0===z[Tt])throw new _.vHH(1002,kn?function Ui(Y,G){return`Must supply a value for form control ${Nt(Y,G)}`}(G,Tt):"")})})(this,!0,G),Object.keys(G).forEach(he=>{(function se(Y,G,z){const he=Y.controls;if(!(G?Object.keys(he):he).length)throw new _.vHH(1e3,kn?function Pn(Y){return`\n    There are no form controls registered with this ${Y?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(G):"");if(!he[z])throw new _.vHH(1001,kn?function Cn(Y,G){return`Cannot find form control ${Nt(Y,G)}`}(G,z):"")})(this,!0,he),this.controls[he].setValue(G[he],{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z)}patchValue(G,z={}){null!=G&&(Object.keys(G).forEach(he=>{const Tt=this.controls[he];Tt&&Tt.patchValue(G[he],{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z))}reset(G={},z={}){this._forEachChild((he,Tt)=>{he.reset(G[Tt],{onlySelf:!0,emitEvent:z.emitEvent})}),this._updatePristine(z),this._updateTouched(z),this.updateValueAndValidity(z)}getRawValue(){return this._reduceChildren({},(G,z,he)=>(G[he]=z.getRawValue(),G))}_syncPendingControls(){let G=this._reduceChildren(!1,(z,he)=>!!he._syncPendingControls()||z);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){Object.keys(this.controls).forEach(z=>{const he=this.controls[z];he&&G(he,z)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const[z,he]of Object.entries(this.controls))if(this.contains(z)&&G(he))return!0;return!1}_reduceValue(){return this._reduceChildren({},(z,he,Tt)=>((he.enabled||this.disabled)&&(z[Tt]=he.value),z))}_reduceChildren(G,z){let he=G;return this._forEachChild((Tt,ut)=>{he=z(he,Tt,ut)}),he}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(G){return this.controls.hasOwnProperty(G)?this.controls[G]:null}}const de=new _.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Be}),Be="always";function Lt(Y,G,z=Be){qr(Y,G),G.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===z)&&G.valueAccessor.setDisabledState?.(Y.disabled),function $s(Y,G){G.valueAccessor.registerOnChange(z=>{Y._pendingValue=z,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&Co(Y,G)})}(Y,G),function Ws(Y,G){const z=(he,Tt)=>{G.valueAccessor.writeValue(he),Tt&&G.viewToModelUpdate(he)};Y.registerOnChange(z),G._registerOnDestroy(()=>{Y._unregisterOnChange(z)})}(Y,G),function fs(Y,G){G.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&Co(Y,G),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,G),function Vt(Y,G){if(G.valueAccessor.setDisabledState){const z=he=>{G.valueAccessor.setDisabledState(he)};Y.registerOnDisabledChange(z),G._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(z)})}}(Y,G)}function tn(Y,G,z=!0){const he=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(he),G.valueAccessor.registerOnTouched(he)),mr(Y,G),Y&&(G._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function Mn(Y,G){Y.forEach(z=>{z.registerOnValidatorChange&&z.registerOnValidatorChange(G)})}function qr(Y,G){const z=wn(Y);null!==G.validator?Y.setValidators(at(z,G.validator)):"function"==typeof z&&Y.setValidators([z]);const he=rn(Y);null!==G.asyncValidator?Y.setAsyncValidators(at(he,G.asyncValidator)):"function"==typeof he&&Y.setAsyncValidators([he]);const Tt=()=>Y.updateValueAndValidity();Mn(G._rawValidators,Tt),Mn(G._rawAsyncValidators,Tt)}function mr(Y,G){let z=!1;if(null!==Y){if(null!==G.validator){const Tt=wn(Y);if(Array.isArray(Tt)&&Tt.length>0){const ut=Tt.filter(Bn=>Bn!==G.validator);ut.length!==Tt.length&&(z=!0,Y.setValidators(ut))}}if(null!==G.asyncValidator){const Tt=rn(Y);if(Array.isArray(Tt)&&Tt.length>0){const ut=Tt.filter(Bn=>Bn!==G.asyncValidator);ut.length!==Tt.length&&(z=!0,Y.setAsyncValidators(ut))}}}const he=()=>{};return Mn(G._rawValidators,he),Mn(G._rawAsyncValidators,he),z}function Co(Y,G){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function uo(Y,G){qr(Y,G)}function Nn(Y,G){Y._syncPendingControls(),G.forEach(z=>{const he=z.control;"submit"===he.updateOn&&he._pendingChange&&(z.viewToModelUpdate(he._pendingValue),he._pendingChange=!1)})}const Gn={provide:Hn,useExisting:(0,_.Gpc)(()=>ki)},Ki=(()=>Promise.resolve())();let ki=(()=>{class Y extends Hn{constructor(z,he,Tt){super(),this.callSetDisabledState=Tt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new _.vpe,this.form=new ot({},St(z),et(he))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(z){Ki.then(()=>{const he=this._findContainer(z.path);z.control=he.registerControl(z.name,z.control),Lt(z.control,z,this.callSetDisabledState),z.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(z)})}getControl(z){return this.form.get(z.path)}removeControl(z){Ki.then(()=>{const he=this._findContainer(z.path);he&&he.removeControl(z.name),this._directives.delete(z)})}addFormGroup(z){Ki.then(()=>{const he=this._findContainer(z.path),Tt=new ot({});uo(Tt,z),he.registerControl(z.name,Tt),Tt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(z){Ki.then(()=>{const he=this._findContainer(z.path);he&&he.removeControl(z.name)})}getFormGroup(z){return this.form.get(z.path)}updateModel(z,he){Ki.then(()=>{this.form.get(z.path).setValue(he)})}setValue(z){this.control.setValue(z)}onSubmit(z){return this.submitted=!0,Nn(this.form,this._directives),this.ngSubmit.emit(z),"dialog"===z?.target?.method}onReset(){this.resetForm()}resetForm(z){this.form.reset(z),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(z){return z.pop(),z.length?this.form.get(z):this.form}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(Le,10),_.Y36(Ee,10),_.Y36(de,8))},Y.\u0275dir=_.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(z,he){1&z&&_.NdJ("submit",function(ut){return he.onSubmit(ut)})("reset",function(){return he.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Gn]),_.qOj]}),Y})();function Er(Y,G){const z=Y.indexOf(G);z>-1&&Y.splice(z,1)}function Cr(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}const qn=class extends Fe{constructor(G=null,z,he){super(K(z),j(he,z)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(G),this._setUpdateStrategy(z),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ie(z)&&(z.nonNullable||z.initialValueIsDefault)&&(this.defaultValue=Cr(G)?G.value:G)}setValue(G,z={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==z.emitModelToViewChange&&this._onChange.forEach(he=>he(this.value,!1!==z.emitViewToModelChange)),this.updateValueAndValidity(z)}patchValue(G,z={}){this.setValue(G,z)}reset(G=this.defaultValue,z={}){this._applyFormState(G),this.markAsPristine(z),this.markAsUntouched(z),this.setValue(this.value,z),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){Er(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){Er(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){Cr(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}},Ir={provide:_i,useExisting:(0,_.Gpc)(()=>Ks)},Vi=(()=>Promise.resolve())();let Ks=(()=>{class Y extends _i{constructor(z,he,Tt,ut,Bn,vi){super(),this._changeDetectorRef=Bn,this.callSetDisabledState=vi,this.control=new qn,this._registered=!1,this.update=new _.vpe,this._parent=z,this._setValidators(he),this._setAsyncValidators(Tt),this.valueAccessor=function Di(Y,G){if(!G)return null;let z,he,Tt;return Array.isArray(G),G.forEach(ut=>{ut.constructor===Ke?z=ut:function fn(Y){return Object.getPrototypeOf(Y.constructor)===we}(ut)?he=ut:Tt=ut}),Tt||he||z||null}(0,ut)}ngOnChanges(z){if(this._checkForErrors(),!this._registered||"name"in z){if(this._registered&&(this._checkName(),this.formDirective)){const he=z.name.previousValue;this.formDirective.removeControl({name:he,path:this._getPath(he)})}this._setUpControl()}"isDisabled"in z&&this._updateDisabled(z),function Mi(Y,G){if(!Y.hasOwnProperty("model"))return!1;const z=Y.model;return!!z.isFirstChange()||!Object.is(G,z.currentValue)}(z,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(z){Vi.then(()=>{this.control.setValue(z,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(z){const he=z.isDisabled.currentValue,Tt=0!==he&&(0,_.D6c)(he);Vi.then(()=>{Tt&&!this.control.disabled?this.control.disable():!Tt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(z){return this._parent?function yt(Y,G){return[...G.path,Y]}(z,this._parent):[z]}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(Hn,9),_.Y36(Le,10),_.Y36(Ee,10),_.Y36(ce,10),_.Y36(_.sBO,8),_.Y36(de,8))},Y.\u0275dir=_.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([Ir]),_.qOj,_.TTD]}),Y})(),Qe=(()=>{class Y{}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275dir=_.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Y})(),mn=(()=>{class Y{}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275mod=_.oAB({type:Y}),Y.\u0275inj=_.cJS({}),Y})();const Pr=new _.OlP("NgModelWithFormControlWarning"),Ya={provide:Hn,useExisting:(0,_.Gpc)(()=>jr)};let jr=(()=>{class Y extends Hn{constructor(z,he,Tt){super(),this.callSetDisabledState=Tt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(z),this._setAsyncValidators(he)}ngOnChanges(z){this._checkFormPresent(),z.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(z){const he=this.form.get(z.path);return Lt(he,z,this.callSetDisabledState),he.updateValueAndValidity({emitEvent:!1}),this.directives.push(z),he}getControl(z){return this.form.get(z.path)}removeControl(z){tn(z.control||null,z,!1),function Or(Y,G){const z=Y.indexOf(G);z>-1&&Y.splice(z,1)}(this.directives,z)}addFormGroup(z){this._setUpFormContainer(z)}removeFormGroup(z){this._cleanUpFormContainer(z)}getFormGroup(z){return this.form.get(z.path)}addFormArray(z){this._setUpFormContainer(z)}removeFormArray(z){this._cleanUpFormContainer(z)}getFormArray(z){return this.form.get(z.path)}updateModel(z,he){this.form.get(z.path).setValue(he)}onSubmit(z){return this.submitted=!0,Nn(this.form,this.directives),this.ngSubmit.emit(z),"dialog"===z?.target?.method}onReset(){this.resetForm()}resetForm(z){this.form.reset(z),this.submitted=!1}_updateDomValue(){this.directives.forEach(z=>{const he=z.control,Tt=this.form.get(z.path);he!==Tt&&(tn(he||null,z),(Y=>Y instanceof qn)(Tt)&&(Lt(Tt,z,this.callSetDisabledState),z.control=Tt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(z){const he=this.form.get(z.path);uo(he,z),he.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(z){if(this.form){const he=this.form.get(z.path);he&&function bs(Y,G){return mr(Y,G)}(he,z)&&he.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qr(this.form,this),this._oldForm&&mr(this._oldForm,this)}_checkFormPresent(){}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(Le,10),_.Y36(Ee,10),_.Y36(de,8))},Y.\u0275dir=_.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(z,he){1&z&&_.NdJ("submit",function(ut){return he.onSubmit(ut)})("reset",function(){return he.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Ya]),_.qOj,_.TTD]}),Y})();function Es(Y){return"number"==typeof Y?Y:parseInt(Y,10)}let as=(()=>{class Y{constructor(){this._validator=en}ngOnChanges(z){if(this.inputName in z){const he=this.normalizeInput(z[this.inputName].currentValue);this._enabled=this.enabled(he),this._validator=this._enabled?this.createValidator(he):en,this._onChange&&this._onChange()}}validate(z){return this._validator(z)}registerOnValidatorChange(z){this._onChange=z}enabled(z){return null!=z}}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275dir=_.lG2({type:Y,features:[_.TTD]}),Y})();const Gl={provide:Le,useExisting:(0,_.Gpc)(()=>Da),multi:!0};let Da=(()=>{class Y extends as{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_.D6c,this.createValidator=z=>ze}enabled(z){return z}}return Y.\u0275fac=function(){let G;return function(he){return(G||(G=_.n5z(Y)))(he||Y)}}(),Y.\u0275dir=_.lG2({type:Y,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(z,he){2&z&&_.uIk("required",he._enabled?"":null)},inputs:{required:"required"},features:[_._Bn([Gl]),_.qOj]}),Y})();const Ns={provide:Le,useExisting:(0,_.Gpc)(()=>vr),multi:!0};let vr=(()=>{class Y extends as{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=z=>Es(z),this.createValidator=z=>Ce(z)}}return Y.\u0275fac=function(){let G;return function(he){return(G||(G=_.n5z(Y)))(he||Y)}}(),Y.\u0275dir=_.lG2({type:Y,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(z,he){2&z&&_.uIk("minlength",he._enabled?he.minlength:null)},inputs:{minlength:"minlength"},features:[_._Bn([Ns]),_.qOj]}),Y})();const mi={provide:Le,useExisting:(0,_.Gpc)(()=>ls),multi:!0};let ls=(()=>{class Y extends as{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=z=>Es(z),this.createValidator=z=>$e(z)}}return Y.\u0275fac=function(){let G;return function(he){return(G||(G=_.n5z(Y)))(he||Y)}}(),Y.\u0275dir=_.lG2({type:Y,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(z,he){2&z&&_.uIk("maxlength",he._enabled?he.maxlength:null)},inputs:{maxlength:"maxlength"},features:[_._Bn([mi]),_.qOj]}),Y})(),gr=(()=>{class Y{}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275mod=_.oAB({type:Y}),Y.\u0275inj=_.cJS({imports:[mn]}),Y})(),$l=(()=>{class Y{static withConfig(z){return{ngModule:Y,providers:[{provide:de,useValue:z.callSetDisabledState??Be}]}}}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275mod=_.oAB({type:Y}),Y.\u0275inj=_.cJS({imports:[gr]}),Y})(),Xa=(()=>{class Y{static withConfig(z){return{ngModule:Y,providers:[{provide:Pr,useValue:z.warnOnNgModelWithFormControl??"always"},{provide:de,useValue:z.callSetDisabledState??Be}]}}}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275mod=_.oAB({type:Y}),Y.\u0275inj=_.cJS({imports:[gr]}),Y})()},9101:(Wt,Ge,O)=>{O.d(Ge,{RK:()=>kt,cs:()=>Pt,lW:()=>Xe,ot:()=>Rt});var _=O(3353),h=O(4650),X=O(2687),ve=O(3238),Ae=O(1281);const Se=["mat-button",""],we=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ce=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ye=["mat-fab",""],Ke=["mat-icon-button",""],xt=["*"],Ee=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ct=(0,ve.pj)((0,ve.Id)((0,ve.Kr)(class{constructor(St){this._elementRef=St}})));let He=(()=>{class St extends Ct{constructor(et,at,wn,rn){super(et),this._platform=at,this._ngZone=wn,this._animationMode=rn,this._focusMonitor=(0,h.f3M)(X.tE),this._isFab=!1;const Tn=et.nativeElement.classList;for(const En of Ee)this._hasHostAttributes(En.selector)&&En.mdcClasses.forEach(On=>{Tn.add(On)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(et="program",at){et?this._focusMonitor.focusVia(this._elementRef.nativeElement,et,at):this._elementRef.nativeElement.focus(at)}_hasHostAttributes(...et){return et.some(at=>this._elementRef.nativeElement.hasAttribute(at))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return St.\u0275fac=function(et){h.$Z()},St.\u0275dir=h.lG2({type:St,viewQuery:function(et,at){if(1&et&&h.Gf(ve.wG,5),2&et){let wn;h.iGM(wn=h.CRH())&&(at.ripple=wn.first)}},features:[h.qOj]}),St})(),Xe=(()=>{class St extends He{constructor(et,at,wn,rn){super(et,at,wn,rn)}}return St.\u0275fac=function(et){return new(et||St)(h.Y36(h.SBq),h.Y36(_.t4),h.Y36(h.R0b),h.Y36(h.QbO,8))},St.\u0275cmp=h.Xpm({type:St,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(et,at){2&et&&(h.uIk("disabled",at.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===at._animationMode)("mat-unthemed",!at.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:Se,ngContentSelectors:ce,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(et,at){1&et&&(h.F$t(we),h._UZ(0,"span",0),h.Hsn(1),h.TgZ(2,"span",1),h.Hsn(3,1),h.qZA(),h.Hsn(4,2),h._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&et&&(h.ekj("mdc-button__ripple",!at._isFab)("mdc-fab__ripple",at._isFab),h.xp6(6),h.Q6J("matRippleDisabled",at._isRippleDisabled())("matRippleTrigger",at._elementRef.nativeElement))},dependencies:[ve.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),St})();const Ce=new h.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:$e});function $e(){return{color:"accent"}}const mt=$e();let Pt=(()=>{class St extends He{get extended(){return this._extended}set extended(et){this._extended=(0,Ae.Ig)(et)}constructor(et,at,wn,rn,Tn){super(et,at,wn,rn),this._options=Tn,this._isFab=!0,this._options=this._options||mt,this.color=this.defaultColor=this._options.color||mt.color}}return St.\u0275fac=function(et){return new(et||St)(h.Y36(h.SBq),h.Y36(_.t4),h.Y36(h.R0b),h.Y36(h.QbO,8),h.Y36(Ce,8))},St.\u0275cmp=h.Xpm({type:St,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(et,at){2&et&&(h.uIk("disabled",at.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===at._animationMode)("mat-unthemed",!at.color)("mat-mdc-button-base",!0)("mdc-fab--extended",at.extended)("mat-mdc-extended-fab",at.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[h.qOj],attrs:ye,ngContentSelectors:ce,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(et,at){1&et&&(h.F$t(we),h._UZ(0,"span",0),h.Hsn(1),h.TgZ(2,"span",1),h.Hsn(3,1),h.qZA(),h.Hsn(4,2),h._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&et&&(h.ekj("mdc-button__ripple",!at._isFab)("mdc-fab__ripple",at._isFab),h.xp6(6),h.Q6J("matRippleDisabled",at._isRippleDisabled())("matRippleTrigger",at._elementRef.nativeElement))},dependencies:[ve.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),St})(),kt=(()=>{class St extends He{constructor(et,at,wn,rn){super(et,at,wn,rn)}}return St.\u0275fac=function(et){return new(et||St)(h.Y36(h.SBq),h.Y36(_.t4),h.Y36(h.R0b),h.Y36(h.QbO,8))},St.\u0275cmp=h.Xpm({type:St,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(et,at){2&et&&(h.uIk("disabled",at.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===at._animationMode)("mat-unthemed",!at.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:Ke,ngContentSelectors:xt,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(et,at){1&et&&(h.F$t(),h._UZ(0,"span",0),h.Hsn(1),h._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&et&&(h.xp6(3),h.Q6J("matRippleDisabled",at._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",at._elementRef.nativeElement))},dependencies:[ve.wG],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),St})(),Rt=(()=>{class St{}return St.\u0275fac=function(et){return new(et||St)},St.\u0275mod=h.oAB({type:St}),St.\u0275inj=h.cJS({imports:[ve.BQ,ve.si,ve.BQ]}),St})()},3546:(Wt,Ge,O)=>{O.d(Ge,{QW:()=>Xe,a8:()=>ie,dk:()=>ht,dn:()=>nt,kc:()=>pe,n5:()=>ye});var _=O(4650),h=O(6895),X=O(3238);const ve=["*"],we=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],ce=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],xe=new _.OlP("MAT_CARD_CONFIG");let ie=(()=>{class ge{constructor($e){this.appearance=$e?.appearance||"raised"}}return ge.\u0275fac=function($e){return new($e||ge)(_.Y36(xe,8))},ge.\u0275cmp=_.Xpm({type:ge,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function($e,mt){2&$e&&_.ekj("mat-mdc-card-outlined","outlined"===mt.appearance)("mdc-card--outlined","outlined"===mt.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ve,decls:1,vars:0,template:function($e,mt){1&$e&&(_.F$t(),_.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),ge})(),ye=(()=>{class ge{}return ge.\u0275fac=function($e){return new($e||ge)},ge.\u0275dir=_.lG2({type:ge,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),ge})(),nt=(()=>{class ge{}return ge.\u0275fac=function($e){return new($e||ge)},ge.\u0275dir=_.lG2({type:ge,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),ge})(),ht=(()=>{class ge{}return ge.\u0275fac=function($e){return new($e||ge)},ge.\u0275cmp=_.Xpm({type:ge,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:ce,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function($e,mt){1&$e&&(_.F$t(we),_.Hsn(0),_.TgZ(1,"div",0),_.Hsn(2,1),_.qZA(),_.Hsn(3,2))},encapsulation:2,changeDetection:0}),ge})(),pe=(()=>{class ge{}return ge.\u0275fac=function($e){return new($e||ge)},ge.\u0275dir=_.lG2({type:ge,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"]}),ge})(),Xe=(()=>{class ge{}return ge.\u0275fac=function($e){return new($e||ge)},ge.\u0275mod=_.oAB({type:ge}),ge.\u0275inj=_.cJS({imports:[X.BQ,h.ez,X.BQ]}),ge})()},3238:(Wt,Ge,O)=>{O.d(Ge,{rD:()=>Tn,K7:()=>st,HF:()=>Dt,Y2:()=>di,BQ:()=>pe,uc:()=>Ei,ey:()=>kn,Ng:()=>$t,us:()=>on,wG:()=>pi,si:()=>Ci,IR:()=>yi,CB:()=>Ai,jH:()=>ri,pj:()=>$e,Kr:()=>mt,Id:()=>Ce,FD:()=>Pt,sb:()=>en});var _=O(4650),h=O(2687),X=O(445),Ae=O(6895),Se=O(3353),we=O(1281),ce=O(7579),xe=O(9521);const me=["text"];function nt(Re,K){if(1&Re&&_._UZ(0,"mat-pseudo-checkbox",6),2&Re){const P=_.oxw();_.Q6J("state",P.selected?"checked":"unchecked")("disabled",P.disabled)}}function Ke(Re,K){if(1&Re&&_._UZ(0,"mat-pseudo-checkbox",7),2&Re){const P=_.oxw();_.Q6J("disabled",P.disabled)}}function xt(Re,K){if(1&Re&&(_.TgZ(0,"span",8),_._uU(1),_.qZA()),2&Re){const P=_.oxw();_.xp6(1),_.hij("(",P.group.label,")")}}const ht=[[["mat-icon"]],"*"],qe=["mat-icon","*"],De=new _.OlP("mat-sanity-checks",{providedIn:"root",factory:function He(){return!0}});let pe=(()=>{class Re{constructor(P,j,ue){this._sanityChecks=j,this._document=ue,this._hasDoneGlobalChecks=!1,P._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(P){return!(0,Se.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[P])}}return Re.\u0275fac=function(P){return new(P||Re)(_.LFG(h.qm),_.LFG(De,8),_.LFG(Ae.K0))},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({imports:[X.vT,X.vT]}),Re})();function Ce(Re){return class extends Re{get disabled(){return this._disabled}set disabled(K){this._disabled=(0,we.Ig)(K)}constructor(...K){super(...K),this._disabled=!1}}}function $e(Re,K){return class extends Re{get color(){return this._color}set color(P){const j=P||this.defaultColor;j!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),j&&this._elementRef.nativeElement.classList.add(`mat-${j}`),this._color=j)}constructor(...P){super(...P),this.defaultColor=K,this.color=K}}}function mt(Re){return class extends Re{get disableRipple(){return this._disableRipple}set disableRipple(K){this._disableRipple=(0,we.Ig)(K)}constructor(...K){super(...K),this._disableRipple=!1}}}function en(Re,K=0){return class extends Re{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(P){this._tabIndex=null!=P?(0,we.su)(P):this.defaultTabIndex}constructor(...P){super(...P),this._tabIndex=K,this.defaultTabIndex=K}}}function Pt(Re){return class extends Re{updateErrorState(){const K=this.errorState,Ie=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Ie!==K&&(this.errorState=Ie,this.stateChanges.next())}constructor(...K){super(...K),this.errorState=!1}}}let Tn=(()=>{class Re{isErrorState(P,j){return!!(P&&P.invalid&&(P.touched||j&&j.submitted))}}return Re.\u0275fac=function(P){return new(P||Re)},Re.\u0275prov=_.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),Ei=(()=>{class Re{}return Re.\u0275fac=function(P){return new(P||Re)},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({imports:[pe,pe]}),Re})();class Hn{constructor(K,P,j,ue=!1){this._renderer=K,this.element=P,this.config=j,this._animationForciblyDisabledThroughCss=ue,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _i=(0,Se.i$)({passive:!0,capture:!0});class _n{constructor(){this._events=new Map,this._delegateEventHandler=K=>{const P=(0,Se.sA)(K);P&&this._events.get(K.type)?.forEach((j,ue)=>{(ue===P||ue.contains(P))&&j.forEach(Ie=>Ie.handleEvent(K))})}}addHandler(K,P,j,ue){const Ie=this._events.get(P);if(Ie){const se=Ie.get(j);se?se.add(ue):Ie.set(j,new Set([ue]))}else this._events.set(P,new Map([[j,new Set([ue])]])),K.runOutsideAngular(()=>{document.addEventListener(P,this._delegateEventHandler,_i)})}removeHandler(K,P,j){const ue=this._events.get(K);if(!ue)return;const Ie=ue.get(P);Ie&&(Ie.delete(j),0===Ie.size&&ue.delete(P),0===ue.size&&(this._events.delete(K),document.removeEventListener(K,this._delegateEventHandler,_i)))}}const ii={enterDuration:225,exitDuration:150},ci=(0,Se.i$)({passive:!0,capture:!0}),ai=["mousedown","touchstart"],dn=["mouseup","mouseleave","touchend","touchcancel"];class yi{constructor(K,P,j,ue){this._target=K,this._ngZone=P,this._platform=ue,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ue.isBrowser&&(this._containerElement=(0,we.fI)(j))}fadeInRipple(K,P,j={}){const ue=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ie={...ii,...j.animation};j.centered&&(K=ue.left+ue.width/2,P=ue.top+ue.height/2);const se=j.radius||function Wi(Re,K,P){const j=Math.max(Math.abs(Re-P.left),Math.abs(Re-P.right)),ue=Math.max(Math.abs(K-P.top),Math.abs(K-P.bottom));return Math.sqrt(j*j+ue*ue)}(K,P,ue),be=K-ue.left,Fe=P-ue.top,ot=Ie.enterDuration,Ye=document.createElement("div");Ye.classList.add("mat-ripple-element"),Ye.style.left=be-se+"px",Ye.style.top=Fe-se+"px",Ye.style.height=2*se+"px",Ye.style.width=2*se+"px",null!=j.color&&(Ye.style.backgroundColor=j.color),Ye.style.transitionDuration=`${ot}ms`,this._containerElement.appendChild(Ye);const sn=window.getComputedStyle(Ye),Oe=sn.transitionDuration,de="none"===sn.transitionProperty||"0s"===Oe||"0s, 0s"===Oe||0===ue.width&&0===ue.height,Be=new Hn(this,Ye,j,de);Ye.style.transform="scale3d(1, 1, 1)",Be.state=0,j.persistent||(this._mostRecentTransientRipple=Be);let yt=null;return!de&&(ot||Ie.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Lt=()=>this._finishRippleTransition(Be),tn=()=>this._destroyRipple(Be);Ye.addEventListener("transitionend",Lt),Ye.addEventListener("transitioncancel",tn),yt={onTransitionEnd:Lt,onTransitionCancel:tn}}),this._activeRipples.set(Be,yt),(de||!ot)&&this._finishRippleTransition(Be),Be}fadeOutRipple(K){if(2===K.state||3===K.state)return;const P=K.element,j={...ii,...K.config.animation};P.style.transitionDuration=`${j.exitDuration}ms`,P.style.opacity="0",K.state=2,(K._animationForciblyDisabledThroughCss||!j.exitDuration)&&this._finishRippleTransition(K)}fadeOutAll(){this._getActiveRipples().forEach(K=>K.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(K=>{K.config.persistent||K.fadeOut()})}setupTriggerEvents(K){const P=(0,we.fI)(K);!this._platform.isBrowser||!P||P===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=P,ai.forEach(j=>{yi._eventManager.addHandler(this._ngZone,j,P,this)}))}handleEvent(K){"mousedown"===K.type?this._onMousedown(K):"touchstart"===K.type?this._onTouchStart(K):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{dn.forEach(P=>{this._triggerElement.addEventListener(P,this,ci)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(K){0===K.state?this._startFadeOutTransition(K):2===K.state&&this._destroyRipple(K)}_startFadeOutTransition(K){const P=K===this._mostRecentTransientRipple,{persistent:j}=K.config;K.state=1,!j&&(!P||!this._isPointerDown)&&K.fadeOut()}_destroyRipple(K){const P=this._activeRipples.get(K)??null;this._activeRipples.delete(K),this._activeRipples.size||(this._containerRect=null),K===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),K.state=3,null!==P&&(K.element.removeEventListener("transitionend",P.onTransitionEnd),K.element.removeEventListener("transitioncancel",P.onTransitionCancel)),K.element.remove()}_onMousedown(K){const P=(0,h.X6)(K),j=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!P&&!j&&(this._isPointerDown=!0,this.fadeInRipple(K.clientX,K.clientY,this._target.rippleConfig))}_onTouchStart(K){if(!this._target.rippleDisabled&&!(0,h.yG)(K)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const P=K.changedTouches;for(let j=0;j<P.length;j++)this.fadeInRipple(P[j].clientX,P[j].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(K=>{!K.config.persistent&&(1===K.state||K.config.terminateOnPointerUp&&0===K.state)&&K.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const K=this._triggerElement;K&&(ai.forEach(P=>yi._eventManager.removeHandler(P,K,this)),this._pointerUpEventsRegistered&&dn.forEach(P=>K.removeEventListener(P,this,ci)))}}yi._eventManager=new _n;const di=new _.OlP("mat-ripple-global-options");let pi=(()=>{class Re{get disabled(){return this._disabled}set disabled(P){P&&this.fadeOutAllNonPersistent(),this._disabled=P,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(P){this._trigger=P,this._setupTriggerEventsIfEnabled()}constructor(P,j,ue,Ie,se){this._elementRef=P,this._animationMode=se,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ie||{},this._rippleRenderer=new yi(this,j,P,ue)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(P,j=0,ue){return"number"==typeof P?this._rippleRenderer.fadeInRipple(P,j,{...this.rippleConfig,...ue}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...P})}}return Re.\u0275fac=function(P){return new(P||Re)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(Se.t4),_.Y36(di,8),_.Y36(_.QbO,8))},Re.\u0275dir=_.lG2({type:Re,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(P,j){2&P&&_.ekj("mat-ripple-unbounded",j.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Re})(),Ci=(()=>{class Re{}return Re.\u0275fac=function(P){return new(P||Re)},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({imports:[pe,pe]}),Re})(),Sn=(()=>{class Re{constructor(P){this._animationMode=P,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return Re.\u0275fac=function(P){return new(P||Re)(_.Y36(_.QbO,8))},Re.\u0275cmp=_.Xpm({type:Re,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(P,j){2&P&&_.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===j.state)("mat-pseudo-checkbox-checked","checked"===j.state)("mat-pseudo-checkbox-disabled",j.disabled)("mat-pseudo-checkbox-minimal","minimal"===j.appearance)("mat-pseudo-checkbox-full","full"===j.appearance)("_mat-animation-noopable","NoopAnimations"===j._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(P,j){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),Re})(),on=(()=>{class Re{}return Re.\u0275fac=function(P){return new(P||Re)},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({imports:[pe]}),Re})();const Dt=new _.OlP("MAT_OPTION_PARENT_COMPONENT"),st=new _.OlP("MatOptgroup");let Pn=0;class Cn{constructor(K,P=!1){this.source=K,this.isUserInput=P}}let Ui=(()=>{class Re{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(P){this._disabled=(0,we.Ig)(P)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(P,j,ue,Ie){this._element=P,this._changeDetectorRef=j,this._parent=ue,this.group=Ie,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Pn++,this.onSelectionChange=new _.vpe,this._stateChanges=new ce.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(P,j){const ue=this._getHostElement();"function"==typeof ue.focus&&ue.focus(j)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(P){(P.keyCode===xe.K5||P.keyCode===xe.L_)&&!(0,xe.Vb)(P)&&(this._selectViaInteraction(),P.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const P=this.viewValue;P!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=P)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(P=!1){this.onSelectionChange.emit(new Cn(this,P))}}return Re.\u0275fac=function(P){_.$Z()},Re.\u0275dir=_.lG2({type:Re,viewQuery:function(P,j){if(1&P&&_.Gf(me,7),2&P){let ue;_.iGM(ue=_.CRH())&&(j._text=ue.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),Re})(),kn=(()=>{class Re extends Ui{constructor(P,j,ue,Ie){super(P,j,ue,Ie)}}return Re.\u0275fac=function(P){return new(P||Re)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(Dt,8),_.Y36(st,8))},Re.\u0275cmp=_.Xpm({type:Re,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mat-mdc-focus-indicator","mdc-list-item"],hostVars:12,hostBindings:function(P,j){1&P&&_.NdJ("click",function(){return j._selectViaInteraction()})("keydown",function(Ie){return j._handleKeydown(Ie)}),2&P&&(_.Ikx("id",j.id),_.uIk("tabindex",j._getTabIndex())("aria-selected",j.selected)("aria-disabled",j.disabled.toString()),_.ekj("mdc-list-item--selected",j.selected)("mat-mdc-option-multiple",j.multiple)("mat-mdc-option-active",j.active)("mdc-list-item--disabled",j.disabled))},exportAs:["matOption"],features:[_.qOj],ngContentSelectors:qe,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(P,j){1&P&&(_.F$t(ht),_.YNc(0,nt,1,2,"mat-pseudo-checkbox",0),_.Hsn(1),_.TgZ(2,"span",1,2),_.Hsn(4,1),_.qZA(),_.YNc(5,Ke,1,1,"mat-pseudo-checkbox",3),_.YNc(6,xt,2,1,"span",4),_._UZ(7,"div",5)),2&P&&(_.Q6J("ngIf",j.multiple),_.xp6(5),_.Q6J("ngIf",!j.multiple&&j.selected&&!j.hideSingleSelectionIndicator),_.xp6(1),_.Q6J("ngIf",j.group&&j.group._inert),_.xp6(1),_.Q6J("matRippleTrigger",j._getHostElement())("matRippleDisabled",j.disabled||j.disableRipple))},dependencies:[pi,Ae.O5,Sn],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active::before{content:""}'],encapsulation:2,changeDetection:0}),Re})();function Ai(Re,K,P){if(P.length){let j=K.toArray(),ue=P.toArray(),Ie=0;for(let se=0;se<Re+1;se++)j[se].group&&j[se].group===ue[Ie]&&Ie++;return Ie}return 0}function ri(Re,K,P,j){return Re<P?Re:Re+K>P+j?Math.max(0,Re-j+K):P}let $t=(()=>{class Re{}return Re.\u0275fac=function(P){return new(P||Re)},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({imports:[Ci,Ae.ez,pe,on]}),Re})()},9549:(Wt,Ge,O)=>{O.d(Ge,{Eo:()=>fi,G_:()=>yi,KE:()=>Dt,hX:()=>It,lN:()=>Un});var _=O(4650),h=O(445),X=O(3353),ve=O(7579),Ae=O(6451),Se=O(2722),we=O(6895),ce=O(1281),xe=O(7340),ie=O(9643),ye=O(3238);const me=["matFormFieldNotchedOutline",""],nt=["*"],Ke=["textField"],xt=["iconPrefixContainer"],ht=["textPrefixContainer"];function qe(Ot,Yt){1&Ot&&_._UZ(0,"span",19)}function Le(Ot,Yt){if(1&Ot){const st=_.EpF();_.TgZ(0,"label",17),_.NdJ("cdkObserveContent",function(){_.CHM(st);const Pn=_.oxw(2);return _.KtG(Pn._refreshOutlineNotchWidth())}),_.Hsn(1,1),_.YNc(2,qe,1,0,"span",18),_.qZA()}if(2&Ot){const st=_.oxw(2);_.Q6J("floating",st._shouldLabelFloat())("cdkObserveContentDisabled",!st._hasOutline())("id",st._labelId),_.uIk("for",st._control.id)("aria-owns",st._control.id),_.xp6(2),_.Q6J("ngIf",!st.hideRequiredMarker&&st._control.required)}}function Ee(Ot,Yt){if(1&Ot&&_.YNc(0,Le,3,6,"label",16),2&Ot){const st=_.oxw();_.Q6J("ngIf",st._hasFloatingLabel())}}function Ct(Ot,Yt){1&Ot&&_._UZ(0,"div",20)}function He(Ot,Yt){}function De(Ot,Yt){if(1&Ot&&_.YNc(0,He,0,0,"ng-template",22),2&Ot){_.oxw(2);const st=_.MAs(1);_.Q6J("ngTemplateOutlet",st)}}function pe(Ot,Yt){if(1&Ot&&(_.TgZ(0,"div",21),_.YNc(1,De,1,1,"ng-template",9),_.qZA()),2&Ot){const st=_.oxw();_.Q6J("matFormFieldNotchedOutlineOpen",st._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",st._labelWidth),_.xp6(1),_.Q6J("ngIf",!st._forceDisplayInfixLabel())}}function ze(Ot,Yt){1&Ot&&(_.TgZ(0,"div",23,24),_.Hsn(2,2),_.qZA())}function Xe(Ot,Yt){1&Ot&&(_.TgZ(0,"div",25,26),_.Hsn(2,3),_.qZA())}function ge(Ot,Yt){}function Ce(Ot,Yt){if(1&Ot&&_.YNc(0,ge,0,0,"ng-template",22),2&Ot){_.oxw();const st=_.MAs(1);_.Q6J("ngTemplateOutlet",st)}}function $e(Ot,Yt){1&Ot&&(_.TgZ(0,"div",27),_.Hsn(1,4),_.qZA())}function mt(Ot,Yt){1&Ot&&(_.TgZ(0,"div",28),_.Hsn(1,5),_.qZA())}function en(Ot,Yt){1&Ot&&_._UZ(0,"div",29)}function Pt(Ot,Yt){if(1&Ot&&(_.TgZ(0,"div",30),_.Hsn(1,6),_.qZA()),2&Ot){const st=_.oxw();_.Q6J("@transitionMessages",st._subscriptAnimationState)}}function rt(Ot,Yt){if(1&Ot&&(_.TgZ(0,"mat-hint",34),_._uU(1),_.qZA()),2&Ot){const st=_.oxw(2);_.Q6J("id",st._hintLabelId),_.xp6(1),_.Oqu(st.hintLabel)}}function ft(Ot,Yt){if(1&Ot&&(_.TgZ(0,"div",31),_.YNc(1,rt,2,2,"mat-hint",32),_.Hsn(2,7),_._UZ(3,"div",33),_.Hsn(4,8),_.qZA()),2&Ot){const st=_.oxw();_.Q6J("@transitionMessages",st._subscriptAnimationState),_.xp6(1),_.Q6J("ngIf",st.hintLabel)}}const Et=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],kt=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let It=(()=>{class Ot{}return Ot.\u0275fac=function(st){return new(st||Ot)},Ot.\u0275dir=_.lG2({type:Ot,selectors:[["mat-label"]]}),Ot})();const St=new _.OlP("MatError");let et=0,at=(()=>{class Ot{constructor(){this.align="start",this.id="mat-mdc-hint-"+et++}}return Ot.\u0275fac=function(st){return new(st||Ot)},Ot.\u0275dir=_.lG2({type:Ot,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(st,Nt){2&st&&(_.Ikx("id",Nt.id),_.uIk("align",null),_.ekj("mat-mdc-form-field-hint-end","end"===Nt.align))},inputs:{align:"align",id:"id"}}),Ot})();const wn=new _.OlP("MatPrefix"),Tn=new _.OlP("MatSuffix");let On=(()=>{class Ot{constructor(st){this._elementRef=st,this.floating=!1}getWidth(){return function Vn(Ot){if(null!==Ot.offsetParent)return Ot.scrollWidth;const st=Ot.cloneNode(!0);st.style.setProperty("position","absolute"),st.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(st);const Nt=st.scrollWidth;return st.remove(),Nt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return Ot.\u0275fac=function(st){return new(st||Ot)(_.Y36(_.SBq))},Ot.\u0275dir=_.lG2({type:Ot,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(st,Nt){2&st&&_.ekj("mdc-floating-label--float-above",Nt.floating)},inputs:{floating:"floating"}}),Ot})();const Ei="mdc-line-ripple--active",Hn="mdc-line-ripple--deactivating";let _i=(()=>{class Ot{constructor(st,Nt){this._elementRef=st,this._handleTransitionEnd=Pn=>{const Cn=this._elementRef.nativeElement.classList,Ui=Cn.contains(Hn);"opacity"===Pn.propertyName&&Ui&&Cn.remove(Ei,Hn)},Nt.runOutsideAngular(()=>{st.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const st=this._elementRef.nativeElement.classList;st.remove(Hn),st.add(Ei)}deactivate(){this._elementRef.nativeElement.classList.add(Hn)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return Ot.\u0275fac=function(st){return new(st||Ot)(_.Y36(_.SBq),_.Y36(_.R0b))},Ot.\u0275dir=_.lG2({type:Ot,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),Ot})(),_n=(()=>{class Ot{constructor(st,Nt){this._elementRef=st,this._ngZone=Nt,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const st=this._elementRef.nativeElement.querySelector(".mdc-floating-label");st?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(st.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>st.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return Ot.\u0275fac=function(st){return new(st||Ot)(_.Y36(_.SBq),_.Y36(_.R0b))},Ot.\u0275cmp=_.Xpm({type:Ot,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(st,Nt){2&st&&_.ekj("mdc-notched-outline--notched",Nt.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:me,ngContentSelectors:nt,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(st,Nt){1&st&&(_.F$t(),_._UZ(0,"div",0),_.TgZ(1,"div",1),_.Hsn(2),_.qZA(),_._UZ(3,"div",2)),2&st&&(_.xp6(1),_.Udp("width",Nt._getNotchWidth()))},encapsulation:2,changeDetection:0}),Ot})();const ii={transitionMessages:(0,xe.X$)("transitionMessages",[(0,xe.SB)("enter",(0,xe.oB)({opacity:1,transform:"translateY(0%)"})),(0,xe.eR)("void => enter",[(0,xe.oB)({opacity:0,transform:"translateY(-5px)"}),(0,xe.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let fi=(()=>{class Ot{}return Ot.\u0275fac=function(st){return new(st||Ot)},Ot.\u0275dir=_.lG2({type:Ot}),Ot})();const yi=new _.OlP("MatFormField"),Wi=new _.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let di=0,Dt=(()=>{class Ot{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(st){this._hideRequiredMarker=(0,ce.Ig)(st)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(st){st!==this._floatLabel&&(this._floatLabel=st,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(st){const Nt=this._appearance;this._appearance=st||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Nt&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(st){this._subscriptSizing=st||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(st){this._hintLabel=st,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(st){this._explicitFormFieldControl=st}constructor(st,Nt,Pn,Cn,Ui,kn,Ai,ri){this._elementRef=st,this._changeDetectorRef=Nt,this._ngZone=Pn,this._dir=Cn,this._platform=Ui,this._defaults=kn,this._animationMode=Ai,this._document=ri,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+di++,this._hintLabelId="mat-mdc-hint-"+di++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new ve.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,kn&&(kn.appearance&&(this.appearance=kn.appearance),this._hideRequiredMarker=Boolean(kn?.hideRequiredMarker),kn.color&&(this.color=kn.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const st=this._control;st.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${st.controlType}`),st.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),st.ngControl&&st.ngControl.valueChanges&&st.ngControl.valueChanges.pipe((0,Se.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(st=>!st._isText),this._hasTextPrefix=!!this._prefixChildren.find(st=>st._isText),this._hasIconSuffix=!!this._suffixChildren.find(st=>!st._isText),this._hasTextSuffix=!!this._suffixChildren.find(st=>st._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ae.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Se.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Se.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(st){const Nt=this._control?this._control.ngControl:null;return Nt&&Nt[st]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let st=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&st.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Nt=this._hintChildren?this._hintChildren.find(Cn=>"start"===Cn.align):null,Pn=this._hintChildren?this._hintChildren.find(Cn=>"end"===Cn.align):null;Nt?st.push(Nt.id):this._hintLabel&&st.push(this._hintLabelId),Pn&&st.push(Pn.id)}else this._errorChildren&&st.push(...this._errorChildren.map(Nt=>Nt.id));this._control.setDescribedByIds(st)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const st=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(st.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const Nt=this._iconPrefixContainer?.nativeElement,Pn=this._textPrefixContainer?.nativeElement,Cn=Nt?.getBoundingClientRect().width??0,Ui=Pn?.getBoundingClientRect().width??0;st.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Cn+Ui}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const st=this._elementRef.nativeElement;if(st.getRootNode){const Nt=st.getRootNode();return Nt&&Nt!==st}return document.documentElement.contains(st)}}return Ot.\u0275fac=function(st){return new(st||Ot)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(_.R0b),_.Y36(h.Is),_.Y36(X.t4),_.Y36(Wi,8),_.Y36(_.QbO,8),_.Y36(we.K0))},Ot.\u0275cmp=_.Xpm({type:Ot,selectors:[["mat-form-field"]],contentQueries:function(st,Nt,Pn){if(1&st&&(_.Suo(Pn,It,5),_.Suo(Pn,It,7),_.Suo(Pn,fi,5),_.Suo(Pn,wn,5),_.Suo(Pn,Tn,5),_.Suo(Pn,St,5),_.Suo(Pn,at,5)),2&st){let Cn;_.iGM(Cn=_.CRH())&&(Nt._labelChildNonStatic=Cn.first),_.iGM(Cn=_.CRH())&&(Nt._labelChildStatic=Cn.first),_.iGM(Cn=_.CRH())&&(Nt._formFieldControl=Cn.first),_.iGM(Cn=_.CRH())&&(Nt._prefixChildren=Cn),_.iGM(Cn=_.CRH())&&(Nt._suffixChildren=Cn),_.iGM(Cn=_.CRH())&&(Nt._errorChildren=Cn),_.iGM(Cn=_.CRH())&&(Nt._hintChildren=Cn)}},viewQuery:function(st,Nt){if(1&st&&(_.Gf(Ke,5),_.Gf(xt,5),_.Gf(ht,5),_.Gf(On,5),_.Gf(_n,5),_.Gf(_i,5)),2&st){let Pn;_.iGM(Pn=_.CRH())&&(Nt._textField=Pn.first),_.iGM(Pn=_.CRH())&&(Nt._iconPrefixContainer=Pn.first),_.iGM(Pn=_.CRH())&&(Nt._textPrefixContainer=Pn.first),_.iGM(Pn=_.CRH())&&(Nt._floatingLabel=Pn.first),_.iGM(Pn=_.CRH())&&(Nt._notchedOutline=Pn.first),_.iGM(Pn=_.CRH())&&(Nt._lineRipple=Pn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(st,Nt){2&st&&_.ekj("mat-mdc-form-field-label-always-float",Nt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Nt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Nt._hasIconSuffix)("mat-form-field-invalid",Nt._control.errorState)("mat-form-field-disabled",Nt._control.disabled)("mat-form-field-autofilled",Nt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Nt._animationMode)("mat-form-field-appearance-fill","fill"==Nt.appearance)("mat-form-field-appearance-outline","outline"==Nt.appearance)("mat-form-field-hide-placeholder",Nt._hasFloatingLabel()&&!Nt._shouldLabelFloat())("mat-focused",Nt._control.focused)("mat-primary","accent"!==Nt.color&&"warn"!==Nt.color)("mat-accent","accent"===Nt.color)("mat-warn","warn"===Nt.color)("ng-untouched",Nt._shouldForward("untouched"))("ng-touched",Nt._shouldForward("touched"))("ng-pristine",Nt._shouldForward("pristine"))("ng-dirty",Nt._shouldForward("dirty"))("ng-valid",Nt._shouldForward("valid"))("ng-invalid",Nt._shouldForward("invalid"))("ng-pending",Nt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[_._Bn([{provide:yi,useExisting:Ot}])],ngContentSelectors:kt,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(st,Nt){1&st&&(_.F$t(Et),_.YNc(0,Ee,1,1,"ng-template",null,0,_.W1O),_.TgZ(2,"div",1,2),_.NdJ("click",function(Cn){return Nt._control.onContainerClick&&Nt._control.onContainerClick(Cn)}),_.YNc(4,Ct,1,0,"div",3),_.TgZ(5,"div",4),_.YNc(6,pe,2,3,"div",5),_.YNc(7,ze,3,0,"div",6),_.YNc(8,Xe,3,0,"div",7),_.TgZ(9,"div",8),_.YNc(10,Ce,1,1,"ng-template",9),_.Hsn(11),_.qZA(),_.YNc(12,$e,2,0,"div",10),_.YNc(13,mt,2,0,"div",11),_.qZA(),_.YNc(14,en,1,0,"div",12),_.qZA(),_.TgZ(15,"div",13),_.YNc(16,Pt,2,1,"div",14),_.YNc(17,ft,5,2,"div",15),_.qZA()),2&st&&(_.xp6(2),_.ekj("mdc-text-field--filled",!Nt._hasOutline())("mdc-text-field--outlined",Nt._hasOutline())("mdc-text-field--no-label",!Nt._hasFloatingLabel())("mdc-text-field--disabled",Nt._control.disabled)("mdc-text-field--invalid",Nt._control.errorState),_.xp6(2),_.Q6J("ngIf",!Nt._hasOutline()&&!Nt._control.disabled),_.xp6(2),_.Q6J("ngIf",Nt._hasOutline()),_.xp6(1),_.Q6J("ngIf",Nt._hasIconPrefix),_.xp6(1),_.Q6J("ngIf",Nt._hasTextPrefix),_.xp6(2),_.Q6J("ngIf",!Nt._hasOutline()||Nt._forceDisplayInfixLabel()),_.xp6(2),_.Q6J("ngIf",Nt._hasTextSuffix),_.xp6(1),_.Q6J("ngIf",Nt._hasIconSuffix),_.xp6(1),_.Q6J("ngIf",!Nt._hasOutline()),_.xp6(1),_.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Nt.subscriptSizing),_.Q6J("ngSwitch",Nt._getDisplayedMessages()),_.xp6(1),_.Q6J("ngSwitchCase","error"),_.xp6(1),_.Q6J("ngSwitchCase","hint"))},dependencies:[we.O5,we.tP,we.RF,we.n9,ie.wD,at,On,_n,_i],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[ii.transitionMessages]},changeDetection:0}),Ot})(),Un=(()=>{class Ot{}return Ot.\u0275fac=function(st){return new(st||Ot)},Ot.\u0275mod=_.oAB({type:Ot}),Ot.\u0275inj=_.cJS({imports:[ye.BQ,we.ez,ie.Q8,ye.BQ]}),Ot})()},4144:(Wt,Ge,O)=>{O.d(Ge,{Nt:()=>Ee,c:()=>Ct});var _=O(1281),h=O(3353),X=O(4650),ve=O(515),Ae=O(7579);const Se=(0,h.i$)({passive:!0});let we=(()=>{class He{constructor(pe,ze){this._platform=pe,this._ngZone=ze,this._monitoredElements=new Map}monitor(pe){if(!this._platform.isBrowser)return ve.E;const ze=(0,_.fI)(pe),Xe=this._monitoredElements.get(ze);if(Xe)return Xe.subject;const ge=new Ae.x,Ce="cdk-text-field-autofilled",$e=mt=>{"cdk-text-field-autofill-start"!==mt.animationName||ze.classList.contains(Ce)?"cdk-text-field-autofill-end"===mt.animationName&&ze.classList.contains(Ce)&&(ze.classList.remove(Ce),this._ngZone.run(()=>ge.next({target:mt.target,isAutofilled:!1}))):(ze.classList.add(Ce),this._ngZone.run(()=>ge.next({target:mt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{ze.addEventListener("animationstart",$e,Se),ze.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(ze,{subject:ge,unlisten:()=>{ze.removeEventListener("animationstart",$e,Se)}}),ge}stopMonitoring(pe){const ze=(0,_.fI)(pe),Xe=this._monitoredElements.get(ze);Xe&&(Xe.unlisten(),Xe.subject.complete(),ze.classList.remove("cdk-text-field-autofill-monitored"),ze.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(ze))}ngOnDestroy(){this._monitoredElements.forEach((pe,ze)=>this.stopMonitoring(ze))}}return He.\u0275fac=function(pe){return new(pe||He)(X.LFG(h.t4),X.LFG(X.R0b))},He.\u0275prov=X.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),ie=(()=>{class He{}return He.\u0275fac=function(pe){return new(pe||He)},He.\u0275mod=X.oAB({type:He}),He.\u0275inj=X.cJS({}),He})();var ye=O(4006),me=O(3238),nt=O(9549);const xt=new X.OlP("MAT_INPUT_VALUE_ACCESSOR"),ht=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let qe=0;const Le=(0,me.FD)(class{constructor(He,De,pe,ze){this._defaultErrorStateMatcher=He,this._parentForm=De,this._parentFormGroup=pe,this.ngControl=ze,this.stateChanges=new Ae.x}});let Ee=(()=>{class He extends Le{get disabled(){return this._disabled}set disabled(pe){this._disabled=(0,_.Ig)(pe),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(pe){this._id=pe||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ye.kI.required)??!1}set required(pe){this._required=(0,_.Ig)(pe)}get type(){return this._type}set type(pe){this._type=pe||"text",this._validateType(),!this._isTextarea&&(0,h.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(pe){pe!==this.value&&(this._inputValueAccessor.value=pe,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(pe){this._readonly=(0,_.Ig)(pe)}constructor(pe,ze,Xe,ge,Ce,$e,mt,en,Pt,rt){super($e,ge,Ce,Xe),this._elementRef=pe,this._platform=ze,this._autofillMonitor=en,this._formField=rt,this._uid="mat-input-"+qe++,this.focused=!1,this.stateChanges=new Ae.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(kt=>(0,h.qK)().has(kt)),this._iOSKeyupListener=kt=>{const It=kt.target;!It.value&&0===It.selectionStart&&0===It.selectionEnd&&(It.setSelectionRange(1,1),It.setSelectionRange(0,0))};const ft=this._elementRef.nativeElement,Et=ft.nodeName.toLowerCase();this._inputValueAccessor=mt||ft,this._previousNativeValue=this.value,this.id=this.id,ze.IOS&&Pt.runOutsideAngular(()=>{pe.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Et,this._isTextarea="textarea"===Et,this._isInFormField=!!rt,this._isNativeSelect&&(this.controlType=ft.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(pe=>{this.autofilled=pe.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(pe){this._elementRef.nativeElement.focus(pe)}_focusChanged(pe){pe!==this.focused&&(this.focused=pe,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const pe=this._elementRef.nativeElement.value;this._previousNativeValue!==pe&&(this._previousNativeValue=pe,this.stateChanges.next())}_dirtyCheckPlaceholder(){const pe=this._getPlaceholder();if(pe!==this._previousPlaceholder){const ze=this._elementRef.nativeElement;this._previousPlaceholder=pe,pe?ze.setAttribute("placeholder",pe):ze.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ht.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let pe=this._elementRef.nativeElement.validity;return pe&&pe.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const pe=this._elementRef.nativeElement,ze=pe.options[0];return this.focused||pe.multiple||!this.empty||!!(pe.selectedIndex>-1&&ze&&ze.label)}return this.focused||!this.empty}setDescribedByIds(pe){pe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",pe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const pe=this._elementRef.nativeElement;return this._isNativeSelect&&(pe.multiple||pe.size>1)}}return He.\u0275fac=function(pe){return new(pe||He)(X.Y36(X.SBq),X.Y36(h.t4),X.Y36(ye.a5,10),X.Y36(ye.F,8),X.Y36(ye.sg,8),X.Y36(me.rD),X.Y36(xt,10),X.Y36(we),X.Y36(X.R0b),X.Y36(nt.G_,8))},He.\u0275dir=X.lG2({type:He,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(pe,ze){1&pe&&X.NdJ("focus",function(){return ze._focusChanged(!0)})("blur",function(){return ze._focusChanged(!1)})("input",function(){return ze._onInput()}),2&pe&&(X.Ikx("id",ze.id)("disabled",ze.disabled)("required",ze.required),X.uIk("name",ze.name||null)("readonly",ze.readonly&&!ze._isNativeSelect||null)("aria-invalid",ze.empty&&ze.required?null:ze.errorState)("aria-required",ze.required)("id",ze.id),X.ekj("mat-input-server",ze._isServer)("mat-mdc-form-field-textarea-control",ze._isInFormField&&ze._isTextarea)("mat-mdc-form-field-input-control",ze._isInFormField)("mdc-text-field__input",ze._isInFormField)("mat-mdc-native-select-inline",ze._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[X._Bn([{provide:nt.Eo,useExisting:He}]),X.qOj,X.TTD]}),He})(),Ct=(()=>{class He{}return He.\u0275fac=function(pe){return new(pe||He)},He.\u0275mod=X.oAB({type:He}),He.\u0275inj=X.cJS({imports:[me.BQ,nt.lN,nt.lN,ie,me.BQ]}),He})()},1481:(Wt,Ge,O)=>{O.d(Ge,{Dx:()=>Sn,H7:()=>Fe,b2:()=>yi,q6:()=>fi,se:()=>Pt});var _=O(6895),h=O(4650);class X extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends X{static makeCurrent(){(0,_.HT)(new ve)}onAndCancel(Oe,de,Be){return Oe.addEventListener(de,Be,!1),()=>{Oe.removeEventListener(de,Be,!1)}}dispatchEvent(Oe,de){Oe.dispatchEvent(de)}remove(Oe){Oe.parentNode&&Oe.parentNode.removeChild(Oe)}createElement(Oe,de){return(de=de||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,de){return"window"===de?window:"document"===de?Oe:"body"===de?Oe.body:null}getBaseHref(Oe){const de=function Se(){return Ae=Ae||document.querySelector("base"),Ae?Ae.getAttribute("href"):null}();return null==de?null:function ce(Ne){we=we||document.createElement("a"),we.setAttribute("href",Ne);const Oe=we.pathname;return"/"===Oe.charAt(0)?Oe:`/${Oe}`}(de)}resetBaseElement(){Ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,_.Mx)(document.cookie,Oe)}}let we,Ae=null;const xe=new h.OlP("TRANSITION_ID"),ye=[{provide:h.ip1,useFactory:function ie(Ne,Oe,de){return()=>{de.get(h.CZH).donePromise.then(()=>{const Be=(0,_.q)(),yt=Oe.querySelectorAll(`style[ng-transition="${Ne}"]`);for(let Lt=0;Lt<yt.length;Lt++)Be.remove(yt[Lt])})}},deps:[xe,_.K0,h.zs3],multi:!0}];let nt=(()=>{class Ne{build(){return new XMLHttpRequest}}return Ne.\u0275fac=function(de){return new(de||Ne)},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Ke=new h.OlP("EventManagerPlugins");let xt=(()=>{class Ne{constructor(de,Be){this._zone=Be,this._eventNameToPlugin=new Map,de.forEach(yt=>{yt.manager=this}),this._plugins=de.slice().reverse()}addEventListener(de,Be,yt){return this._findPluginFor(Be).addEventListener(de,Be,yt)}addGlobalEventListener(de,Be,yt){return this._findPluginFor(Be).addGlobalEventListener(de,Be,yt)}getZone(){return this._zone}_findPluginFor(de){const Be=this._eventNameToPlugin.get(de);if(Be)return Be;const yt=this._plugins;for(let Lt=0;Lt<yt.length;Lt++){const tn=yt[Lt];if(tn.supports(de))return this._eventNameToPlugin.set(de,tn),tn}throw new Error(`No event manager plugin found for event ${de}`)}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(Ke),h.LFG(h.R0b))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class ht{constructor(Oe){this._doc=Oe}addGlobalEventListener(Oe,de,Be){const yt=(0,_.q)().getGlobalEventTarget(this._doc,Oe);if(!yt)throw new Error(`Unsupported event target ${yt} for event ${de}`);return this.addEventListener(yt,de,Be)}}let qe=(()=>{class Ne{constructor(){this.usageCount=new Map}addStyles(de){for(const Be of de)1===this.changeUsageCount(Be,1)&&this.onStyleAdded(Be)}removeStyles(de){for(const Be of de)0===this.changeUsageCount(Be,-1)&&this.onStyleRemoved(Be)}onStyleRemoved(de){}onStyleAdded(de){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(de,Be){const yt=this.usageCount;let Lt=yt.get(de)??0;return Lt+=Be,Lt>0?yt.set(de,Lt):yt.delete(de),Lt}ngOnDestroy(){for(const de of this.getAllStyles())this.onStyleRemoved(de);this.usageCount.clear()}}return Ne.\u0275fac=function(de){return new(de||Ne)},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),Le=(()=>{class Ne extends qe{constructor(de){super(),this.doc=de,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(de){for(const Be of this.hostNodes)this.addStyleToHost(Be,de)}onStyleRemoved(de){const Be=this.styleRef;Be.get(de)?.forEach(Lt=>Lt.remove()),Be.delete(de)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(de){this.hostNodes.add(de);for(const Be of this.getAllStyles())this.addStyleToHost(de,Be)}removeHost(de){this.hostNodes.delete(de)}addStyleToHost(de,Be){const yt=this.doc.createElement("style");yt.textContent=Be,de.appendChild(yt);const Lt=this.styleRef.get(Be);Lt?Lt.push(yt):this.styleRef.set(Be,[yt])}resetHostNodes(){const de=this.hostNodes;de.clear(),de.add(this.doc.head)}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(_.K0))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Ee={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ct=/%COMP%/g,ge=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function mt(Ne,Oe){return Oe.flat(100).map(de=>de.replace(Ct,Ne))}function en(Ne){return Oe=>{if("__ngUnwrap__"===Oe)return Ne;!1===Ne(Oe)&&(Oe.preventDefault(),Oe.returnValue=!1)}}let Pt=(()=>{class Ne{constructor(de,Be,yt,Lt){this.eventManager=de,this.sharedStylesHost=Be,this.appId=yt,this.removeStylesOnCompDestory=Lt,this.rendererByCompId=new Map,this.defaultRenderer=new rt(de)}createRenderer(de,Be){if(!de||!Be)return this.defaultRenderer;const yt=this.getOrCreateRenderer(de,Be);return yt instanceof St?yt.applyToHost(de):yt instanceof Rt&&yt.applyStyles(),yt}getOrCreateRenderer(de,Be){const yt=this.rendererByCompId;let Lt=yt.get(Be.id);if(!Lt){const tn=this.eventManager,Mn=this.sharedStylesHost,Vt=this.removeStylesOnCompDestory;switch(Be.encapsulation){case h.ifc.Emulated:Lt=new St(tn,Mn,Be,this.appId,Vt);break;case h.ifc.ShadowDom:return new It(tn,Mn,de,Be);default:Lt=new Rt(tn,Mn,Be,Vt)}Lt.onDestroy=()=>yt.delete(Be.id),yt.set(Be.id,Lt)}return Lt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(xt),h.LFG(Le),h.LFG(h.AFp),h.LFG(ge))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class rt{constructor(Oe){this.eventManager=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Oe,de){return de?document.createElementNS(Ee[de]||de,Oe):document.createElement(Oe)}createComment(Oe){return document.createComment(Oe)}createText(Oe){return document.createTextNode(Oe)}appendChild(Oe,de){(kt(Oe)?Oe.content:Oe).appendChild(de)}insertBefore(Oe,de,Be){Oe&&(kt(Oe)?Oe.content:Oe).insertBefore(de,Be)}removeChild(Oe,de){Oe&&Oe.removeChild(de)}selectRootElement(Oe,de){let Be="string"==typeof Oe?document.querySelector(Oe):Oe;if(!Be)throw new Error(`The selector "${Oe}" did not match any elements`);return de||(Be.textContent=""),Be}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,de,Be,yt){if(yt){de=yt+":"+de;const Lt=Ee[yt];Lt?Oe.setAttributeNS(Lt,de,Be):Oe.setAttribute(de,Be)}else Oe.setAttribute(de,Be)}removeAttribute(Oe,de,Be){if(Be){const yt=Ee[Be];yt?Oe.removeAttributeNS(yt,de):Oe.removeAttribute(`${Be}:${de}`)}else Oe.removeAttribute(de)}addClass(Oe,de){Oe.classList.add(de)}removeClass(Oe,de){Oe.classList.remove(de)}setStyle(Oe,de,Be,yt){yt&(h.JOm.DashCase|h.JOm.Important)?Oe.style.setProperty(de,Be,yt&h.JOm.Important?"important":""):Oe.style[de]=Be}removeStyle(Oe,de,Be){Be&h.JOm.DashCase?Oe.style.removeProperty(de):Oe.style[de]=""}setProperty(Oe,de,Be){Oe[de]=Be}setValue(Oe,de){Oe.nodeValue=de}listen(Oe,de,Be){return"string"==typeof Oe?this.eventManager.addGlobalEventListener(Oe,de,en(Be)):this.eventManager.addEventListener(Oe,de,en(Be))}}function kt(Ne){return"TEMPLATE"===Ne.tagName&&void 0!==Ne.content}class It extends rt{constructor(Oe,de,Be,yt){super(Oe),this.sharedStylesHost=de,this.hostEl=Be,this.shadowRoot=Be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=mt(yt.id,yt.styles);for(const tn of Lt){const Mn=document.createElement("style");Mn.textContent=tn,this.shadowRoot.appendChild(Mn)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}appendChild(Oe,de){return super.appendChild(this.nodeOrShadowRoot(Oe),de)}insertBefore(Oe,de,Be){return super.insertBefore(this.nodeOrShadowRoot(Oe),de,Be)}removeChild(Oe,de){return super.removeChild(this.nodeOrShadowRoot(Oe),de)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rt extends rt{constructor(Oe,de,Be,yt,Lt=Be.id){super(Oe),this.sharedStylesHost=de,this.removeStylesOnCompDestory=yt,this.rendererUsageCount=0,this.styles=mt(Lt,Be.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class St extends Rt{constructor(Oe,de,Be,yt,Lt){const tn=yt+"-"+Be.id;super(Oe,de,Be,Lt,tn),this.contentAttr=function Ce(Ne){return"_ngcontent-%COMP%".replace(Ct,Ne)}(tn),this.hostAttr=function $e(Ne){return"_nghost-%COMP%".replace(Ct,Ne)}(tn)}applyToHost(Oe){this.applyStyles(),this.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,de){const Be=super.createElement(Oe,de);return super.setAttribute(Be,this.contentAttr,""),Be}}let bt=(()=>{class Ne extends ht{constructor(de){super(de)}supports(de){return!0}addEventListener(de,Be,yt){return de.addEventListener(Be,yt,!1),()=>this.removeEventListener(de,Be,yt)}removeEventListener(de,Be,yt){return de.removeEventListener(Be,yt)}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(_.K0))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const et=["alt","control","meta","shift"],at={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wn={alt:Ne=>Ne.altKey,control:Ne=>Ne.ctrlKey,meta:Ne=>Ne.metaKey,shift:Ne=>Ne.shiftKey};let rn=(()=>{class Ne extends ht{constructor(de){super(de)}supports(de){return null!=Ne.parseEventName(de)}addEventListener(de,Be,yt){const Lt=Ne.parseEventName(Be),tn=Ne.eventCallback(Lt.fullKey,yt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(de,Lt.domEventName,tn))}static parseEventName(de){const Be=de.toLowerCase().split("."),yt=Be.shift();if(0===Be.length||"keydown"!==yt&&"keyup"!==yt)return null;const Lt=Ne._normalizeKey(Be.pop());let tn="",Mn=Be.indexOf("code");if(Mn>-1&&(Be.splice(Mn,1),tn="code."),et.forEach(qr=>{const mr=Be.indexOf(qr);mr>-1&&(Be.splice(mr,1),tn+=qr+".")}),tn+=Lt,0!=Be.length||0===Lt.length)return null;const Vt={};return Vt.domEventName=yt,Vt.fullKey=tn,Vt}static matchEventFullKeyCode(de,Be){let yt=at[de.key]||de.key,Lt="";return Be.indexOf("code.")>-1&&(yt=de.code,Lt="code."),!(null==yt||!yt)&&(yt=yt.toLowerCase()," "===yt?yt="space":"."===yt&&(yt="dot"),et.forEach(tn=>{tn!==yt&&(0,wn[tn])(de)&&(Lt+=tn+".")}),Lt+=yt,Lt===Be)}static eventCallback(de,Be,yt){return Lt=>{Ne.matchEventFullKeyCode(Lt,de)&&yt.runGuarded(()=>Be(Lt))}}static _normalizeKey(de){return"esc"===de?"escape":de}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(_.K0))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const fi=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:_.bD},{provide:h.g9A,useValue:function Hn(){ve.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function _n(){return(0,h.RDi)(document),document},deps:[]}]),ci=new h.OlP(""),ai=[{provide:h.rWj,useClass:class me{addToWindow(Oe){h.dqk.getAngularTestability=(Be,yt=!0)=>{const Lt=Oe.findTestabilityInTree(Be,yt);if(null==Lt)throw new Error("Could not find testability for element.");return Lt},h.dqk.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>Oe.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(Be=>{const yt=h.dqk.getAllAngularTestabilities();let Lt=yt.length,tn=!1;const Mn=function(Vt){tn=tn||Vt,Lt--,0==Lt&&Be(tn)};yt.forEach(function(Vt){Vt.whenStable(Mn)})})}findTestabilityInTree(Oe,de,Be){return null==de?null:Oe.getTestability(de)??(Be?(0,_.q)().isShadowRoot(de)?this.findTestabilityInTree(Oe,de.host,!0):this.findTestabilityInTree(Oe,de.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],dn=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function _i(){return new h.qLn},deps:[]},{provide:Ke,useClass:bt,multi:!0,deps:[_.K0,h.R0b,h.Lbi]},{provide:Ke,useClass:rn,multi:!0,deps:[_.K0]},{provide:Pt,useClass:Pt,deps:[xt,Le,h.AFp,ge]},{provide:h.FYo,useExisting:Pt},{provide:qe,useExisting:Le},{provide:Le,useClass:Le,deps:[_.K0]},{provide:xt,useClass:xt,deps:[Ke,h.R0b]},{provide:_.JF,useClass:nt,deps:[]},[]];let yi=(()=>{class Ne{constructor(de){}static withServerTransition(de){return{ngModule:Ne,providers:[{provide:h.AFp,useValue:de.appId},{provide:xe,useExisting:h.AFp},ye]}}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(ci,12))},Ne.\u0275mod=h.oAB({type:Ne}),Ne.\u0275inj=h.cJS({providers:[...dn,...ai],imports:[_.ez,h.hGG]}),Ne})(),Sn=(()=>{class Ne{constructor(de){this._doc=de}getTitle(){return this._doc.title}setTitle(de){this._doc.title=de||""}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(_.K0))},Ne.\u0275prov=h.Yz7({token:Ne,factory:function(de){let Be=null;return Be=de?new de:function Ci(){return new Sn((0,h.LFG)(_.K0))}(),Be},providedIn:"root"}),Ne})();typeof window<"u"&&window;let Fe=(()=>{class Ne{}return Ne.\u0275fac=function(de){return new(de||Ne)},Ne.\u0275prov=h.Yz7({token:Ne,factory:function(de){let Be=null;return Be=de?new(de||Ne):h.LFG(Ye),Be},providedIn:"root"}),Ne})(),Ye=(()=>{class Ne extends Fe{constructor(de){super(),this._doc=de}sanitize(de,Be){if(null==Be)return null;switch(de){case h.q3G.NONE:return Be;case h.q3G.HTML:return(0,h.qzn)(Be,"HTML")?(0,h.z3N)(Be):(0,h.EiD)(this._doc,String(Be)).toString();case h.q3G.STYLE:return(0,h.qzn)(Be,"Style")?(0,h.z3N)(Be):Be;case h.q3G.SCRIPT:if((0,h.qzn)(Be,"Script"))return(0,h.z3N)(Be);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(Be,"URL")?(0,h.z3N)(Be):(0,h.mCW)(String(Be));case h.q3G.RESOURCE_URL:if((0,h.qzn)(Be,"ResourceURL"))return(0,h.z3N)(Be);throw new Error(`unsafe value used in a resource URL context (see ${h.JZr})`);default:throw new Error(`Unexpected SecurityContext ${de} (see ${h.JZr})`)}}bypassSecurityTrustHtml(de){return(0,h.JVY)(de)}bypassSecurityTrustStyle(de){return(0,h.L6k)(de)}bypassSecurityTrustScript(de){return(0,h.eBb)(de)}bypassSecurityTrustUrl(de){return(0,h.LAX)(de)}bypassSecurityTrustResourceUrl(de){return(0,h.pB0)(de)}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(_.K0))},Ne.\u0275prov=h.Yz7({token:Ne,factory:function(de){let Be=null;return Be=de?new de:function ot(Ne){return new Ye(Ne.get(_.K0))}(h.LFG(h.zs3)),Be},providedIn:"root"}),Ne})()},9116:(Wt,Ge,O)=>{O.d(Ge,{gz:()=>jr,F0:()=>Sr,rH:()=>Oi,Od:()=>Rn,Bz:()=>zc,lC:()=>as});var _=O(4650),h=O(8996),X=O(9646),ve=O(1135),Ae=O(6805),Se=O(9841),we=O(7272),ce=O(9770),xe=O(9635),ie=O(2843),ye=O(9751),me=O(515),nt=O(4033),Ke=O(7579),xt=O(6895),ht=O(4004),qe=O(3900),Le=O(5698),Ee=O(8675),Ct=O(9300),He=O(5577),De=O(590),pe=O(4351),ze=O(8505),Xe=O(262),ge=O(5026),Ce=O(4482),$e=O(5403);function mt(A){return A<=0?()=>me.E:(0,Ce.e)((M,D)=>{let L=[];M.subscribe((0,$e.x)(D,q=>{L.push(q),A<L.length&&L.shift()},()=>{for(const q of L)D.next(q);D.complete()},void 0,()=>{L=null}))})}var en=O(8068),Pt=O(6590),rt=O(4671);function ft(A,M){const D=arguments.length>=2;return L=>L.pipe(A?(0,Ct.h)((q,re)=>A(q,re,L)):rt.y,mt(1),D?(0,Pt.d)(M):(0,en.T)(()=>new Ae.K))}var Et=O(2529),kt=O(9718),It=O(8746),Rt=O(8343),St=O(8189),bt=O(1481);const et="primary",at=Symbol("RouteTitle");class wn{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const D=this.params[M];return Array.isArray(D)?D[0]:D}return null}getAll(M){if(this.has(M)){const D=this.params[M];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function rn(A){return new wn(A)}function Tn(A,M,D){const L=D.path.split("/");if(L.length>A.length||"full"===D.pathMatch&&(M.hasChildren()||L.length<A.length))return null;const q={};for(let re=0;re<L.length;re++){const _e=L[re],tt=A[re];if(_e.startsWith(":"))q[_e.substring(1)]=tt;else if(_e!==tt.path)return null}return{consumed:A.slice(0,L.length),posParams:q}}function On(A,M){const D=A?Object.keys(A):void 0,L=M?Object.keys(M):void 0;if(!D||!L||D.length!=L.length)return!1;let q;for(let re=0;re<D.length;re++)if(q=D[re],!Vn(A[q],M[q]))return!1;return!0}function Vn(A,M){if(Array.isArray(A)&&Array.isArray(M)){if(A.length!==M.length)return!1;const D=[...A].sort(),L=[...M].sort();return D.every((q,re)=>L[re]===q)}return A===M}function Ei(A){return Array.prototype.concat.apply([],A)}function Hn(A){return A.length>0?A[A.length-1]:null}function _n(A,M){for(const D in A)A.hasOwnProperty(D)&&M(A[D],D)}function ii(A){return(0,_.CqO)(A)?A:(0,_.QGY)(A)?(0,h.D)(Promise.resolve(A)):(0,X.of)(A)}const fi=!1,ci={exact:function Wi(A,M,D){if(!Yt(A.segments,M.segments)||!Sn(A.segments,M.segments,D)||A.numberOfChildren!==M.numberOfChildren)return!1;for(const L in M.children)if(!A.children[L]||!Wi(A.children[L],M.children[L],D))return!1;return!0},subset:pi},ai={exact:function yi(A,M){return On(A,M)},subset:function di(A,M){return Object.keys(M).length<=Object.keys(A).length&&Object.keys(M).every(D=>Vn(A[D],M[D]))},ignored:()=>!0};function dn(A,M,D){return ci[D.paths](A.root,M.root,D.matrixParams)&&ai[D.queryParams](A.queryParams,M.queryParams)&&!("exact"===D.fragment&&A.fragment!==M.fragment)}function pi(A,M,D){return Ci(A,M,M.segments,D)}function Ci(A,M,D,L){if(A.segments.length>D.length){const q=A.segments.slice(0,D.length);return!(!Yt(q,D)||M.hasChildren()||!Sn(q,D,L))}if(A.segments.length===D.length){if(!Yt(A.segments,D)||!Sn(A.segments,D,L))return!1;for(const q in M.children)if(!A.children[q]||!pi(A.children[q],M.children[q],L))return!1;return!0}{const q=D.slice(0,A.segments.length),re=D.slice(A.segments.length);return!!(Yt(A.segments,q)&&Sn(A.segments,q,L)&&A.children[et])&&Ci(A.children[et],M,re,L)}}function Sn(A,M,D){return M.every((L,q)=>ai[D](A[q].parameters,L.parameters))}class on{constructor(M=new Dt([],{}),D={},L=null){this.root=M,this.queryParams=D,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return Cn.serialize(this)}}class Dt{constructor(M,D){this.segments=M,this.children=D,this.parent=null,_n(D,(L,q)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ui(this)}}class Un{constructor(M,D){this.path=M,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=rn(this.parameters)),this._parameterMap}toString(){return j(this)}}function Yt(A,M){return A.length===M.length&&A.every((D,L)=>D.path===M[L].path)}let Nt=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:function(){return new Pn},providedIn:"root"}),A})();class Pn{parse(M){const D=new Ne(M);return new on(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(M){const D=`/${kn(M.root,!0)}`,L=function Ie(A){const M=Object.keys(A).map(D=>{const L=A[D];return Array.isArray(L)?L.map(q=>`${ri(D)}=${ri(q)}`).join("&"):`${ri(D)}=${ri(L)}`}).filter(D=>!!D);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${D}${L}${"string"==typeof M.fragment?`#${function $t(A){return encodeURI(A)}(M.fragment)}`:""}`}}const Cn=new Pn;function Ui(A){return A.segments.map(M=>j(M)).join("/")}function kn(A,M){if(!A.hasChildren())return Ui(A);if(M){const D=A.children[et]?kn(A.children[et],!1):"",L=[];return _n(A.children,(q,re)=>{re!==et&&L.push(`${re}:${kn(q,!1)}`)}),L.length>0?`${D}(${L.join("//")})`:D}{const D=function st(A,M){let D=[];return _n(A.children,(L,q)=>{q===et&&(D=D.concat(M(L,q)))}),_n(A.children,(L,q)=>{q!==et&&(D=D.concat(M(L,q)))}),D}(A,(L,q)=>q===et?[kn(A.children[et],!1)]:[`${q}:${kn(L,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[et]?`${Ui(A)}/${D[0]}`:`${Ui(A)}/(${D.join("//")})`}}function Ai(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ri(A){return Ai(A).replace(/%3B/gi,";")}function Re(A){return Ai(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function K(A){return decodeURIComponent(A)}function P(A){return K(A.replace(/\+/g,"%20"))}function j(A){return`${Re(A.path)}${function ue(A){return Object.keys(A).map(M=>`;${Re(M)}=${Re(A[M])}`).join("")}(A.parameters)}`}const se=/^[^\/()?;=#]+/;function be(A){const M=A.match(se);return M?M[0]:""}const Fe=/^[^=?&#]+/,Ye=/^[^&#]+/;class Ne{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(M.length>0||Object.keys(D).length>0)&&(L[et]=new Dt(M,D)),L}parseSegment(){const M=be(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new _.vHH(4009,fi);return this.capture(M),new Un(K(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const D=be(this.remaining);if(!D)return;this.capture(D);let L="";if(this.consumeOptional("=")){const q=be(this.remaining);q&&(L=q,this.capture(L))}M[K(D)]=K(L)}parseQueryParam(M){const D=function ot(A){const M=A.match(Fe);return M?M[0]:""}(this.remaining);if(!D)return;this.capture(D);let L="";if(this.consumeOptional("=")){const _e=function sn(A){const M=A.match(Ye);return M?M[0]:""}(this.remaining);_e&&(L=_e,this.capture(L))}const q=P(D),re=P(L);if(M.hasOwnProperty(q)){let _e=M[q];Array.isArray(_e)||(_e=[_e],M[q]=_e),_e.push(re)}else M[q]=re}parseParens(M){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=be(this.remaining),q=this.remaining[L.length];if("/"!==q&&")"!==q&&";"!==q)throw new _.vHH(4010,fi);let re;L.indexOf(":")>-1?(re=L.slice(0,L.indexOf(":")),this.capture(re),this.capture(":")):M&&(re=et);const _e=this.parseChildren();D[re]=1===Object.keys(_e).length?_e[et]:new Dt([],_e),this.consumeOptional("//")}return D}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new _.vHH(4011,fi)}}function Oe(A){return A.segments.length>0?new Dt([],{[et]:A}):A}function de(A){const M={};for(const L of Object.keys(A.children)){const re=de(A.children[L]);(re.segments.length>0||re.hasChildren())&&(M[L]=re)}return function Be(A){if(1===A.numberOfChildren&&A.children[et]){const M=A.children[et];return new Dt(A.segments.concat(M.segments),M.children)}return A}(new Dt(A.segments,M))}function yt(A){return A instanceof on}const Lt=!1;function qr(A,M,D,L,q){if(0===D.length)return fs(M.root,M.root,M.root,L,q);const re=function uo(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Ws(!0,0,A);let M=0,D=!1;const L=A.reduce((q,re,_e)=>{if("object"==typeof re&&null!=re){if(re.outlets){const tt={};return _n(re.outlets,(zt,pn)=>{tt[pn]="string"==typeof zt?zt.split("/"):zt}),[...q,{outlets:tt}]}if(re.segmentPath)return[...q,re.segmentPath]}return"string"!=typeof re?[...q,re]:0===_e?(re.split("/").forEach((tt,zt)=>{0==zt&&"."===tt||(0==zt&&""===tt?D=!0:".."===tt?M++:""!=tt&&q.push(tt))}),q):[...q,re]},[]);return new Ws(D,M,L)}(D);return re.toRoot()?fs(M.root,M.root,new Dt([],{}),L,q):function _e(zt){const pn=function ar(A,M,D,L){if(A.isAbsolute)return new bs(M.root,!0,0);if(-1===L)return new bs(D,D===M.root,0);return function qi(A,M,D){let L=A,q=M,re=D;for(;re>q;){if(re-=q,L=L.parent,!L)throw new _.vHH(4005,Lt&&"Invalid number of '../'");q=L.segments.length}return new bs(L,!1,q-re)}(D,L+(mr(A.commands[0])?0:1),A.numberOfDoubleDots)}(re,M,A.snapshot?._urlSegment,zt),yn=pn.processChildren?Mi(pn.segmentGroup,pn.index,re.commands):is(pn.segmentGroup,pn.index,re.commands);return fs(M.root,pn.segmentGroup,yn,L,q)}(A.snapshot?._lastPathIndex)}function mr(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function $s(A){return"object"==typeof A&&null!=A&&A.outlets}function fs(A,M,D,L,q){let _e,re={};L&&_n(L,(zt,pn)=>{re[pn]=Array.isArray(zt)?zt.map(yn=>`${yn}`):`${zt}`}),_e=A===M?D:Co(A,M,D);const tt=Oe(de(_e));return new on(tt,re,q)}function Co(A,M,D){const L={};return _n(A.children,(q,re)=>{L[re]=q===M?D:Co(q,M,D)}),new Dt(A.segments,L)}class Ws{constructor(M,D,L){if(this.isAbsolute=M,this.numberOfDoubleDots=D,this.commands=L,M&&L.length>0&&mr(L[0]))throw new _.vHH(4003,Lt&&"Root segment cannot have matrix parameters");const q=L.find($s);if(q&&q!==Hn(L))throw new _.vHH(4004,Lt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bs{constructor(M,D,L){this.segmentGroup=M,this.processChildren=D,this.index=L}}function is(A,M,D){if(A||(A=new Dt([],{})),0===A.segments.length&&A.hasChildren())return Mi(A,M,D);const L=function fn(A,M,D){let L=0,q=M;const re={match:!1,pathIndex:0,commandIndex:0};for(;q<A.segments.length;){if(L>=D.length)return re;const _e=A.segments[q],tt=D[L];if($s(tt))break;const zt=`${tt}`,pn=L<D.length-1?D[L+1]:null;if(q>0&&void 0===zt)break;if(zt&&pn&&"object"==typeof pn&&void 0===pn.outlets){if(!rs(zt,pn,_e))return re;L+=2}else{if(!rs(zt,{},_e))return re;L++}q++}return{match:!0,pathIndex:q,commandIndex:L}}(A,M,D),q=D.slice(L.commandIndex);if(L.match&&L.pathIndex<A.segments.length){const re=new Dt(A.segments.slice(0,L.pathIndex),{});return re.children[et]=new Dt(A.segments.slice(L.pathIndex),A.children),Mi(re,0,q)}return L.match&&0===q.length?new Dt(A.segments,{}):L.match&&!A.hasChildren()?Nn(A,M,D):L.match?Mi(A,0,q):Nn(A,M,D)}function Mi(A,M,D){if(0===D.length)return new Dt(A.segments,{});{const L=function ws(A){return $s(A[0])?A[0].outlets:{[et]:A}}(D),q={};return!L[et]&&A.children[et]&&1===A.numberOfChildren&&0===A.children[et].segments.length?Mi(A.children[et],M,D):(_n(L,(re,_e)=>{"string"==typeof re&&(re=[re]),null!==re&&(q[_e]=is(A.children[_e],M,re))}),_n(A.children,(re,_e)=>{void 0===L[_e]&&(q[_e]=re)}),new Dt(A.segments,q))}}function Nn(A,M,D){const L=A.segments.slice(0,M);let q=0;for(;q<D.length;){const re=D[q];if($s(re)){const zt=Di(re.outlets);return new Dt(L,zt)}if(0===q&&mr(D[0])){L.push(new Un(A.segments[M].path,Or(D[0]))),q++;continue}const _e=$s(re)?re.outlets[et]:`${re}`,tt=q<D.length-1?D[q+1]:null;_e&&tt&&mr(tt)?(L.push(new Un(_e,Or(tt))),q+=2):(L.push(new Un(_e,{})),q++)}return new Dt(L,{})}function Di(A){const M={};return _n(A,(D,L)=>{"string"==typeof D&&(D=[D]),null!==D&&(M[L]=Nn(new Dt([],{}),0,D))}),M}function Or(A){const M={};return _n(A,(D,L)=>M[L]=`${D}`),M}function rs(A,M,D){return A==D.path&&On(M,D.parameters)}const Gn="imperative";class Ki{constructor(M,D){this.id=M,this.url=D}}class ki extends Ki{constructor(M,D,L="imperative",q=null){super(M,D),this.type=0,this.navigationTrigger=L,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Er extends Ki{constructor(M,D,L){super(M,D),this.urlAfterRedirects=L,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cr extends Ki{constructor(M,D,L,q){super(M,D),this.reason=L,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qn extends Ki{constructor(M,D,L,q){super(M,D),this.reason=L,this.code=q,this.type=16}}class Hr extends Ki{constructor(M,D,L,q){super(M,D),this.error=L,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ia extends Ki{constructor(M,D,L,q){super(M,D),this.urlAfterRedirects=L,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ea extends Ki{constructor(M,D,L,q){super(M,D),this.urlAfterRedirects=L,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr extends Ki{constructor(M,D,L,q,re){super(M,D),this.urlAfterRedirects=L,this.state=q,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tr extends Ki{constructor(M,D,L,q){super(M,D),this.urlAfterRedirects=L,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ms extends Ki{constructor(M,D,L,q){super(M,D),this.urlAfterRedirects=L,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class es{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xs{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ir{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vi{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(M,D,L){this.routerEvent=M,this.position=D,this.anchor=L,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Bt=(()=>{class A{createUrlTree(D,L,q,re,_e,tt){return qr(D||L.root,q,re,_e,tt)}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac}),A})(),mn=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:function(M){return Bt.\u0275fac(M)},providedIn:"root"}),A})();class Jn{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const D=this.pathFromRoot(M);return D.length>1?D[D.length-2]:null}children(M){const D=Wn(M,this._root);return D?D.children.map(L=>L.value):[]}firstChild(M){const D=Wn(M,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(M){const D=ti(M,this._root);return D.length<2?[]:D[D.length-2].children.map(q=>q.value).filter(q=>q!==M)}pathFromRoot(M){return ti(M,this._root).map(D=>D.value)}}function Wn(A,M){if(A===M.value)return M;for(const D of M.children){const L=Wn(A,D);if(L)return L}return null}function ti(A,M){if(A===M.value)return[M];for(const D of M.children){const L=ti(A,D);if(L.length)return L.unshift(M),L}return[]}class lr{constructor(M,D){this.value=M,this.children=D}toString(){return`TreeNode(${this.value})`}}function Pr(A){const M={};return A&&A.children.forEach(D=>M[D.value.outlet]=D),M}class Nr extends Jn{constructor(M,D){super(M),this.snapshot=D,qa(this,M)}toString(){return this.snapshot.toString()}}function ps(A,M){const D=function Ya(A,M){const _e=new ra([],{},{},"",{},et,M,null,A.root,-1,{});return new Os("",new lr(_e,[]))}(A,M),L=new ve.X([new Un("",{})]),q=new ve.X({}),re=new ve.X({}),_e=new ve.X({}),tt=new ve.X(""),zt=new jr(L,q,_e,tt,re,et,M,D.root);return zt.snapshot=D.root,new Nr(new lr(zt,[]),D)}class jr{constructor(M,D,L,q,re,_e,tt,zt){this.url=M,this.params=D,this.queryParams=L,this.fragment=q,this.data=re,this.outlet=_e,this.component=tt,this.title=this.data?.pipe((0,ht.U)(pn=>pn[at]))??(0,X.of)(void 0),this._futureSnapshot=zt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(M=>rn(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(M=>rn(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ss(A,M="emptyOnly"){const D=A.pathFromRoot;let L=0;if("always"!==M)for(L=D.length-1;L>=1;){const q=D[L],re=D[L-1];if(q.routeConfig&&""===q.routeConfig.path)L--;else{if(re.component)break;L--}}return function Do(A){return A.reduce((M,D)=>({params:{...M.params,...D.params},data:{...M.data,...D.data},resolve:{...D.data,...M.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(L))}class ra{get title(){return this.data?.[at]}constructor(M,D,L,q,re,_e,tt,zt,pn,yn,bi){this.url=M,this.params=D,this.queryParams=L,this.fragment=q,this.data=re,this.outlet=_e,this.component=tt,this.routeConfig=zt,this._urlSegment=pn,this._lastPathIndex=yn,this._resolve=bi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Os extends Jn{constructor(M,D){super(D),this.url=M,qa(this,D)}toString(){return Ho(this._root)}}function qa(A,M){M.value._routerState=A,M.children.forEach(D=>qa(A,D))}function Ho(A){const M=A.children.length>0?` { ${A.children.map(Ho).join(", ")} } `:"";return`${A.value}${M}`}function Ca(A){if(A.snapshot){const M=A.snapshot,D=A._futureSnapshot;A.snapshot=D,On(M.queryParams,D.queryParams)||A.queryParams.next(D.queryParams),M.fragment!==D.fragment&&A.fragment.next(D.fragment),On(M.params,D.params)||A.params.next(D.params),function En(A,M){if(A.length!==M.length)return!1;for(let D=0;D<A.length;++D)if(!On(A[D],M[D]))return!1;return!0}(M.url,D.url)||A.url.next(D.url),On(M.data,D.data)||A.data.next(D.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function ho(A,M){const D=On(A.params,M.params)&&function Ot(A,M){return Yt(A,M)&&A.every((D,L)=>On(D.parameters,M[L].parameters))}(A.url,M.url);return D&&!(!A.parent!=!M.parent)&&(!A.parent||ho(A.parent,M.parent))}function gs(A,M,D){if(D&&A.shouldReuseRoute(M.value,D.value.snapshot)){const L=D.value;L._futureSnapshot=M.value;const q=function sa(A,M,D){return M.children.map(L=>{for(const q of D.children)if(A.shouldReuseRoute(L.value,q.value.snapshot))return gs(A,L,q);return gs(A,L)})}(A,M,D);return new lr(L,q)}{if(A.shouldAttach(M.value)){const re=A.retrieve(M.value);if(null!==re){const _e=re.route;return _e.value._futureSnapshot=M.value,_e.children=M.children.map(tt=>gs(A,tt)),_e}}const L=function fo(A){return new jr(new ve.X(A.url),new ve.X(A.params),new ve.X(A.queryParams),new ve.X(A.fragment),new ve.X(A.data),A.outlet,A.component,A)}(M.value),q=M.children.map(re=>gs(A,re));return new lr(L,q)}}const Js="ngNavigationCancelingError";function jo(A,M){const{redirectTo:D,navigationBehaviorOptions:L}=yt(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,q=eo(!1,0,M);return q.url=D,q.navigationBehaviorOptions=L,q}function eo(A,M,D){const L=new Error("NavigationCancelingError: "+(A||""));return L[Js]=!0,L.cancellationCode=M,D&&(L.url=D),L}function nr(A){return os(A)&&yt(A.url)}function os(A){return A&&A[Js]}class Io{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Es,this.attachRef=null}}let Es=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(D,L){const q=this.getOrCreateContext(D);q.outlet=L,this.contexts.set(D,q)}onChildOutletDestroyed(D){const L=this.getContext(D);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let L=this.getContext(D);return L||(L=new Io,this.contexts.set(D,L)),L}getContext(D){return this.contexts.get(D)||null}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const pr=!1;let as=(()=>{class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=et,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(Es),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb)}ngOnChanges(D){if(D.name){const{firstChange:L,previousValue:q}=D.name;if(L)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,pr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,pr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,pr);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,L){this.activated=D,this._activatedRoute=L,this.location.insert(D.hostView),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,L){if(this.isActivated)throw new _.vHH(4013,pr);this._activatedRoute=D;const q=this.location,_e=D.snapshot.component,tt=this.parentContexts.getOrCreateContext(this.name).children,zt=new Hi(D,tt,q.injector);if(L&&function Ps(A){return!!A.resolveComponentFactory}(L)){const pn=L.resolveComponentFactory(_e);this.activated=q.createComponent(pn,q.length,zt)}else this.activated=q.createComponent(_e,{index:q.length,injector:zt,environmentInjector:L??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275dir=_.lG2({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]}),A})();class Hi{constructor(M,D,L){this.route=M,this.childContexts=D,this.parent=L}get(M,D){return M===jr?this.route:M===Es?this.childContexts:this.parent.get(M,D)}}let mo=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275cmp=_.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(D,L){1&D&&_._UZ(0,"router-outlet")},dependencies:[as],encapsulation:2}),A})();function to(A,M){return A.providers&&!A._injector&&(A._injector=(0,_.MMx)(A.providers,M,`Route: ${A.path}`)),A._injector??M}function mi(A){const M=A.children&&A.children.map(mi),D=M?{...A,children:M}:{...A};return!D.component&&!D.loadComponent&&(M||D.loadChildren)&&D.outlet&&D.outlet!==et&&(D.component=mo),D}function ls(A){return A.outlet||et}function io(A,M){const D=A.filter(L=>ls(L)===M);return D.push(...A.filter(L=>ls(L)!==M)),D}function ji(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let M=A.parent;M;M=M.parent){const D=M.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class oa{constructor(M,D,L,q){this.routeReuseStrategy=M,this.futureState=D,this.currState=L,this.forwardEvent=q}activate(M){const D=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,L,M),Ca(this.futureState.root),this.activateChildRoutes(D,L,M)}deactivateChildRoutes(M,D,L){const q=Pr(D);M.children.forEach(re=>{const _e=re.value.outlet;this.deactivateRoutes(re,q[_e],L),delete q[_e]}),_n(q,(re,_e)=>{this.deactivateRouteAndItsChildren(re,L)})}deactivateRoutes(M,D,L){const q=M.value,re=D?D.value:null;if(q===re)if(q.component){const _e=L.getContext(q.outlet);_e&&this.deactivateChildRoutes(M,D,_e.children)}else this.deactivateChildRoutes(M,D,L);else re&&this.deactivateRouteAndItsChildren(D,L)}deactivateRouteAndItsChildren(M,D){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,D):this.deactivateRouteAndOutlet(M,D)}detachAndStoreRouteSubtree(M,D){const L=D.getContext(M.value.outlet),q=L&&M.value.component?L.children:D,re=Pr(M);for(const _e of Object.keys(re))this.deactivateRouteAndItsChildren(re[_e],q);if(L&&L.outlet){const _e=L.outlet.detach(),tt=L.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:_e,route:M,contexts:tt})}}deactivateRouteAndOutlet(M,D){const L=D.getContext(M.value.outlet),q=L&&M.value.component?L.children:D,re=Pr(M);for(const _e of Object.keys(re))this.deactivateRouteAndItsChildren(re[_e],q);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(M,D,L){const q=Pr(D);M.children.forEach(re=>{this.activateRoutes(re,q[re.value.outlet],L),this.forwardEvent(new Ks(re.value.snapshot))}),M.children.length&&this.forwardEvent(new Ir(M.value.snapshot))}activateRoutes(M,D,L){const q=M.value,re=D?D.value:null;if(Ca(q),q===re)if(q.component){const _e=L.getOrCreateContext(q.outlet);this.activateChildRoutes(M,D,_e.children)}else this.activateChildRoutes(M,D,L);else if(q.component){const _e=L.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const tt=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),_e.children.onOutletReAttached(tt.contexts),_e.attachRef=tt.componentRef,_e.route=tt.route.value,_e.outlet&&_e.outlet.attach(tt.componentRef,tt.route.value),Ca(tt.route.value),this.activateChildRoutes(M,null,_e.children)}else{const tt=ji(q.snapshot),zt=tt?.get(_._Vd)??null;_e.attachRef=null,_e.route=q,_e.resolver=zt,_e.injector=tt,_e.outlet&&_e.outlet.activateWith(q,_e.injector),this.activateChildRoutes(M,null,_e.children)}}else this.activateChildRoutes(M,null,L)}}class ro{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class gr{constructor(M,D){this.component=M,this.route=D}}function aa(A,M,D){const L=A._root;return cs(L,M?M._root:null,D,[L.value])}function Fs(A,M){const D=Symbol(),L=M.get(A,D);return L===D?"function"!=typeof A||(0,_.Z0I)(A)?M.get(A):A:L}function cs(A,M,D,L,q={canDeactivateChecks:[],canActivateChecks:[]}){const re=Pr(M);return A.children.forEach(_e=>{(function Cl(A,M,D,L,q={canDeactivateChecks:[],canActivateChecks:[]}){const re=A.value,_e=M?M.value:null,tt=D?D.getContext(A.value.outlet):null;if(_e&&re.routeConfig===_e.routeConfig){const zt=function la(A,M,D){if("function"==typeof D)return D(A,M);switch(D){case"pathParamsChange":return!Yt(A.url,M.url);case"pathParamsOrQueryParamsChange":return!Yt(A.url,M.url)||!On(A.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ho(A,M)||!On(A.queryParams,M.queryParams);default:return!ho(A,M)}}(_e,re,re.routeConfig.runGuardsAndResolvers);zt?q.canActivateChecks.push(new ro(L)):(re.data=_e.data,re._resolvedData=_e._resolvedData),cs(A,M,re.component?tt?tt.children:null:D,L,q),zt&&tt&&tt.outlet&&tt.outlet.isActivated&&q.canDeactivateChecks.push(new gr(tt.outlet.component,_e))}else _e&&Ln(M,tt,q),q.canActivateChecks.push(new ro(L)),cs(A,null,re.component?tt?tt.children:null:D,L,q)})(_e,re[_e.value.outlet],D,L.concat([_e.value]),q),delete re[_e.value.outlet]}),_n(re,(_e,tt)=>Ln(_e,D.getContext(tt),q)),q}function Ln(A,M,D){const L=Pr(A),q=A.value;_n(L,(re,_e)=>{Ln(re,q.component?M?M.children.getContext(_e):null:M,D)}),D.canDeactivateChecks.push(new gr(q.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,q))}function Ys(A){return"function"==typeof A}function Bn(A){return A instanceof Ae.K||"EmptyError"===A?.name}const vi=Symbol("INITIAL_VALUE");function Ii(){return(0,qe.w)(A=>(0,Se.a)(A.map(M=>M.pipe((0,Le.q)(1),(0,Ee.O)(vi)))).pipe((0,ht.U)(M=>{for(const D of M)if(!0!==D){if(D===vi)return vi;if(!1===D||D instanceof on)return D}return!0}),(0,Ct.h)(M=>M!==vi),(0,Le.q)(1)))}function Qi(A){return(0,xe.z)((0,ze.b)(M=>{if(yt(M))throw jo(0,M)}),(0,ht.U)(M=>!0===M))}const Ja={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ds(A,M,D,L,q){const re=Qr(A,M,D);return re.matched?function Ls(A,M,D,L){const q=M.canMatch;if(!q||0===q.length)return(0,X.of)(!0);const re=q.map(_e=>{const tt=Fs(_e,A);return ii(function he(A){return A&&Ys(A.canMatch)}(tt)?tt.canMatch(M,D):A.runInContext(()=>tt(M,D)))});return(0,X.of)(re).pipe(Ii(),Qi())}(L=to(M,L),M,D).pipe((0,ht.U)(_e=>!0===_e?re:{...Ja})):(0,X.of)(re)}function Qr(A,M,D){if(""===M.path)return"full"===M.pathMatch&&(A.hasChildren()||D.length>0)?{...Ja}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const q=(M.matcher||Tn)(D,A,M);if(!q)return{...Ja};const re={};_n(q.posParams,(tt,zt)=>{re[zt]=tt.path});const _e=q.consumed.length>0?{...re,...q.consumed[q.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:q.consumed,remainingSegments:D.slice(q.consumed.length),parameters:_e,positionalParamSegments:q.posParams??{}}}function ca(A,M,D,L){if(D.length>0&&function Ia(A,M,D){return D.some(L=>tl(A,M,L)&&ls(L)!==et)}(A,D,L)){const re=new Dt(M,function Al(A,M,D,L){const q={};q[et]=L,L._sourceSegment=A,L._segmentIndexShift=M.length;for(const re of D)if(""===re.path&&ls(re)!==et){const _e=new Dt([],{});_e._sourceSegment=A,_e._segmentIndexShift=M.length,q[ls(re)]=_e}return q}(A,M,L,new Dt(D,A.children)));return re._sourceSegment=A,re._segmentIndexShift=M.length,{segmentGroup:re,slicedSegments:[]}}if(0===D.length&&function el(A,M,D){return D.some(L=>tl(A,M,L))}(A,D,L)){const re=new Dt(A.segments,function yc(A,M,D,L,q){const re={};for(const _e of L)if(tl(A,D,_e)&&!q[ls(_e)]){const tt=new Dt([],{});tt._sourceSegment=A,tt._segmentIndexShift=M.length,re[ls(_e)]=tt}return{...q,...re}}(A,M,D,L,A.children));return re._sourceSegment=A,re._segmentIndexShift=M.length,{segmentGroup:re,slicedSegments:D}}const q=new Dt(A.segments,A.children);return q._sourceSegment=A,q._segmentIndexShift=M.length,{segmentGroup:q,slicedSegments:D}}function tl(A,M,D){return(!(A.hasChildren()||M.length>0)||"full"!==D.pathMatch)&&""===D.path}function Ml(A,M,D,L){return!!(ls(A)===L||L!==et&&tl(M,D,A))&&("**"===A.path||Qr(M,A,D).matched)}function $o(A,M,D){return 0===M.length&&!A.children[D]}const nl=!1;class il{constructor(M){this.segmentGroup=M||null}}class Wo{constructor(M){this.urlTree=M}}function Sa(A){return(0,ie._)(new il(A))}function Ta(A){return(0,ie._)(new Wo(A))}class To{constructor(M,D,L,q,re){this.injector=M,this.configLoader=D,this.urlSerializer=L,this.urlTree=q,this.config=re,this.allowRedirects=!0}apply(){const M=ca(this.urlTree.root,[],[],this.config).segmentGroup,D=new Dt(M.segments,M.children);return this.expandSegmentGroup(this.injector,this.config,D,et).pipe((0,ht.U)(re=>this.createUrlTree(de(re),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Xe.K)(re=>{if(re instanceof Wo)return this.allowRedirects=!1,this.match(re.urlTree);throw re instanceof il?this.noMatchError(re):re}))}match(M){return this.expandSegmentGroup(this.injector,this.config,M.root,et).pipe((0,ht.U)(q=>this.createUrlTree(de(q),M.queryParams,M.fragment))).pipe((0,Xe.K)(q=>{throw q instanceof il?this.noMatchError(q):q}))}noMatchError(M){return new _.vHH(4002,nl)}createUrlTree(M,D,L){const q=Oe(M);return new on(q,D,L)}expandSegmentGroup(M,D,L,q){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(M,D,L).pipe((0,ht.U)(re=>new Dt([],re))):this.expandSegment(M,L,D,L.segments,q,!0)}expandChildren(M,D,L){const q=[];for(const re of Object.keys(L.children))"primary"===re?q.unshift(re):q.push(re);return(0,h.D)(q).pipe((0,pe.b)(re=>{const _e=L.children[re],tt=io(D,re);return this.expandSegmentGroup(M,tt,_e,re).pipe((0,ht.U)(zt=>({segment:zt,outlet:re})))}),(0,ge.R)((re,_e)=>(re[_e.outlet]=_e.segment,re),{}),ft())}expandSegment(M,D,L,q,re,_e){return(0,h.D)(L).pipe((0,pe.b)(tt=>this.expandSegmentAgainstRoute(M,D,L,tt,q,re,_e).pipe((0,Xe.K)(pn=>{if(pn instanceof il)return(0,X.of)(null);throw pn}))),(0,De.P)(tt=>!!tt),(0,Xe.K)((tt,zt)=>{if(Bn(tt))return $o(D,q,re)?(0,X.of)(new Dt([],{})):Sa(D);throw tt}))}expandSegmentAgainstRoute(M,D,L,q,re,_e,tt){return Ml(q,D,re,_e)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(M,D,q,re,_e):tt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,D,L,q,re,_e):Sa(D):Sa(D)}expandSegmentAgainstRouteUsingRedirect(M,D,L,q,re,_e){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,L,q,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(M,D,L,q,re,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,D,L,q){const re=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?Ta(re):this.lineralizeSegments(L,re).pipe((0,He.z)(_e=>{const tt=new Dt(_e,{});return this.expandSegment(M,tt,D,_e,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,D,L,q,re,_e){const{matched:tt,consumedSegments:zt,remainingSegments:pn,positionalParamSegments:yn}=Qr(D,q,re);if(!tt)return Sa(D);const bi=this.applyRedirectCommands(zt,q.redirectTo,yn);return q.redirectTo.startsWith("/")?Ta(bi):this.lineralizeSegments(q,bi).pipe((0,He.z)(us=>this.expandSegment(M,D,L,us.concat(pn),_e,!1)))}matchSegmentAgainstRoute(M,D,L,q,re){return"**"===L.path?(M=to(L,M),L.loadChildren?(L._loadedRoutes?(0,X.of)({routes:L._loadedRoutes,injector:L._loadedInjector}):this.configLoader.loadChildren(M,L)).pipe((0,ht.U)(tt=>(L._loadedRoutes=tt.routes,L._loadedInjector=tt.injector,new Dt(q,{})))):(0,X.of)(new Dt(q,{}))):Ds(D,L,q,M).pipe((0,qe.w)(({matched:_e,consumedSegments:tt,remainingSegments:zt})=>_e?this.getChildConfig(M=L._injector??M,L,q).pipe((0,He.z)(yn=>{const bi=yn.injector??M,us=yn.routes,{segmentGroup:hl,slicedSegments:Na}=ca(D,tt,zt,us),Ts=new Dt(hl.segments,hl.children);if(0===Na.length&&Ts.hasChildren())return this.expandChildren(bi,us,Ts).pipe((0,ht.U)(ua=>new Dt(tt,ua)));if(0===us.length&&0===Na.length)return(0,X.of)(new Dt(tt,{}));const Qs=ls(L)===re;return this.expandSegment(bi,Ts,us,Na,Qs?et:re,!0).pipe((0,ht.U)(Fa=>new Dt(tt.concat(Fa.segments),Fa.children)))})):Sa(D)))}getChildConfig(M,D,L){return D.children?(0,X.of)({routes:D.children,injector:M}):D.loadChildren?void 0!==D._loadedRoutes?(0,X.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Tl(A,M,D,L){const q=M.canLoad;if(void 0===q||0===q.length)return(0,X.of)(!0);const re=q.map(_e=>{const tt=Fs(_e,A);return ii(function Xa(A){return A&&Ys(A.canLoad)}(tt)?tt.canLoad(M,D):A.runInContext(()=>tt(M,D)))});return(0,X.of)(re).pipe(Ii(),Qi())}(M,D,L).pipe((0,He.z)(q=>q?this.configLoader.loadChildren(M,D).pipe((0,ze.b)(re=>{D._loadedRoutes=re.routes,D._loadedInjector=re.injector})):function vc(A){return(0,ie._)(eo(nl,3))}())):(0,X.of)({routes:[],injector:M})}lineralizeSegments(M,D){let L=[],q=D.root;for(;;){if(L=L.concat(q.segments),0===q.numberOfChildren)return(0,X.of)(L);if(q.numberOfChildren>1||!q.children[et])return M.redirectTo,(0,ie._)(new _.vHH(4e3,nl));q=q.children[et]}}applyRedirectCommands(M,D,L){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),M,L)}applyRedirectCreateUrlTree(M,D,L,q){const re=this.createSegmentGroup(M,D.root,L,q);return new on(re,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(M,D){const L={};return _n(M,(q,re)=>{if("string"==typeof q&&q.startsWith(":")){const tt=q.substring(1);L[re]=D[tt]}else L[re]=q}),L}createSegmentGroup(M,D,L,q){const re=this.createSegments(M,D.segments,L,q);let _e={};return _n(D.children,(tt,zt)=>{_e[zt]=this.createSegmentGroup(M,tt,L,q)}),new Dt(re,_e)}createSegments(M,D,L,q){return D.map(re=>re.path.startsWith(":")?this.findPosParam(M,re,q):this.findOrReturn(re,L))}findPosParam(M,D,L){const q=L[D.path.substring(1)];if(!q)throw new _.vHH(4001,nl);return q}findOrReturn(M,D){let L=0;for(const q of D){if(q.path===M.path)return D.splice(L),q;L++}return M}}class Ao{}class Bs{constructor(M,D,L,q,re,_e,tt){this.injector=M,this.rootComponentType=D,this.config=L,this.urlTree=q,this.url=re,this.paramsInheritanceStrategy=_e,this.urlSerializer=tt}recognize(){const M=ca(this.urlTree.root,[],[],this.config.filter(D=>void 0===D.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,et).pipe((0,ht.U)(D=>{if(null===D)return null;const L=new ra([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},et,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new lr(L,D),re=new Os(this.url,q);return this.inheritParamsAndData(re._root),re}))}inheritParamsAndData(M){const D=M.value,L=ss(D,this.paramsInheritanceStrategy);D.params=Object.freeze(L.params),D.data=Object.freeze(L.data),M.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(M,D,L,q){return 0===L.segments.length&&L.hasChildren()?this.processChildren(M,D,L):this.processSegment(M,D,L,L.segments,q)}processChildren(M,D,L){return(0,h.D)(Object.keys(L.children)).pipe((0,pe.b)(q=>{const re=L.children[q],_e=io(D,q);return this.processSegmentGroup(M,_e,re,q)}),(0,ge.R)((q,re)=>q&&re?(q.push(...re),q):null),(0,Et.o)(q=>null!==q),(0,Pt.d)(null),ft(),(0,ht.U)(q=>{if(null===q)return null;const re=fd(q);return function Vc(A){A.sort((M,D)=>M.value.outlet===et?-1:D.value.outlet===et?1:M.value.outlet.localeCompare(D.value.outlet))}(re),re}))}processSegment(M,D,L,q,re){return(0,h.D)(D).pipe((0,pe.b)(_e=>this.processSegmentAgainstRoute(_e._injector??M,_e,L,q,re)),(0,De.P)(_e=>!!_e),(0,Xe.K)(_e=>{if(Bn(_e))return $o(L,q,re)?(0,X.of)([]):(0,X.of)(null);throw _e}))}processSegmentAgainstRoute(M,D,L,q,re){if(D.redirectTo||!Ml(D,L,q,re))return(0,X.of)(null);let _e;if("**"===D.path){const tt=q.length>0?Hn(q).parameters:{},zt=Yl(L)+q.length,pn=new ra(q,tt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hc(D),ls(D),D.component??D._loadedComponent??null,D,sl(L),zt,N(D));_e=(0,X.of)({snapshot:pn,consumedSegments:[],remainingSegments:[]})}else _e=Ds(L,D,q,M).pipe((0,ht.U)(({matched:tt,consumedSegments:zt,remainingSegments:pn,parameters:yn})=>{if(!tt)return null;const bi=Yl(L)+zt.length;return{snapshot:new ra(zt,yn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hc(D),ls(D),D.component??D._loadedComponent??null,D,sl(L),bi,N(D)),consumedSegments:zt,remainingSegments:pn}}));return _e.pipe((0,qe.w)(tt=>{if(null===tt)return(0,X.of)(null);const{snapshot:zt,consumedSegments:pn,remainingSegments:yn}=tt;M=D._injector??M;const bi=D._loadedInjector??M,us=function da(A){return A.children?A.children:A.loadChildren?A._loadedRoutes:[]}(D),{segmentGroup:hl,slicedSegments:Na}=ca(L,pn,yn,us.filter(Qs=>void 0===Qs.redirectTo));if(0===Na.length&&hl.hasChildren())return this.processChildren(bi,us,hl).pipe((0,ht.U)(Qs=>null===Qs?null:[new lr(zt,Qs)]));if(0===us.length&&0===Na.length)return(0,X.of)([new lr(zt,[])]);const Ts=ls(D)===re;return this.processSegment(bi,us,hl,Na,Ts?et:re).pipe((0,ht.U)(Qs=>null===Qs?null:[new lr(zt,Qs)]))}))}}function wr(A){const M=A.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function fd(A){const M=[],D=new Set;for(const L of A){if(!wr(L)){M.push(L);continue}const q=M.find(re=>L.value.routeConfig===re.value.routeConfig);void 0!==q?(q.children.push(...L.children),D.add(q)):M.push(L)}for(const L of D){const q=fd(L.children);M.push(new lr(L.value,q))}return M.filter(L=>!D.has(L))}function sl(A){let M=A;for(;M._sourceSegment;)M=M._sourceSegment;return M}function Yl(A){let M=A,D=M._segmentIndexShift??0;for(;M._sourceSegment;)M=M._sourceSegment,D+=M._segmentIndexShift??0;return D-1}function Hc(A){return A.data||{}}function N(A){return A.resolve||{}}function gn(A){return"string"==typeof A.title||null===A.title}function Ri(A){return(0,qe.w)(M=>{const D=A(M);return D?(0,h.D)(D).pipe((0,ht.U)(()=>M)):(0,X.of)(M)})}const $n=new _.OlP("ROUTES");let ir=(()=>{class A{constructor(D,L){this.injector=D,this.compiler=L,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,X.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const L=ii(D.loadComponent()).pipe((0,ht.U)(hn),(0,ze.b)(re=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=re}),(0,It.x)(()=>{this.componentLoaders.delete(D)})),q=new nt.c(L,()=>new Ke.x).pipe((0,Rt.x)());return this.componentLoaders.set(D,q),q}loadChildren(D,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,X.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const re=this.loadModuleFactoryOrRoutes(L.loadChildren).pipe((0,ht.U)(tt=>{this.onLoadEndListener&&this.onLoadEndListener(L);let zt,pn,yn=!1;Array.isArray(tt)?pn=tt:(zt=tt.create(D).injector,pn=Ei(zt.get($n,[],_.XFs.Self|_.XFs.Optional)));return{routes:pn.map(mi),injector:zt}}),(0,It.x)(()=>{this.childrenLoaders.delete(L)})),_e=new nt.c(re,()=>new Ke.x).pipe((0,Rt.x)());return this.childrenLoaders.set(L,_e),_e}loadModuleFactoryOrRoutes(D){return ii(D()).pipe((0,ht.U)(hn),(0,He.z)(q=>q instanceof _.YKP||Array.isArray(q)?(0,X.of)(q):(0,h.D)(this.compiler.compileModuleAsync(q))))}}return A.\u0275fac=function(D){return new(D||A)(_.LFG(_.zs3),_.LFG(_.Sil))},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function hn(A){return function Xt(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let Jt=(()=>{class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ke.x,this.configLoader=(0,_.f3M)(ir),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(Nt),this.rootContexts=(0,_.f3M)(Es),this.navigationId=0,this.afterPreactivation=()=>(0,X.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=q=>this.events.next(new es(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new Rs(q))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const L=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:L})}setupNavigations(D){return this.transitions=new ve.X({id:0,targetPageId:0,currentUrlTree:D.currentUrlTree,currentRawUrl:D.currentUrlTree,extractedUrl:D.urlHandlingStrategy.extract(D.currentUrlTree),urlAfterRedirects:D.urlHandlingStrategy.extract(D.currentUrlTree),rawUrl:D.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gn,restoredState:null,currentSnapshot:D.routerState.snapshot,targetSnapshot:null,currentRouterState:D.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ct.h)(L=>0!==L.id),(0,ht.U)(L=>({...L,extractedUrl:D.urlHandlingStrategy.extract(L.rawUrl)})),(0,qe.w)(L=>{let q=!1,re=!1;return(0,X.of)(L).pipe((0,ze.b)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qe.w)(_e=>{const tt=D.browserUrlTree.toString(),zt=!D.navigated||_e.extractedUrl.toString()!==tt||tt!==D.currentUrlTree.toString();if(!zt&&"reload"!==(_e.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const yn="";return this.events.next(new qn(_e.id,D.serializeUrl(L.rawUrl),yn,0)),D.rawUrlTree=_e.rawUrl,_e.resolve(null),me.E}if(D.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return pt(_e.source)&&(D.browserUrlTree=_e.extractedUrl),(0,X.of)(_e).pipe((0,qe.w)(yn=>{const bi=this.transitions?.getValue();return this.events.next(new ki(yn.id,this.urlSerializer.serialize(yn.extractedUrl),yn.source,yn.restoredState)),bi!==this.transitions?.getValue()?me.E:Promise.resolve(yn)}),function mu(A,M,D,L){return(0,qe.w)(q=>function Uc(A,M,D,L,q){return new To(A,M,D,L,q).apply()}(A,M,D,q.extractedUrl,L).pipe((0,ht.U)(re=>({...q,urlAfterRedirects:re}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,D.config),(0,ze.b)(yn=>{this.currentNavigation={...this.currentNavigation,finalUrl:yn.urlAfterRedirects},L.urlAfterRedirects=yn.urlAfterRedirects}),function J(A,M,D,L,q){return(0,He.z)(re=>function rl(A,M,D,L,q,re,_e="emptyOnly"){return new Bs(A,M,D,L,q,_e,re).recognize().pipe((0,qe.w)(tt=>null===tt?function _r(A){return new ye.y(M=>M.error(A))}(new Ao):(0,X.of)(tt)))}(A,M,D,re.urlAfterRedirects,L.serialize(re.urlAfterRedirects),L,q).pipe((0,ht.U)(_e=>({...re,targetSnapshot:_e}))))}(this.environmentInjector,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,ze.b)(yn=>{if(L.targetSnapshot=yn.targetSnapshot,"eager"===D.urlUpdateStrategy){if(!yn.extras.skipLocationChange){const us=D.urlHandlingStrategy.merge(yn.urlAfterRedirects,yn.rawUrl);D.setBrowserUrl(us,yn)}D.browserUrlTree=yn.urlAfterRedirects}const bi=new ia(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(bi)}));if(zt&&D.urlHandlingStrategy.shouldProcessUrl(D.rawUrlTree)){const{id:yn,extractedUrl:bi,source:us,restoredState:hl,extras:Na}=_e,Ts=new ki(yn,this.urlSerializer.serialize(bi),us,hl);this.events.next(Ts);const Qs=ps(bi,this.rootComponentType).snapshot;return L={..._e,targetSnapshot:Qs,urlAfterRedirects:bi,extras:{...Na,skipLocationChange:!1,replaceUrl:!1}},(0,X.of)(L)}{const yn="";return this.events.next(new qn(_e.id,D.serializeUrl(L.extractedUrl),yn,1)),D.rawUrlTree=_e.rawUrl,_e.resolve(null),me.E}}),(0,ze.b)(_e=>{const tt=new Ea(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(tt)}),(0,ht.U)(_e=>L={..._e,guards:aa(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)}),function br(A,M){return(0,He.z)(D=>{const{targetSnapshot:L,currentSnapshot:q,guards:{canActivateChecks:re,canDeactivateChecks:_e}}=D;return 0===_e.length&&0===re.length?(0,X.of)({...D,guardsResult:!0}):function Wl(A,M,D,L){return(0,h.D)(A).pipe((0,He.z)(q=>function Bc(A,M,D,L,q){const re=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,X.of)(!0);const _e=re.map(tt=>{const zt=ji(M)??q,pn=Fs(tt,zt);return ii(function z(A){return A&&Ys(A.canDeactivate)}(pn)?pn.canDeactivate(A,M,D,L):zt.runInContext(()=>pn(A,M,D,L))).pipe((0,De.P)())});return(0,X.of)(_e).pipe(Ii())}(q.component,q.route,D,M,L)),(0,De.P)(q=>!0!==q,!0))}(_e,L,q,A).pipe((0,He.z)(tt=>tt&&function $l(A){return"boolean"==typeof A}(tt)?function Go(A,M,D,L){return(0,h.D)(M).pipe((0,pe.b)(q=>(0,we.z)(function Dl(A,M){return null!==A&&M&&M(new xs(A)),(0,X.of)(!0)}(q.route.parent,L),function Cs(A,M){return null!==A&&M&&M(new Vi(A)),(0,X.of)(!0)}(q.route,L),function Sl(A,M,D){const L=M[M.length-1],re=M.slice(0,M.length-1).reverse().map(_e=>function So(A){const M=A.routeConfig?A.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:A,guards:M}:null}(_e)).filter(_e=>null!==_e).map(_e=>(0,ce.P)(()=>{const tt=_e.guards.map(zt=>{const pn=ji(_e.node)??D,yn=Fs(zt,pn);return ii(function G(A){return A&&Ys(A.canActivateChild)}(yn)?yn.canActivateChild(L,A):pn.runInContext(()=>yn(L,A))).pipe((0,De.P)())});return(0,X.of)(tt).pipe(Ii())}));return(0,X.of)(re).pipe(Ii())}(A,q.path,D),function Il(A,M,D){const L=M.routeConfig?M.routeConfig.canActivate:null;if(!L||0===L.length)return(0,X.of)(!0);const q=L.map(re=>(0,ce.P)(()=>{const _e=ji(M)??D,tt=Fs(re,_e);return ii(function Y(A){return A&&Ys(A.canActivate)}(tt)?tt.canActivate(M,A):_e.runInContext(()=>tt(M,A))).pipe((0,De.P)())}));return(0,X.of)(q).pipe(Ii())}(A,q.route,D))),(0,De.P)(q=>!0!==q,!0))}(L,re,A,M):(0,X.of)(tt)),(0,ht.U)(tt=>({...D,guardsResult:tt})))})}(this.environmentInjector,_e=>this.events.next(_e)),(0,ze.b)(_e=>{if(L.guardsResult=_e.guardsResult,yt(_e.guardsResult))throw jo(0,_e.guardsResult);const tt=new Dr(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.events.next(tt)}),(0,Ct.h)(_e=>!!_e.guardsResult||(D.restoreHistory(_e),this.cancelNavigationTransition(_e,"",3),!1)),Ri(_e=>{if(_e.guards.canActivateChecks.length)return(0,X.of)(_e).pipe((0,ze.b)(tt=>{const zt=new tr(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(zt)}),(0,qe.w)(tt=>{let zt=!1;return(0,X.of)(tt).pipe(function H(A,M){return(0,He.z)(D=>{const{targetSnapshot:L,guards:{canActivateChecks:q}}=D;if(!q.length)return(0,X.of)(D);let re=0;return(0,h.D)(q).pipe((0,pe.b)(_e=>function oe(A,M,D,L){const q=A.routeConfig,re=A._resolve;return void 0!==q?.title&&!gn(q)&&(re[at]=q.title),function ke(A,M,D,L){const q=function wt(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===q.length)return(0,X.of)({});const re={};return(0,h.D)(q).pipe((0,He.z)(_e=>function Ut(A,M,D,L){const q=ji(M)??L,re=Fs(A,q);return ii(re.resolve?re.resolve(M,D):q.runInContext(()=>re(M,D)))}(A[_e],M,D,L).pipe((0,De.P)(),(0,ze.b)(tt=>{re[_e]=tt}))),mt(1),(0,kt.h)(re),(0,Xe.K)(_e=>Bn(_e)?me.E:(0,ie._)(_e)))}(re,A,M,L).pipe((0,ht.U)(_e=>(A._resolvedData=_e,A.data=ss(A,D).resolve,q&&gn(q)&&(A.data[at]=q.title),null)))}(_e.route,L,A,M)),(0,ze.b)(()=>re++),mt(1),(0,He.z)(_e=>re===q.length?(0,X.of)(D):me.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,ze.b)({next:()=>zt=!0,complete:()=>{zt||(D.restoreHistory(tt),this.cancelNavigationTransition(tt,"",2))}}))}),(0,ze.b)(tt=>{const zt=new ms(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(zt)}))}),Ri(_e=>{const tt=zt=>{const pn=[];zt.routeConfig?.loadComponent&&!zt.routeConfig._loadedComponent&&pn.push(this.configLoader.loadComponent(zt.routeConfig).pipe((0,ze.b)(yn=>{zt.component=yn}),(0,ht.U)(()=>{})));for(const yn of zt.children)pn.push(...tt(yn));return pn};return(0,Se.a)(tt(_e.targetSnapshot.root)).pipe((0,Pt.d)(),(0,Le.q)(1))}),Ri(()=>this.afterPreactivation()),(0,ht.U)(_e=>{const tt=function Za(A,M,D){const L=gs(A,M._root,D?D._root:void 0);return new Nr(L,M)}(D.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return L={..._e,targetRouterState:tt}}),(0,ze.b)(_e=>{D.currentUrlTree=_e.urlAfterRedirects,D.rawUrlTree=D.urlHandlingStrategy.merge(_e.urlAfterRedirects,_e.rawUrl),D.routerState=_e.targetRouterState,"deferred"===D.urlUpdateStrategy&&(_e.extras.skipLocationChange||D.setBrowserUrl(D.rawUrlTree,_e),D.browserUrlTree=_e.urlAfterRedirects)}),((A,M,D)=>(0,ht.U)(L=>(new oa(M,L.targetRouterState,L.currentRouterState,D).activate(A),L)))(this.rootContexts,D.routeReuseStrategy,_e=>this.events.next(_e)),(0,ze.b)({next:_e=>{q=!0,this.lastSuccessfulNavigation=this.currentNavigation,D.navigated=!0,this.events.next(new Er(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(D.currentUrlTree))),D.titleStrategy?.updateTitle(_e.targetRouterState.snapshot),_e.resolve(!0)},complete:()=>{q=!0}}),(0,It.x)(()=>{q||re||this.cancelNavigationTransition(L,"",1),this.currentNavigation?.id===L.id&&(this.currentNavigation=null)}),(0,Xe.K)(_e=>{if(re=!0,os(_e)){nr(_e)||(D.navigated=!0,D.restoreHistory(L,!0));const tt=new Cr(L.id,this.urlSerializer.serialize(L.extractedUrl),_e.message,_e.cancellationCode);if(this.events.next(tt),nr(_e)){const zt=D.urlHandlingStrategy.merge(_e.url,D.rawUrlTree),pn={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===D.urlUpdateStrategy||pt(L.source)};D.scheduleNavigation(zt,Gn,null,pn,{resolve:L.resolve,reject:L.reject,promise:L.promise})}else L.resolve(!1)}else{D.restoreHistory(L,!0);const tt=new Hr(L.id,this.urlSerializer.serialize(L.extractedUrl),_e,L.targetSnapshot??void 0);this.events.next(tt);try{L.resolve(D.errorHandler(_e))}catch(zt){L.reject(zt)}}return me.E}))}))}cancelNavigationTransition(D,L,q){const re=new Cr(D.id,this.urlSerializer.serialize(D.extractedUrl),L,q);this.events.next(re),D.resolve(!1)}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function pt(A){return A!==Gn}let Ht=(()=>{class A{buildTitle(D){let L,q=D.root;for(;void 0!==q;)L=this.getResolvedTitleForRoute(q)??L,q=q.children.find(re=>re.outlet===et);return L}getResolvedTitleForRoute(D){return D.data[at]}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:function(){return(0,_.f3M)(cr)},providedIn:"root"}),A})(),cr=(()=>{class A extends Ht{constructor(D){super(),this.title=D}updateTitle(D){const L=this.buildTitle(D);void 0!==L&&this.title.setTitle(L)}}return A.\u0275fac=function(D){return new(D||A)(_.LFG(bt.Dx))},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),Mo=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:function(){return(0,_.f3M)(hh)},providedIn:"root"}),A})();class Aa{shouldDetach(M){return!1}store(M,D){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,D){return M.routeConfig===D.routeConfig}}let hh=(()=>{class A extends Aa{}return A.\u0275fac=function(){let M;return function(L){return(M||(M=_.n5z(A)))(L||A)}}(),A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Ma=new _.OlP("",{providedIn:"root",factory:()=>({})});let Cf=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:function(){return(0,_.f3M)(Is)},providedIn:"root"}),A})(),Is=(()=>{class A{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,L){return D}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function so(A){throw A}function ql(A,M,D){return M.parse("/")}const ol={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sr=(()=>{class A{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this.options=(0,_.f3M)(Ma,{optional:!0})||{},this.errorHandler=this.options.errorHandler||so,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ql,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(Cf),this.routeReuseStrategy=(0,_.f3M)(Mo),this.urlCreationStrategy=(0,_.f3M)(mn),this.titleStrategy=(0,_.f3M)(Ht),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ei((0,_.f3M)($n,{optional:!0})??[]),this.navigationTransitions=(0,_.f3M)(Jt),this.urlSerializer=(0,_.f3M)(Nt),this.location=(0,_.f3M)(xt.Ye),this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new on,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ps(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)})}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gn,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const L="popstate"===D.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,L,D.state)},0)}))}navigateToSyncWithBrowser(D,L,q){const re={replaceUrl:!0},_e=q?.navigationId?q:null;if(q){const zt={...q};delete zt.navigationId,delete zt.\u0275routerPageId,0!==Object.keys(zt).length&&(re.state=zt)}const tt=this.parseUrl(D);this.scheduleNavigation(tt,L,_e,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(D){this.config=D.map(mi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,L={}){const{relativeTo:q,queryParams:re,fragment:_e,queryParamsHandling:tt,preserveFragment:zt}=L,pn=zt?this.currentUrlTree.fragment:_e;let yn=null;switch(tt){case"merge":yn={...this.currentUrlTree.queryParams,...re};break;case"preserve":yn=this.currentUrlTree.queryParams;break;default:yn=re||null}return null!==yn&&(yn=this.removeEmptyProps(yn)),this.urlCreationStrategy.createUrlTree(q,this.routerState,this.currentUrlTree,D,yn,pn??null)}navigateByUrl(D,L={skipLocationChange:!1}){const q=yt(D)?D:this.parseUrl(D),re=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(re,Gn,null,L)}navigate(D,L={skipLocationChange:!1}){return function xr(A){for(let M=0;M<A.length;M++){const D=A[M];if(null==D)throw new _.vHH(4008,false)}}(D),this.navigateByUrl(this.createUrlTree(D,L),L)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let L;try{L=this.urlSerializer.parse(D)}catch(q){L=this.malformedUriErrorHandler(q,this.urlSerializer,D)}return L}isActive(D,L){let q;if(q=!0===L?{...ol}:!1===L?{...Yn}:L,yt(D))return dn(this.currentUrlTree,D,q);const re=this.parseUrl(D);return dn(this.currentUrlTree,re,q)}removeEmptyProps(D){return Object.keys(D).reduce((L,q)=>{const re=D[q];return null!=re&&(L[q]=re),L},{})}scheduleNavigation(D,L,q,re,_e){if(this.disposed)return Promise.resolve(!1);let tt,zt,pn,yn;return _e?(tt=_e.resolve,zt=_e.reject,pn=_e.promise):pn=new Promise((bi,us)=>{tt=bi,zt=us}),yn="computed"===this.canceledNavigationResolution?q&&q.\u0275routerPageId?q.\u0275routerPageId:re.replaceUrl||re.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:yn,source:L,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:re,resolve:tt,reject:zt,promise:pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pn.catch(bi=>Promise.reject(bi))}setBrowserUrl(D,L){const q=this.urlSerializer.serialize(D),re={...L.extras.state,...this.generateNgRouterState(L.id,L.targetPageId)};this.location.isCurrentPathEqualTo(q)||L.extras.replaceUrl?this.location.replaceState(q,"",re):this.location.go(q,"",re)}restoreHistory(D,L=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===q?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===q&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(q)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,L){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:L}:{navigationId:D}}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),Oi=(()=>{class A{constructor(D,L,q,re,_e,tt){this.router=D,this.route=L,this.tabIndexAttribute=q,this.renderer=re,this.el=_e,this.locationStrategy=tt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ke.x;const zt=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===zt||"area"===zt,this.isAnchorElement?this.subscription=D.events.subscribe(pn=>{pn instanceof Er&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(D){this._preserveFragment=(0,_.D6c)(D)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(D){this._skipLocationChange=(0,_.D6c)(D)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(D){this._replaceUrl=(0,_.D6c)(D)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,L,q,re,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||L||q||re||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,L){const q=this.renderer,re=this.el.nativeElement;null!==L?q.setAttribute(re,D,L):q.removeAttribute(re,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(D){return new(D||A)(_.Y36(Sr),_.Y36(jr),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(xt.S$))},A.\u0275dir=_.lG2({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,L){1&D&&_.NdJ("click",function(re){return L.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&D&&_.uIk("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[_.TTD]}),A})(),Rn=(()=>{class A{get isActive(){return this._isActive}constructor(D,L,q,re,_e){this.router=D,this.element=L,this.renderer=q,this.cdr=re,this.link=_e,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new _.vpe,this.routerEventsSubscription=D.events.subscribe(tt=>{tt instanceof Er&&this.update()})}ngAfterContentInit(){(0,X.of)(this.links.changes,(0,X.of)(null)).pipe((0,St.J)()).subscribe(D=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const D=[...this.links.toArray(),this.link].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,h.D)(D).pipe((0,St.J)()).subscribe(L=>{this._isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(D){const L=Array.isArray(D)?D:D.split(" ");this.classes=L.filter(q=>!!q)}ngOnChanges(D){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const D=this.hasActiveLinks();this._isActive!==D&&(this._isActive=D,this.cdr.markForCheck(),this.classes.forEach(L=>{D?this.renderer.addClass(this.element.nativeElement,L):this.renderer.removeClass(this.element.nativeElement,L)}),D&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(D))})}isLinkActive(D){const L=function ka(A){return!!A.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return q=>!!q.urlTree&&D.isActive(q.urlTree,L)}hasActiveLinks(){const D=this.isLinkActive(this.router);return this.link&&D(this.link)||this.links.some(D)}}return A.\u0275fac=function(D){return new(D||A)(_.Y36(Sr),_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(_.sBO),_.Y36(Oi,8))},A.\u0275dir=_.lG2({type:A,selectors:[["","routerLinkActive",""]],contentQueries:function(D,L,q){if(1&D&&_.Suo(q,Oi,5),2&D){let re;_.iGM(re=_.CRH())&&(L.links=re)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[_.TTD]}),A})();class gi{}let cn=(()=>{class A{constructor(D,L,q,re,_e){this.router=D,this.injector=q,this.preloadingStrategy=re,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ct.h)(D=>D instanceof Er),(0,pe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,L){const q=[];for(const re of L){re.providers&&!re._injector&&(re._injector=(0,_.MMx)(re.providers,D,`Route: ${re.path}`));const _e=re._injector??D,tt=re._loadedInjector??_e;re.loadChildren&&!re._loadedRoutes&&void 0===re.canLoad||re.loadComponent&&!re._loadedComponent?q.push(this.preloadConfig(_e,re)):(re.children||re._loadedRoutes)&&q.push(this.processRoutes(tt,re.children??re._loadedRoutes))}return(0,h.D)(q).pipe((0,St.J)())}preloadConfig(D,L){return this.preloadingStrategy.preload(L,()=>{let q;q=L.loadChildren&&void 0===L.canLoad?this.loader.loadChildren(D,L):(0,X.of)(null);const re=q.pipe((0,He.z)(_e=>null===_e?(0,X.of)(void 0):(L._loadedRoutes=_e.routes,L._loadedInjector=_e.injector,this.processRoutes(_e.injector??D,_e.routes))));if(L.loadComponent&&!L._loadedComponent){const _e=this.loader.loadComponent(L);return(0,h.D)([re,_e]).pipe((0,St.J)())}return re})}}return A.\u0275fac=function(D){return new(D||A)(_.LFG(Sr),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(gi),_.LFG(ir))},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const qs=new _.OlP("");let Us=(()=>{class A{constructor(D,L,q,re,_e={}){this.urlSerializer=D,this.transitions=L,this.viewportScroller=q,this.zone=re,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Er&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Qe&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,L){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qe(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return A.\u0275fac=function(D){_.$Z()},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac}),A})();var Fr=(()=>((Fr=Fr||{})[Fr.COMPLETE=0]="COMPLETE",Fr[Fr.FAILED=1]="FAILED",Fr[Fr.REDIRECTING=2]="REDIRECTING",Fr))();const zr=!1;function ko(A,M){return{\u0275kind:A,\u0275providers:M}}const ll=new _.OlP("",{providedIn:"root",factory:()=>!1});function cl(){const A=(0,_.f3M)(_.zs3);return M=>{const D=A.get(_.z2F);if(M!==D.components[0])return;const L=A.get(Sr),q=A.get(Ro);1===A.get(dl)&&L.initialNavigation(),A.get(ur,null,_.XFs.Optional)?.setUpPreloading(),A.get(qs,null,_.XFs.Optional)?.init(),L.resetRootComponentType(D.componentTypes[0]),q.closed||(q.next(),q.unsubscribe())}}const Ro=new _.OlP(zr?"bootstrap done indicator":"",{factory:()=>new Ke.x}),dl=new _.OlP(zr?"initial navigation":"",{providedIn:"root",factory:()=>1});function $r(){let A=[];return A=zr?[{provide:_.Xts,multi:!0,useFactory:()=>{const M=(0,_.f3M)(Sr);return()=>M.events.subscribe(D=>{console.group?.(`Router Event: ${D.constructor.name}`),console.log(function je(A){if(!("type"in A))return`Unknown Router Event: ${A.constructor.name}`;switch(A.type){case 14:return`ActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state}, shouldActivate: ${A.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 2:return`NavigationCancel(id: ${A.id}, url: '${A.url}')`;case 16:return`NavigationSkipped(id: ${A.id}, url: '${A.url}')`;case 1:return`NavigationEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${A.id}, url: '${A.url}', error: ${A.error})`;case 0:return`NavigationStart(id: ${A.id}, url: '${A.url}')`;case 6:return`ResolveEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 5:return`ResolveStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 10:return`RouteConfigLoadEnd(path: ${A.route.path})`;case 9:return`RouteConfigLoadStart(path: ${A.route.path})`;case 4:return`RoutesRecognized(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 15:return`Scroll(anchor: '${A.anchor}', position: '${A.position?`${A.position[0]}, ${A.position[1]}`:null}')`}}(D)),console.log(D),console.groupEnd?.()})}}]:[],ko(1,A)}const ur=new _.OlP(zr?"router preloader":"");function Zl(A){return ko(0,[{provide:ur,useExisting:cn},{provide:gi,useExisting:A}])}const Xl=!1,_u=new _.OlP(Xl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ul=[xt.Ye,{provide:Nt,useClass:Pn},Sr,Es,{provide:jr,useFactory:function Gr(A){return A.routerState.root},deps:[Sr]},ir,Xl?{provide:ll,useValue:!0}:[]];function Oo(){return new _.PXZ("Router",Sr)}let zc=(()=>{class A{constructor(D){}static forRoot(D,L){return{ngModule:A,providers:[ul,Xl&&L?.enableTracing?$r().\u0275providers:[],{provide:$n,multi:!0,useValue:D},{provide:_u,useFactory:yu,deps:[[Sr,new _.FiY,new _.tp0]]},{provide:Ma,useValue:L||{}},L?.useHash?{provide:xt.S$,useClass:xt.Do}:{provide:xt.S$,useClass:xt.b0},{provide:qs,useFactory:()=>{const A=(0,_.f3M)(xt.EM),M=(0,_.f3M)(_.R0b),D=(0,_.f3M)(Ma),L=(0,_.f3M)(Jt),q=(0,_.f3M)(Nt);return D.scrollOffset&&A.setOffset(D.scrollOffset),new Us(q,L,A,M,D)}},L?.preloadingStrategy?Zl(L.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:Oo},L?.initialNavigation?Zs(L):[],[{provide:Ss,useFactory:cl},{provide:_.tb,multi:!0,useExisting:Ss}]]}}static forChild(D){return{ngModule:A,providers:[{provide:$n,multi:!0,useValue:D}]}}}return A.\u0275fac=function(D){return new(D||A)(_.LFG(_u,8))},A.\u0275mod=_.oAB({type:A}),A.\u0275inj=_.cJS({imports:[mo]}),A})();function yu(A){if(Xl&&A)throw new _.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Zs(A){return["disabled"===A.initialNavigation?ko(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const M=(0,_.f3M)(Sr);return()=>{M.setUpLocationChangeListener()}}},{provide:dl,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?ko(2,[{provide:dl,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:M=>{const D=M.get(xt.V_,Promise.resolve());return()=>D.then(()=>new Promise(L=>{const q=M.get(Sr),re=M.get(Ro);(function oo(A,M){A.events.pipe((0,Ct.h)(D=>D instanceof Er||D instanceof Cr||D instanceof Hr||D instanceof qn),(0,ht.U)(D=>D instanceof Er||D instanceof qn?Fr.COMPLETE:D instanceof Cr&&(0===D.code||1===D.code)?Fr.REDIRECTING:Fr.FAILED),(0,Ct.h)(D=>D!==Fr.REDIRECTING),(0,Le.q)(1)).subscribe(()=>{M()})})(q,()=>{L(!0)}),M.get(Jt).afterPreactivation=()=>(L(!0),re.closed?(0,X.of)(void 0):re),q.initialNavigation()}))}}]).\u0275providers:[]]}const Ss=new _.OlP(Xl?"Router Initializer":"")},3942:(Wt,Ge,O)=>{O.d(Ge,{Z:()=>xt});var _=O(2090),h=O(4859),X=O(9681),ve=O(1877);class Ae{constructor(qe,Le){this._delegate=qe,this.firebase=Le,(0,X._addComponent)(qe,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(qe,Le=X._DEFAULT_ENTRY_NAME){var Ee;this._delegate.checkDestroyed();const Ct=this._delegate.container.getProvider(qe);return!Ct.isInitialized()&&"EXPLICIT"===(null===(Ee=Ct.getComponent())||void 0===Ee?void 0:Ee.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:Le})}_removeServiceInstance(qe,Le=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(Le)}_addComponent(qe){(0,X._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,X._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function xe(){const ht=function ce(ht){const qe={},Le={__esModule:!0,initializeApp:function He(Xe,ge={}){const Ce=X.initializeApp(Xe,ge);if((0,_.r3)(qe,Ce.name))return qe[Ce.name];const $e=new ht(Ce,Le);return qe[Ce.name]=$e,$e},app:Ct,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function pe(Xe){const ge=Xe.name,Ce=ge.replace("-compat","");if(X._registerComponent(Xe)&&"PUBLIC"===Xe.type){const $e=(mt=Ct())=>{if("function"!=typeof mt[Ce])throw we.create("invalid-app-argument",{appName:ge});return mt[Ce]()};void 0!==Xe.serviceProps&&(0,_.ZB)($e,Xe.serviceProps),Le[Ce]=$e,ht.prototype[Ce]=function(...mt){return this._getService.bind(this,ge).apply(this,Xe.multipleInstances?mt:[])}}return"PUBLIC"===Xe.type?Le[Ce]:null},removeApp:function Ee(Xe){delete qe[Xe]},useAsService:function ze(Xe,ge){return"serverAuth"===ge?null:ge},modularAPIs:X}};function Ct(Xe){if(!(0,_.r3)(qe,Xe=Xe||X._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Xe});return qe[Xe]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function De(){return Object.keys(qe).map(Xe=>qe[Xe])}}),Ct.App=ht,Le}(Ae);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function qe(Le){(0,_.ZB)(ht,Le)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),ht}(),ye=new ve.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){ye.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&ye.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xt=ie;!function Ke(ht){(0,X.registerVersion)("@firebase/app-compat","0.2.8",ht)}()},9681:(Wt,Ge,O)=>{O.r(Ge),O.d(Ge,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>Hn,_DEFAULT_ENTRY_NAME:()=>It,_addComponent:()=>et,_addOrOverwriteComponent:()=>at,_apps:()=>St,_clearComponents:()=>En,_components:()=>bt,_getProvider:()=>rn,_registerComponent:()=>wn,_removeServiceInstance:()=>Tn,deleteApp:()=>fi,getApp:()=>_n,getApps:()=>ii,initializeApp:()=>_i,onLog:()=>dn,registerVersion:()=>ai,setLogLevel:()=>yi});var _=O(5861),h=O(4859),X=O(1877),ve=O(2090),Ae=O(8766);class Se{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function we($t){return"VERSION"===$t.getComponent()?.type}(K)){const P=K.getImmediate();return`${P.library}/${P.version}`}return null}).filter(K=>K).join(" ")}}const ce="@firebase/app",ie=new X.Yd("@firebase/app"),It="[DEFAULT]",Rt={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},St=new Map,bt=new Map;function et($t,Re){try{$t.container.addComponent(Re)}catch(K){ie.debug(`Component ${Re.name} failed to register with FirebaseApp ${$t.name}`,K)}}function at($t,Re){$t.container.addOrOverwriteComponent(Re)}function wn($t){const Re=$t.name;if(bt.has(Re))return ie.debug(`There were multiple attempts to register component ${Re}.`),!1;bt.set(Re,$t);for(const K of St.values())et(K,$t);return!0}function rn($t,Re){const K=$t.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),$t.container.getProvider(Re)}function Tn($t,Re,K=It){rn($t,Re).clearInstance(K)}function En(){bt.clear()}const Vn=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ei{constructor(Re,K,P){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=P,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const Hn="9.20.0";function _i($t,Re={}){let K=$t;"object"!=typeof Re&&(Re={name:Re});const P=Object.assign({name:It,automaticDataCollectionEnabled:!1},Re),j=P.name;if("string"!=typeof j||!j)throw Vn.create("bad-app-name",{appName:String(j)});if(K||(K=(0,ve.aH)()),!K)throw Vn.create("no-options");const ue=St.get(j);if(ue){if((0,ve.vZ)(K,ue.options)&&(0,ve.vZ)(P,ue.config))return ue;throw Vn.create("duplicate-app",{appName:j})}const Ie=new h.H0(j);for(const be of bt.values())Ie.addComponent(be);const se=new Ei(K,P,Ie);return St.set(j,se),se}function _n($t=It){const Re=St.get($t);if(!Re&&$t===It)return _i();if(!Re)throw Vn.create("no-app",{appName:$t});return Re}function ii(){return Array.from(St.values())}function fi($t){return ci.apply(this,arguments)}function ci(){return(ci=(0,_.Z)(function*($t){const Re=$t.name;St.has(Re)&&(St.delete(Re),yield Promise.all($t.container.getProviders().map(K=>K.delete())),$t.isDeleted=!0)})).apply(this,arguments)}function ai($t,Re,K){var P;let j=null!==(P=Rt[$t])&&void 0!==P?P:$t;K&&(j+=`-${K}`);const ue=j.match(/\s|\//),Ie=Re.match(/\s|\//);if(ue||Ie){const se=[`Unable to register library "${j}" with version "${Re}":`];return ue&&se.push(`library name "${j}" contains illegal characters (whitespace or "/")`),ue&&Ie&&se.push("and"),Ie&&se.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void ie.warn(se.join(" "))}wn(new h.wA(`${j}-version`,()=>({library:j,version:Re}),"VERSION"))}function dn($t,Re){if(null!==$t&&"function"!=typeof $t)throw Vn.create("invalid-log-argument");(0,X.Am)($t,Re)}function yi($t){(0,X.Ub)($t)}const Wi="firebase-heartbeat-database",di=1,pi="firebase-heartbeat-store";let Ci=null;function Sn(){return Ci||(Ci=(0,Ae.X3)(Wi,di,{upgrade:($t,Re)=>{0===Re&&$t.createObjectStore(pi)}}).catch($t=>{throw Vn.create("idb-open",{originalErrorMessage:$t.message})})),Ci}function Dt(){return(Dt=(0,_.Z)(function*($t){try{return(yield Sn()).transaction(pi).objectStore(pi).get(Yt($t))}catch(Re){if(Re instanceof ve.ZR)ie.warn(Re.message);else{const K=Vn.create("idb-get",{originalErrorMessage:Re?.message});ie.warn(K.message)}}})).apply(this,arguments)}function Un($t,Re){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,_.Z)(function*($t,Re){try{const P=(yield Sn()).transaction(pi,"readwrite");return yield P.objectStore(pi).put(Re,Yt($t)),P.done}catch(K){if(K instanceof ve.ZR)ie.warn(K.message);else{const P=Vn.create("idb-set",{originalErrorMessage:K?.message});ie.warn(P.message)}}})).apply(this,arguments)}function Yt($t){return`${$t.name}!${$t.options.appId}`}class Pn{constructor(Re){this.container=Re,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new kn(K),this._heartbeatsCachePromise=this._storage.read().then(P=>(this._heartbeatsCache=P,P))}triggerHeartbeat(){var Re=this;return(0,_.Z)(function*(){const P=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),j=Cn();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==j&&!Re._heartbeatsCache.heartbeats.some(ue=>ue.date===j))return Re._heartbeatsCache.heartbeats.push({date:j,agent:P}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(ue=>{const Ie=new Date(ue.date).valueOf();return Date.now()-Ie<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,_.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const K=Cn(),{heartbeatsToSend:P,unsentEntries:j}=function Ui($t,Re=1024){const K=[];let P=$t.slice();for(const j of $t){const ue=K.find(Ie=>Ie.agent===j.agent);if(ue){if(ue.dates.push(j.date),Ai(K)>Re){ue.dates.pop();break}}else if(K.push({agent:j.agent,dates:[j.date]}),Ai(K)>Re){K.pop();break}P=P.slice(1)}return{heartbeatsToSend:K,unsentEntries:P}}(Re._heartbeatsCache.heartbeats),ue=(0,ve.L)(JSON.stringify({version:2,heartbeats:P}));return Re._heartbeatsCache.lastSentHeartbeatDate=K,j.length>0?(Re._heartbeatsCache.heartbeats=j,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),ue})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class kn{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,_.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function on($t){return Dt.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var K=this;return(0,_.Z)(function*(){var P;if(yield K._canUseIndexedDBPromise){const ue=yield K.read();return Un(K.app,{lastSentHeartbeatDate:null!==(P=Re.lastSentHeartbeatDate)&&void 0!==P?P:ue.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var K=this;return(0,_.Z)(function*(){var P;if(yield K._canUseIndexedDBPromise){const ue=yield K.read();return Un(K.app,{lastSentHeartbeatDate:null!==(P=Re.lastSentHeartbeatDate)&&void 0!==P?P:ue.lastSentHeartbeatDate,heartbeats:[...ue.heartbeats,...Re.heartbeats]})}})()}}function Ai($t){return(0,ve.L)(JSON.stringify({version:2,heartbeats:$t})).length}!function ri($t){wn(new h.wA("platform-logger",Re=>new Se(Re),"PRIVATE")),wn(new h.wA("heartbeat",Re=>new Pn(Re),"PRIVATE")),ai(ce,"0.9.8",$t),ai(ce,"0.9.8","esm2017"),ai("fire-js","")}("")},4859:(Wt,Ge,O)=>{O.d(Ge,{H0:()=>ce,wA:()=>X,zt:()=>Ae});var _=O(5861),h=O(2090);class X{constructor(ie,ye,me){this.name=ie,this.instanceFactory=ye,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const ve="[DEFAULT]";class Ae{constructor(ie,ye){this.name=ie,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const ye=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(ye)){const me=new h.BH;if(this.instancesDeferred.set(ye,me),this.isInitialized(ye)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:ye});nt&&me.resolve(nt)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(ie){var ye;const me=this.normalizeInstanceIdentifier(ie?.identifier),nt=null!==(ye=ie?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Ke){if(nt)return null;throw Ke}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function we(xe){return"EAGER"===xe.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[ye,me]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(ye);try{const Ke=this.getOrInitializeService({instanceIdentifier:nt});me.resolve(Ke)}catch{}}}}clearInstance(ie=ve){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,_.Z)(function*(){const ye=Array.from(ie.instances.values());yield Promise.all([...ye.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...ye.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=ve){return this.instances.has(ie)}getOptions(ie=ve){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:ye={}}=ie,me=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:me,options:ye});for(const[Ke,xt]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Ke)&&xt.resolve(nt);return nt}onInit(ie,ye){var me;const nt=this.normalizeInstanceIdentifier(ye),Ke=null!==(me=this.onInitCallbacks.get(nt))&&void 0!==me?me:new Set;Ke.add(ie),this.onInitCallbacks.set(nt,Ke);const xt=this.instances.get(nt);return xt&&ie(xt,nt),()=>{Ke.delete(ie)}}invokeOnInitCallbacks(ie,ye){const me=this.onInitCallbacks.get(ye);if(me)for(const nt of me)try{nt(ie,ye)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:ye={}}){let me=this.instances.get(ie);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=ie,xe===ve?void 0:xe),options:ye}),this.instances.set(ie,me),this.instancesOptions.set(ie,ye),this.invokeOnInitCallbacks(me,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,me)}catch{}var xe;return me||null}normalizeInstanceIdentifier(ie=ve){return this.component?this.component.multipleInstances?ie:ve:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const ye=this.getProvider(ie.name);if(ye.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);ye.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const ye=new Ae(ie,this);return this.providers.set(ie,ye),ye}getProviders(){return Array.from(this.providers.values())}}},1877:(Wt,Ge,O)=>{O.d(Ge,{Am:()=>xe,Ub:()=>ce,Yd:()=>we,in:()=>h});const _=[];var h=(()=>{return(ie=h||(h={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",h;var ie})();const X={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},ve=h.INFO,Ae={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},Se=(ie,ye,...me)=>{if(ye<ie.logLevel)return;const nt=(new Date).toISOString(),Ke=Ae[ye];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[Ke](`[${nt}]  ${ie.name}:`,...me)};class we{constructor(ye){this.name=ye,this._logLevel=ve,this._logHandler=Se,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in h))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?X[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...ye),this._logHandler(this,h.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...ye),this._logHandler(this,h.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,h.INFO,...ye),this._logHandler(this,h.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,h.WARN,...ye),this._logHandler(this,h.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...ye),this._logHandler(this,h.ERROR,...ye)}}function ce(ie){_.forEach(ye=>{ye.setLogLevel(ie)})}function xe(ie,ye){for(const me of _){let nt=null;ye&&ye.level&&(nt=X[ye.level]),me.userLogHandler=null===ie?null:(Ke,xt,...ht)=>{const qe=ht.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch{return null}}).filter(Le=>Le).join(" ");xt>=(nt??Ke.logLevel)&&ie({level:h[xt].toLowerCase(),message:qe,args:ht,type:Ke.name})}}}},259:(Wt,Ge,O)=>{O.d(Ge,{C6:()=>_.getApps,Mq:()=>_.getApp});var _=O(9681);(0,_.registerVersion)("firebase","9.20.0","app")},9260:(Wt,Ge,O)=>{O.d(Ge,{Z:()=>_.Z});var _=O(3942);_.Z.registerVersion("firebase","9.20.0","app-compat")},6689:(Wt,Ge,O)=>{O.r(Ge);var _=O(5861),h=O(3942),X=O(2090),ve=O(9681),Ae=O(655),Se=O(1877),we=O(4859);const xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},me_EMAIL_SIGNIN="EMAIL_SIGNIN",me_PASSWORD_RESET="PASSWORD_RESET",me_RECOVER_EMAIL="RECOVER_EMAIL",me_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",me_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",me_VERIFY_EMAIL="VERIFY_EMAIL";const xt=function nt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ht=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new Se.Yd("@firebase/auth");function He(C,...y){Ee.logLevel<=Se.in.ERROR&&Ee.error(`Auth (${ve.SDK_VERSION}): ${C}`,...y)}function De(C,...y){throw ge(C,...y)}function pe(C,...y){return ge(C,...y)}function ze(C,y,b){const T=Object.assign(Object.assign({},ht()),{[y]:b});return new X.LL("auth","Firebase",T).create(y,{appName:C.name})}function Xe(C,y,b){if(!(y instanceof b))throw b.name!==y.constructor.name&&De(C,"argument-error"),ze(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ge(C,...y){if("string"!=typeof C){const b=y[0],T=[...y.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(b,...T)}return qe.create(C,...y)}function Ce(C,y,...b){if(!C)throw ge(y,...b)}function $e(C){const y="INTERNAL ASSERTION FAILED: "+C;throw He(y),new Error(y)}function mt(C,y){C||$e(y)}function en(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Pt(){return"http:"===rt()||"https:"===rt()}function rt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class kt{constructor(y,b){this.shortDelay=y,this.longDelay=b,mt(b>y,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function ft(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function It(C,y){mt(C.emulator,"Emulator should always be set here");const{url:b}=C.emulator;return y?`${b}${y.startsWith("/")?y.slice(1):y}`:b}class Rt{static initialize(y,b,T){this.fetchImpl=y,b&&(this.headersImpl=b),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bt=new kt(3e4,6e4);function et(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function at(C,y,b,T){return wn.apply(this,arguments)}function wn(){return(wn=(0,_.Z)(function*(C,y,b,T,Z={}){return rn(C,Z,(0,_.Z)(function*(){let F={},Ve={};T&&("GET"===y?Ve=T:F={body:JSON.stringify(T)});const ct=(0,X.xO)(Object.assign({key:C.config.apiKey},Ve)).slice(1),jt=yield C._getAdditionalHeaders();return jt["Content-Type"]="application/json",C.languageCode&&(jt["X-Firebase-Locale"]=C.languageCode),Rt.fetch()(Vn(C,C.config.apiHost,b,ct),Object.assign({method:y,headers:jt,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function rn(C,y,b){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,_.Z)(function*(C,y,b){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},St),y);try{const Z=new Ei(C),F=yield Promise.race([b(),Z.promise]);Z.clearNetworkTimeout();const Ve=yield F.json();if("needConfirmation"in Ve)throw Hn(C,"account-exists-with-different-credential",Ve);if(F.ok&&!("errorMessage"in Ve))return Ve;{const ct=F.ok?Ve.errorMessage:Ve.error.message,[jt,an]=ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jt)throw Hn(C,"credential-already-in-use",Ve);if("EMAIL_EXISTS"===jt)throw Hn(C,"email-already-in-use",Ve);if("USER_DISABLED"===jt)throw Hn(C,"user-disabled",Ve);const In=T[jt]||jt.toLowerCase().replace(/[_\s]+/g,"-");if(an)throw ze(C,In,an);De(C,In)}}catch(Z){if(Z instanceof X.ZR)throw Z;De(C,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function En(C,y,b,T){return On.apply(this,arguments)}function On(){return(On=(0,_.Z)(function*(C,y,b,T,Z={}){const F=yield at(C,y,b,T,Z);return"mfaPendingCredential"in F&&De(C,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function Vn(C,y,b,T){const Z=`${y}${b}?${T}`;return C.config.emulator?It(C.config,Z):`${C.config.apiScheme}://${Z}`}class Ei{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((b,T)=>{this.timer=setTimeout(()=>T(pe(this.auth,"network-request-failed")),bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(C,y,b){const T={appName:C.name};b.email&&(T.email=b.email),b.phoneNumber&&(T.phoneNumber=b.phoneNumber);const Z=pe(C,y,T);return Z.customData._tokenResponse=b,Z}function _n(){return(_n=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function fi(){return(fi=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ai(){return(ai=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function dn(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function di(){return(di=(0,_.Z)(function*(C,y=!1){const b=(0,X.m9)(C),T=yield b.getIdToken(y),Z=Ci(T);Ce(Z&&Z.exp&&Z.auth_time&&Z.iat,b.auth,"internal-error");const F="object"==typeof Z.firebase?Z.firebase:void 0,Ve=F?.sign_in_provider;return{claims:Z,token:T,authTime:dn(pi(Z.auth_time)),issuedAtTime:dn(pi(Z.iat)),expirationTime:dn(pi(Z.exp)),signInProvider:Ve||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function pi(C){return 1e3*Number(C)}function Ci(C){const[y,b,T]=C.split(".");if(void 0===y||void 0===b||void 0===T)return He("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,X.tV)(b);return Z?JSON.parse(Z):(He("Failed to decode base64 JWT payload"),null)}catch(Z){return He("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function on(C,y){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,_.Z)(function*(C,y,b=!1){if(b)return y;try{return yield y}catch(T){throw T instanceof X.ZR&&function Un({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}class Ot{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var b;if(y){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const Z=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(y=!1){var b=this;if(!this.isRunning)return;const T=this.getInterval(y);this.timerId=setTimeout((0,_.Z)(function*(){yield b.iteration()}),T)}iteration(){var y=this;return(0,_.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&y.schedule(!0))}y.schedule()})()}}class Yt{constructor(y,b){this.createdAt=y,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=dn(this.lastLoginAt),this.creationTime=dn(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function st(C){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,_.Z)(function*(C){var y;const b=C.auth,T=yield C.getIdToken(),Z=yield on(C,function ci(C,y){return ai.apply(this,arguments)}(b,{idToken:T}));Ce(Z?.users.length,b,"internal-error");const F=Z.users[0];C._notifyReloadListener(F);const Ve=null!==(y=F.providerUserInfo)&&void 0!==y&&y.length?function kn(C){return C.map(y=>{var{providerId:b}=y,T=(0,Ae._T)(y,["providerId"]);return{providerId:b,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(F.providerUserInfo):[],ct=function Ui(C,y){return[...C.filter(T=>!y.some(Z=>Z.providerId===T.providerId)),...y]}(C.providerData,Ve),In=!!C.isAnonymous&&!(C.email&&F.passwordHash||ct?.length),vn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:ct,metadata:new Yt(F.createdAt,F.lastLoginAt),isAnonymous:In};Object.assign(C,vn)}),Nt.apply(this,arguments)}function Cn(){return(Cn=(0,_.Z)(function*(C){const y=(0,X.m9)(C);yield st(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function ri(){return(ri=(0,_.Z)(function*(C,y){const b=yield rn(C,{},(0,_.Z)(function*(){const T=(0,X.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:Z,apiKey:F}=C.config,Ve=Vn(C,Z,"/v1/token",`key=${F}`),ct=yield C._getAdditionalHeaders();return ct["Content-Type"]="application/x-www-form-urlencoded",Rt.fetch()(Ve,{method:"POST",headers:ct,body:T})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class $t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ce(y.idToken,"internal-error"),Ce(typeof y.idToken<"u","internal-error"),Ce(typeof y.refreshToken<"u","internal-error");const b="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Sn(C){const y=Ci(C);return Ce(y,"internal-error"),Ce(typeof y.exp<"u","internal-error"),Ce(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,b)}getToken(y,b=!1){var T=this;return(0,_.Z)(function*(){return Ce(!T.accessToken||T.refreshToken,y,"user-token-expired"),b||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(y,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,b){var T=this;return(0,_.Z)(function*(){const{accessToken:Z,refreshToken:F,expiresIn:Ve}=yield function Ai(C,y){return ri.apply(this,arguments)}(y,b);T.updateTokensAndExpiration(Z,F,Number(Ve))})()}updateTokensAndExpiration(y,b,T){this.refreshToken=b||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(y,b){const{refreshToken:T,accessToken:Z,expirationTime:F}=b,Ve=new $t;return T&&(Ce("string"==typeof T,"internal-error",{appName:y}),Ve.refreshToken=T),Z&&(Ce("string"==typeof Z,"internal-error",{appName:y}),Ve.accessToken=Z),F&&(Ce("number"==typeof F,"internal-error",{appName:y}),Ve.expirationTime=F),Ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new $t,this.toJSON())}_performRefresh(){return $e("not implemented")}}function Re(C,y){Ce("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class K{constructor(y){var{uid:b,auth:T,stsTokenManager:Z}=y,F=(0,Ae._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=T,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Yt(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(y){var b=this;return(0,_.Z)(function*(){const T=yield on(b,b.stsTokenManager.getToken(b.auth,y));return Ce(T,b.auth,"internal-error"),b.accessToken!==T&&(b.accessToken=T,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),T})()}getIdTokenResult(y){return function Wi(C){return di.apply(this,arguments)}(this,y)}reload(){return function Pn(C){return Cn.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ce(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(b=>Object.assign({},b)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const b=new K(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(y){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,b=!1){var T=this;return(0,_.Z)(function*(){let Z=!1;y.idToken&&y.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(y),Z=!0),b&&(yield st(T)),yield T.auth._persistUserIfCurrent(T),Z&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var y=this;return(0,_.Z)(function*(){const b=yield y.getIdToken();return yield on(y,function _i(C,y){return _n.apply(this,arguments)}(y.auth,{idToken:b})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,b){var T,Z,F,Ve,ct,jt,an,In;const vn=null!==(T=b.displayName)&&void 0!==T?T:void 0,Xn=null!==(Z=b.email)&&void 0!==Z?Z:void 0,Ni=null!==(F=b.phoneNumber)&&void 0!==F?F:void 0,Bd=null!==(Ve=b.photoURL)&&void 0!==Ve?Ve:void 0,Mr=null!==(ct=b.tenantId)&&void 0!==ct?ct:void 0,Vf=null!==(jt=b._redirectEventId)&&void 0!==jt?jt:void 0,Zm=null!==(an=b.createdAt)&&void 0!==an?an:void 0,Mh=null!==(In=b.lastLoginAt)&&void 0!==In?In:void 0,{uid:Hf,emailVerified:ag,isAnonymous:Ud,providerData:Nu,stsTokenManager:lg}=b;Ce(Hf&&lg,y,"internal-error");const Qm=$t.fromJSON(this.name,lg);Ce("string"==typeof Hf,y,"internal-error"),Re(vn,y.name),Re(Xn,y.name),Ce("boolean"==typeof ag,y,"internal-error"),Ce("boolean"==typeof Ud,y,"internal-error"),Re(Ni,y.name),Re(Bd,y.name),Re(Mr,y.name),Re(Vf,y.name),Re(Zm,y.name),Re(Mh,y.name);const jf=new K({uid:Hf,auth:y,email:Xn,emailVerified:ag,displayName:vn,isAnonymous:Ud,photoURL:Bd,phoneNumber:Ni,tenantId:Mr,stsTokenManager:Qm,createdAt:Zm,lastLoginAt:Mh});return Nu&&Array.isArray(Nu)&&(jf.providerData=Nu.map(cg=>Object.assign({},cg))),Vf&&(jf._redirectEventId=Vf),jf}static _fromIdTokenResponse(y,b,T=!1){return(0,_.Z)(function*(){const Z=new $t;Z.updateFromServerResponse(b);const F=new K({uid:b.localId,auth:y,stsTokenManager:Z,isAnonymous:T});return yield st(F),F})()}}const P=new Map;function j(C){mt(C instanceof Function,"Expected a class definition");let y=P.get(C);return y?(mt(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,P.set(C,y),y)}const Ie=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(b,T){var Z=this;return(0,_.Z)(function*(){Z.storage[b]=T})()}_get(b){var T=this;return(0,_.Z)(function*(){const Z=T.storage[b];return void 0===Z?null:Z})()}_remove(b){var T=this;return(0,_.Z)(function*(){delete T.storage[b]})()}_addListener(b,T){}_removeListener(b,T){}}return C.type="NONE",C})();function se(C,y,b){return`firebase:${C}:${y}:${b}`}class be{constructor(y,b,T){this.persistence=y,this.auth=b,this.userKey=T;const{config:Z,name:F}=this.auth;this.fullUserKey=se(this.userKey,Z.apiKey,F),this.fullPersistenceKey=se("persistence",Z.apiKey,F),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,_.Z)(function*(){const b=yield y.persistence._get(y.fullUserKey);return b?K._fromJSON(y.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var b=this;return(0,_.Z)(function*(){if(b.persistence===y)return;const T=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=y,T?b.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,b,T="authUser"){return(0,_.Z)(function*(){if(!b.length)return new be(j(Ie),y,T);const Z=(yield Promise.all(b.map(function(){var an=(0,_.Z)(function*(In){if(yield In._isAvailable())return In});return function(In){return an.apply(this,arguments)}}()))).filter(an=>an);let F=Z[0]||j(Ie);const Ve=se(T,y.config.apiKey,y.name);let ct=null;for(const an of b)try{const In=yield an._get(Ve);if(In){const vn=K._fromJSON(y,In);an!==F&&(ct=vn),F=an;break}}catch{}const jt=Z.filter(an=>an._shouldAllowMigration);return F._shouldAllowMigration&&jt.length?(F=jt[0],ct&&(yield F._set(Ve,ct.toJSON())),yield Promise.all(b.map(function(){var an=(0,_.Z)(function*(In){if(In!==F)try{yield In._remove(Ve)}catch{}});return function(In){return an.apply(this,arguments)}}())),new be(F,y,T)):new be(F,y,T)})()}}function Fe(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Ne(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ot(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(de(y))return"Blackberry";if(Be(y))return"Webos";if(Ye(y))return"Safari";if((y.includes("chrome/")||sn(y))&&!y.includes("edge/"))return"Chrome";if(Oe(y))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function ot(C=(0,X.z$)()){return/firefox\//i.test(C)}function Ye(C=(0,X.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function sn(C=(0,X.z$)()){return/crios\//i.test(C)}function Ne(C=(0,X.z$)()){return/iemobile/i.test(C)}function Oe(C=(0,X.z$)()){return/android/i.test(C)}function de(C=(0,X.z$)()){return/blackberry/i.test(C)}function Be(C=(0,X.z$)()){return/webos/i.test(C)}function yt(C=(0,X.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Vt(C=(0,X.z$)()){return yt(C)||Oe(C)||Be(C)||de(C)||/windows phone/i.test(C)||Ne(C)}function mr(C,y=[]){let b;switch(C){case"Browser":b=Fe((0,X.z$)());break;case"Worker":b=`${Fe((0,X.z$)())}-${C}`;break;default:b=C}const T=y.length?y.join(","):"FirebaseCore-web";return`${b}/JsCore/${ve.SDK_VERSION}/${T}`}function fs(){return(fs=(0,_.Z)(function*(C){return(yield at(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Co(C,y){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,_.Z)(function*(C,y){return at(C,"GET","/v2/recaptchaConfig",et(C,y))})).apply(this,arguments)}function uo(C){return void 0!==C&&void 0!==C.getResponse}function bs(C){return void 0!==C&&void 0!==C.enterprise}class ui{constructor(y){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.emailPasswordEnabled=y.recaptchaEnforcementState.some(b=>"EMAIL_PASSWORD_PROVIDER"===b.provider&&"OFF"!==b.enforcementState)}}function qi(C){return new Promise((y,b)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=y,T.onerror=Z=>{const F=pe("internal-error");F.customData=Z,b(F)},T.type="text/javascript",T.charset="UTF-8",function ar(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(T)})}function ws(C){return`__${C}${Math.floor(1e6*Math.random())}`}class fn{constructor(y){this.type="recaptcha-enterprise",this.auth=Gn(y)}verify(y="verify",b=!1){var T=this;return(0,_.Z)(function*(){function F(){return F=(0,_.Z)(function*(ct){if(!b){if(null==ct.tenantId&&null!=ct._agentRecaptchaConfig)return ct._agentRecaptchaConfig.siteKey;if(null!=ct.tenantId&&void 0!==ct._tenantRecaptchaConfigs[ct.tenantId])return ct._tenantRecaptchaConfigs[ct.tenantId].siteKey}return new Promise(function(){var jt=(0,_.Z)(function*(an,In){Co(ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(vn=>{if(void 0!==vn.recaptchaKey){const Xn=new ui(vn);return null==ct.tenantId?ct._agentRecaptchaConfig=Xn:ct._tenantRecaptchaConfigs[ct.tenantId]=Xn,an(Xn.siteKey)}In(new Error("recaptcha Enterprise site key undefined"))}).catch(vn=>{In(vn)})});return function(an,In){return jt.apply(this,arguments)}}())}),F.apply(this,arguments)}function Ve(ct,jt,an){const In=window.grecaptcha;bs(In)?In.enterprise.ready(()=>{try{In.enterprise.execute(ct,{action:y}).then(vn=>{jt(vn)}).catch(vn=>{an(vn)})}catch(vn){an(vn)}}):an(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ct,jt)=>{(function Z(ct){return F.apply(this,arguments)})(T.auth).then(an=>{if(!b&&bs(window.grecaptcha))Ve(an,ct,jt);else{if(typeof window>"u")return void jt(new Error("RecaptchaVerifier is only supported in browser"));qi("https://www.google.com/recaptcha/enterprise.js?render="+an).then(()=>{Ve(an,ct,jt)}).catch(In=>{jt(In)})}}).catch(an=>{jt(an)})})})()}}function Nn(C,y,b){return Di.apply(this,arguments)}function Di(){return(Di=(0,_.Z)(function*(C,y,b,T=!1){const Z=new fn(C);let F;try{F=yield Z.verify(b)}catch{F=yield Z.verify(b,!0)}const Ve=Object.assign({},y);return Object.assign(Ve,T?{captchaResp:F}:{captchaResponse:F}),Object.assign(Ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ve})).apply(this,arguments)}class Or{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,b){const T=F=>new Promise((Ve,ct)=>{try{Ve(y(F))}catch(jt){ct(jt)}});T.onAbort=b,this.queue.push(T);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(y){var b=this;return(0,_.Z)(function*(){if(b.auth.currentUser===y)return;const T=[];try{for(const Z of b.queue)yield Z(y),Z.onAbort&&T.push(Z.onAbort)}catch(Z){T.reverse();for(const F of T)try{F()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}class rs{constructor(y,b,T,Z){this.app=y,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=T,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ki(this),this.idTokenSubscription=new Ki(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(y,b){var T=this;return b&&(this._popupRedirectResolver=j(b)),this._initializationPromise=this.queue((0,_.Z)(function*(){var Z,F;if(!T._deleted&&(T.persistenceManager=yield be.create(T,y),!T._deleted)){if(null!==(Z=T._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(b),T.lastNotifiedUid=(null===(F=T.currentUser)||void 0===F?void 0:F.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,_.Z)(function*(){if(y._deleted)return;const b=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||b){if(y.currentUser&&b&&y.currentUser.uid===b.uid)return y._currentUser._assign(b),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(b,!0)}})()}initializeCurrentUser(y){var b=this;return(0,_.Z)(function*(){var T;const Z=yield b.assertedPersistence.getCurrentUser();let F=Z,Ve=!1;if(y&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const ct=null===(T=b.redirectUser)||void 0===T?void 0:T._redirectEventId,jt=F?._redirectEventId,an=yield b.tryRedirectSignIn(y);(!ct||ct===jt)&&an?.user&&(F=an.user,Ve=!0)}if(!F)return b.directlySetCurrentUser(null);if(!F._redirectEventId){if(Ve)try{yield b.beforeStateQueue.runMiddleware(F)}catch(ct){F=Z,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(ct))}return F?b.reloadAndSetCurrentUserOrClear(F):b.directlySetCurrentUser(null)}return Ce(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===F._redirectEventId?b.directlySetCurrentUser(F):b.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(y){var b=this;return(0,_.Z)(function*(){let T=null;try{T=yield b._popupRedirectResolver._completeRedirectFn(b,y,!0)}catch{yield b._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(y){var b=this;return(0,_.Z)(function*(){try{yield st(y)}catch(T){if("auth/network-request-failed"!==T?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Et(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,_.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var b=this;return(0,_.Z)(function*(){const T=y?(0,X.m9)(y):null;return T&&Ce(T.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(T&&T._clone(b))})()}_updateCurrentUser(y,b=!1){var T=this;return(0,_.Z)(function*(){if(!T._deleted)return y&&Ce(T.tenantId===y.tenantId,T,"tenant-id-mismatch"),b||(yield T.beforeStateQueue.runMiddleware(y)),T.queue((0,_.Z)(function*(){yield T.directlySetCurrentUser(y),T.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,_.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var b=this;return this.queue((0,_.Z)(function*(){yield b.assertedPersistence.setPersistence(j(y))}))}initializeRecaptchaConfig(){var y=this;return(0,_.Z)(function*(){const b=yield Co(y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new ui(b);null==y.tenantId?y._agentRecaptchaConfig=T:y._tenantRecaptchaConfigs[y.tenantId]=T,T.emailPasswordEnabled&&new fn(y).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new X.LL("auth","Firebase",y())}onAuthStateChanged(y,b,T){return this.registerStateListener(this.authStateSubscription,y,b,T)}beforeAuthStateChanged(y,b){return this.beforeStateQueue.pushCallback(y,b)}onIdTokenChanged(y,b,T){return this.registerStateListener(this.idTokenSubscription,y,b,T)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,b){var T=this;return(0,_.Z)(function*(){const Z=yield T.getOrInitRedirectPersistenceManager(b);return null===y?Z.removeCurrentUser():Z.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var b=this;return(0,_.Z)(function*(){if(!b.redirectPersistenceManager){const T=y&&j(y)||b._popupRedirectResolver;Ce(T,b,"argument-error"),b.redirectPersistenceManager=yield be.create(b,[j(T._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(y){var b=this;return(0,_.Z)(function*(){var T,Z;return b._isInitialized&&(yield b.queue((0,_.Z)(function*(){}))),(null===(T=b._currentUser)||void 0===T?void 0:T._redirectEventId)===y?b._currentUser:(null===(Z=b.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===y?b.redirectUser:null})()}_persistUserIfCurrent(y){var b=this;return(0,_.Z)(function*(){if(y===b.currentUser)return b.queue((0,_.Z)(function*(){return b.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(b=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,b,T,Z){if(this._deleted)return()=>{};const F="function"==typeof b?b:b.next.bind(b),Ve=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(Ve,this,"internal-error"),Ve.then(()=>F(this.currentUser)),"function"==typeof b?y.addObserver(b,T,Z):y.addObserver(b)}directlySetCurrentUser(y){var b=this;return(0,_.Z)(function*(){b.currentUser&&b.currentUser!==y&&b._currentUser._stopProactiveRefresh(),y&&b.isProactiveRefreshEnabled&&y._startProactiveRefresh(),b.currentUser=y,y?yield b.assertedPersistence.setCurrentUser(y):yield b.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,_.Z)(function*(){var b;const T={"X-Client-Version":y.clientVersion};y.app.options.appId&&(T["X-Firebase-gmpid"]=y.app.options.appId);const Z=yield null===(b=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();Z&&(T["X-Firebase-Client"]=Z);const F=yield y._getAppCheckToken();return F&&(T["X-Firebase-AppCheck"]=F),T})()}_getAppCheckToken(){var y=this;return(0,_.Z)(function*(){var b;const T=yield null===(b=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return T?.error&&function Ct(C,...y){Ee.logLevel<=Se.in.WARN&&Ee.warn(`Auth (${ve.SDK_VERSION}): ${C}`,...y)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function Gn(C){return(0,X.m9)(C)}class Ki{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,X.ne)(b=>this.observer=b)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qn(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function ia(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class Dr{constructor(y,b){this.providerId=y,this.signInMethod=b}toJSON(){return $e("not implemented")}_getIdTokenResponse(y){return $e("not implemented")}_linkToIdToken(y,b){return $e("not implemented")}_getReauthenticationResolver(y){return $e("not implemented")}}function tr(C,y){return ms.apply(this,arguments)}function ms(){return(ms=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:resetPassword",et(C,y))})).apply(this,arguments)}function Rs(C,y){return es.apply(this,arguments)}function es(){return(es=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ir(){return(Ir=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:update",et(C,y))})).apply(this,arguments)}function Vi(C,y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,_.Z)(function*(C,y){return En(C,"POST","/v1/accounts:signInWithPassword",et(C,y))})).apply(this,arguments)}function Qe(C,y){return je.apply(this,arguments)}function je(){return(je=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:sendOobCode",et(C,y))})).apply(this,arguments)}function Bt(){return(Bt=(0,_.Z)(function*(C,y){return Qe(C,y)})).apply(this,arguments)}function Zt(C,y){return mn.apply(this,arguments)}function mn(){return(mn=(0,_.Z)(function*(C,y){return Qe(C,y)})).apply(this,arguments)}function Jn(C,y){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,_.Z)(function*(C,y){return Qe(C,y)})).apply(this,arguments)}function lr(){return(lr=(0,_.Z)(function*(C,y){return Qe(C,y)})).apply(this,arguments)}function Nr(){return(Nr=(0,_.Z)(function*(C,y){return En(C,"POST","/v1/accounts:signInWithEmailLink",et(C,y))})).apply(this,arguments)}function Ya(){return(Ya=(0,_.Z)(function*(C,y){return En(C,"POST","/v1/accounts:signInWithEmailLink",et(C,y))})).apply(this,arguments)}class jr extends Dr{constructor(y,b,T,Z=null){super("password",T),this._email=y,this._password=b,this._tenantId=Z}static _fromEmailAndPassword(y,b){return new jr(y,b,"password")}static _fromEmailAndCode(y,b,T=null){return new jr(y,b,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(y){var b=this;return(0,_.Z)(function*(){var T;switch(b.signInMethod){case"password":const Z={returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=y._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const F=yield Nn(y,Z,"signInWithPassword");return Vi(y,F)}return Vi(y,Z).catch(function(){var F=(0,_.Z)(function*(Ve){if("auth/missing-recaptcha-token"===Ve.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ct=yield Nn(y,Z,"signInWithPassword");return Vi(y,ct)}return Promise.reject(Ve)});return function(Ve){return F.apply(this,arguments)}}());case"emailLink":return function Pr(C,y){return Nr.apply(this,arguments)}(y,{email:b._email,oobCode:b._password});default:De(y,"internal-error")}})()}_linkToIdToken(y,b){var T=this;return(0,_.Z)(function*(){switch(T.signInMethod){case"password":return Rs(y,{idToken:b,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function ps(C,y){return Ya.apply(this,arguments)}(y,{idToken:b,email:T._email,oobCode:T._password});default:De(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function ss(C,y){return Do.apply(this,arguments)}function Do(){return(Do=(0,_.Z)(function*(C,y){return En(C,"POST","/v1/accounts:signInWithIdp",et(C,y))})).apply(this,arguments)}class Os extends Dr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const b=new Os(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(b.idToken=y.idToken),y.accessToken&&(b.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(b.nonce=y.nonce),y.pendingToken&&(b.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(b.accessToken=y.oauthToken,b.secret=y.oauthTokenSecret):De("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:Z}=b,F=(0,Ae._T)(b,["providerId","signInMethod"]);if(!T||!Z)return null;const Ve=new Os(T,Z);return Ve.idToken=F.idToken||void 0,Ve.accessToken=F.accessToken||void 0,Ve.secret=F.secret,Ve.nonce=F.nonce,Ve.pendingToken=F.pendingToken||null,Ve}_getIdTokenResponse(y){return ss(y,this.buildRequest())}_linkToIdToken(y,b){const T=this.buildRequest();return T.idToken=b,ss(y,T)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,ss(y,b)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),y.postBody=(0,X.xO)(b)}return y}}function Ho(){return(Ho=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:sendVerificationCode",et(C,y))})).apply(this,arguments)}function ho(){return(ho=(0,_.Z)(function*(C,y){return En(C,"POST","/v1/accounts:signInWithPhoneNumber",et(C,y))})).apply(this,arguments)}function gs(){return(gs=(0,_.Z)(function*(C,y){const b=yield En(C,"POST","/v1/accounts:signInWithPhoneNumber",et(C,y));if(b.temporaryProof)throw Hn(C,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const sa={USER_NOT_FOUND:"user-not-found"};function Js(){return(Js=(0,_.Z)(function*(C,y){return En(C,"POST","/v1/accounts:signInWithPhoneNumber",et(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),sa)})).apply(this,arguments)}class jo extends Dr{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,b){return new jo({verificationId:y,verificationCode:b})}static _fromTokenResponse(y,b){return new jo({phoneNumber:y,temporaryProof:b})}_getIdTokenResponse(y){return function Ca(C,y){return ho.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,b){return function Za(C,y){return gs.apply(this,arguments)}(y,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function fo(C,y){return Js.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:b,verificationId:T,verificationCode:Z}=this.params;return y&&b?{temporaryProof:y,phoneNumber:b}:{sessionInfo:T,code:Z}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:b,verificationCode:T,phoneNumber:Z,temporaryProof:F}=y;return T||b||Z||F?new jo({verificationId:b,verificationCode:T,phoneNumber:Z,temporaryProof:F}):null}}class os{constructor(y){var b,T,Z,F,Ve,ct;const jt=(0,X.zd)((0,X.pd)(y)),an=null!==(b=jt.apiKey)&&void 0!==b?b:null,In=null!==(T=jt.oobCode)&&void 0!==T?T:null,vn=function eo(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=jt.mode)&&void 0!==Z?Z:null);Ce(an&&In&&vn,"argument-error"),this.apiKey=an,this.operation=vn,this.code=In,this.continueUrl=null!==(F=jt.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(Ve=jt.languageCode)&&void 0!==Ve?Ve:null,this.tenantId=null!==(ct=jt.tenantId)&&void 0!==ct?ct:null}static parseLink(y){const b=function nr(C){const y=(0,X.zd)((0,X.pd)(C)).link,b=y?(0,X.zd)((0,X.pd)(y)).deep_link_id:null,T=(0,X.zd)((0,X.pd)(C)).deep_link_id;return(T?(0,X.zd)((0,X.pd)(T)).link:null)||T||b||y||C}(y);try{return new os(b)}catch{return null}}}let Es=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(b,T){return jr._fromEmailAndPassword(b,T)}static credentialWithLink(b,T){const Z=os.parseLink(T);return Ce(Z,"argument-error"),jr._fromEmailAndCode(b,Z.code,Z.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class pr{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class as extends pr{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Hi extends as{static credentialFromJSON(y){const b="string"==typeof y?JSON.parse(y):y;return Ce("providerId"in b&&"signInMethod"in b,"argument-error"),Os._fromParams(b)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Ce(y.idToken||y.accessToken,"argument-error"),Os._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Hi.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Hi.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:b,oauthAccessToken:T,oauthTokenSecret:Z,pendingToken:F,nonce:Ve,providerId:ct}=y;if(!T&&!Z&&!b&&!F||!ct)return null;try{return new Hi(ct)._credential({idToken:b,accessToken:T,nonce:Ve,pendingToken:F})}catch{return null}}}let Ps=(()=>{class C extends as{constructor(){super("facebook.com")}static credential(b){return Os._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),mo=(()=>{class C extends as{constructor(){super("google.com"),this.addScope("profile")}static credential(b,T){return Os._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:T})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:T,oauthAccessToken:Z}=b;if(!T&&!Z)return null;try{return C.credential(T,Z)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),to=(()=>{class C extends as{constructor(){super("github.com")}static credential(b){return Os._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class no extends Dr{constructor(y,b){super(y,y),this.pendingToken=b}_getIdTokenResponse(y){return ss(y,this.buildRequest())}_linkToIdToken(y,b){const T=this.buildRequest();return T.idToken=b,ss(y,T)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,ss(y,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:Z,pendingToken:F}=b;return T&&Z&&F&&T===Z?new no(T,F):null}static _create(y,b){return new no(y,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zo extends pr{constructor(y){Ce(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return zo.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return zo.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const b=no.fromJSON(y);return Ce(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:b,providerId:T}=y;if(!b||!T)return null;try{return no._create(T,b)}catch{return null}}}let Qa=(()=>{class C extends as{constructor(){super("twitter.com")}static credential(b,T){return Os._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:T})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:T,oauthTokenSecret:Z}=b;if(!T||!Z)return null;try{return C.credential(T,Z)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Zr(C,y){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,_.Z)(function*(C,y){return En(C,"POST","/v1/accounts:signUp",et(C,y))})).apply(this,arguments)}class vr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,b,T,Z=!1){return(0,_.Z)(function*(){const F=yield K._fromIdTokenResponse(y,T,Z),Ve=mi(T);return new vr({user:F,providerId:Ve,_tokenResponse:T,operationType:b})})()}static _forOperation(y,b,T){return(0,_.Z)(function*(){yield y._updateTokensIfNecessary(T,!0);const Z=mi(T);return new vr({user:y,providerId:Z,_tokenResponse:T,operationType:b})})()}}function mi(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function io(){return(io=(0,_.Z)(function*(C){var y;const b=Gn(C);if(yield b._initializationPromise,null!==(y=b.currentUser)&&void 0!==y&&y.isAnonymous)return new vr({user:b.currentUser,providerId:null,operationType:"signIn"});const T=yield Zr(b,{returnSecureToken:!0}),Z=yield vr._fromIdTokenResponse(b,"signIn",T,!0);return yield b._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class ji extends X.ZR{constructor(y,b,T,Z){var F;super(b.code,b.message),this.operationType=T,this.user=Z,Object.setPrototypeOf(this,ji.prototype),this.customData={appName:y.name,tenantId:null!==(F=y.tenantId)&&void 0!==F?F:void 0,_serverResponse:b.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(y,b,T,Z){return new ji(y,b,T,Z)}}function El(C,y,b,T){return("reauthenticate"===y?b._getReauthenticationResolver(C):b._getIdTokenResponse(C)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?ji._fromErrorAndOperation(C,F,y,T):F})}function oa(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function gr(){return gr=(0,_.Z)(function*(C,y){const b=(0,X.m9)(C);yield Fs(!0,b,y);const{providerUserInfo:T}=yield function ii(C,y){return fi.apply(this,arguments)}(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[y]}),Z=oa(T||[]);return b.providerData=b.providerData.filter(F=>Z.has(F.providerId)),Z.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b}),gr.apply(this,arguments)}function aa(C,y){return So.apply(this,arguments)}function So(){return(So=(0,_.Z)(function*(C,y,b=!1){const T=yield on(C,y._linkToIdToken(C.auth,yield C.getIdToken()),b);return vr._forOperation(C,"link",T)})).apply(this,arguments)}function Fs(C,y,b){return cs.apply(this,arguments)}function cs(){return(cs=(0,_.Z)(function*(C,y,b){yield st(y);const Z=!1===C?"provider-already-linked":"no-such-provider";Ce(oa(y.providerData).has(b)===C,y.auth,Z)})).apply(this,arguments)}function Cl(C,y){return la.apply(this,arguments)}function la(){return(la=(0,_.Z)(function*(C,y,b=!1){const{auth:T}=C,Z="reauthenticate";try{const F=yield on(C,El(T,Z,y,C),b);Ce(F.idToken,T,"internal-error");const Ve=Ci(F.idToken);Ce(Ve,T,"internal-error");const{sub:ct}=Ve;return Ce(C.uid===ct,T,"user-mismatch"),vr._forOperation(C,Z,F)}catch(F){throw"auth/user-not-found"===F?.code&&De(T,"user-mismatch"),F}})).apply(this,arguments)}function Ln(C,y){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,_.Z)(function*(C,y,b=!1){const T="signIn",Z=yield El(C,T,y),F=yield vr._fromIdTokenResponse(C,T,Z);return b||(yield C._updateCurrentUser(F.user)),F})).apply(this,arguments)}function $l(C,y){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,_.Z)(function*(C,y){return Ln(Gn(C),y)})).apply(this,arguments)}function Y(C,y){return G.apply(this,arguments)}function G(){return(G=(0,_.Z)(function*(C,y){const b=(0,X.m9)(C);return yield Fs(!1,b,y.providerId),aa(b,y)})).apply(this,arguments)}function z(C,y){return he.apply(this,arguments)}function he(){return(he=(0,_.Z)(function*(C,y){return Cl((0,X.m9)(C),y)})).apply(this,arguments)}function ut(){return(ut=(0,_.Z)(function*(C,y){return En(C,"POST","/v1/accounts:signInWithCustomToken",et(C,y))})).apply(this,arguments)}function vi(){return vi=(0,_.Z)(function*(C,y){const b=Gn(C),T=yield function Tt(C,y){return ut.apply(this,arguments)}(b,{token:y,returnSecureToken:!0}),Z=yield vr._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(Z.user),Z}),vi.apply(this,arguments)}class Ii{constructor(y,b){this.factorId=y,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(y,b){return"phoneInfo"in b?br._fromServerResponse(y,b):"totpInfo"in b?Wl._fromServerResponse(y,b):De(y,"internal-error")}}class br extends Ii{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,b){return new br(b)}}class Wl extends Ii{constructor(y){super("totp",y)}static _fromServerResponse(y,b){return new Wl(b)}}function Go(C,y,b){var T;Ce((null===(T=b.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),Ce(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=b.url,y.dynamicLinkDomain=b.dynamicLinkDomain,y.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Ce(b.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=b.iOS.bundleId),b.android&&(Ce(b.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=b.android.installApp,y.androidMinimumVersionCode=b.android.minimumVersion,y.androidPackageName=b.android.packageName)}function Dl(){return Dl=(0,_.Z)(function*(C,y,b){var T;const Z=Gn(C),F={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=Z._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Ve=yield Nn(Z,F,"getOobCode",!0);b&&Go(Z,Ve,b),yield Zt(Z,Ve)}else b&&Go(Z,F,b),yield Zt(Z,F).catch(function(){var Ve=(0,_.Z)(function*(ct){if("auth/missing-recaptcha-token"!==ct.code)return Promise.reject(ct);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const jt=yield Nn(Z,F,"getOobCode",!0);b&&Go(Z,jt,b),yield Zt(Z,jt)}});return function(ct){return Ve.apply(this,arguments)}}())}),Dl.apply(this,arguments)}function Sl(){return(Sl=(0,_.Z)(function*(C,y,b){yield tr((0,X.m9)(C),{oobCode:y,newPassword:b})})).apply(this,arguments)}function Tl(){return Tl=(0,_.Z)(function*(C,y){yield function xs(C,y){return Ir.apply(this,arguments)}((0,X.m9)(C),{oobCode:y})}),Tl.apply(this,arguments)}function Qi(C,y){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,_.Z)(function*(C,y){const b=(0,X.m9)(C),T=yield tr(b,{oobCode:y}),Z=T.requestType;switch(Ce(Z,b,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(T.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(T.mfaInfo,b,"internal-error");default:Ce(T.email,b,"internal-error")}let F=null;return T.mfaInfo&&(F=Ii._fromServerResponse(Gn(b),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:F},operation:Z}})).apply(this,arguments)}function Ds(){return(Ds=(0,_.Z)(function*(C,y){const{data:b}=yield Qi((0,X.m9)(C),y);return b.email})).apply(this,arguments)}function ca(){return ca=(0,_.Z)(function*(C,y,b){var T;const Z=Gn(C),F={returnSecureToken:!0,email:y,password:b,clientType:"CLIENT_TYPE_WEB"};let Ve;if(null!==(T=Z._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const an=yield Nn(Z,F,"signUpPassword");Ve=Zr(Z,an)}else Ve=Zr(Z,F).catch(function(){var an=(0,_.Z)(function*(In){if("auth/missing-recaptcha-token"===In.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const vn=yield Nn(Z,F,"signUpPassword");return Zr(Z,vn)}return Promise.reject(In)});return function(In){return an.apply(this,arguments)}}());const ct=yield Ve.catch(an=>Promise.reject(an)),jt=yield vr._fromIdTokenResponse(Z,"signIn",ct);return yield Z._updateCurrentUser(jt.user),jt}),ca.apply(this,arguments)}function Ia(){return Ia=(0,_.Z)(function*(C,y,b){var T;const Z=Gn(C),F={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};function Ve(ct,jt){Ce(jt.handleCodeInApp,Z,"argument-error"),jt&&Go(Z,ct,jt)}if(null!==(T=Z._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ct=yield Nn(Z,F,"getOobCode",!0);Ve(ct,b),yield Jn(Z,ct)}else Ve(F,b),yield Jn(Z,F).catch(function(){var ct=(0,_.Z)(function*(jt){if("auth/missing-recaptcha-token"!==jt.code)return Promise.reject(jt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const an=yield Nn(Z,F,"getOobCode",!0);Ve(an,b),yield Jn(Z,an)}});return function(jt){return ct.apply(this,arguments)}}())}),Ia.apply(this,arguments)}function Ml(){return(Ml=(0,_.Z)(function*(C,y,b){const T=(0,X.m9)(C),Z=Es.credentialWithLink(y,b||en());return Ce(Z._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),$l(T,Z)})).apply(this,arguments)}function nl(){return(nl=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:createAuthUri",et(C,y))})).apply(this,arguments)}function Wo(){return Wo=(0,_.Z)(function*(C,y){const T={identifier:y,continueUri:Pt()?en():"http://localhost"},{signinMethods:Z}=yield function $o(C,y){return nl.apply(this,arguments)}((0,X.m9)(C),T);return Z||[]}),Wo.apply(this,arguments)}function Ta(){return Ta=(0,_.Z)(function*(C,y){const b=(0,X.m9)(C),Z={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&Go(b.auth,Z,y);const{email:F}=yield function lt(C,y){return Bt.apply(this,arguments)}(b.auth,Z);F!==C.email&&(yield C.reload())}),Ta.apply(this,arguments)}function vc(){return vc=(0,_.Z)(function*(C,y,b){const T=(0,X.m9)(C),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};b&&Go(T.auth,F,b);const{email:Ve}=yield function ti(C,y){return lr.apply(this,arguments)}(T.auth,F);Ve!==C.email&&(yield C.reload())}),vc.apply(this,arguments)}function To(){return(To=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ts(){return ts=(0,_.Z)(function*(C,{displayName:y,photoURL:b}){if(void 0===y&&void 0===b)return;const T=(0,X.m9)(C),F={idToken:yield T.getIdToken(),displayName:y,photoUrl:b,returnSecureToken:!0},Ve=yield on(T,function Uc(C,y){return To.apply(this,arguments)}(T.auth,F));T.displayName=Ve.displayName||null,T.photoURL=Ve.photoUrl||null;const ct=T.providerData.find(({providerId:jt})=>"password"===jt);ct&&(ct.displayName=T.displayName,ct.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Ve)}),ts.apply(this,arguments)}function rl(C,y,b){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,_.Z)(function*(C,y,b){const{auth:T}=C,F={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(F.email=y),b&&(F.password=b);const Ve=yield on(C,Rs(T,F));yield C._updateTokensIfNecessary(Ve,!0)})).apply(this,arguments)}class da{constructor(y,b,T={}){this.isNewUser=y,this.providerId=b,this.profile=T}}class wr extends da{constructor(y,b,T,Z){super(y,b,T),this.username=Z}}class fd extends da{constructor(y,b){super(y,"facebook.com",b)}}class _s extends wr{constructor(y,b){super(y,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class sl extends da{constructor(y,b){super(y,"google.com",b)}}class Yl extends wr{constructor(y,b,T){super(y,"twitter.com",b,T)}}function md(C){const{user:y,_tokenResponse:b}=C;return y.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Vc(C){var y,b;if(!C)return null;const{providerId:T}=C,Z=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},F=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&C?.idToken){const Ve=null===(b=null===(y=Ci(C.idToken))||void 0===y?void 0:y.firebase)||void 0===b?void 0:b.sign_in_provider;if(Ve)return new da(F,"anonymous"!==Ve&&"custom"!==Ve?Ve:null)}if(!T)return null;switch(T){case"facebook.com":return new fd(F,Z);case"github.com":return new _s(F,Z);case"google.com":return new sl(F,Z);case"twitter.com":return new Yl(F,Z,C.screenName||null);case"custom":case"anonymous":return new da(F,null);default:return new da(F,T,Z)}}(b)}class At{constructor(y,b,T){this.type=y,this.credential=b,this.auth=T}static _fromIdtoken(y,b){return new At("enroll",y,b)}static _fromMfaPendingCredential(y){return new At("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var b,T;if(y?.multiFactorSession){if(null!==(b=y.multiFactorSession)&&void 0!==b&&b.pendingCredential)return At._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(T=y.multiFactorSession)&&void 0!==T&&T.idToken)return At._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Kn{constructor(y,b,T){this.session=y,this.hints=b,this.signInResolver=T}static _fromError(y,b){const T=Gn(y),Z=b.customData._serverResponse,F=(Z.mfaInfo||[]).map(ct=>Ii._fromServerResponse(T,ct));Ce(Z.mfaPendingCredential,T,"internal-error");const Ve=At._fromMfaPendingCredential(Z.mfaPendingCredential);return new Kn(Ve,F,function(){var ct=(0,_.Z)(function*(jt){const an=yield jt._process(T,Ve);delete Z.mfaInfo,delete Z.mfaPendingCredential;const In=Object.assign(Object.assign({},Z),{idToken:an.idToken,refreshToken:an.refreshToken});switch(b.operationType){case"signIn":const vn=yield vr._fromIdTokenResponse(T,b.operationType,In);return yield T._updateCurrentUser(vn.user),vn;case"reauthenticate":return Ce(b.user,T,"internal-error"),vr._forOperation(b.user,b.operationType,In);default:De(T,"internal-error")}});return function(jt){return ct.apply(this,arguments)}}())}resolveSignIn(y){var b=this;return(0,_.Z)(function*(){return b.signInResolver(y)})()}}class pt{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(T=>Ii._fromServerResponse(y.auth,T)))})}static _fromUser(y){return new pt(y)}getSession(){var y=this;return(0,_.Z)(function*(){return At._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,b){var T=this;return(0,_.Z)(function*(){const Z=y,F=yield T.getSession(),Ve=yield on(T.user,Z._process(T.user.auth,F,b));return yield T.user._updateTokensIfNecessary(Ve),T.user.reload()})()}unenroll(y){var b=this;return(0,_.Z)(function*(){const T="string"==typeof y?y:y.uid,Z=yield b.user.getIdToken();try{const F=yield on(b.user,function Jt(C,y){return at(C,"POST","/v2/accounts/mfaEnrollment:withdraw",et(C,y))}(b.user.auth,{idToken:Z,mfaEnrollmentId:T}));b.enrolledFactors=b.enrolledFactors.filter(({uid:Ve})=>Ve!==T),yield b.user._updateTokensIfNecessary(F),yield b.user.reload()}catch(F){throw F}})()}}const Ht=new WeakMap,Mo="__sak";class Aa{constructor(y,b){this.storageRetriever=y,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(Mo,"1"),this.storage.removeItem(Mo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,b){return this.storage.setItem(y,JSON.stringify(b)),Promise.resolve()}_get(y){const b=this.storage.getItem(y);return Promise.resolve(b?JSON.parse(b):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Is=(()=>{class C extends Aa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,T)=>this.onStorageEvent(b,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hh(){const C=(0,X.z$)();return Ye(C)||yt(C)}()&&function qr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vt(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const T of Object.keys(this.listeners)){const Z=this.storage.getItem(T),F=this.localCache[T];Z!==F&&b(T,F,Z)}}onStorageEvent(b,T=!1){if(!b.key)return void this.forAllChangedKeys((ct,jt,an)=>{this.notifyListeners(ct,an)});const Z=b.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ct=this.storage.getItem(Z);if(b.newValue!==ct)null!==b.newValue?this.storage.setItem(Z,b.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===b.newValue&&!T)return}const F=()=>{const ct=this.storage.getItem(Z);!T&&this.localCache[Z]===ct||this.notifyListeners(Z,ct)},Ve=this.storage.getItem(Z);!function Mn(){return(0,X.w1)()&&10===document.documentMode}()||Ve===b.newValue||b.newValue===b.oldValue?F():setTimeout(F,10)}notifyListeners(b,T){this.localCache[b]=T;const Z=this.listeners[b];if(Z)for(const F of Array.from(Z))F(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,T,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:T,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,T){var Z=()=>super._set,F=this;return(0,_.Z)(function*(){yield Z().call(F,b,T),F.localCache[b]=JSON.stringify(T)})()}_get(b){var T=()=>super._get,Z=this;return(0,_.Z)(function*(){const F=yield T().call(Z,b);return Z.localCache[b]=JSON.stringify(F),F})()}_remove(b){var T=()=>super._remove,Z=this;return(0,_.Z)(function*(){yield T().call(Z,b),delete Z.localCache[b]})()}}return C.type="LOCAL",C})(),so=(()=>{class C extends Aa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,T){}_removeListener(b,T){}}return C.type="SESSION",C})();let ol=(()=>{class C{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const T=this.receivers.find(F=>F.isListeningto(b));if(T)return T;const Z=new C(b);return this.receivers.push(Z),Z}isListeningto(b){return this.eventTarget===b}handleEvent(b){var T=this;return(0,_.Z)(function*(){const Z=b,{eventId:F,eventType:Ve,data:ct}=Z.data,jt=T.handlersMap[Ve];if(!jt?.size)return;Z.ports[0].postMessage({status:"ack",eventId:F,eventType:Ve});const an=Array.from(jt).map(function(){var vn=(0,_.Z)(function*(Xn){return Xn(Z.origin,ct)});return function(Xn){return vn.apply(this,arguments)}}()),In=yield function ql(C){return Promise.all(C.map(function(){var y=(0,_.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(T){return{fulfilled:!1,reason:T}}});return function(b){return y.apply(this,arguments)}}()))}(an);Z.ports[0].postMessage({status:"done",eventId:F,eventType:Ve,response:In})})()}_subscribe(b,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(T)}_unsubscribe(b,T){this.handlersMap[b]&&T&&this.handlersMap[b].delete(T),(!T||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Yn(C="",y=10){let b="";for(let T=0;T<y;T++)b+=Math.floor(10*Math.random());return C+b}class Sr{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,b,T=50){var Z=this;return(0,_.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let Ve,ct;return new Promise((jt,an)=>{const In=Yn("",20);F.port1.start();const vn=setTimeout(()=>{an(new Error("unsupported_event"))},T);ct={messageChannel:F,onMessage(Xn){const Ni=Xn;if(Ni.data.eventId===In)switch(Ni.data.status){case"ack":clearTimeout(vn),Ve=setTimeout(()=>{an(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ve),jt(Ni.data.response);break;default:clearTimeout(vn),clearTimeout(Ve),an(new Error("invalid_response"))}}},Z.handlers.add(ct),F.port1.addEventListener("message",ct.onMessage),Z.target.postMessage({eventType:y,eventId:In,data:b},[F.port2])}).finally(()=>{ct&&Z.removeMessageHandler(ct)})})()}}function xr(){return window}function Rn(){return typeof xr().WorkerGlobalScope<"u"&&"function"==typeof xr().importScripts}function gi(){return(gi=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cn="firebaseLocalStorageDb",qs=1,Us="firebaseLocalStorage",Fr="fbase_key";class oo{constructor(y){this.request=y}toPromise(){return new Promise((y,b)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function zr(C,y){return C.transaction([Us],y?"readwrite":"readonly").objectStore(Us)}function Gr(){const C=indexedDB.open(cn,qs);return new Promise((y,b)=>{C.addEventListener("error",()=>{b(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(Us,{keyPath:Fr})}catch(Z){b(Z)}}),C.addEventListener("success",(0,_.Z)(function*(){const T=C.result;T.objectStoreNames.contains(Us)?y(T):(T.close(),yield function al(){const C=indexedDB.deleteDatabase(cn);return new oo(C).toPromise()}(),y(yield Gr()))}))})}function ko(C,y,b){return ll.apply(this,arguments)}function ll(){return(ll=(0,_.Z)(function*(C,y,b){const T=zr(C,!0).put({[Fr]:y,value:b});return new oo(T).toPromise()})).apply(this,arguments)}function po(){return(po=(0,_.Z)(function*(C,y){const b=zr(C,!1).get(y),T=yield new oo(b).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Ra(C,y){const b=zr(C,!0).delete(y);return new oo(b).toPromise()}const gt=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,_.Z)(function*(){return b.db||(b.db=yield Gr()),b.db})()}_withRetries(b){var T=this;return(0,_.Z)(function*(){let Z=0;for(;;)try{const F=yield T._openDb();return yield b(F)}catch(F){if(Z++>3)throw F;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,_.Z)(function*(){return Rn()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,_.Z)(function*(){b.receiver=ol._getInstance(function dr(){return Rn()?self:null}()),b.receiver._subscribe("keyChanged",function(){var T=(0,_.Z)(function*(Z,F){return{keyProcessed:(yield b._poll()).includes(F.key)}});return function(Z,F){return T.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var T=(0,_.Z)(function*(Z,F){return["keyChanged"]});return function(Z,F){return T.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,_.Z)(function*(){var T,Z;if(b.activeServiceWorker=yield function ka(){return gi.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Sr(b.activeServiceWorker);const F=yield b.sender._send("ping",{},800);F&&null!==(T=F[0])&&void 0!==T&&T.fulfilled&&null!==(Z=F[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var T=this;return(0,_.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function jc(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:b},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Gr();return yield ko(b,Mo,"1"),yield Ra(b,Mo),!0}catch{}return!1})()}_withPendingWrite(b){var T=this;return(0,_.Z)(function*(){T.pendingWrites++;try{yield b()}finally{T.pendingWrites--}})()}_set(b,T){var Z=this;return(0,_.Z)(function*(){return Z._withPendingWrite((0,_.Z)(function*(){return yield Z._withRetries(F=>ko(F,b,T)),Z.localCache[b]=T,Z.notifyServiceWorker(b)}))})()}_get(b){var T=this;return(0,_.Z)(function*(){const Z=yield T._withRetries(F=>function Vs(C,y){return po.apply(this,arguments)}(F,b));return T.localCache[b]=Z,Z})()}_remove(b){var T=this;return(0,_.Z)(function*(){return T._withPendingWrite((0,_.Z)(function*(){return yield T._withRetries(Z=>Ra(Z,b)),delete T.localCache[b],T.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,_.Z)(function*(){const T=yield b._withRetries(Ve=>{const ct=zr(Ve,!1).getAll();return new oo(ct).toPromise()});if(!T)return[];if(0!==b.pendingWrites)return[];const Z=[],F=new Set;for(const{fbase_key:Ve,value:ct}of T)F.add(Ve),JSON.stringify(b.localCache[Ve])!==JSON.stringify(ct)&&(b.notifyListeners(Ve,ct),Z.push(Ve));for(const Ve of Object.keys(b.localCache))b.localCache[Ve]&&!F.has(Ve)&&(b.notifyListeners(Ve,null),Z.push(Ve));return Z})()}notifyListeners(b,T){this.localCache[b]=T;const Z=this.listeners[b];if(Z)for(const F of Array.from(Z))F(T)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),fh=1e12;class Ql{constructor(y){this.auth=y,this.counter=fh,this._widgets=new Map}render(y,b){const T=this.counter;return this._widgets.set(T,new Xl(y,this.auth.name,b||{})),this.counter++,T}reset(y){var b;const T=y||fh;null===(b=this._widgets.get(T))||void 0===b||b.delete(),this._widgets.delete(T)}getResponse(y){var b;return(null===(b=this._widgets.get(y||fh))||void 0===b?void 0:b.getResponse())||""}execute(y){var b=this;return(0,_.Z)(function*(){var T;return null===(T=b._widgets.get(y||fh))||void 0===T||T.execute(),""})()}}class Xl{constructor(y,b,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof y?document.getElementById(y):y;Ce(Z,"argument-error",{appName:b}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Df(C){const y=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<C;T++)y.push(b.charAt(Math.floor(Math.random()*b.length)));return y.join("")}(50);const{callback:y,"expired-callback":b}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _u=ws("rcb"),ul=new kt(3e4,6e4);class zc{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=xr().grecaptcha)||void 0===y||!y.render)}load(y,b=""){return Ce(function Lr(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(b),y,"argument-error"),this.shouldResolveImmediately(b)&&uo(xr().grecaptcha)?Promise.resolve(xr().grecaptcha):new Promise((T,Z)=>{const F=xr().setTimeout(()=>{Z(pe(y,"network-request-failed"))},ul.get());xr()[_u]=()=>{xr().clearTimeout(F),delete xr()[_u];const ct=xr().grecaptcha;if(!ct||!uo(ct))return void Z(pe(y,"internal-error"));const jt=ct.render;ct.render=(an,In)=>{const vn=jt(an,In);return this.counter++,vn},this.hostLanguage=b,T(ct)},qi(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:_u,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(F),Z(pe(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var b;return!(null===(b=xr().grecaptcha)||void 0===b||!b.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jl{load(y){return(0,_.Z)(function*(){return new Ql(y)})()}clearedOneInstance(){}}const Br="recaptcha",yu={theme:"light",type:"image"};class Zs{constructor(y,b=Object.assign({},yu),T){this.parameters=b,this.type=Br,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gn(T),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof y?document.getElementById(y):y;Ce(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jl:new zc,this.validateStartingState()}verify(){var y=this;return(0,_.Z)(function*(){y.assertNotDestroyed();const b=yield y.render(),T=y.getAssertedRecaptcha();return T.getResponse(b)||new Promise(F=>{const Ve=ct=>{ct&&(y.tokenChangeListeners.delete(Ve),F(ct))};y.tokenChangeListeners.add(Ve),y.isInvisible&&T.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return b=>{if(this.tokenChangeListeners.forEach(T=>T(b)),"function"==typeof y)y(b);else if("string"==typeof y){const T=xr()[y];"function"==typeof T&&T(b)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,_.Z)(function*(){if(yield y.init(),!y.widgetId){let b=y.container;if(!y.isInvisible){const T=document.createElement("div");b.appendChild(T),b=T}y.widgetId=y.getAssertedRecaptcha().render(b,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,_.Z)(function*(){Ce(Pt()&&!Rn(),y.auth,"internal-error"),yield function Ss(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const b=yield function $s(C){return fs.apply(this,arguments)}(y.auth);Ce(b,y.auth,"internal-error"),y.parameters.sitekey=b})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class kl{constructor(y,b){this.verificationId=y,this.onConfirmation=b}confirm(y){const b=jo._fromVerification(this.verificationId,y);return this.onConfirmation(b)}}function A(){return(A=(0,_.Z)(function*(C,y,b){const T=Gn(C),Z=yield re(T,y,(0,X.m9)(b));return new kl(Z,F=>$l(T,F))})).apply(this,arguments)}function D(){return(D=(0,_.Z)(function*(C,y,b){const T=(0,X.m9)(C);yield Fs(!1,T,"phone");const Z=yield re(T.auth,y,(0,X.m9)(b));return new kl(Z,F=>Y(T,F))})).apply(this,arguments)}function q(){return(q=(0,_.Z)(function*(C,y,b){const T=(0,X.m9)(C),Z=yield re(T.auth,y,(0,X.m9)(b));return new kl(Z,F=>z(T,F))})).apply(this,arguments)}function re(C,y,b){return _e.apply(this,arguments)}function _e(){return _e=(0,_.Z)(function*(C,y,b){var T;const Z=yield b.verify();try{let F;if(Ce("string"==typeof Z,C,"argument-error"),Ce(b.type===Br,C,"argument-error"),F="string"==typeof y?{phoneNumber:y}:y,"session"in F){const Ve=F.session;if("phoneNumber"in F)return Ce("enroll"===Ve.type,C,"internal-error"),(yield function ir(C,y){return at(C,"POST","/v2/accounts/mfaEnrollment:start",et(C,y))}(C,{idToken:Ve.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{Ce("signin"===Ve.type,C,"internal-error");const ct=(null===(T=F.multiFactorHint)||void 0===T?void 0:T.uid)||F.multiFactorUid;return Ce(ct,C,"missing-multi-factor-info"),(yield function gu(C,y){return at(C,"POST","/v2/accounts/mfaSignIn:start",et(C,y))}(C,{mfaPendingCredential:Ve.credential,mfaEnrollmentId:ct,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ve}=yield function qa(C,y){return Ho.apply(this,arguments)}(C,{phoneNumber:F.phoneNumber,recaptchaToken:Z});return Ve}}finally{b._reset()}}),_e.apply(this,arguments)}function zt(){return(zt=(0,_.Z)(function*(C,y){yield aa((0,X.m9)(C),y)})).apply(this,arguments)}let pn=(()=>{class C{constructor(b){this.providerId=C.PROVIDER_ID,this.auth=Gn(b)}verifyPhoneNumber(b,T){return re(this.auth,b,(0,X.m9)(T))}static credential(b,T){return jo._fromVerification(b,T)}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:T,temporaryProof:Z}=b;return T&&Z?jo._fromTokenResponse(T,Z):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function yn(C,y){return y?j(y):(Ce(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class bi extends Dr{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return ss(y,this._buildIdpRequest())}_linkToIdToken(y,b){return ss(y,this._buildIdpRequest(b))}_getReauthenticationResolver(y){return ss(y,this._buildIdpRequest())}_buildIdpRequest(y){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(b.idToken=y),b}}function us(C){return Ln(C.auth,new bi(C),C.bypassAuthState)}function hl(C){const{auth:y,user:b}=C;return Ce(b,y,"internal-error"),Cl(b,new bi(C),C.bypassAuthState)}function Na(C){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,_.Z)(function*(C){const{auth:y,user:b}=C;return Ce(b,y,"internal-error"),aa(b,new bi(C),C.bypassAuthState)})).apply(this,arguments)}class Qs{constructor(y,b,T,Z,F=!1){this.auth=y,this.resolver=T,this.user=Z,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var y=this;return new Promise(function(){var b=(0,_.Z)(function*(T,Z){y.pendingPromise={resolve:T,reject:Z};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(F){y.reject(F)}});return function(T,Z){return b.apply(this,arguments)}}())}onAuthEvent(y){var b=this;return(0,_.Z)(function*(){const{urlResponse:T,sessionId:Z,postBody:F,tenantId:Ve,error:ct,type:jt}=y;if(ct)return void b.reject(ct);const an={auth:b.auth,requestUri:T,sessionId:Z,tenantId:Ve||void 0,postBody:F||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(jt)(an))}catch(In){b.reject(In)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return us;case"linkViaPopup":case"linkViaRedirect":return Na;case"reauthViaPopup":case"reauthViaRedirect":return hl;default:De(this.auth,"internal-error")}}resolve(y){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Po=new kt(2e3,1e4);function ua(){return(ua=(0,_.Z)(function*(C,y,b){const T=Gn(C);Xe(C,y,pr);const Z=yn(T,b);return new V(T,"signInViaPopup",y,Z).executeNotNull()})).apply(this,arguments)}function fl(){return(fl=(0,_.Z)(function*(C,y,b){const T=(0,X.m9)(C);Xe(T.auth,y,pr);const Z=yn(T.auth,b);return new V(T.auth,"reauthViaPopup",y,Z,T).executeNotNull()})).apply(this,arguments)}function ph(){return(ph=(0,_.Z)(function*(C,y,b){const T=(0,X.m9)(C);Xe(T.auth,y,pr);const Z=yn(T.auth,b);return new V(T.auth,"linkViaPopup",y,Z,T).executeNotNull()})).apply(this,arguments)}let V=(()=>{class C extends Qs{constructor(b,T,Z,F,Ve){super(b,T,F,Ve),this.provider=Z,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var b=this;return(0,_.Z)(function*(){const T=yield b.execute();return Ce(T,b.auth,"internal-error"),T})()}onExecution(){var b=this;return(0,_.Z)(function*(){mt(1===b.filter.length,"Popup operations only handle one event");const T=Yn();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],T),b.authWindow.associatedEvent=T,b.resolver._originValidation(b.auth).catch(Z=>{b.reject(Z)}),b.resolver._isIframeWebStorageSupported(b.auth,Z=>{Z||b.reject(pe(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const b=()=>{var T,Z;this.pollId=null!==(Z=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==Z&&Z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,Po.get())};b()}}return C.currentPopupAction=null,C})();const W="pendingRedirect",ne=new Map;class Pe extends Qs{constructor(y,b,T=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,T),this.eventId=null}execute(){var y=()=>super.execute,b=this;return(0,_.Z)(function*(){let T=ne.get(b.auth._key());if(!T){try{const F=(yield function Ze(C,y){return it.apply(this,arguments)}(b.resolver,b.auth))?yield y().call(b):null;T=()=>Promise.resolve(F)}catch(Z){T=()=>Promise.reject(Z)}ne.set(b.auth._key(),T)}return b.bypassAuthState||ne.set(b.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(y){var b=()=>super.onAuthEvent,T=this;return(0,_.Z)(function*(){if("signInViaRedirect"===y.type)return b().call(T,y);if("unknown"!==y.type){if(y.eventId){const Z=yield T.auth._redirectUserForId(y.eventId);if(Z)return T.user=Z,b().call(T,y);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function it(){return(it=(0,_.Z)(function*(C,y){const b=Fn(y),T=Fi(C);if(!(yield T._isAvailable()))return!1;const Z="true"===(yield T._get(b));return yield T._remove(b),Z})).apply(this,arguments)}function Kt(C,y){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,_.Z)(function*(C,y){return Fi(C)._set(Fn(y),"true")})).apply(this,arguments)}function Zn(C,y){ne.set(C._key(),y)}function Fi(C){return j(C._redirectPersistence)}function Fn(C){return se(W,C.config.apiKey,C.name)}function ha(C,y,b){return function Wr(C,y,b){return yr.apply(this,arguments)}(C,y,b)}function yr(){return(yr=(0,_.Z)(function*(C,y,b){const T=Gn(C);Xe(C,y,pr),yield T._initializationPromise;const Z=yn(T,b);return yield Kt(Z,T),Z._openRedirect(T,y,"signInViaRedirect")})).apply(this,arguments)}function fa(C,y,b){return function ec(C,y,b){return go.apply(this,arguments)}(C,y,b)}function go(){return(go=(0,_.Z)(function*(C,y,b){const T=(0,X.m9)(C);Xe(T.auth,y,pr),yield T.auth._initializationPromise;const Z=yn(T.auth,b);yield Kt(Z,T.auth);const F=yield _h(T);return Z._openRedirect(T.auth,y,"reauthViaRedirect",F)})).apply(this,arguments)}function Ko(C,y,b){return function gh(C,y,b){return Rl.apply(this,arguments)}(C,y,b)}function Rl(){return(Rl=(0,_.Z)(function*(C,y,b){const T=(0,X.m9)(C);Xe(T.auth,y,pr),yield T.auth._initializationPromise;const Z=yn(T.auth,b);yield Fs(!1,T,y.providerId),yield Kt(Z,T.auth);const F=yield _h(T);return Z._openRedirect(T.auth,y,"linkViaRedirect",F)})).apply(this,arguments)}function vu(){return(vu=(0,_.Z)(function*(C,y){return yield Gn(C)._initializationPromise,tc(C,y,!1)})).apply(this,arguments)}function tc(C,y){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,_.Z)(function*(C,y,b=!1){const T=Gn(C),Z=yn(T,y),Ve=yield new Pe(T,Z,b).execute();return Ve&&!b&&(delete Ve.user._redirectEventId,yield T._persistUserIfCurrent(Ve.user),yield T._setRedirectUser(null,y)),Ve})).apply(this,arguments)}function _h(C){return js.apply(this,arguments)}function js(){return(js=(0,_.Z)(function*(C){const y=Yn(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class nc{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let b=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(y,T)&&(b=!0,this.sendToConsumer(y,T),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function eg(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _d(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=y,b=!0)),b}sendToConsumer(y,b){var T;if(y.error&&!_d(y)){const Z=(null===(T=y.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";b.onError(pe(this.auth,Z))}else b.onAuthEvent(y)}isEventForConsumer(y,b){const T=null===b.eventId||!!y.eventId&&y.eventId===b.eventId;return b.filter.includes(y.type)&&T}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yh(y))}saveEventToCache(y){this.cachedEventUids.add(yh(y)),this.lastProcessedEventTime=Date.now()}}function yh(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function _d({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===y?.code}function yd(C){return If.apply(this,arguments)}function If(){return(If=(0,_.Z)(function*(C,y={}){return at(C,"GET","/v1/projects",y)})).apply(this,arguments)}const Nm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bc=/^https?/;function xu(){return(xu=(0,_.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield yd(C);for(const b of y)try{if(Fm(b))return}catch{}De(C,"unauthorized-domain")})).apply(this,arguments)}function Fm(C){const y=en(),{protocol:b,hostname:T}=new URL(y);if(C.startsWith("chrome-extension://")){const Ve=new URL(C);return""===Ve.hostname&&""===T?"chrome-extension:"===b&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===b&&Ve.hostname===T}if(!bc.test(b))return!1;if(Nm.test(C))return T===C;const Z=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(T)}const Ol=new kt(3e4,6e4);function ma(){const C=xr().___jsl;if(C?.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let b=0;b<C.CP.length;b++)C.CP[b]=null}let As=null;const Tr=new kt(5e3,15e3),Gc="__/auth/iframe",Bm="emulator/auth/iframe",vh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H_(C){const y=C.config;Ce(y.authDomain,C,"auth-domain-config-required");const b=y.emulator?It(y,Bm):`https://${C.config.authDomain}/${Gc}`,T={apiKey:y.apiKey,appName:C.name,v:ve.SDK_VERSION},Z=bd.get(C.config.apiHost);Z&&(T.eid=Z);const F=C._getFrameworks();return F.length&&(T.fw=F.join(",")),`${b}?${(0,X.xO)(T).slice(1)}`}function ni(){return ni=(0,_.Z)(function*(C){const y=yield function Lm(C){return As=As||function vd(C){return new Promise((y,b)=>{var T,Z,F;function Ve(){ma(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{ma(),b(pe(C,"network-request-failed"))},timeout:Ol.get()})}if(null!==(Z=null===(T=xr().gapi)||void 0===T?void 0:T.iframes)&&void 0!==Z&&Z.Iframe)y(gapi.iframes.getContext());else{if(null===(F=xr().gapi)||void 0===F||!F.load){const ct=ws("iframefcb");return xr()[ct]=()=>{gapi.load?Ve():b(pe(C,"network-request-failed"))},qi(`https://apis.google.com/js/api.js?onload=${ct}`).catch(jt=>b(jt))}Ve()}}).catch(y=>{throw As=null,y})}(C),As}(C),b=xr().gapi;return Ce(b,C,"internal-error"),y.open({where:document.body,url:H_(C),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vh,dontclear:!0},T=>new Promise(function(){var Z=(0,_.Z)(function*(F,Ve){yield T.restyle({setHideOnLeave:!1});const ct=pe(C,"network-request-failed"),jt=xr().setTimeout(()=>{Ve(ct)},Tr.get());function an(){xr().clearTimeout(jt),F(T)}T.ping(an).then(an,()=>{Ve(ct)})});return function(F,Ve){return Z.apply(this,arguments)}}()))}),ni.apply(this,arguments)}const rr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wd=500,bh=600,ao="_blank",Eu="http://localhost";class Cu{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Vm="__/auth/handler",tg="emulator/auth/handler",ng=encodeURIComponent("fac");function Hm(C,y,b,T,Z,F){return wh.apply(this,arguments)}function wh(){return(wh=(0,_.Z)(function*(C,y,b,T,Z,F){Ce(C.config.authDomain,C,"auth-domain-config-required"),Ce(C.config.apiKey,C,"invalid-api-key");const Ve={apiKey:C.config.apiKey,appName:C.name,authType:b,redirectUrl:T,v:ve.SDK_VERSION,eventId:Z};if(y instanceof pr){y.setDefaultLanguage(C.languageCode),Ve.providerId=y.providerId||"",(0,X.xb)(y.getCustomParameters())||(Ve.customParameters=JSON.stringify(y.getCustomParameters()));for(const[In,vn]of Object.entries(F||{}))Ve[In]=vn}if(y instanceof as){const In=y.getScopes().filter(vn=>""!==vn);In.length>0&&(Ve.scopes=In.join(","))}C.tenantId&&(Ve.tid=C.tenantId);const ct=Ve;for(const In of Object.keys(ct))void 0===ct[In]&&delete ct[In];const jt=yield C._getAppCheckToken(),an=jt?`#${ng}=${encodeURIComponent(jt)}`:"";return`${function j_({config:C}){return C.emulator?It(C,tg):`https://${C.authDomain}/${Vm}`}(C)}?${(0,X.xO)(ct).slice(1)}${an}`})).apply(this,arguments)}const Tf="webStorageSupport",xh=class jm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=so,this._completeRedirectFn=tc,this._overrideRedirectResult=Zn}_openPopup(y,b,T,Z){var F=this;return(0,_.Z)(function*(){var Ve;mt(null===(Ve=F.eventManagers[y._key()])||void 0===Ve?void 0:Ve.manager,"_initialize() not called before _openPopup()");const ct=yield Hm(y,b,T,en(),Z);return function Du(C,y,b,T=wd,Z=bh){const F=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ve=Math.max((window.screen.availWidth-T)/2,0).toString();let ct="";const jt=Object.assign(Object.assign({},rr),{width:T.toString(),height:Z.toString(),top:F,left:Ve}),an=(0,X.z$)().toLowerCase();b&&(ct=sn(an)?ao:b),ot(an)&&(y=y||Eu,jt.scrollbars="yes");const In=Object.entries(jt).reduce((Xn,[Ni,Bd])=>`${Xn}${Ni}=${Bd},`,"");if(function tn(C=(0,X.z$)()){var y;return yt(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(an)&&"_self"!==ct)return function Um(C,y){const b=document.createElement("a");b.href=C,b.target=y;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(T)}(y||"",ct),new Cu(null);const vn=window.open(y||"",ct,In);Ce(vn,C,"popup-blocked");try{vn.focus()}catch{}return new Cu(vn)}(y,ct,Yn())})()}_openRedirect(y,b,T,Z){var F=this;return(0,_.Z)(function*(){return yield F._originValidation(y),function Oi(C){xr().location.href=C}(yield Hm(y,b,T,en(),Z)),new Promise(()=>{})})()}_initialize(y){const b=y._key();if(this.eventManagers[b]){const{manager:Z,promise:F}=this.eventManagers[b];return Z?Promise.resolve(Z):(mt(F,"If manager is not set, promise should be"),F)}const T=this.initAndGetManager(y);return this.eventManagers[b]={promise:T},T.catch(()=>{delete this.eventManagers[b]}),T}initAndGetManager(y){var b=this;return(0,_.Z)(function*(){const T=yield function Sf(C){return ni.apply(this,arguments)}(y),Z=new nc(y);return T.register("authEvent",F=>(Ce(F?.authEvent,y,"invalid-auth-event"),{status:Z.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[y._key()]={manager:Z},b.iframes[y._key()]=T,Z})()}_isIframeWebStorageSupported(y,b){this.iframes[y._key()].send(Tf,{type:Tf},Z=>{var F;const Ve=null===(F=Z?.[0])||void 0===F?void 0:F[Tf];void 0!==Ve&&b(!!Ve),De(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function wu(C){return xu.apply(this,arguments)}(y)),this.originValidationPromises[b]}get _shouldInitProactively(){return Vt()||Ye()||yt()}};class zm{constructor(y){this.factorId=y}_process(y,b,T){switch(b.type){case"enroll":return this._finalizeEnroll(y,b.credential,T);case"signin":return this._finalizeSignIn(y,b.credential);default:return $e("unexpected MultiFactorSessionType")}}}class ic extends zm{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new ic(y)}_finalizeEnroll(y,b,T){return function Xt(C,y){return at(C,"POST","/v2/accounts/mfaEnrollment:finalize",et(C,y))}(y,{idToken:b,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,b){return function $r(C,y){return at(C,"POST","/v2/accounts/mfaSignIn:finalize",et(C,y))}(y,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xd=(()=>{class C{constructor(){}static assertion(b){return ic._fromCredential(b)}}return C.FACTOR_ID="phone",C})();var $c="@firebase/auth";class $m{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var b=this;return(0,_.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const b=this.auth.onIdTokenChanged(T=>{y(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,b),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const b=this.internalListeners.get(y);b&&(this.internalListeners.delete(y),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pa(){return window}(0,X.Pz)("authIdTokenMaxAge"),function Af(C){(0,ve._registerComponent)(new we.wA("auth",(y,{options:b})=>{const T=y.getProvider("app").getImmediate(),Z=y.getProvider("heartbeat"),F=y.getProvider("app-check-internal"),{apiKey:Ve,authDomain:ct}=T.options;Ce(Ve&&!Ve.includes(":"),"invalid-api-key",{appName:T.name}),Ce(!ct?.includes(":"),"argument-error",{appName:T.name});const jt={apiKey:Ve,authDomain:ct,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mr(C)},an=new rs(T,Z,F,jt);return function Er(C,y){const b=y?.persistence||[],T=(Array.isArray(b)?b:[b]).map(j);y?.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(T,y?.popupRedirectResolver)}(an,b),an},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,b,T)=>{y.getProvider("auth-internal").initialize()})),(0,ve._registerComponent)(new we.wA("auth-internal",y=>{const b=Gn(y.getProvider("auth").getImmediate());return new $m(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)($c,"0.23.0",function Su(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,ve.registerVersion)($c,"0.23.0","esm2017")}("Browser");const Wc=2e3;function Eh(){return Eh=(0,_.Z)(function*(C,y,b){var T;const{BuildInfo:Z}=pa();mt(y.sessionId,"AuthEvent did not contain a session ID");const F=yield function Rf(C){return lo.apply(this,arguments)}(y.sessionId),Ve={};return yt()?Ve.ibi=Z.packageName:Oe()?Ve.apn=Z.packageName:De(C,"operation-not-supported-in-this-environment"),Z.displayName&&(Ve.appDisplayName=Z.displayName),Ve.sessionId=F,Hm(C,b,y.type,void 0,null!==(T=y.eventId)&&void 0!==T?T:void 0,Ve)}),Eh.apply(this,arguments)}function xc(){return(xc=(0,_.Z)(function*(C){const{BuildInfo:y}=pa(),b={};yt()?b.iosBundleId=y.packageName:Oe()?b.androidPackageName=y.packageName:De(C,"operation-not-supported-in-this-environment"),yield yd(C,b)})).apply(this,arguments)}function Au(){return(Au=(0,_.Z)(function*(C,y,b){const{cordova:T}=pa();let Z=()=>{};try{yield new Promise((F,Ve)=>{let ct=null;function jt(){var vn;F();const Xn=null===(vn=T.plugins.browsertab)||void 0===vn?void 0:vn.close;"function"==typeof Xn&&Xn(),"function"==typeof b?.close&&b.close()}function an(){ct||(ct=window.setTimeout(()=>{Ve(pe(C,"redirect-cancelled-by-user"))},Wc))}function In(){"visible"===document?.visibilityState&&an()}y.addPassiveListener(jt),document.addEventListener("resume",an,!1),Oe()&&document.addEventListener("visibilitychange",In,!1),Z=()=>{y.removePassiveListener(jt),document.removeEventListener("resume",an,!1),document.removeEventListener("visibilitychange",In,!1),ct&&window.clearTimeout(ct)}})}finally{Z()}})).apply(this,arguments)}function lo(){return(lo=(0,_.Z)(function*(C){const y=function z_(C){if(mt(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const y=new ArrayBuffer(C.length),b=new Uint8Array(y);for(let T=0;T<C.length;T++)b[T]=C.charCodeAt(T);return b}(C),b=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(b)).map(Z=>Z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Mu=20;class Ch extends nc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(y)),super.onEvent(y)}initialized(){var y=this;return(0,_.Z)(function*(){yield y.initPromise})()}}function Sd(C){return Of.apply(this,arguments)}function Of(){return(Of=(0,_.Z)(function*(C){const y=yield ga()._get(Pl(C));return y&&(yield ga()._remove(Pl(C))),y})).apply(this,arguments)}function hi(){const C=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<Mu;b++){const T=Math.floor(Math.random()*y.length);C.push(y.charAt(T))}return C.join("")}function ga(){return j(Is)}function Pl(C){return se("authEvent",C.config.apiKey,C.name)}function oc(C){if(!C?.includes("?"))return{};const[y,...b]=C.split("?");return(0,X.zd)(b.join("?"))}const dv=class Ih{constructor(){this._redirectPersistence=so,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tc,this._overrideRedirectResult=Zn}_initialize(y){var b=this;return(0,_.Z)(function*(){const T=y._key();let Z=b.eventManagers.get(T);return Z||(Z=new Ch(y),b.eventManagers.set(T,Z),b.attachCallbackListeners(y,Z)),Z})()}_openPopup(y){De(y,"operation-not-supported-in-this-environment")}_openRedirect(y,b,T,Z){var F=this;return(0,_.Z)(function*(){!function qo(C){var y,b,T,Z,F,Ve,ct,jt,an,In;const vn=pa();Ce("function"==typeof(null===(y=vn?.universalLinks)||void 0===y?void 0:y.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(typeof(null===(b=vn?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce("function"==typeof(null===(F=null===(Z=null===(T=vn?.cordova)||void 0===T?void 0:T.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===F?void 0:F.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(jt=null===(ct=null===(Ve=vn?.cordova)||void 0===Ve?void 0:Ve.plugins)||void 0===ct?void 0:ct.browsertab)||void 0===jt?void 0:jt.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(In=null===(an=vn?.cordova)||void 0===an?void 0:an.InAppBrowser)||void 0===In?void 0:In.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const Ve=yield F._initialize(y);yield Ve.initialized(),Ve.resetRedirect(),function An(){ne.clear()}(),yield F._originValidation(y);const ct=function sc(C,y,b=null){return{type:y,eventId:b,urlResponse:null,sessionId:hi(),postBody:null,tenantId:C.tenantId,error:pe(C,"no-auth-event")}}(y,T,Z);yield function Id(C,y){return ga()._set(Pl(C),y)}(y,ct);const jt=yield function Dd(C,y,b){return Eh.apply(this,arguments)}(y,ct,b),an=yield function Mf(C){const{cordova:y}=pa();return new Promise(b=>{y.plugins.browsertab.isAvailable(T=>{let Z=null;T?y.plugins.browsertab.openUrl(C):Z=y.InAppBrowser.open(C,function Lt(C=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),b(Z)})})}(jt);return function kf(C,y,b){return Au.apply(this,arguments)}(y,Ve,an)})()}_isIframeWebStorageSupported(y,b){throw new Error("Method not implemented.")}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function La(C){return xc.apply(this,arguments)}(y)),this.originValidationPromises[b]}attachCallbackListeners(y,b){const{universalLinks:T,handleOpenURL:Z,BuildInfo:F}=pa(),Ve=setTimeout((0,_.Z)(function*(){yield Sd(y),b.onEvent(Km())}),500),ct=function(){var In=(0,_.Z)(function*(vn){clearTimeout(Ve);const Xn=yield Sd(y);let Ni=null;Xn&&vn?.url&&(Ni=function Td(C,y){var b,T;const Z=function ku(C){const y=oc(C),b=y.link?decodeURIComponent(y.link):void 0,T=oc(b).link,Z=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return oc(Z).link||Z||T||b||C}(y);if(Z.includes("/__/auth/callback")){const F=oc(Z),Ve=F.firebaseError?function Dh(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(F.firebaseError)):null,ct=null===(T=null===(b=Ve?.code)||void 0===b?void 0:b.split("auth/"))||void 0===T?void 0:T[1],jt=ct?pe(ct):null;return jt?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:jt,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:Z,postBody:null}}return null}(Xn,vn.url)),b.onEvent(Ni||Km())});return function(Xn){return In.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,ct);const jt=Z,an=`${F.packageName.toLowerCase()}://`;pa().handleOpenURL=function(){var In=(0,_.Z)(function*(vn){if(vn.toLowerCase().startsWith(an)&&ct({url:vn}),"function"==typeof jt)try{jt(vn)}catch(Xn){console.error(Xn)}});return function(vn){return In.apply(this,arguments)}}()}};function Km(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pe("no-auth-event")}}const Md=1e3;function Ou(){var C;return(null===(C=self?.location)||void 0===C?void 0:C.protocol)||null}function kd(C=(0,X.z$)()){return!("file:"!==Ou()&&"ionic:"!==Ou()&&"capacitor:"!==Ou()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ar(){try{const C=self.localStorage,y=Yn();if(C)return C.setItem(y,"1"),C.removeItem(y),!function Ym(C=(0,X.z$)()){return function Yc(){return(0,X.w1)()&&11===document?.documentMode}()||function Pf(C=(0,X.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,X.hl)()}catch{return Od()&&(0,X.hl)()}return!1}function Od(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Th(){return(function Kc(){return"http:"===Ou()||"https:"===Ou()}()||(0,X.ru)()||kd())&&!function Rd(){return(0,X.b$)()||(0,X.UG)()}()&&Ar()&&!Od()}function Pd(){return kd()&&typeof document<"u"}function ac(){return(ac=(0,_.Z)(function*(){return!!Pd()&&new Promise(C=>{const y=setTimeout(()=>{C(!1)},Md);document.addEventListener("deviceready",()=>{clearTimeout(y),C(!0)})})})).apply(this,arguments)}const Zo={LOCAL:"local",NONE:"none",SESSION:"session"},Nl=Ce,No="persistence";function Nf(C){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,_.Z)(function*(C){yield C._initializationPromise;const y=Fd(),b=se(No,C.config.apiKey,C.name);y&&y.setItem(b,C._getPersistence())})).apply(this,arguments)}function Fd(){var C;try{return(null===(C=function $_(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const _a=Ce;class Qo{constructor(){this.browserResolver=j(xh),this.cordovaResolver=j(dv),this.underlyingResolver=null,this._redirectPersistence=so,this._completeRedirectFn=tc,this._overrideRedirectResult=Zn}_initialize(y){var b=this;return(0,_.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,b,T,Z){var F=this;return(0,_.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openPopup(y,b,T,Z)})()}_openRedirect(y,b,T,Z){var F=this;return(0,_.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openRedirect(y,b,T,Z)})()}_isIframeWebStorageSupported(y,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,b)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return Pd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _a(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,_.Z)(function*(){if(y.underlyingResolver)return;const b=yield function Nd(){return ac.apply(this,arguments)}();y.underlyingResolver=b?y.cordovaResolver:y.browserResolver})()}}function Ld(C){return C.unwrap()}function qm(C){return Uf(C)}function Uf(C){const{_tokenResponse:y}=C instanceof X.ZR?C.customData:C;if(!y)return null;if(!(C instanceof X.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return pn.credentialFromResult(C);const b=y.providerId;if(!b||b===xe.PASSWORD)return null;let T;switch(b){case xe.GOOGLE:T=mo;break;case xe.FACEBOOK:T=Ps;break;case xe.GITHUB:T=to;break;case xe.TWITTER:T=Qa;break;default:const{oauthIdToken:Z,oauthAccessToken:F,oauthTokenSecret:Ve,pendingToken:ct,nonce:jt}=y;return F||Ve||Z||ct?ct?b.startsWith("saml.")?no._create(b,ct):Os._fromParams({providerId:b,signInMethod:b,pendingToken:ct,idToken:Z,accessToken:F}):new Hi(b).credential({idToken:Z,accessToken:F,rawNonce:jt}):null}return C instanceof X.ZR?T.credentialFromError(C):T.credentialFromResult(C)}function Xi(C,y){return y.catch(b=>{throw b instanceof X.ZR&&function Bf(C,y){var b;const T=null===(b=y.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===y?.code)y.resolver=new rg(C,function $n(C,y){var b;const T=(0,X.m9)(C),Z=y;return Ce(y.customData.operationType,T,"argument-error"),Ce(null===(b=Z.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,T,"argument-error"),Kn._fromError(T,Z)}(C,y));else if(T){const Z=Uf(y),F=y;Z&&(F.credential=Z,F.tenantId=T.tenantId||void 0,F.email=T.email||void 0,F.phoneNumber=T.phoneNumber||void 0)}}(C,b),b}).then(b=>{const Z=b.user;return{operationType:b.operationType,credential:qm(b),additionalUserInfo:md(b),user:Ba.getOrCreate(Z)}})}function Li(C,y){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,_.Z)(function*(C,y){const b=yield y;return{verificationId:b.verificationId,confirm:T=>Xi(C,b.confirm(T))}})).apply(this,arguments)}class rg{constructor(y,b){this.resolver=b,this.auth=function Lf(C){return C.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return Xi(Ld(this.auth),this.resolver.resolveSignIn(y))}}class Ba{constructor(y){this._delegate=y,this.multiFactor=function cr(C){const y=(0,X.m9)(C);return Ht.has(y)||Ht.set(y,pt._fromUser(y)),Ht.get(y)}(y)}static getOrCreate(y){return Ba.USER_MAP.has(y)||Ba.USER_MAP.set(y,new Ba(y)),Ba.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var b=this;return(0,_.Z)(function*(){return Xi(b.auth,Y(b._delegate,y))})()}linkWithPhoneNumber(y,b){var T=this;return(0,_.Z)(function*(){return Li(T.auth,function M(C,y,b){return D.apply(this,arguments)}(T._delegate,y,b))})()}linkWithPopup(y){var b=this;return(0,_.Z)(function*(){return Xi(b.auth,function Hs(C,y,b){return ph.apply(this,arguments)}(b._delegate,y,Qo))})()}linkWithRedirect(y){var b=this;return(0,_.Z)(function*(){return yield Nf(Gn(b.auth)),Ko(b._delegate,y,Qo)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var b=this;return(0,_.Z)(function*(){return Xi(b.auth,z(b._delegate,y))})()}reauthenticateWithPhoneNumber(y,b){return Li(this.auth,function L(C,y,b){return q.apply(this,arguments)}(this._delegate,y,b))}reauthenticateWithPopup(y){return Xi(this.auth,function mh(C,y,b){return fl.apply(this,arguments)}(this._delegate,y,Qo))}reauthenticateWithRedirect(y){var b=this;return(0,_.Z)(function*(){return yield Nf(Gn(b.auth)),fa(b._delegate,y,Qo)})()}sendEmailVerification(y){return function Sa(C,y){return Ta.apply(this,arguments)}(this._delegate,y)}unlink(y){var b=this;return(0,_.Z)(function*(){return yield function ro(C,y){return gr.apply(this,arguments)}(b._delegate,y),b})()}updateEmail(y){return function Ao(C,y){return rl((0,X.m9)(C),y,null)}(this._delegate,y)}updatePassword(y){return function _r(C,y){return rl((0,X.m9)(C),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function tt(C,y){return zt.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function mu(C,y){return ts.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,b){return function Kl(C,y,b){return vc.apply(this,arguments)}(this._delegate,y,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ba.USER_MAP=new WeakMap;const Zc=Ce;let Ec=(()=>{class C{constructor(b,T){if(this.app=b,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Z}=b.options;Zc(Z,"invalid-api-key",{appName:b.name}),Zc(Z,"invalid-api-key",{appName:b.name});const F=typeof window<"u"?Qo:void 0;this._delegate=T.initialize({options:{persistence:Qc(Z,b.name),popupRedirectResolver:F}}),this._delegate._updateErrorMap(xt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ba.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,T){!function Cr(C,y,b){const T=Gn(C);Ce(T._canInitEmulator,T,"emulator-config-failed"),Ce(/^https?:\/\//.test(y),T,"invalid-emulator-scheme");const Z=!!b?.disableWarnings,F=qn(y),{host:Ve,port:ct}=function Hr(C){const y=qn(C),b=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!b)return{host:"",port:null};const T=b[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(T);if(Z){const F=Z[1];return{host:F,port:ia(T.substr(F.length+1))}}{const[F,Ve]=T.split(":");return{host:F,port:ia(Ve)}}}(y);T.config.emulator={url:`${F}//${Ve}${null===ct?"":`:${ct}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Ve,port:ct,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function Ea(){function C(){const y=document.createElement("p"),b=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,b,T)}applyActionCode(b){return function Bc(C,y){return Tl.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return Qi(this._delegate,b)}confirmPasswordReset(b,T){return function Il(C,y,b){return Sl.apply(this,arguments)}(this._delegate,b,T)}createUserWithEmailAndPassword(b,T){var Z=this;return(0,_.Z)(function*(){return Xi(Z._delegate,function Qr(C,y,b){return ca.apply(this,arguments)}(Z._delegate,b,T))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function il(C,y){return Wo.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function el(C,y){return"EMAIL_SIGNIN"===os.parseLink(y)?.operation}(0,b)}getRedirectResult(){var b=this;return(0,_.Z)(function*(){Zc(Th(),b._delegate,"operation-not-supported-in-this-environment");const T=yield function gd(C,y){return vu.apply(this,arguments)}(b._delegate,Qo);return T?Xi(b._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function Sh(C,y){Gn(C)._logFramework(y)}(this._delegate,b)}onAuthStateChanged(b,T,Z){const{next:F,error:Ve,complete:ct}=Ua(b,T,Z);return this._delegate.onAuthStateChanged(F,Ve,ct)}onIdTokenChanged(b,T,Z){const{next:F,error:Ve,complete:ct}=Ua(b,T,Z);return this._delegate.onIdTokenChanged(F,Ve,ct)}sendSignInLinkToEmail(b,T){return function Al(C,y,b){return Ia.apply(this,arguments)}(this._delegate,b,T)}sendPasswordResetEmail(b,T){return function Cs(C,y,b){return Dl.apply(this,arguments)}(this._delegate,b,T||void 0)}setPersistence(b){var T=this;return(0,_.Z)(function*(){let Z;switch(function ig(C,y){Nl(Object.values(Zo).includes(y),C,"invalid-persistence-type"),(0,X.b$)()?Nl(y!==Zo.SESSION,C,"unsupported-persistence-type"):(0,X.UG)()?Nl(y===Zo.NONE,C,"unsupported-persistence-type"):Od()?Nl(y===Zo.NONE||y===Zo.LOCAL&&(0,X.hl)(),C,"unsupported-persistence-type"):Nl(y===Zo.NONE||Ar(),C,"unsupported-persistence-type")}(T._delegate,b),b){case Zo.SESSION:Z=so;break;case Zo.LOCAL:Z=(yield j(gt)._isAvailable())?gt:Is;break;case Zo.NONE:Z=Ie;break;default:return De("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(Z)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return Xi(this._delegate,function ls(C){return io.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return Xi(this._delegate,$l(this._delegate,b))}signInWithCustomToken(b){return Xi(this._delegate,function Bn(C,y){return vi.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,T){return Xi(this._delegate,function yc(C,y,b){return $l((0,X.m9)(C),Es.credential(y,b))}(this._delegate,b,T))}signInWithEmailLink(b,T){return Xi(this._delegate,function tl(C,y,b){return Ml.apply(this,arguments)}(this._delegate,b,T))}signInWithPhoneNumber(b,T){return Li(this._delegate,function Pa(C,y,b){return A.apply(this,arguments)}(this._delegate,b,T))}signInWithPopup(b){var T=this;return(0,_.Z)(function*(){return Zc(Th(),T._delegate,"operation-not-supported-in-this-environment"),Xi(T._delegate,function Fa(C,y,b){return ua.apply(this,arguments)}(T._delegate,b,Qo))})()}signInWithRedirect(b){var T=this;return(0,_.Z)(function*(){return Zc(Th(),T._delegate,"operation-not-supported-in-this-environment"),yield Nf(T._delegate),ha(T._delegate,b,Qo)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function Ja(C,y){return Ds.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Zo,C})();function Ua(C,y,b){let T=C;"function"!=typeof C&&({next:T,error:y,complete:b}=C);const Z=T;return{next:Ve=>Z(Ve&&Ba.getOrCreate(Ve)),error:y,complete:b}}function Qc(C,y){const b=function qc(C,y){const b=Fd();if(!b)return[];const T=se(No,C,y);switch(b.getItem(T)){case Zo.NONE:return[Ie];case Zo.LOCAL:return[gt,so];case Zo.SESSION:return[so];default:return[]}}(C,y);if(typeof self<"u"&&!b.includes(gt)&&b.push(gt),typeof window<"u")for(const T of[Is,so])b.includes(T)||b.push(T);return b.includes(Ie)||b.push(Ie),b}class Ah{constructor(){this.providerId="phone",this._delegate=new pn(Ld(h.Z.auth()))}static credential(y,b){return pn.credential(y,b)}verifyPhoneNumber(y,b){return this._delegate.verifyPhoneNumber(y,b)}unwrap(){return this._delegate}}Ah.PHONE_SIGN_IN_METHOD=pn.PHONE_SIGN_IN_METHOD,Ah.PROVIDER_ID=pn.PROVIDER_ID;const sg=Ce;class og{constructor(y,b,T=h.Z.app()){var Z;sg(null===(Z=T.options)||void 0===Z?void 0:Z.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new Zs(y,b,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cc(C){C.INTERNAL.registerComponent(new we.wA("auth-compat",y=>{const b=y.getProvider("app-compat").getImmediate(),T=y.getProvider("auth");return new Ec(b,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:me_EMAIL_SIGNIN,PASSWORD_RESET:me_PASSWORD_RESET,RECOVER_EMAIL:me_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:me_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:me_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:me_VERIFY_EMAIL}},EmailAuthProvider:Es,FacebookAuthProvider:Ps,GithubAuthProvider:to,GoogleAuthProvider:mo,OAuthProvider:Hi,SAMLAuthProvider:zo,PhoneAuthProvider:Ah,PhoneMultiFactorGenerator:xd,RecaptchaVerifier:og,TwitterAuthProvider:Qa,Auth:Ec,AuthCredential:Dr,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.4.0")}(h.Z)},8766:(Wt,Ge,O)=>{O.d(Ge,{Lj:()=>He,X3:()=>Ct});var _=O(5861);const h=(ge,Ce)=>Ce.some($e=>ge instanceof $e);let X,ve;const we=new WeakMap,ce=new WeakMap,xe=new WeakMap,ie=new WeakMap,ye=new WeakMap;let Ke={get(ge,Ce,$e){if(ge instanceof IDBTransaction){if("done"===Ce)return ce.get(ge);if("objectStoreNames"===Ce)return ge.objectStoreNames||xe.get(ge);if("store"===Ce)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return Le(ge[Ce])},set:(ge,Ce,$e)=>(ge[Ce]=$e,!0),has:(ge,Ce)=>ge instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in ge};function qe(ge){return"function"==typeof ge?function ht(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...Ce){return ge.apply(Ee(this),Ce),Le(we.get(this))}:function(...Ce){return Le(ge.apply(Ee(this),Ce))}:function(Ce,...$e){const mt=ge.call(Ee(this),Ce,...$e);return xe.set(mt,Ce.sort?Ce.sort():[Ce]),Le(mt)}}(ge):(ge instanceof IDBTransaction&&function nt(ge){if(ce.has(ge))return;const Ce=new Promise(($e,mt)=>{const en=()=>{ge.removeEventListener("complete",Pt),ge.removeEventListener("error",rt),ge.removeEventListener("abort",rt)},Pt=()=>{$e(),en()},rt=()=>{mt(ge.error||new DOMException("AbortError","AbortError")),en()};ge.addEventListener("complete",Pt),ge.addEventListener("error",rt),ge.addEventListener("abort",rt)});ce.set(ge,Ce)}(ge),h(ge,function Ae(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,Ke):ge)}function Le(ge){if(ge instanceof IDBRequest)return function me(ge){const Ce=new Promise(($e,mt)=>{const en=()=>{ge.removeEventListener("success",Pt),ge.removeEventListener("error",rt)},Pt=()=>{$e(Le(ge.result)),en()},rt=()=>{mt(ge.error),en()};ge.addEventListener("success",Pt),ge.addEventListener("error",rt)});return Ce.then($e=>{$e instanceof IDBCursor&&we.set($e,ge)}).catch(()=>{}),ye.set(Ce,ge),Ce}(ge);if(ie.has(ge))return ie.get(ge);const Ce=qe(ge);return Ce!==ge&&(ie.set(ge,Ce),ye.set(Ce,ge)),Ce}const Ee=ge=>ye.get(ge);function Ct(ge,Ce,{blocked:$e,upgrade:mt,blocking:en,terminated:Pt}={}){const rt=indexedDB.open(ge,Ce),ft=Le(rt);return mt&&rt.addEventListener("upgradeneeded",Et=>{mt(Le(rt.result),Et.oldVersion,Et.newVersion,Le(rt.transaction))}),$e&&rt.addEventListener("blocked",()=>$e()),ft.then(Et=>{Pt&&Et.addEventListener("close",()=>Pt()),en&&Et.addEventListener("versionchange",()=>en())}).catch(()=>{}),ft}function He(ge,{blocked:Ce}={}){const $e=indexedDB.deleteDatabase(ge);return Ce&&$e.addEventListener("blocked",()=>Ce()),Le($e).then(()=>{})}const De=["get","getKey","getAll","getAllKeys","count"],pe=["put","add","delete","clear"],ze=new Map;function Xe(ge,Ce){if(!(ge instanceof IDBDatabase)||Ce in ge||"string"!=typeof Ce)return;if(ze.get(Ce))return ze.get(Ce);const $e=Ce.replace(/FromIndex$/,""),mt=Ce!==$e,en=pe.includes($e);if(!($e in(mt?IDBIndex:IDBObjectStore).prototype)||!en&&!De.includes($e))return;const Pt=function(){var rt=(0,_.Z)(function*(ft,...Et){const kt=this.transaction(ft,en?"readwrite":"readonly");let It=kt.store;return mt&&(It=It.index(Et.shift())),(yield Promise.all([It[$e](...Et),en&&kt.done]))[0]});return function(Et){return rt.apply(this,arguments)}}();return ze.set(Ce,Pt),Pt}!function xt(ge){Ke=ge(Ke)}(ge=>({...ge,get:(Ce,$e,mt)=>Xe(Ce,$e)||ge.get(Ce,$e,mt),has:(Ce,$e)=>!!Xe(Ce,$e)||ge.has(Ce,$e)}))},5861:(Wt,Ge,O)=>{function _(X,ve,Ae,Se,we,ce,xe){try{var ie=X[ce](xe),ye=ie.value}catch(me){return void Ae(me)}ie.done?ve(ye):Promise.resolve(ye).then(Se,we)}function h(X){return function(){var ve=this,Ae=arguments;return new Promise(function(Se,we){var ce=X.apply(ve,Ae);function xe(ye){_(ce,Se,we,xe,ie,"next",ye)}function ie(ye){_(ce,Se,we,xe,ie,"throw",ye)}xe(void 0)})}}O.d(Ge,{Z:()=>h})}},Wt=>{Wt(Wt.s=687)}]);