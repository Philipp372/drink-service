"use strict";(self.webpackChunkapregolfer=self.webpackChunkapregolfer||[]).push([[179],{6217:(Wt,Ge,P)=>{P.d(Ge,{nm:()=>Ri});var _=P(2122);P(4650),P(259);var Ve=P(5861),De=P(9681),me=P(4859),ze=P(2090),Xe=P(1877);const ge=new Map,Ce={activated:!1,tokenObservers:[]},$e={initialized:!1,enabled:!1};function mt(Qe){return ge.get(Qe)||Object.assign({},Ce)}function Nt(){return $e}const rt="https://content-firebaseappcheck.googleapis.com/v1",Mt="exchangeDebugToken",It={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class St{constructor(je,lt,Ut,Zt,pn){if(this.operation=je,this.retryPolicy=lt,this.getWaitDuration=Ut,this.lowerBound=Zt,this.upperBound=pn,this.pending=null,this.nextErrorWaitInterval=Zt,Zt>pn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(je){var lt=this;return(0,Ve.Z)(function*(){lt.stop();try{lt.pending=new ze.BH,yield function bt(Qe){return new Promise(je=>{setTimeout(je,Qe)})}(lt.getNextRun(je)),lt.pending.resolve(),yield lt.pending.promise,lt.pending=new ze.BH,yield lt.operation(),lt.pending.resolve(),yield lt.pending.promise,lt.process(!0).catch(()=>{})}catch(Ut){lt.retryPolicy(Ut)?lt.process(!1).catch(()=>{}):lt.stop()}})()}getNextRun(je){if(je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const lt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),lt}}}const at=new ze.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function On(Qe,je){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,Ve.Z)(function*({url:Qe,body:je},lt){const Ut={"Content-Type":"application/json"},Zt=lt.getImmediate({optional:!0});if(Zt){const Mr=yield Zt.getHeartbeatsHeader();Mr&&(Ut["X-Firebase-Client"]=Mr)}const pn={method:"POST",body:JSON.stringify(je),headers:Ut};let ei,Wn;try{ei=yield fetch(Qe,pn)}catch(Mr){throw at.create("fetch-network-error",{originalErrorMessage:Mr?.message})}if(200!==ei.status)throw at.create("fetch-status-error",{httpStatus:ei.status});try{Wn=yield ei.json()}catch(Mr){throw at.create("fetch-parse-error",{originalErrorMessage:Mr?.message})}const ni=Wn.ttl.match(/^([\d.]+)(s)$/);if(!ni||!ni[2]||isNaN(Number(ni[1])))throw at.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Wn.ttl}`});const or=1e3*Number(ni[1]),Ar=Date.now();return{token:Wn.token,expireTimeMillis:Ar+or,issuedAtTimeMillis:Ar}})).apply(this,arguments)}const gn="firebase-app-check-database",ri=1,pi="firebase-app-check-store";let ci=null;function Di(Qe,je){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,Ve.Z)(function*(Qe,je){const Ut=(yield function fn(){return ci||(ci=new Promise((Qe,je)=>{try{const lt=indexedDB.open(gn,ri);lt.onsuccess=Ut=>{Qe(Ut.target.result)},lt.onerror=Ut=>{var Zt;je(at.create("storage-open",{originalErrorMessage:null===(Zt=Ut.target.error)||void 0===Zt?void 0:Zt.message}))},lt.onupgradeneeded=Ut=>{0===Ut.oldVersion&&Ut.target.result.createObjectStore(pi,{keyPath:"compositeKey"})}}catch(lt){je(at.create("storage-open",{originalErrorMessage:lt?.message}))}}),ci)}()).transaction(pi,"readwrite"),pn=Ut.objectStore(pi).put({compositeKey:Qe,value:je});return new Promise((ei,Wn)=>{pn.onsuccess=ni=>{ei()},Ut.onerror=ni=>{var or;Wn(at.create("storage-set",{originalErrorMessage:null===(or=ni.target.error)||void 0===or?void 0:or.message}))}})})).apply(this,arguments)}const Ot=new Xe.Yd("@firebase/app-check");function Ft(Qe,je){return(0,ze.hl)()?function Gi(Qe,je){return Di(function Un(Qe){return`${Qe.options.appId}-${Qe.name}`}(Qe),je)}(Qe,je).catch(lt=>{Ot.warn(`Failed to write token to IndexedDB. Error: ${lt}`)}):Promise.resolve()}function Rn(){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,Ve.Z)(function*(){const Qe=Nt();if(Qe.enabled&&Qe.token)return Qe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $t={error:"UNKNOWN_ERROR"};function Re(Qe){return ze.US.encodeString(JSON.stringify(Qe),!1)}function K(Qe){return N.apply(this,arguments)}function N(){return(N=(0,Ve.Z)(function*(Qe,je=!1){const lt=Qe.app;!function sn(Qe){if(!mt(Qe).activated)throw at.create("use-before-activation",{appName:Qe.name})}(lt);const Ut=mt(lt);let pn,Zt=Ut.token;if(Zt&&!Fe(Zt)&&(Ut.token=void 0,Zt=void 0),!Zt){const ni=yield Ut.cachedTokenPromise;ni&&(Fe(ni)?Zt=ni:yield Ft(lt,void 0))}if(!je&&Zt&&Fe(Zt))return{token:Zt.token};let Wn,ei=!1;if(function Vi(){return Nt().enabled}()){Ut.exchangeTokenPromise||(Ut.exchangeTokenPromise=On(function yi(Qe,je){const{projectId:lt,appId:Ut,apiKey:Zt}=Qe.options;return{url:`${rt}/projects/${lt}/apps/${Ut}:${Mt}?key=${Zt}`,body:{debug_token:je}}}(lt,yield Rn()),Qe.heartbeatServiceProvider).finally(()=>{Ut.exchangeTokenPromise=void 0}),ei=!0);const ni=yield Ut.exchangeTokenPromise;return yield Ft(lt,ni),Ut.token=ni,{token:ni.token}}try{Ut.exchangeTokenPromise||(Ut.exchangeTokenPromise=Ut.provider.getToken().finally(()=>{Ut.exchangeTokenPromise=void 0}),ei=!0),Zt=yield mt(lt).exchangeTokenPromise}catch(ni){"appCheck/throttled"===ni.code?Ot.warn(ni.message):Ot.error(ni),pn=ni}return Zt?pn?Wn=Fe(Zt)?{token:Zt.token,internalError:pn}:ot(pn):(Wn={token:Zt.token},Ut.token=Zt,yield Ft(lt,Zt)):Wn=ot(pn),ei&&function be(Qe,je){const lt=mt(Qe).tokenObservers;for(const Ut of lt)try{"EXTERNAL"===Ut.type&&null!=je.error?Ut.error(je.error):Ut.next(je)}catch{}}(lt,Wn),Wn})).apply(this,arguments)}function ue(Qe,je){const lt=mt(Qe),Ut=lt.tokenObservers.filter(Zt=>Zt.next!==je);0===Ut.length&&lt.tokenRefresher&&lt.tokenRefresher.isRunning()&&lt.tokenRefresher.stop(),lt.tokenObservers=Ut}function Ie(Qe){const{app:je}=Qe,lt=mt(je);let Ut=lt.tokenRefresher;Ut||(Ut=function se(Qe){const{app:je}=Qe;return new St((0,Ve.Z)(function*(){let Ut;if(Ut=mt(je).token?yield K(Qe,!0):yield K(Qe),Ut.error)throw Ut.error;if(Ut.internalError)throw Ut.internalError}),()=>!0,()=>{const lt=mt(je);if(lt.token){let Ut=lt.token.issuedAtTimeMillis+.5*(lt.token.expireTimeMillis-lt.token.issuedAtTimeMillis)+3e5;return Ut=Math.min(Ut,lt.token.expireTimeMillis-3e5),Math.max(0,Ut-Date.now())}return 0},It.RETRIAL_MIN_WAIT,It.RETRIAL_MAX_WAIT)}(Qe),lt.tokenRefresher=Ut),!Ut.isRunning()&&lt.isTokenAutoRefreshEnabled&&Ut.start()}function Fe(Qe){return Qe.expireTimeMillis-Date.now()>0}function ot(Qe){return{token:Re($t),error:Qe}}class Ye{constructor(je,lt){this.app=je,this.heartbeatServiceProvider=lt}_delete(){const{tokenObservers:je}=mt(this.app);for(const lt of je)ue(this.app,lt.next);return Promise.resolve()}}const Tr="app-check-internal";!function es(){(0,De._registerComponent)(new me.wA("app-check",Qe=>function on(Qe,je){return new Ye(Qe,je)}(Qe.getProvider("app").getImmediate(),Qe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Qe,je,lt)=>{Qe.getProvider(Tr).initialize()})),(0,De._registerComponent)(new me.wA(Tr,Qe=>function Ne(Qe){return{getToken:je=>K(Qe,je),addTokenListener:je=>function H(Qe,je,lt,Ut){const{app:Zt}=Qe,pn=mt(Zt);if(pn.tokenObservers=[...pn.tokenObservers,{next:lt,error:Ut,type:je}],pn.token&&Fe(pn.token)){const Wn=pn.token;Promise.resolve().then(()=>{lt({token:Wn.token}),Ie(Qe)}).catch(()=>{})}pn.cachedTokenPromise.then(()=>Ie(Qe))}(Qe,"INTERNAL",je),removeTokenListener:je=>ue(Qe.app,je)}}(Qe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)("@firebase/app-check","0.6.5")}();class Ri{constructor(){return(0,_.vb)("app-check")}}typeof window<"u"&&window},3385:(Wt,Ge,P)=>{P.d(Ge,{zQ:()=>mt,ww:()=>nn,rT:()=>Xe,f7:()=>Ce,L6:()=>me,_Q:()=>ze,lh:()=>ge,Qv:()=>De,nw:()=>$e});var _=P(4650),h=P(7579),Q=P(9646),ve=P(9751),Ae=P(8996),Se=P(6451),we=P(5363),ce=P(3900),xe=P(4004),ne=P(3151),_e=P(590),pe=P(576);function nt(Nt,rt){return(0,pe.m)(rt)?(0,ce.w)(()=>Nt,rt):(0,ce.w)(()=>Nt)}var Ke=P(9468),xt=P(9300),ht=P(2122),Ze=P(2011),Le=P(6895),Ee=P(6217),Ct=P(9260);const De=new _.OlP("angularfire2.auth.use-emulator"),me=new _.OlP("angularfire2.auth.settings"),ze=new _.OlP("angularfire2.auth.tenant-id"),Xe=new _.OlP("angularfire2.auth.langugage-code"),ge=new _.OlP("angularfire2.auth.use-device-language"),Ce=new _.OlP("angularfire.auth.persistence"),$e=(Nt,rt,ft,Et,Mt,It,kt,St)=>(0,Ze.cc)(`${Nt.name}.auth`,"AngularFireAuth",Nt.name,()=>{const bt=rt.runOutsideAngular(()=>Nt.auth());if(ft&&bt.useEmulator(...ft),Et&&(bt.tenantId=Et),bt.languageCode=Mt,It&&bt.useDeviceLanguage(),kt)for(const[et,at]of Object.entries(kt))bt.settings[et]=at;return St&&bt.setPersistence(St),bt},[ft,Et,Mt,It,kt,St]);let mt=(()=>{class Nt{constructor(ft,Et,Mt,It,kt,St,bt,et,at,bn,sn,Tn){const wn=new h.x,On=(0,Q.of)(void 0).pipe((0,we.Q)(kt.outsideAngular),(0,ce.w)(()=>It.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,6689)))),(0,xe.U)(()=>(0,Ze.on)(ft,It,Et)),(0,xe.U)(Hn=>$e(Hn,It,St,et,at,bn,bt,sn)),(0,ne.d)({bufferSize:1,refCount:!1}));if((0,Le.PM)(Mt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Q.of)(null);else{On.pipe((0,_e.P)()).subscribe();const Ci=On.pipe((0,ce.w)(gn=>gn.getRedirectResult().then(ri=>ri,()=>null)),ht.iC,(0,ne.d)({bufferSize:1,refCount:!1})),jn=On.pipe((0,ce.w)(gn=>new ve.y(ri=>({unsubscribe:It.runOutsideAngular(()=>gn.onAuthStateChanged(pi=>ri.next(pi),pi=>ri.error(pi),()=>ri.complete()))})))),yi=On.pipe((0,ce.w)(gn=>new ve.y(ri=>({unsubscribe:It.runOutsideAngular(()=>gn.onIdTokenChanged(pi=>ri.next(pi),pi=>ri.error(pi),()=>ri.complete()))}))));this.authState=Ci.pipe(nt(jn),(0,Ke.R)(kt.outsideAngular),(0,we.Q)(kt.insideAngular)),this.user=Ci.pipe(nt(yi),(0,Ke.R)(kt.outsideAngular),(0,we.Q)(kt.insideAngular)),this.idToken=this.user.pipe((0,ce.w)(gn=>gn?(0,Ae.D)(gn.getIdToken()):(0,Q.of)(null))),this.idTokenResult=this.user.pipe((0,ce.w)(gn=>gn?(0,Ae.D)(gn.getIdTokenResult()):(0,Q.of)(null))),this.credential=(0,Se.T)(Ci,wn,this.authState.pipe((0,xt.h)(gn=>!gn))).pipe((0,xe.U)(gn=>gn?.user?gn:null),(0,Ke.R)(kt.outsideAngular),(0,we.Q)(kt.insideAngular))}return(0,Ze.pX)(this,On,It,{spy:{apply:(Hn,Ci,jn)=>{(Hn.startsWith("signIn")||Hn.startsWith("createUser"))&&jn.then(yi=>wn.next(yi))}}})}}return Nt.\u0275fac=function(ft){return new(ft||Nt)(_.LFG(Ze.Dh),_.LFG(Ze.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(ht.HU),_.LFG(De,8),_.LFG(me,8),_.LFG(ze,8),_.LFG(Xe,8),_.LFG(ge,8),_.LFG(Ce,8),_.LFG(Ee.nm,8))},Nt.\u0275prov=_.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"any"}),Nt})(),nn=(()=>{class Nt{constructor(){Ct.Z.registerVersion("angularfire",ht.q4.full,"auth-compat")}}return Nt.\u0275fac=function(ft){return new(ft||Nt)},Nt.\u0275mod=_.oAB({type:Nt}),Nt.\u0275inj=_.cJS({providers:[mt]}),Nt})()},3101:(Wt,Ge,P)=>{P.d(Ge,{ST:()=>Qy,yb:()=>b_});var _=P(4650),h=P(4986),Q=P(9751),ve=P(8996),Ae=P(9646),Se=P(2122),we=P(8675),ce=P(4482),xe=P(5403);function ne(){return(0,ce.e)((a,t)=>{let i,c=!1;a.subscribe((0,xe.x)(t,m=>{const v=i;i=m,c&&t.next([v,m]),c=!0}))})}var ge,_e=P(4004),pe=P(5026),nt=P(1884),Ke=P(9300),xt=P(2011),ht=P(6895),Le=(P(6689),P(3942)),Ee=P(5861),Ct=P(9681),Ve=P(4859),De=P(1877),me=P(2090),ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xe={},Ce=Ce||{},$e=ze||self;function mt(){}function nn(a){var t=typeof a;return"array"==(t="object"!=t?t:a?Array.isArray(a)?"array":t:"null")||"object"==t&&"number"==typeof a.length}function Nt(a){var t=typeof a;return"object"==t&&null!=a||"function"==t}var ft="closure_uid_"+(1e9*Math.random()>>>0),Et=0;function Mt(a,t,i){return a.call.apply(a.bind,arguments)}function It(a,t,i){if(!a)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,c),a.apply(t,m)}}return function(){return a.apply(t,arguments)}}function kt(a,t,i){return(kt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mt:It).apply(null,arguments)}function St(a,t){var i=Array.prototype.slice.call(arguments,1);return function(){var c=i.slice();return c.push.apply(c,arguments),a.apply(this,c)}}function bt(a,t){function i(){}i.prototype=t.prototype,a.X=t.prototype,a.prototype=new i,a.prototype.constructor=a,a.Wb=function(c,m,v){for(var E=Array(arguments.length-2),R=2;R<arguments.length;R++)E[R-2]=arguments[R];return t.prototype[m].apply(c,E)}}function et(){this.s=this.s,this.o=this.o}et.prototype.s=!1,et.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function rt(a){Object.prototype.hasOwnProperty.call(a,ft)&&a[ft]||(a[ft]=++Et)}(this)},et.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bn=Array.prototype.indexOf?function(a,t){return Array.prototype.indexOf.call(a,t,void 0)}:function(a,t){if("string"==typeof a)return"string"!=typeof t||1!=t.length?-1:a.indexOf(t,0);for(let i=0;i<a.length;i++)if(i in a&&a[i]===t)return i;return-1};function sn(a){const t=a.length;if(0<t){const i=Array(t);for(let c=0;c<t;c++)i[c]=a[c];return i}return[]}function Tn(a,t){for(let i=1;i<arguments.length;i++){const c=arguments[i];if(nn(c)){const m=a.length||0,v=c.length||0;a.length=m+v;for(let E=0;E<v;E++)a[m+E]=c[E]}else a.push(c)}}function wn(a,t){this.type=a,this.g=this.target=t,this.defaultPrevented=!1}wn.prototype.h=function(){this.defaultPrevented=!0};var On=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var a=!1,t=Object.defineProperty({},"passive",{get:function(){a=!0}});try{$e.addEventListener("test",mt,t),$e.removeEventListener("test",mt,t)}catch{}return a}();function Hn(a){return/^[\s\xa0]*$/.test(a)}var Ci=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function jn(a,t){return a<t?-1:a>t?1:0}function yi(){var a=$e.navigator;return a&&(a=a.userAgent)?a:""}function gn(a){return-1!=yi().indexOf(a)}function ri(a){return ri[" "](a),a}ri[" "]=mt;var Di,a,hi=gn("Opera"),ci=gn("Trident")||gn("MSIE"),fn=gn("Edge"),vi=fn||ci,Gi=gn("Gecko")&&!(-1!=yi().toLowerCase().indexOf("webkit")&&!gn("Edge"))&&!(gn("Trident")||gn("MSIE"))&&!gn("Edge"),fi=-1!=yi().toLowerCase().indexOf("webkit")&&!gn("Edge");function _i(){var a=$e.document;return a?a.documentMode:void 0}e:{var Sn="",an=(a=yi(),Gi?/rv:([^\);]+)(\)|;)/.exec(a):fn?/Edge\/([\d\.]+)/.exec(a):ci?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):fi?/WebKit\/(\S+)/.exec(a):hi?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(an&&(Sn=an?an[1]:""),ci){var Dt=_i();if(null!=Dt&&Dt>parseFloat(Sn)){Di=String(Dt);break e}}Di=Sn}var Un={};var Ft=$e.document&&ci&&(_i()||parseInt(Di,10))||void 0;function Pn(a,t){if(wn.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var i=this.type=a.type,c=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=t,t=a.relatedTarget){if(Gi){e:{try{ri(t.nodeName);var m=!0;break e}catch{}m=!1}m||(t=null)}}else"mouseover"==i?t=a.fromElement:"mouseout"==i&&(t=a.toElement);this.relatedTarget=t,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:xn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Pn.X.h.call(this)}}bt(Pn,wn);var xn={2:"touch",3:"pen",4:"mouse"};Pn.prototype.h=function(){Pn.X.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Vi="closure_listenable_"+(1e6*Math.random()|0),Rn=0;function Mi(a,t,i,c,m){this.listener=a,this.proxy=null,this.src=t,this.type=i,this.capture=!!c,this.ha=m,this.key=++Rn,this.ba=this.ea=!1}function si(a){a.ba=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function $t(a,t,i){for(const c in a)t.call(i,a[c],c,a)}function Re(a){const t={};for(const i in a)t[i]=a[i];return t}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(a,t){let i,c;for(let m=1;m<arguments.length;m++){for(i in c=arguments[m],c)a[i]=c[i];for(let v=0;v<K.length;v++)i=K[v],Object.prototype.hasOwnProperty.call(c,i)&&(a[i]=c[i])}}function H(a){this.src=a,this.g={},this.h=0}function ue(a,t){var i=t.type;if(i in a.g){var v,c=a.g[i],m=bn(c,t);(v=0<=m)&&Array.prototype.splice.call(c,m,1),v&&(si(t),0==a.g[i].length&&(delete a.g[i],a.h--))}}function Ie(a,t,i,c){for(var m=0;m<a.length;++m){var v=a[m];if(!v.ba&&v.listener==t&&v.capture==!!i&&v.ha==c)return m}return-1}H.prototype.add=function(a,t,i,c,m){var v=a.toString();(a=this.g[v])||(a=this.g[v]=[],this.h++);var E=Ie(a,t,c,m);return-1<E?(t=a[E],i||(t.ea=!1)):((t=new Mi(t,this.src,v,!!c,m)).ea=i,a.push(t)),t};var se="closure_lm_"+(1e6*Math.random()|0),be={};function Fe(a,t,i,c,m){if(c&&c.once)return on(a,t,i,c,m);if(Array.isArray(t)){for(var v=0;v<t.length;v++)Fe(a,t[v],i,c,m);return null}return i=rn(i),a&&a[Vi]?a.N(t,i,Nt(c)?!!c.capture:!!c,m):ot(a,t,i,!1,c,m)}function ot(a,t,i,c,m,v){if(!t)throw Error("Invalid event type");var E=Nt(m)?!!m.capture:!!m,R=yt(a);if(R||(a[se]=R=new H(a)),(i=R.add(t,i,c,E,v)).proxy)return i;if(c=function Ye(){const t=Be;return function a(i){return t.call(a.src,a.listener,i)}}(),i.proxy=c,c.src=a,c.listener=i,a.addEventListener)On||(m=E),void 0===m&&(m=!1),a.addEventListener(t.toString(),c,m);else if(a.attachEvent)a.attachEvent(de(t.toString()),c);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(c)}return i}function on(a,t,i,c,m){if(Array.isArray(t)){for(var v=0;v<t.length;v++)on(a,t[v],i,c,m);return null}return i=rn(i),a&&a[Vi]?a.O(t,i,Nt(c)?!!c.capture:!!c,m):ot(a,t,i,!0,c,m)}function Ne(a,t,i,c,m){if(Array.isArray(t))for(var v=0;v<t.length;v++)Ne(a,t[v],i,c,m);else c=Nt(c)?!!c.capture:!!c,i=rn(i),a&&a[Vi]?(a=a.i,(t=String(t).toString())in a.g&&-1<(i=Ie(v=a.g[t],i,c,m))&&(si(v[i]),Array.prototype.splice.call(v,i,1),0==v.length&&(delete a.g[t],a.h--))):a&&(a=yt(a))&&(t=a.g[t.toString()],a=-1,t&&(a=Ie(t,i,c,m)),(i=-1<a?t[a]:null)&&Oe(i))}function Oe(a){if("number"!=typeof a&&a&&!a.ba){var t=a.src;if(t&&t[Vi])ue(t.i,a);else{var i=a.type,c=a.proxy;t.removeEventListener?t.removeEventListener(i,c,a.capture):t.detachEvent?t.detachEvent(de(i),c):t.addListener&&t.removeListener&&t.removeListener(c),(i=yt(t))?(ue(i,a),0==i.h&&(i.src=null,t[se]=null)):si(a)}}}function de(a){return a in be?be[a]:be[a]="on"+a}function Be(a,t){if(a.ba)a=!0;else{t=new Pn(t,this);var i=a.listener,c=a.ha||a.src;a.ea&&Oe(a),a=i.call(c,t)}return a}function yt(a){return(a=a[se])instanceof H?a:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(a){return"function"==typeof a?a:(a[Lt]||(a[Lt]=function(t){return a.handleEvent(t)}),a[Lt])}function Mn(){et.call(this),this.i=new H(this),this.P=this,this.I=null}function Vt(a,t){var i,c=a.I;if(c)for(i=[];c;c=c.I)i.push(c);if(a=a.P,c=t.type||t,"string"==typeof t)t=new wn(t,a);else if(t instanceof wn)t.target=t.target||a;else{var m=t;N(t=new wn(c,a),m)}if(m=!0,i)for(var v=i.length-1;0<=v;v--){var E=t.g=i[v];m=Hr(E,c,!0,t)&&m}if(m=Hr(E=t.g=a,c,!0,t)&&m,m=Hr(E,c,!1,t)&&m,i)for(v=0;v<i.length;v++)m=Hr(E=t.g=i[v],c,!1,t)&&m}function Hr(a,t,i,c){if(!(t=a.i.g[String(t)]))return!0;t=t.concat();for(var m=!0,v=0;v<t.length;++v){var E=t[v];if(E&&!E.ba&&E.capture==i){var R=E.listener,$=E.ha||E.src;E.ea&&ue(a.i,E),m=!1!==R.call($,c)&&m}}return m&&!c.defaultPrevented}bt(Mn,et),Mn.prototype[Vi]=!0,Mn.prototype.removeEventListener=function(a,t,i,c){Ne(this,a,t,i,c)},Mn.prototype.M=function(){if(Mn.X.M.call(this),this.i){var t,a=this.i;for(t in a.g){for(var i=a.g[t],c=0;c<i.length;c++)si(i[c]);delete a.g[t],a.h--}}this.I=null},Mn.prototype.N=function(a,t,i,c){return this.i.add(String(a),t,!1,i,c)},Mn.prototype.O=function(a,t,i,c){return this.i.add(String(a),t,!0,i,c)};var cr=$e.JSON.stringify;function js(){var a=xs;let t=null;return a.g&&(t=a.g,a.g=a.g.next,a.g||(a.h=null),t.next=null),t}var mi,Do=new class{constructor(a,t){this.i=a,this.j=t,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}(()=>new zs,a=>a.reset());class zs{constructor(){this.next=this.g=this.h=null}set(t,i){this.h=t,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function mo(a){$e.setTimeout(()=>{throw a},0)}function ws(a,t){mi||function sr(){var a=$e.Promise.resolve(void 0);mi=function(){a.then(Jr)}}(),Zi||(mi(),Zi=!0),xs.add(a,t)}var Zi=!1,xs=new class hs{constructor(){this.h=this.g=null}add(t,i){const c=Do.get();c.set(t,i),this.h?this.h.next=c:this.g=c,this.h=c}};function Jr(){for(var a;a=js();){try{a.h.call(a.g)}catch(i){mo(i)}var t=Do;t.j(a),100>t.h&&(t.h++,a.next=t.g,t.g=a)}Zi=!1}function ki(a,t){Mn.call(this),this.h=a||1,this.g=t||$e,this.j=kt(this.lb,this),this.l=Date.now()}function mn(a){a.ca=!1,a.R&&(a.g.clearTimeout(a.R),a.R=null)}function Nn(a,t,i){if("function"==typeof a)i&&(a=kt(a,i));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=kt(a.handleEvent,a)}return 2147483647<Number(t)?-1:$e.setTimeout(a,t||0)}function Ii(a){a.g=Nn(()=>{a.g=null,a.i&&(a.i=!1,Ii(a))},a.j);const t=a.h;a.h=null,a.m.apply(null,t)}bt(ki,Mn),(ge=ki.prototype).ca=!1,ge.R=null,ge.lb=function(){if(this.ca){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-a):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Vt(this,"tick"),this.ca&&(mn(this),this.start()))}},ge.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ge.M=function(){ki.X.M.call(this),mn(this),delete this.g};class Tr extends et{constructor(t,i){super(),this.m=t,this.j=i,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ii(this)}M(){super.M(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(a){et.call(this),this.h=a,this.g={}}bt(es,et);var Gn=[];function $i(a,t,i,c){Array.isArray(i)||(i&&(Gn[0]=i.toString()),i=Gn);for(var m=0;m<i.length;m++){var v=Fe(t,i[m],c||a.handleEvent,!1,a.h||a);if(!v)break;a.g[v.key]=v}}function Ri(a){$t(a.g,function(t,i){this.g.hasOwnProperty(i)&&Oe(t)},a),a.g={}}function xr(){this.g=!0}function Nr(a,t,i,c){a.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Ia(a,t){if(!a.g)return t;if(!t)return null;try{var i=JSON.parse(t);if(i)for(a=0;a<i.length;a++)if(Array.isArray(i[a])){var c=i[a];if(!(2>c.length)){var m=c[1];if(Array.isArray(m)&&!(1>m.length)){var v=m[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var E=1;E<m.length;E++)m[E]=""}}}return cr(i)}catch{return t}}(a,i)+(c?" "+c:"")})}es.prototype.M=function(){es.X.M.call(this),Ri(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xr.prototype.Aa=function(){this.g=!1},xr.prototype.info=function(){};var Cr={},Ji=null;function fs(){return Ji=Ji||new Mn}function Rs(a){wn.call(this,Cr.Pa,a)}function Zr(a){const t=fs();Vt(t,new Rs(t))}function Es(a,t){wn.call(this,Cr.STAT_EVENT,a),this.stat=t}function Dr(a){const t=fs();Vt(t,new Es(t,a))}function Hi(a,t){wn.call(this,Cr.Qa,a),this.size=t}function Gs(a,t){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){a()},t)}Cr.Pa="serverreachability",bt(Rs,wn),Cr.STAT_EVENT="statevent",bt(Es,wn),Cr.Qa="timingevent",bt(Hi,wn);var Qe={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},je={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function lt(){}function Zt(){}lt.prototype.h=null;var ni,pn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ei(){wn.call(this,"d")}function Wn(){wn.call(this,"c")}function or(){}function Ar(a,t,i,c){this.l=a,this.j=t,this.m=i,this.U=c||1,this.S=new es(this),this.O=ms,this.T=new ki(a=vi?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Mr}function Mr(){this.i=null,this.g="",this.h=!1}bt(ei,wn),bt(Wn,wn),bt(or,lt),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},ni=new or;var ms=45e3,Ga={},jr={};function ts(a,t,i){a.K=1,a.v=Ps(So(t)),a.s=i,a.P=!0,Io(a,null)}function Io(a,t){a.F=Date.now(),Go(a),a.A=So(a.v);var i=a.A,c=a.U;Array.isArray(c)||(c=[String(c)]),to(i.i,"t",c),a.C=0,i=a.l.H,a.h=new Mr,a.g=Mo(a.l,i?t:null,!a.s),0<a.N&&(a.L=new Tr(kt(a.La,a,a.g),a.N)),$i(a.S,a.g,"readystatechange",a.ib),t=a.H?Re(a.H):{},a.s?(a.u||(a.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",a.g.da(a.A,a.u,a.s,t)):(a.u="GET",a.g.da(a.A,a.u,null,t)),Zr(),function Er(a,t,i,c,m,v){a.info(function(){if(a.g)if(v)for(var E="",R=v.split("&"),$=0;$<R.length;$++){var ee=R[$].split("=");if(1<ee.length){var fe=ee[0];ee=ee[1];var Ue=fe.split("_");E=2<=Ue.length&&"type"==Ue[1]?E+(fe+"=")+ee+"&":E+(fe+"=redacted&")}}else E=null;else E=v;return"XMLHTTP REQ ("+c+") [attempt "+m+"]: "+t+"\n"+i+"\n"+E})}(a.j,a.u,a.A,a.m,a.U,a.s)}function ia(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Da}function Os(a,t,i){let m,c=!0;for(;!a.I&&a.C<i.length;){if(m=$a(a,i),m==jr){4==t&&(a.o=4,Dr(14),c=!1),Nr(a.j,a.m,null,"[Incomplete Response]");break}if(m==Ga){a.o=4,Dr(15),Nr(a.j,a.m,i,"[Invalid Chunk]"),c=!1;break}Nr(a.j,a.m,m,null),ra(a,m)}ia(a)&&m!=jr&&m!=Ga&&(a.h.g="",a.C=0),4!=t||0!=i.length||a.h.h||(a.o=1,Dr(16),c=!1),a.i=a.i&&c,c?0<i.length&&!a.$&&(a.$=!0,(t=a.l).g==a&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),ka(t),t.K=!0,Dr(11))):(Nr(a.j,a.m,i,"[Invalid Chunked Response]"),ps(a),Wa(a))}function $a(a,t){var i=a.C,c=t.indexOf("\n",i);return-1==c?jr:(i=Number(t.substring(i,c)),isNaN(i)?Ga:(c+=1)+i>t.length?jr:(t=t.substr(c,i),a.C=c+i,t))}function Go(a){a.V=Date.now()+a.O,Sa(a,a.O)}function Sa(a,t){if(null!=a.B)throw Error("WatchDog timer not null");a.B=Gs(kt(a.gb,a),t)}function po(a){a.B&&($e.clearTimeout(a.B),a.B=null)}function Wa(a){0==a.l.G||a.I||Cc(a.l,a)}function ps(a){po(a);var t=a.L;t&&"function"==typeof t.na&&t.na(),a.L=null,mn(a.T),Ri(a.S),a.g&&(t=a.g,a.g=null,t.abort(),t.na())}function ra(a,t){try{var i=a.l;if(0!=i.G&&(i.g==a||Fs(i.h,a)))if(!a.J&&Fs(i.h,a)&&3==i.G){try{var c=i.Fa.g.parse(t)}catch{c=null}if(Array.isArray(c)&&3==c.length){var m=c;if(0==m[0]){e:if(!i.u){if(i.g){if(!(i.g.F+3e3<a.F))break e;ec(i),El(i)}qo(i),Dr(18)}}else i.Ba=m[1],0<i.Ba-i.T&&37500>m[2]&&i.L&&0==i.A&&!i.v&&(i.v=Gs(kt(i.cb,i),6e3));if(1>=To(i.h)&&i.ja){try{i.ja()}catch{}i.ja=void 0}}else Ao(i,11)}else if((a.J||i.g==a)&&ec(i),!Hn(t))for(m=i.Fa.g.parse(t),t=0;t<m.length;t++){let ee=m[t];if(i.T=ee[0],ee=ee[1],2==i.G)if("c"==ee[0]){i.I=ee[1],i.ka=ee[2];const fe=ee[3];null!=fe&&(i.ma=fe,i.j.info("VER="+i.ma));const Ue=ee[4];null!=Ue&&(i.Ca=Ue,i.j.info("SVER="+i.Ca));const ut=ee[5];null!=ut&&"number"==typeof ut&&0<ut&&(i.J=c=1.5*ut,i.j.info("backChannelRequestTimeoutMs_="+c)),c=i;const Bt=a.g;if(Bt){const en=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(en){var v=c.h;v.g||-1==en.indexOf("spdy")&&-1==en.indexOf("quic")&&-1==en.indexOf("h2")||(v.j=v.l,v.g=new Set,v.h&&(ss(v,v.h),v.h=null))}if(c.D){const vn=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;vn&&(c.za=vn,ji(c.F,c.D,vn))}}i.G=3,i.l&&i.l.xa(),i.$&&(i.P=Date.now()-a.F,i.j.info("Handshake RTT: "+i.P+"ms"));var E=a;if((c=i).sa=Qr(c,c.H?c.ka:null,c.V),E.J){vl(c.h,E);var R=E,$=c.J;$&&R.setTimeout($),R.B&&(po(R),Go(R)),c.g=E}else Ja(c);0<i.i.length&&Za(i)}else"stop"!=ee[0]&&"close"!=ee[0]||Ao(i,7);else 3==i.G&&("stop"==ee[0]||"close"==ee[0]?"stop"==ee[0]?Ao(i,7):Ec(i):"noop"!=ee[0]&&i.l&&i.l.wa(ee),i.A=0)}Zr()}catch{}}function $o(a,t){if(a.forEach&&"function"==typeof a.forEach)a.forEach(t,void 0);else if(nn(a)||"string"==typeof a)Array.prototype.forEach.call(a,t,void 0);else for(var i=function Qs(a){if(a.oa&&"function"==typeof a.oa)return a.oa();if(!a.W||"function"!=typeof a.W){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(nn(a)||"string"==typeof a){var t=[];a=a.length;for(var i=0;i<a;i++)t.push(i);return t}t=[],i=0;for(const c in a)t[i++]=c;return t}}}(a),c=function go(a){if(a.W&&"function"==typeof a.W)return a.W();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if("string"==typeof a)return a.split("");if(nn(a)){for(var t=[],i=a.length,c=0;c<i;c++)t.push(a[c]);return t}for(c in t=[],i=0,a)t[i++]=a[c];return t}(a),m=c.length,v=0;v<m;v++)t.call(void 0,c[v],i&&i[v],a)}(ge=Ar.prototype).setTimeout=function(a){this.O=a},ge.ib=function(a){a=a.target;const t=this.L;t&&3==tr(a)?t.l():this.La(a)},ge.La=function(a){try{if(a==this.g)e:{const fe=tr(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>fe)&&(3!=fe||vi||this.g&&(this.h.h||this.g.fa()||Ls(this.g)))){this.I||4!=fe||7==t||Zr(),po(this);var i=this.g.aa();this.Y=i;t:if(ia(this)){var c=Ls(this.g);a="";var m=c.length,v=4==tr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),Wa(this);var E="";break t}this.h.i=new $e.TextDecoder}for(t=0;t<m;t++)this.h.h=!0,a+=this.h.i.decode(c[t],{stream:v&&t==m-1});c.splice(0,m),this.h.g+=a,this.C=0,E=this.h.g}else E=this.g.fa();if(this.i=200==i,function qn(a,t,i,c,m,v,E){a.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+m+"]: "+t+"\n"+i+"\n"+v+" "+E})}(this.j,this.u,this.A,this.m,this.U,fe,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var R,$=this.g;if((R=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hn(R)){var ee=R;break t}}ee=null}if(!(i=ee)){this.i=!1,this.o=3,Dr(12),ps(this),Wa(this);break e}Nr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ra(this,i)}this.P?(Os(this,fe,E),vi&&this.i&&3==fe&&($i(this.S,this.T,"tick",this.hb),this.T.start())):(Nr(this.j,this.m,E,null),ra(this,E)),4==fe&&ps(this),this.i&&!this.I&&(4==fe?Cc(this.l,this):(this.i=!1,Go(this)))}else 400==i&&0<E.indexOf("Unknown SID")?(this.o=3,Dr(12)):(this.o=0,Dr(13)),ps(this),Wa(this)}}}catch{}},ge.hb=function(){if(this.g){var a=tr(this.g),t=this.g.fa();this.C<t.length&&(po(this),Os(this,a,t),this.i&&4!=a&&Go(this))}},ge.cancel=function(){this.I=!0,ps(this)},ge.gb=function(){this.B=null;const a=Date.now();0<=a-this.V?(function na(a,t){a.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Zr(),Dr(17)),ps(this),this.o=2,Wa(this)):Sa(this,this.V-a)};var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ns(a,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,a instanceof ns){this.h=void 0!==t?t:a.h,Cs(this,a.j),this.s=a.s,this.g=a.g,dr(this,a.m),this.l=a.l,t=a.i;var i=new Ns;i.i=t.i,t.g&&(i.g=new Map(t.g),i.h=t.h),is(this,i),this.o=a.o}else a&&(i=String(a).match(Xs))?(this.h=!!t,Cs(this,i[1]||"",!0),this.s=_o(i[2]||""),this.g=_o(i[3]||"",!0),dr(this,i[4]),this.l=_o(i[5]||"",!0),is(this,i[6]||"",!0),this.o=_o(i[7]||"")):(this.h=!!t,this.i=new Ns(null,this.h))}function So(a){return new ns(a)}function Cs(a,t,i){a.j=i?_o(t,!0):t,a.j&&(a.j=a.j.replace(/:$/,""))}function dr(a,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);a.m=t}else a.m=null}function is(a,t,i){t instanceof Ns?(a.i=t,function yl(a,t){t&&!a.j&&(pr(a),a.i=null,a.g.forEach(function(i,c){var m=c.toLowerCase();c!=m&&(gi(this,c),to(this,m,i))},a)),a.j=t}(a.i,a.h)):(i||(t=Js(t,Ka)),a.i=new Ns(t,a.h))}function ji(a,t,i){a.i.set(t,i)}function Ps(a){return ji(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function _o(a,t){return a?t?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Js(a,t,i){return"string"==typeof a?(a=encodeURI(a).replace(t,Ql),i&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ql(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}ns.prototype.toString=function(){var a=[],t=this.j;t&&a.push(Js(t,eo,!0),":");var i=this.g;return(i||"file"==t)&&(a.push("//"),(t=this.s)&&a.push(Js(t,eo,!0),"@"),a.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&a.push(":",String(i))),(i=this.l)&&(this.g&&"/"!=i.charAt(0)&&a.push("/"),a.push(Js(i,"/"==i.charAt(0)?Wo:Ta,!0))),(i=this.i.toString())&&a.push("?",i),(i=this.o)&&a.push("#",Js(i,zr)),a.join("")};var eo=/[#\/\?@]/g,Ta=/[#\?:]/g,Wo=/[#\?]/g,Ka=/[#\?@]/g,zr=/#/g;function Ns(a,t){this.h=this.g=null,this.i=a||null,this.j=!!t}function pr(a){a.g||(a.g=new Map,a.h=0,a.i&&function er(a,t){if(a){a=a.split("&");for(var i=0;i<a.length;i++){var c=a[i].indexOf("="),m=null;if(0<=c){var v=a[i].substring(0,c);m=a[i].substring(c+1)}else v=a[i];t(v,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}(a.i,function(t,i){a.add(decodeURIComponent(t.replace(/\+/g," ")),i)}))}function gi(a,t){pr(a),t=zi(a,t),a.g.has(t)&&(a.i=null,a.h-=a.g.get(t).length,a.g.delete(t))}function rs(a,t){return pr(a),t=zi(a,t),a.g.has(t)}function to(a,t,i){gi(a,t),0<i.length&&(a.i=null,a.g.set(zi(a,t),sn(i)),a.h+=i.length)}function zi(a,t){return t=String(t),a.j&&(t=t.toLowerCase()),t}function no(a){this.l=a||ur,a=$e.PerformanceNavigationTiming?0<(a=$e.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!($e.g&&$e.g.Ga&&$e.g.Ga()&&$e.g.Ga().$b),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ge=Ns.prototype).add=function(a,t){pr(this),this.i=null,a=zi(this,a);var i=this.g.get(a);return i||this.g.set(a,i=[]),i.push(t),this.h+=1,this},ge.forEach=function(a,t){pr(this),this.g.forEach(function(i,c){i.forEach(function(m){a.call(t,m,c,this)},this)},this)},ge.oa=function(){pr(this);const a=Array.from(this.g.values()),t=Array.from(this.g.keys()),i=[];for(let c=0;c<t.length;c++){const m=a[c];for(let v=0;v<m.length;v++)i.push(t[c])}return i},ge.W=function(a){pr(this);let t=[];if("string"==typeof a)rs(this,a)&&(t=t.concat(this.g.get(zi(this,a))));else{a=Array.from(this.g.values());for(let i=0;i<a.length;i++)t=t.concat(a[i])}return t},ge.set=function(a,t){return pr(this),this.i=null,rs(this,a=zi(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[t]),this.h+=1,this},ge.get=function(a,t){return a&&0<(a=this.W(a)).length?String(a[0]):t},ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],t=Array.from(this.g.keys());for(var i=0;i<t.length;i++){var c=t[i];const v=encodeURIComponent(String(c)),E=this.W(c);for(c=0;c<E.length;c++){var m=v;""!==E[c]&&(m+="="+encodeURIComponent(String(E[c]))),a.push(m)}}return this.i=a.join("&")};var ur=10;function oa(a){return!!a.h||!!a.g&&a.g.size>=a.j}function To(a){return a.h?1:a.g?a.g.size:0}function Fs(a,t){return a.h?a.h==t:!!a.g&&a.g.has(t)}function ss(a,t){a.g?a.g.add(t):a.h=t}function vl(a,t){a.h&&a.h==t?a.h=null:a.g&&a.g.has(t)&&a.g.delete(t)}function aa(a){if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){let t=a.i;for(const i of a.g.values())t=t.concat(i.D);return t}return sn(a.i)}function Ln(){}function $s(){this.g=new Ln}function Xl(a,t,i){const c=i||"";try{$o(a,function(m,v){let E=m;Nt(m)&&(E=cr(m)),t.push(c+v+"="+encodeURIComponent(E))})}catch(m){throw t.push(c+"type="+encodeURIComponent("_badmap")),m}}function Y(a,t,i,c,m){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,m(c)}catch{}}function G(a){this.l=a.ac||null,this.j=a.jb||!1}function z(a,t){Mn.call(this),this.D=a,this.u=t,this.m=void 0,this.readyState=he,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}no.prototype.cancel=function(){if(this.i=aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const a of this.g.values())a.cancel();this.g.clear()}},Ln.prototype.stringify=function(a){return $e.JSON.stringify(a,void 0)},Ln.prototype.parse=function(a){return $e.JSON.parse(a,void 0)},bt(G,lt),G.prototype.g=function(){return new z(this.l,this.j)},G.prototype.i=function(a){return function(){return a}}({}),bt(z,Mn);var he=0;function Tt(a){a.j.read().then(a.Ta.bind(a)).catch(a.ga.bind(a))}function dt(a){a.readyState=4,a.l=null,a.j=null,a.A=null,Bn(a)}function Bn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(ge=z.prototype).open=function(a,t){if(this.readyState!=he)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=t,this.readyState=1,Bn(this)},ge.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(t.body=a),(this.D||$e).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dt(this)),this.readyState=he},ge.Wa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tt(this)}else a.text().then(this.Va.bind(this),this.ga.bind(this))},ge.Ta=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var t=a.value?a.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!a.done}))&&(this.response=this.responseText+=t)}a.done?dt(this):Bn(this),3==this.readyState&&Tt(this)}},ge.Va=function(a){this.g&&(this.response=this.responseText=a,dt(this))},ge.Ua=function(a){this.g&&(this.response=a,dt(this))},ge.ga=function(){this.g&&dt(this)},ge.setRequestHeader=function(a,t){this.v.append(a,t)},ge.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},ge.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],t=this.h.entries();for(var i=t.next();!i.done;)a.push((i=i.value)[0]+": "+i[1]),i=t.next();return a.join("\r\n")},Object.defineProperty(z.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var bi=$e.JSON.parse;function Si(a){Mn.call(this),this.headers=new Map,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gr,this.K=this.L=!1}bt(Si,Mn);var gr="",Jl=/^https?$/i,Ko=["POST","PUT"];function bl(a,t){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=t,a.m=5,wl(a),Cd(a)}function wl(a){a.D||(a.D=!0,Vt(a,"complete"),Vt(a,"error"))}function xl(a){if(a.h&&typeof Ce<"u"&&(!a.C[1]||4!=tr(a)||2!=a.aa()))if(a.v&&4==tr(a))Nn(a.Ha,0,a);else if(Vt(a,"readystatechange"),4==tr(a)){a.h=!1;try{const R=a.aa();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var i;if(!(i=t)){var c;if(c=0===R){var m=String(a.H).match(Xs)[1]||null;if(!m&&$e.self&&$e.self.location){var v=$e.self.location.protocol;m=v.substr(0,v.length-1)}c=!Jl.test(m?m.toLowerCase():"")}i=c}if(i)Vt(a,"complete"),Vt(a,"success");else{a.m=6;try{var E=2<tr(a)?a.g.statusText:""}catch{E=""}a.j=E+" ["+a.aa()+"]",wl(a)}}finally{Cd(a)}}}function Cd(a,t){if(a.g){Aa(a);const i=a.g,c=a.C[0]?mt:null;a.g=null,a.C=null,t||Vt(a,"ready");try{i.onreadystatechange=c}catch{}}}function Aa(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&($e.clearTimeout(a.A),a.A=null)}function tr(a){return a.g?a.g.readyState:0}function Ls(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case gr:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function qa(a){let t="";return $t(a,function(i,c){t+=c,t+=":",t+=i,t+="\r\n"}),t}function Is(a,t,i){e:{for(c in i){var c=!1;break e}c=!0}c||(i=qa(i),"string"==typeof a?null!=i&&encodeURIComponent(String(i)):ji(a,t,i))}function Gr(a,t,i){return i&&i.internalChannelParams&&i.internalChannelParams[a]||t}function la(a){this.Ca=0,this.i=[],this.j=new xr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Gr("failFast",!1,a),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Gr("baseRetryDelayMs",5e3,a),this.bb=Gr("retryDelaySeedMs",1e4,a),this.$a=Gr("forwardChannelMaxRetries",2,a),this.ta=Gr("forwardChannelRequestTimeoutMs",2e4,a),this.ra=a&&a.xmlHttpFactory||void 0,this.Da=a&&a.Zb||!1,this.J=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.I="",this.h=new no(a&&a.concurrentRequestLimit),this.Fa=new $s,this.O=a&&a.fastHandshake||!1,this.N=a&&a.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=a&&a.Xb||!1,a&&a.Aa&&this.j.Aa(),a&&a.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&a&&a.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ec(a){if(Ma(a),3==a.G){var t=a.U++,i=So(a.F);ji(i,"SID",a.I),ji(i,"RID",t),ji(i,"TYPE","terminate"),Yo(a,i),(t=new Ar(a,a.j,t,void 0)).K=2,t.v=Ps(So(i)),i=!1,$e.navigator&&$e.navigator.sendBeacon&&(i=$e.navigator.sendBeacon(t.v.toString(),"")),!i&&$e.Image&&((new Image).src=t.v,i=!0),i||(t.g=Mo(t.l,null),t.g.da(t.v)),t.F=Date.now(),Go(t)}_u(a)}function El(a){a.g&&(ka(a),a.g.cancel(),a.g=null)}function Ma(a){El(a),a.u&&($e.clearTimeout(a.u),a.u=null),ec(a),a.h.cancel(),a.m&&("number"==typeof a.m&&$e.clearTimeout(a.m),a.m=null)}function Za(a){oa(a.h)||a.m||(a.m=!0,ws(a.Ja,a),a.C=0)}function Qa(a,t){var i;i=t?t.m:a.U++;const c=So(a.F);ji(c,"SID",a.I),ji(c,"RID",i),ji(c,"AID",a.T),Yo(a,c),a.o&&a.s&&Is(c,a.o,a.s),i=new Ar(a,a.j,i,a.C+1),null===a.o&&(i.H=a.s),t&&(a.i=t.D.concat(a.i)),t=Xa(a,i,1e3),i.setTimeout(Math.round(.5*a.ta)+Math.round(.5*a.ta*Math.random())),ss(a.h,i),ts(i,c,t)}function Yo(a,t){a.ia&&$t(a.ia,function(i,c){ji(t,c,i)}),a.l&&$o({},function(i,c){ji(t,c,i)})}function Xa(a,t,i){i=Math.min(a.i.length,i);var c=a.l?kt(a.l.Ra,a.l,a):null;e:{var m=a.i;let v=-1;for(;;){const E=["count="+i];-1==v?0<i?(v=m[0].h,E.push("ofs="+v)):v=0:E.push("ofs="+v);let R=!0;for(let $=0;$<i;$++){let ee=m[$].h;const fe=m[$].g;if(ee-=v,0>ee)v=Math.max(0,m[$].h-100),R=!1;else try{Xl(fe,E,"req"+ee+"_")}catch{c&&c(fe)}}if(R){c=E.join("&");break e}}}return a=a.i.splice(0,i),t.D=a,c}function Ja(a){a.g||a.u||(a.Z=1,ws(a.Ia,a),a.A=0)}function qo(a){return!(a.g||a.u||3<=a.A||(a.Z++,a.u=Gs(kt(a.Ia,a),jc(a,a.A)),a.A++,0))}function ka(a){null!=a.B&&($e.clearTimeout(a.B),a.B=null)}function Ra(a){a.g=new Ar(a,a.j,"rpc",a.Z),null===a.o&&(a.g.H=a.s),a.g.N=0;var t=So(a.sa);ji(t,"RID","rpc"),ji(t,"SID",a.I),ji(t,"CI",a.L?"0":"1"),ji(t,"AID",a.T),ji(t,"TYPE","xmlhttp"),Yo(a,t),a.o&&a.s&&Is(t,a.o,a.s),a.J&&a.g.setTimeout(a.J);var i=a.g;a=a.ka,i.K=1,i.v=Ps(So(t)),i.s=null,i.P=!0,Io(i,a)}function ec(a){null!=a.v&&($e.clearTimeout(a.v),a.v=null)}function Cc(a,t){var i=null;if(a.g==t){ec(a),ka(a),a.g=null;var c=2}else{if(!Fs(a.h,t))return;i=t.D,vl(a.h,t),c=1}if(0!=a.G)if(a.pa=t.Y,t.i)if(1==c){i=t.s?t.s.length:0,t=Date.now()-t.F;var m=a.C;Vt(c=fs(),new Hi(c,i)),Za(a)}else Ja(a);else if(3==(m=t.o)||0==m&&0<a.pa||!(1==c&&function Cl(a,t){return!(To(a.h)>=a.h.j-(a.m?1:0)||(a.m?(a.i=t.D.concat(a.i),0):1==a.G||2==a.G||a.C>=(a.Za?0:a.$a)||(a.m=Gs(kt(a.Ja,a,t),jc(a,a.C)),a.C++,0)))}(a,t)||2==c&&qo(a)))switch(i&&0<i.length&&(t=a.h,t.i=t.i.concat(i)),m){case 1:Ao(a,5);break;case 4:Ao(a,10);break;case 3:Ao(a,6);break;default:Ao(a,2)}}function jc(a,t){let i=a.Xa+Math.floor(Math.random()*a.bb);return a.l||(i*=2),i*t}function Ao(a,t){if(a.j.info("Error code "+t),2==t){var i=null;a.l&&(i=null);var c=kt(a.kb,a);i||(i=new ns("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||Cs(i,"https"),Ps(i)),function Ya(a,t){const i=new xr;if($e.Image){const c=new Image;c.onload=St(Y,i,c,"TestLoadImage: loaded",!0,t),c.onerror=St(Y,i,c,"TestLoadImage: error",!1,t),c.onabort=St(Y,i,c,"TestLoadImage: abort",!1,t),c.ontimeout=St(Y,i,c,"TestLoadImage: timeout",!1,t),$e.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=a}else t(!1)}(i.toString(),c)}else Dr(2);a.G=0,a.l&&a.l.va(t),_u(a),Ma(a)}function _u(a){if(a.G=0,a.la=[],a.l){const t=aa(a.h);(0!=t.length||0!=a.i.length)&&(Tn(a.la,t),Tn(a.la,a.i),a.h.i.length=0,sn(a.i),a.i.length=0),a.l.ua()}}function Qr(a,t,i){var c=i instanceof ns?So(i):new ns(i,void 0);if(""!=c.g)t&&(c.g=t+"."+c.g),dr(c,c.m);else{var m=$e.location;c=m.protocol,t=t?t+"."+m.hostname:m.hostname,m=+m.port;var v=new ns(null,void 0);c&&Cs(v,c),t&&(v.g=t),m&&dr(v,m),i&&(v.l=i),c=v}return t=a.za,(i=a.D)&&t&&ji(c,i,t),ji(c,"VER",a.ma),Yo(a,c),c}function Mo(a,t,i){if(t&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Si(i&&a.Da&&!a.ra?new G({jb:!0}):a.ra)).Ka(a.H),t}function hr(){}function el(){if(ci&&!(10<=Number(Ft)))throw Error("Environmental error: no available transport.")}function Bs(a,t){Mn.call(this),this.g=new la(t),this.l=a,this.h=t&&t.messageUrlParams||null,a=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(a?a["X-WebChannel-Content-Type"]=t.messageContentType:a={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(a?a["X-WebChannel-Client-Profile"]=t.ya:a={"X-WebChannel-Client-Profile":t.ya}),this.g.S=a,(a=t&&t.Yb)&&!Hn(a)&&(this.g.o=a),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hn(t)&&(this.g.D=t,null!==(a=this.h)&&t in a&&t in(a=this.h)&&delete a[t]),this.j=new _r(this)}function zc(a){ei.call(this);var t=a.__sm__;if(t){e:{for(const i in t){a=i;break e}a=void 0}(this.i=a)&&(a=this.i,t=null!==t&&a in t?t[a]:void 0),this.data=t}else this.data=a}function ca(){Wn.call(this),this.status=1}function _r(a){this.g=a}(ge=Si.prototype).Ka=function(a){this.L=a},ge.da=function(a,t,i,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);t=t?t.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ni.g(),this.C=function Ut(a){return a.h||(a.h=a.i())}(this.u?this.u:ni),this.g.onreadystatechange=kt(this.Ha,this);try{this.F=!0,this.g.open(t,String(a),!0),this.F=!1}catch(v){return void bl(this,v)}if(a=i||"",i=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var m in c)i.set(m,c[m]);else{if("function"!=typeof c.keys||"function"!=typeof c.get)throw Error("Unknown input type for opt_headers: "+String(c));for(const v of c.keys())i.set(v,c.get(v))}c=Array.from(i.keys()).find(v=>"content-type"==v.toLowerCase()),m=$e.FormData&&a instanceof $e.FormData,!(0<=bn(Ko,t))||c||m||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[v,E]of i)this.g.setRequestHeader(v,E);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Aa(this),0<this.B&&((this.K=function Ds(a){return ci&&function Ot(){return function pi(a){var t=Un;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=a(9)}(function(){let a=0;const t=Ci(String(Di)).split("."),i=Ci("9").split("."),c=Math.max(t.length,i.length);for(let E=0;0==a&&E<c;E++){var m=t[E]||"",v=i[E]||"";do{if(m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==m[0].length&&0==v[0].length)break;a=jn(0==m[1].length?0:parseInt(m[1],10),0==v[1].length?0:parseInt(v[1],10))||jn(0==m[2].length,0==v[2].length)||jn(m[2],v[2]),m=m[3],v=v[3]}while(0==a)}return 0<=a})}()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kt(this.qa,this)):this.A=Nn(this.qa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(v){bl(this,v)}},ge.qa=function(){typeof Ce<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))},ge.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,Vt(this,"complete"),Vt(this,"abort"),Cd(this))},ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cd(this,!0)),Si.X.M.call(this)},ge.Ha=function(){this.s||(this.F||this.v||this.l?xl(this):this.fb())},ge.fb=function(){xl(this)},ge.aa=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},ge.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ge.Sa=function(a){if(this.g){var t=this.g.responseText;return a&&0==t.indexOf(a)&&(t=t.substring(a.length)),bi(t)}},ge.Ea=function(){return this.m},ge.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ge=la.prototype).ma=8,ge.G=1,ge.Ja=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const m=new Ar(this,this.j,a,void 0);let v=this.s;if(this.S&&(v?(v=Re(v),N(v,this.S)):v=this.S),null!==this.o||this.N||(m.H=v,v=null),this.O)e:{for(var t=0,i=0;i<this.i.length;i++){var c=this.i[i];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(t+=c)){t=i;break e}if(4096===t||i===this.i.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Xa(this,m,t),ji(i=So(this.F),"RID",a),ji(i,"CVER",22),this.D&&ji(i,"X-HTTP-Session-Id",this.D),Yo(this,i),v&&(this.N?t="headers="+encodeURIComponent(String(qa(v)))+"&"+t:this.o&&Is(i,this.o,v)),ss(this.h,m),this.Ya&&ji(i,"TYPE","init"),this.O?(ji(i,"$req",t),ji(i,"SID","null"),m.Z=!0,ts(m,i,null)):ts(m,i,t),this.G=2}}else 3==this.G&&(a?Qa(this,a):0==this.i.length||oa(this.h)||Qa(this))},ge.Ia=function(){if(this.u=null,Ra(this),this.$&&!(this.K||null==this.g||0>=this.P)){var a=2*this.P;this.j.info("BP detection timer enabled: "+a),this.B=Gs(kt(this.eb,this),a)}},ge.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Dr(10),El(this),Ra(this))},ge.cb=function(){null!=this.v&&(this.v=null,El(this),qo(this),Dr(19))},ge.kb=function(a){a?(this.j.info("Successfully pinged google.com"),Dr(2)):(this.j.info("Failed to ping google.com"),Dr(1))},(ge=hr.prototype).xa=function(){},ge.wa=function(){},ge.va=function(){},ge.ua=function(){},ge.Ra=function(){},el.prototype.g=function(a,t){return new Bs(a,t)},bt(Bs,Mn),Bs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var a=this.g,t=this.l,i=this.h||void 0;Dr(0),a.V=t,a.ia=i||{},a.L=a.Y,a.F=Qr(a,null,a.V),Za(a)},Bs.prototype.close=function(){Ec(this.g)},Bs.prototype.u=function(a){var t=this.g;if("string"==typeof a){var i={};i.__data__=a,a=i}else this.v&&((i={}).__data__=cr(a),a=i);t.i.push(new class{constructor(a,t){this.h=a,this.g=t}}(t.ab++,a)),3==t.G&&Za(t)},Bs.prototype.M=function(){this.g.l=null,delete this.j,Ec(this.g),delete this.g,Bs.X.M.call(this)},bt(zc,ei),bt(ca,Wn),bt(_r,hr),_r.prototype.xa=function(){Vt(this.g,"a")},_r.prototype.wa=function(a){Vt(this.g,new zc(a))},_r.prototype.va=function(a){Vt(this.g,new ca)},_r.prototype.ua=function(){Vt(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,Bs.prototype.send=Bs.prototype.u,Bs.prototype.open=Bs.prototype.m,Bs.prototype.close=Bs.prototype.close,Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,je.COMPLETE="complete",Zt.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",Mn.prototype.listen=Mn.prototype.N,Si.prototype.listenOnce=Si.prototype.O,Si.prototype.getLastError=Si.prototype.Oa,Si.prototype.getLastErrorCode=Si.prototype.Ea,Si.prototype.getStatus=Si.prototype.aa,Si.prototype.getResponseJson=Si.prototype.Sa,Si.prototype.getResponseText=Si.prototype.fa,Si.prototype.send=Si.prototype.da,Si.prototype.setWithCredentials=Si.prototype.Ka;var Dd=Xe.createWebChannelTransport=function(){return new el},gs=Xe.getStatEventTarget=function(){return fs()},Dl=Xe.ErrorCode=Qe,Il=Xe.EventType=je,Id=Xe.Event=Cr,Gc=Xe.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},F=Xe.FetchXmlHttpFactory=G,X=Xe.WebChannel=Zt,j=Xe.XhrIo=Si;const oe="@firebase/firestore";class ke{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ke.UNAUTHENTICATED=new ke(null),ke.GOOGLE_CREDENTIALS=new ke("google-credentials-uid"),ke.FIRST_PARTY=new ke("first-party-uid"),ke.MOCK_USER=new ke("mock-user");let wt="9.20.0";const Pt=new De.Yd("@firebase/firestore");function Dn(){return Pt.logLevel}function Rt(a,...t){if(Pt.logLevel<=De.in.DEBUG){const i=t.map(yr);Pt.debug(`Firestore (${wt}): ${a}`,...i)}}function Kn(a,...t){if(Pt.logLevel<=De.in.ERROR){const i=t.map(yr);Pt.error(`Firestore (${wt}): ${a}`,...i)}}function zn(a,...t){if(Pt.logLevel<=De.in.WARN){const i=t.map(yr);Pt.warn(`Firestore (${wt}): ${a}`,...i)}}function yr(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Jt(a="Unexpected state"){const t=`FIRESTORE (${wt}) INTERNAL ASSERTION FAILED: `+a;throw Kn(t),new Error(t)}function ln(a,t){a||Jt()}function tn(a,t){return a}const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends me.ZR{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class ko{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Sl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(ke.UNAUTHENTICATED))}shutdown(){}}class Sd{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class $c{constructor(t){this.t=t,this.currentUser=ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var c=this;let m=this.i;const v=ee=>this.i!==m?(m=this.i,i(ee)):Promise.resolve();let E=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new nr,t.enqueueRetryable(()=>v(this.currentUser))};const R=()=>{const ee=E;t.enqueueRetryable((0,Ee.Z)(function*(){yield ee.promise,yield v(c.currentUser)}))},$=ee=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(ee=>$(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?$(ee):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new nr)}},0),R()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(c=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(ln("string"==typeof c.accessToken),new ko(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ln(null===t||"string"==typeof t),new ke(t)}}class Tl{constructor(t,i,c){this.h=t,this.l=i,this.m=c,this.type="FirstParty",this.user=ke.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ah{constructor(t,i,c){this.h=t,this.l=i,this.m=c}getToken(){return Promise.resolve(new Tl(this.h,this.l,this.m))}start(t,i){t.enqueueRetryable(()=>i(ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Us{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wc{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,i){const c=v=>{null!=v.error&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const E=v.token!==this.T;return this.T=v.token,Rt("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?i(v.token):Promise.resolve()};this.o=v=>{t.enqueueRetryable(()=>c(v))};const m=v=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.appCheck.addTokenListener(this.o)};this.I.onInit(v=>m(v)),setTimeout(()=>{if(!this.appCheck){const v=this.I.getImmediate({optional:!0});v?m(v):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(ln("string"==typeof i.token),this.T=i.token,new Us(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tc(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let c=0;c<a;c++)i[c]=Math.floor(256*Math.random());return i}class tl{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let c="";for(;c.length<20;){const m=tc(40);for(let v=0;v<m.length;++v)c.length<20&&m[v]<i&&(c+=t.charAt(m[v]%t.length))}return c}}function Xn(a,t){return a<t?-1:a>t?1:0}function vr(a,t,i){return a.length===t.length&&a.every((c,m)=>i(c,t[m]))}function Wi(a){return a+"\0"}class Ki{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new Ht(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ht(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new Ht(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ht(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ki.fromMillis(Date.now())}static fromDate(t){return Ki.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),c=Math.floor(1e6*(t-1e3*i));return new Ki(i,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xn(this.nanoseconds,t.nanoseconds):Xn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new kn(t)}static min(){return new kn(new Ki(0,0))}static max(){return new kn(new Ki(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nc{constructor(t,i,c){void 0===i?i=0:i>t.length&&Jt(),void 0===c?c=t.length-i:c>t.length-i&&Jt(),this.segments=t,this.offset=i,this.len=c}get length(){return this.len}isEqual(t){return 0===nc.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof nc?t.forEach(c=>{i.push(c)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,c=this.limit();i<c;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const c=Math.min(t.length,i.length);for(let m=0;m<c;m++){const v=t.get(m),E=i.get(m);if(v<E)return-1;if(v>E)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class oi extends nc{construct(t,i,c){return new oi(t,i,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const i=[];for(const c of t){if(c.indexOf("//")>=0)throw new Ht(_t.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);i.push(...c.split("/").filter(m=>m.length>0))}return new oi(i)}static emptyPath(){return new oi([])}}const lh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends nc{construct(t,i,c){return new fr(t,i,c)}static isValidIdentifier(t){return lh.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fr(["__name__"])}static fromServerFormat(t){const i=[];let c="",m=0;const v=()=>{if(0===c.length)throw new Ht(_t.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(c),c=""};let E=!1;for(;m<t.length;){const R=t[m];if("\\"===R){if(m+1===t.length)throw new Ht(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const $=t[m+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new Ht(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);c+=$,m+=2}else"`"===R?(E=!E,m++):"."!==R||E?(c+=R,m++):(v(),m++)}if(v(),E)throw new Ht(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fr(i)}static emptyPath(){return new fr([])}}class cn{constructor(t){this.path=t}static fromPath(t){return new cn(oi.fromString(t))}static fromName(t){return new cn(oi.fromString(t).popFirst(5))}static empty(){return new cn(oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===oi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return oi.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new cn(new oi(t.slice()))}}class $r{constructor(t,i,c,m){this.indexId=t,this.collectionGroup=i,this.fields=c,this.indexState=m}}function da(a){return a.fields.find(t=>2===t.kind)}function kr(a){return a.fields.filter(t=>2!==t.kind)}$r.UNKNOWN_ID=-1;class os{constructor(t,i){this.fieldPath=t,this.kind=i}}class _s{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new _s(0,as.min())}}function ro(a,t){const i=a.toTimestamp().seconds,c=a.toTimestamp().nanoseconds+1,m=kn.fromTimestamp(1e9===c?new Ki(i+1,0):new Ki(i,c));return new as(m,cn.empty(),t)}function Al(a){return new as(a.readTime,a.key,-1)}class as{constructor(t,i,c){this.readTime=t,this.documentKey=i,this.largestBatchId=c}static min(){return new as(kn.min(),cn.empty(),-1)}static max(){return new as(kn.max(),cn.empty(),-1)}}function Ro(a,t){let i=a.readTime.compareTo(t.readTime);return 0!==i?i:(i=cn.comparator(a.documentKey,t.documentKey),0!==i?i:Xn(a.largestBatchId,t.largestBatchId))}const rc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ua{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function ha(a){return nl.apply(this,arguments)}function nl(){return nl=(0,Ee.Z)(function*(a){if(a.code!==_t.FAILED_PRECONDITION||a.message!==rc)throw a;Rt("LocalStore","Unexpectedly lost primary lease")}),nl.apply(this,arguments)}class pt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new pt((c,m)=>{this.nextCallback=v=>{this.wrapSuccess(t,v).next(c,m)},this.catchCallback=v=>{this.wrapFailure(i,v).next(c,m)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof pt?i:pt.resolve(i)}catch(i){return pt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):pt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):pt.reject(i)}static resolve(t){return new pt((i,c)=>{i(t)})}static reject(t){return new pt((i,c)=>{c(t)})}static waitFor(t){return new pt((i,c)=>{let m=0,v=0,E=!1;t.forEach(R=>{++m,R.next(()=>{++v,E&&v===m&&i()},$=>c($))}),E=!0,v===m&&i()})}static or(t){let i=pt.resolve(!1);for(const c of t)i=i.next(m=>m?pt.resolve(m):c());return i}static forEach(t,i){const c=[];return t.forEach((m,v)=>{c.push(i.call(this,m,v))}),this.waitFor(c)}static mapArray(t,i){return new pt((c,m)=>{const v=t.length,E=new Array(v);let R=0;for(let $=0;$<v;$++){const ee=$;i(t[ee]).next(fe=>{E[ee]=fe,++R,R===v&&c(E)},fe=>m(fe))}})}static doWhile(t,i){return new pt((c,m)=>{const v=()=>{!0===t()?i().next(()=>{v()},m):c()};v()})}}class so{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.R=new nr,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{i.error?this.R.reject(new sc(t,i.error)):this.R.resolve()},this.transaction.onerror=c=>{const m=_f(c.target.error);this.R.reject(new sc(t,m))}}static open(t,i,c,m){try{return new so(i,t.transaction(m,c))}catch(v){throw new sc(i,v)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(Rt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new ch(i)}}class Zo{constructor(t,i,c){this.name=t,this.version=i,this.V=c,12.2===Zo.S((0,me.z$)())&&Kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Rt("SimpleDb","Removing database:",t),ac(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,me.hl)())return!1;if(Zo.C())return!0;const t=(0,me.z$)(),i=Zo.S(t),c=0<i&&i<10,m=Zo.N(t),v=0<m&&m<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||c||v)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static O(t,i){return t.store(i)}static S(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static N(t){const i=t.match(/Android ([\d.]+)/i),c=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(c)}$(t){var i=this;return(0,Ee.Z)(function*(){return i.db||(Rt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((c,m)=>{const v=indexedDB.open(i.name,i.version);v.onsuccess=E=>{c(E.target.result)},v.onblocked=()=>{m(new sc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=E=>{const R=E.target.error;m("VersionError"===R.name?new Ht(_t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new Ht(_t.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new sc(t,R))},v.onupgradeneeded=E=>{Rt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',E.oldVersion),i.V.M(E.target.result,v.transaction,E.oldVersion,i.version).next(()=>{Rt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.F&&(i.db.onversionchange=c=>i.F(c)),i.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,c,m){var v=this;return(0,Ee.Z)(function*(){const E="readonly"===i;let R=0;for(;;){++R;try{v.db=yield v.$(t);const $=so.open(v.db,t,E?"readonly":"readwrite",c),ee=m($).next(fe=>($.P(),fe)).catch(fe=>($.abort(fe),pt.reject(fe))).toPromise();return ee.catch(()=>{}),yield $.v,ee}catch($){const ee=$,fe="FirebaseError"!==ee.name&&R<3;if(Rt("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",fe),v.close(),!fe)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Qi{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return ac(this.L.delete())}}class sc extends Ht{constructor(t,i){super(_t.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function oc(a){return"IndexedDbTransactionError"===a.name}class ch{constructor(t){this.store=t}put(t,i){let c;return void 0!==i?(Rt("SimpleDb","PUT",this.store.name,t,i),c=this.store.put(i,t)):(Rt("SimpleDb","PUT",this.store.name,"<auto-key>",t),c=this.store.put(t)),ac(c)}add(t){return Rt("SimpleDb","ADD",this.store.name,t,t),ac(this.store.add(t))}get(t){return ac(this.store.get(t)).next(i=>(void 0===i&&(i=null),Rt("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return Rt("SimpleDb","DELETE",this.store.name,t),ac(this.store.delete(t))}count(){return Rt("SimpleDb","COUNT",this.store.name),ac(this.store.count())}j(t,i){const c=this.options(t,i);if(c.index||"function"!=typeof this.store.getAll){const m=this.cursor(c),v=[];return this.W(m,(E,R)=>{v.push(R)}).next(()=>v)}{const m=this.store.getAll(c.range);return new pt((v,E)=>{m.onerror=R=>{E(R.target.error)},m.onsuccess=R=>{v(R.target.result)}})}}H(t,i){const c=this.store.getAll(t,null===i?void 0:i);return new pt((m,v)=>{c.onerror=E=>{v(E.target.error)},c.onsuccess=E=>{m(E.target.result)}})}J(t,i){Rt("SimpleDb","DELETE ALL",this.store.name);const c=this.options(t,i);c.Y=!1;const m=this.cursor(c);return this.W(m,(v,E,R)=>R.delete())}Z(t,i){let c;i?c=t:(c={},i=t);const m=this.cursor(c);return this.W(m,i)}X(t){const i=this.cursor({});return new pt((c,m)=>{i.onerror=v=>{const E=_f(v.target.error);m(E)},i.onsuccess=v=>{const E=v.target.result;E?t(E.primaryKey,E.value).next(R=>{R?E.continue():c()}):c()}})}W(t,i){const c=[];return new pt((m,v)=>{t.onerror=E=>{v(E.target.error)},t.onsuccess=E=>{const R=E.target.result;if(!R)return void m();const $=new Qi(R),ee=i(R.primaryKey,R.value,$);if(ee instanceof pt){const fe=ee.catch(Ue=>($.done(),pt.reject(Ue)));c.push(fe)}$.isDone?m():null===$.K?R.continue():R.continue($.K)}}).next(()=>pt.waitFor(c))}options(t,i){let c;return void 0!==t&&("string"==typeof t?c=t:i=t),{index:c,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const c=this.store.index(t.index);return t.Y?c.openKeyCursor(t.range,i):c.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function ac(a){return new pt((t,i)=>{a.onsuccess=c=>{t(c.target.result)},a.onerror=c=>{const m=_f(c.target.error);i(m)}})}let Dc=!1;function _f(a){const t=Zo.S((0,me.z$)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(i)>=0){const c=new Ht("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Dc||(Dc=!0,setTimeout(()=>{throw c},0)),c}}return a}class lc{constructor(t,i){this.asyncQueue=t,this.tt=i,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var i=this;Rt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ee.Z)(function*(){i.task=null;try{Rt("IndexBackiller",`Documents written: ${yield i.tt.nt()}`)}catch(c){oc(c)?Rt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",c):yield ha(c)}yield i.et(6e4)}))}}class Ic{constructor(t,i){this.localStore=t,this.persistence=i}nt(t=50){var i=this;return(0,Ee.Z)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",c=>i.st(c,t))})()}st(t,i){const c=new Set;let m=i,v=!0;return pt.doWhile(()=>!0===v&&m>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(E=>{if(null!==E&&!c.has(E))return Rt("IndexBackiller",`Processing collection: ${E}`),this.it(t,E,m).next(R=>{m-=R,c.add(E)});v=!1})).next(()=>i-m)}it(t,i,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(m=>this.localStore.localDocuments.getNextDocuments(t,i,m,c).next(v=>{const E=v.changes;return this.localStore.indexManager.updateIndexEntries(t,E).next(()=>this.rt(m,v)).next(R=>(Rt("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(t,i,R))).next(()=>E.size)}))}rt(t,i){let c=t;return i.changes.forEach((m,v)=>{const E=Al(v);Ro(E,c)>0&&(c=E)}),new as(c.readTime,c.documentKey,Math.max(i.batchId,t.largestBatchId))}}let Oo=(()=>{class a{constructor(i,c){this.previousValue=i,c&&(c.sequenceNumberHandler=m=>this.ot(m),this.ut=m=>c.writeSequenceNumber(m))}ot(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ut&&this.ut(i),i}}return a.ct=-1,a})();function Kc(a){return null==a}function mr(a){return 0===a&&1/a==-1/0}function cc(a){return"number"==typeof a&&Number.isInteger(a)&&!mr(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function Wr(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=oo(t)),t=yu(a.get(i),t);return oo(t)}function yu(a,t){let i=t;const c=a.length;for(let m=0;m<c;m++){const v=a.charAt(m);switch(v){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=v}}return i}function oo(a){return a+"\x01\x01"}function ls(a){const t=a.length;if(ln(t>=2),2===t)return ln("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),oi.emptyPath();const i=t-2,c=[];let m="";for(let v=0;v<t;){const E=a.indexOf("\x01",v);switch((E<0||E>i)&&Jt(),a.charAt(E+1)){case"\x01":const R=a.substring(v,E);let $;0===m.length?$=R:(m+=R,$=m,m=""),c.push($);break;case"\x10":m+=a.substring(v,E),m+="\0";break;case"\x11":m+=a.substring(v,E+1);break;default:Jt()}v=E+2}return new oi(c)}const dc=["userId","batchId"];function il(a,t){return[a,Wr(t)]}function A(a,t,i){return[a,Wr(t),i]}const k={},D=["prefixPath","collectionGroup","readTime","documentId"],L=["prefixPath","collectionGroup","documentId"],q=["collectionGroup","readTime","prefixPath","documentId"],ie=["canonicalId","targetId"],ye=["targetId","path"],tt=["path","targetId"],zt=["collectionId","parent"],_n=["indexId","uid"],yn=["uid","sequenceNumber"],wi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cs=["indexId","uid","orderedDocumentKey"],rl=["userId","collectionPath","documentId"],Qo=["userId","collectionPath","largestBatchId"],Ks=["userId","collectionGroup","largestBatchId"],ys=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xo=[...ys,"documentOverlays"],fa=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ml=fa,vu=[...Ml,"indexConfiguration","indexState","indexEntries"];class kl extends ua{constructor(t,i){super(),this.at=t,this.currentSequenceNumber=i}}function Ys(a,t){const i=tn(a);return Zo.O(i.at,t)}function Yc(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function V(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function W(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class te{constructor(t,i){this.comparator=t,this.root=i||qe.EMPTY}insert(t,i){return new te(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const c=this.comparator(t,i.key);if(0===c)return i.value;c<0?i=i.left:c>0&&(i=i.right)}return null}indexOf(t){let i=0,c=this.root;for(;!c.isEmpty();){const m=this.comparator(t,c.key);if(0===m)return i+c.left.size;m<0?c=c.left:(i+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,c)=>(t(i,c),!1))}toString(){const t=[];return this.inorderTraversal((i,c)=>(t.push(`${i}:${c}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pe(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pe(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pe(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pe(this.root,t,this.comparator,!0)}}class Pe{constructor(t,i,c,m){this.isReverse=m,this.nodeStack=[];let v=1;for(;!t.isEmpty();)if(v=i?c(t.key,i):1,i&&m&&(v*=-1),v<0)t=this.isReverse?t.left:t.right;else{if(0===v){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,i,c,m,v){this.key=t,this.value=i,this.color=c??qe.RED,this.left=m??qe.EMPTY,this.right=v??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,c,m,v){return new qe(t??this.key,i??this.value,c??this.color,m??this.left,v??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,c){let m=this;const v=c(t,m.key);return m=v<0?m.copy(null,null,null,m.left.insert(t,i,c),null):0===v?m.copy(null,i,null,null,null):m.copy(null,null,null,null,m.right.insert(t,i,c)),m.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let c,m=this;if(i(t,m.key)<0)m.left.isEmpty()||m.left.isRed()||m.left.left.isRed()||(m=m.moveRedLeft()),m=m.copy(null,null,null,m.left.remove(t,i),null);else{if(m.left.isRed()&&(m=m.rotateRight()),m.right.isEmpty()||m.right.isRed()||m.right.left.isRed()||(m=m.moveRedRight()),0===i(t,m.key)){if(m.right.isEmpty())return qe.EMPTY;c=m.right.min(),m=m.copy(c.key,c.value,null,null,m.right.removeMin())}m=m.copy(null,null,null,null,m.right.remove(t,i))}return m.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();const t=this.left.check();if(t!==this.right.check())throw Jt();return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1,qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt()}get value(){throw Jt()}get color(){throw Jt()}get left(){throw Jt()}get right(){throw Jt()}copy(a,t,i,c,m){return this}insert(a,t,i){return new qe(a,t)}remove(a,t){return this}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(t){this.comparator=t,this.data=new te(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,c)=>(t(i),!1))}forEachInRange(t,i){const c=this.data.getIteratorFrom(t[0]);for(;c.hasNext();){const m=c.getNext();if(this.comparator(m.key,t[1])>=0)return;i(m.key)}}forEachWhile(t,i){let c;for(c=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();c.hasNext();)if(!t(c.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Kt(this.data.getIterator())}getIteratorFrom(t){return new Kt(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(c=>{i=i.add(c)}),i}isEqual(t){if(!(t instanceof it)||this.size!==t.size)return!1;const i=this.data.getIterator(),c=t.data.getIterator();for(;i.hasNext();){const m=i.getNext().key,v=c.getNext().key;if(0!==this.comparator(m,v))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new it(this.comparator);return i.data=t,i}}class Kt{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function En(a){return a.hasNext()?a.getNext():void 0}class An{constructor(t){this.fields=t,t.sort(fr.comparator)}static empty(){return new An([])}unionWith(t){let i=new it(fr.comparator);for(const c of this.fields)i=i.add(c);for(const c of t)i=i.add(c);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return vr(this.fields,t.fields,(i,c)=>i.isEqual(c))}}class Zn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(c){try{return atob(c)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new Zn("Invalid base64 string: "+m):m}}(t);return new Fn(i)}static fromUint8Array(t){const i=function(c){let m="";for(let v=0;v<c.length;++v)m+=String.fromCharCode(c[v]);return m}(t);return new Fn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let c=0;c<t.length;c++)i[c]=t.charCodeAt(c);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const ma=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(a){if(ln(!!a),"string"==typeof a){let t=0;const i=ma.exec(a);if(ln(!!i),i[1]){let m=i[1];m=(m+"000000000").substr(0,9),t=Number(m)}const c=new Date(a);return{seconds:Math.floor(c.getTime()/1e3),nanos:t}}return{seconds:br(a.seconds),nanos:br(a.nanos)}}function br(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function pa(a){return"string"==typeof a?Fn.fromBase64String(a):Fn.fromUint8Array(a)}function Rl(a){var t,i;return"server_timestamp"===(null===(i=((null===(t=a?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Po(a){const t=a.mapValue.fields.__previous_value__;return Rl(t)?Po(t):t}function yo(a){const t=Rr(a.mapValue.fields.__local_write_time__.timestampValue);return new Ki(t.seconds,t.nanos)}class Em{constructor(t,i,c,m,v,E,R,$){this.databaseId=t,this.appId=i,this.persistenceKey=c,this.host=m,this.ssl=v,this.forceLongPolling=E,this.autoDetectLongPolling=R,this.useFetchStreams=$}}class Ol{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Ol("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}const Td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bu={nullValue:"NULL_VALUE"};function Pl(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Rl(a)?4:Eu(a)?9007199254740991:10:Jt()}function ga(a,t){if(a===t)return!0;const i=Pl(a);if(i!==Pl(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return yo(a).isEqual(yo(t));case 3:return function(c,m){if("string"==typeof c.timestampValue&&"string"==typeof m.timestampValue&&c.timestampValue.length===m.timestampValue.length)return c.timestampValue===m.timestampValue;const v=Rr(c.timestampValue),E=Rr(m.timestampValue);return v.seconds===E.seconds&&v.nanos===E.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return m=t,pa(a.bytesValue).isEqual(pa(m.bytesValue));case 7:return a.referenceValue===t.referenceValue;case 8:return function(c,m){return br(c.geoPointValue.latitude)===br(m.geoPointValue.latitude)&&br(c.geoPointValue.longitude)===br(m.geoPointValue.longitude)}(a,t);case 2:return function(c,m){if("integerValue"in c&&"integerValue"in m)return br(c.integerValue)===br(m.integerValue);if("doubleValue"in c&&"doubleValue"in m){const v=br(c.doubleValue),E=br(m.doubleValue);return v===E?mr(v)===mr(E):isNaN(v)&&isNaN(E)}return!1}(a,t);case 9:return vr(a.arrayValue.values||[],t.arrayValue.values||[],ga);case 10:return function(c,m){const v=c.mapValue.fields||{},E=m.mapValue.fields||{};if(Yc(v)!==Yc(E))return!1;for(const R in v)if(v.hasOwnProperty(R)&&(void 0===E[R]||!ga(v[R],E[R])))return!1;return!0}(a,t);default:return Jt()}var m}function No(a,t){return void 0!==(a.values||[]).find(i=>ga(i,t))}function Nl(a,t){if(a===t)return 0;const i=Pl(a),c=Pl(t);if(i!==c)return Xn(i,c);switch(i){case 0:case 9007199254740991:return 0;case 1:return Xn(a.booleanValue,t.booleanValue);case 2:return function(m,v){const E=br(m.integerValue||m.doubleValue),R=br(v.integerValue||v.doubleValue);return E<R?-1:E>R?1:E===R?0:isNaN(E)?isNaN(R)?0:-1:1}(a,t);case 3:return qc(a.timestampValue,t.timestampValue);case 4:return qc(yo(a),yo(t));case 5:return Xn(a.stringValue,t.stringValue);case 6:return function(m,v){const E=pa(m),R=pa(v);return E.compareTo(R)}(a.bytesValue,t.bytesValue);case 7:return function(m,v){const E=m.split("/"),R=v.split("/");for(let $=0;$<E.length&&$<R.length;$++){const ee=Xn(E[$],R[$]);if(0!==ee)return ee}return Xn(E.length,R.length)}(a.referenceValue,t.referenceValue);case 8:return function(m,v){const E=Xn(br(m.latitude),br(v.latitude));return 0!==E?E:Xn(br(m.longitude),br(v.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return function(m,v){const E=m.values||[],R=v.values||[];for(let $=0;$<E.length&&$<R.length;++$){const ee=Nl(E[$],R[$]);if(ee)return ee}return Xn(E.length,R.length)}(a.arrayValue,t.arrayValue);case 10:return function(m,v){if(m===Td.mapValue&&v===Td.mapValue)return 0;if(m===Td.mapValue)return 1;if(v===Td.mapValue)return-1;const E=m.fields||{},R=Object.keys(E),$=v.fields||{},ee=Object.keys($);R.sort(),ee.sort();for(let fe=0;fe<R.length&&fe<ee.length;++fe){const Ue=Xn(R[fe],ee[fe]);if(0!==Ue)return Ue;const ut=Nl(E[R[fe]],$[ee[fe]]);if(0!==ut)return ut}return Xn(R.length,ee.length)}(a.mapValue,t.mapValue);default:throw Jt()}}function qc(a,t){if("string"==typeof a&&"string"==typeof t&&a.length===t.length)return Xn(a,t);const i=Rr(a),c=Rr(t),m=Xn(i.seconds,c.seconds);return 0!==m?m:Xn(i.nanos,c.nanos)}function Zc(a){return Cm(a)}function Cm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(c){const m=Rr(c);return`time(${m.seconds},${m.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?pa(a.bytesValue).toBase64():"referenceValue"in a?cn.fromName(a.referenceValue).toString():"geoPointValue"in a?`geo(${(t=a.geoPointValue).latitude},${t.longitude})`:"arrayValue"in a?function(c){let m="[",v=!0;for(const E of c.values||[])v?v=!1:m+=",",m+=Cm(E);return m+"]"}(a.arrayValue):"mapValue"in a?function(c){const m=Object.keys(c.fields||{}).sort();let v="{",E=!0;for(const R of m)E?E=!1:v+=",",v+=`${R}:${Cm(c.fields[R])}`;return v+"}"}(a.mapValue):Jt();var t}function Ad(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function yf(a){return!!a&&"integerValue"in a}function dh(a){return!!a&&"arrayValue"in a}function vf(a){return!!a&&"nullValue"in a}function wu(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function xu(a){return!!a&&"mapValue"in a}function Md(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return V(a.mapValue.fields,(i,c)=>t.mapValue.fields[i]=Md(c)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Md(a.arrayValue.values[i]);return t}return Object.assign({},a)}function Eu(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}function Dm(a){return"nullValue"in a?bu:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Ad(Ol.empty(),cn.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?{mapValue:{}}:Jt()}function Ss(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Ad(Ol.empty(),cn.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?{mapValue:{}}:"mapValue"in a?Td:Jt()}function Qc(a,t){const i=Nl(a.value,t.value);return 0!==i?i:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function Kp(a,t){const i=Nl(a.value,t.value);return 0!==i?i:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class Ts{constructor(t){this.value=t}static empty(){return new Ts({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let c=0;c<t.length-1;++c)if(i=(i.mapValue.fields||{})[t.get(c)],!xu(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Md(i)}setAll(t){let i=fr.emptyPath(),c={},m=[];t.forEach((E,R)=>{if(!i.isImmediateParentOf(R)){const $=this.getFieldsMap(i);this.applyChanges($,c,m),c={},m=[],i=R.popLast()}E?c[R.lastSegment()]=Md(E):m.push(R.lastSegment())});const v=this.getFieldsMap(i);this.applyChanges(v,c,m)}delete(t){const i=this.field(t.popLast());xu(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ga(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let c=0;c<t.length;++c){let m=i.mapValue.fields[t.get(c)];xu(m)&&m.mapValue.fields||(m={mapValue:{fields:{}}},i.mapValue.fields[t.get(c)]=m),i=m}return i.mapValue.fields}applyChanges(t,i,c){V(i,(m,v)=>t[m]=v);for(const m of c)delete t[m]}clone(){return new Ts(Md(this.value))}}function bf(a){const t=[];return V(a.fields,(i,c)=>{const m=new fr([i]);if(xu(c)){const v=bf(c.mapValue).fields;if(0===v.length)t.push(m);else for(const E of v)t.push(m.child(E))}else t.push(m)}),new An(t)}class Or{constructor(t,i,c,m,v,E,R){this.key=t,this.documentType=i,this.version=c,this.readTime=m,this.createTime=v,this.data=E,this.documentState=R}static newInvalidDocument(t){return new Or(t,0,kn.min(),kn.min(),kn.min(),Ts.empty(),0)}static newFoundDocument(t,i,c,m){return new Or(t,1,i,kn.min(),c,m,0)}static newNoDocument(t,i){return new Or(t,2,i,kn.min(),kn.min(),Ts.empty(),0)}static newUnknownDocument(t,i){return new Or(t,3,i,kn.min(),kn.min(),Ts.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(kn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Or&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sc{constructor(t,i){this.position=t,this.inclusive=i}}function uh(a,t,i){let c=0;for(let m=0;m<a.position.length;m++){const v=t[m],E=a.position[m];if(c=v.field.isKeyField()?cn.comparator(cn.fromName(E.referenceValue),i.key):Nl(E,i.data.field(v.field)),"desc"===v.dir&&(c*=-1),0!==c)break}return c}function Yp(a,t){if(null===a)return null===t;if(null===t||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ga(a.position[i],t.position[i]))return!1;return!0}class kd{constructor(t,i="asc"){this.field=t,this.dir=i}}function Im(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class qp{}class ti extends qp{constructor(t,i,c){super(),this.field=t,this.op=i,this.value=c}static create(t,i,c){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,c):new A_(t,i,c):"array-contains"===i?new M_(t,c):"in"===i?new Ef(t,c):"not-in"===i?new Cf(t,c):"array-contains-any"===i?new Cu(t,c):new ti(t,i,c)}static createKeyFieldInFilter(t,i,c){return"in"===i?new Qp(t,c):new Sm(t,c)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Nl(i,this.value)):null!==i&&Pl(this.value)===Pl(i)&&this.matchesComparison(Nl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ar extends qp{constructor(t,i){super(),this.filters=t,this.op=i,this.ht=null}static create(t,i){return new ar(t,i)}matches(t){return Rd(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(i=>i.isInequality());return null!==t?t.field:null}lt(t){for(const i of this.getFlattenedFilters())if(t(i))return i;return null}}function Rd(a){return"and"===a.op}function hh(a){return"or"===a.op}function ao(a){return Od(a)&&Rd(a)}function Od(a){for(const t of a.filters)if(t instanceof ar)return!1;return!0}function Xc(a){if(a instanceof ti)return a.field.canonicalString()+a.op.toString()+Zc(a.value);if(ao(a))return a.filters.map(t=>Xc(t)).join(",");{const t=a.filters.map(i=>Xc(i)).join(",");return`${a.op}(${t})`}}function wf(a,t){return a instanceof ti?(i=a,(c=t)instanceof ti&&i.op===c.op&&i.field.isEqual(c.field)&&ga(i.value,c.value)):a instanceof ar?function(i,c){return c instanceof ar&&i.op===c.op&&i.filters.length===c.filters.length&&i.filters.reduce((m,v,E)=>m&&wf(v,c.filters[E]),!0)}(a,t):void Jt();var i,c}function Zp(a,t){const i=a.filters.concat(t);return ar.create(i,a.op)}function xf(a){return a instanceof ti?`${(t=a).field.canonicalString()} ${t.op} ${Zc(t.value)}`:a instanceof ar?function(t){return t.op.toString()+" {"+t.getFilters().map(xf).join(" ,")+"}"}(a):"Filter";var t}class A_ extends ti{constructor(t,i,c){super(t,i,c),this.key=cn.fromName(c.referenceValue)}matches(t){const i=cn.comparator(t.key,this.key);return this.matchesComparison(i)}}class Qp extends ti{constructor(t,i){super(t,"in",i),this.keys=fh(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Sm extends ti{constructor(t,i){super(t,"not-in",i),this.keys=fh(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function fh(a,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(c=>cn.fromName(c.referenceValue))}class M_ extends ti{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return dh(i)&&No(i.arrayValue,this.value)}}class Ef extends ti{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&No(this.value.arrayValue,i)}}class Cf extends ti{constructor(t,i){super(t,"not-in",i)}matches(t){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!No(this.value.arrayValue,i)}}class Cu extends ti{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!dh(i)||!i.arrayValue.values)&&i.arrayValue.values.some(c=>No(this.value.arrayValue,c))}}class Xp{constructor(t,i=null,c=[],m=[],v=null,E=null,R=null){this.path=t,this.collectionGroup=i,this.orderBy=c,this.filters=m,this.limit=v,this.startAt=E,this.endAt=R,this.ft=null}}function Tc(a,t=null,i=[],c=[],m=null,v=null,E=null){return new Xp(a,t,i,c,m,v,E)}function Du(a){const t=tn(a);if(null===t.ft){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(c=>Xc(c)).join(","),i+="|ob:",i+=t.orderBy.map(c=>{return(m=c).field.canonicalString()+m.dir;var m}).join(","),Kc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(c=>Zc(c)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(c=>Zc(c)).join(",")),t.ft=i}return t.ft}function Tm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Im(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!wf(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Yp(a.startAt,t.startAt)&&Yp(a.endAt,t.endAt)}function Pd(a){return cn.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function Fl(a,t){return a.filters.filter(i=>i instanceof ti&&i.field.isEqual(t))}function Iu(a,t,i){let c=bu,m=!0;for(const v of Fl(a,t)){let E=bu,R=!0;switch(v.op){case"<":case"<=":E=Dm(v.value);break;case"==":case"in":case">=":E=v.value;break;case">":E=v.value,R=!1;break;case"!=":case"not-in":E=bu}Qc({value:c,inclusive:m},{value:E,inclusive:R})<0&&(c=E,m=R)}if(null!==i)for(let v=0;v<a.orderBy.length;++v)if(a.orderBy[v].field.isEqual(t)){const E=i.position[v];Qc({value:c,inclusive:m},{value:E,inclusive:i.inclusive})<0&&(c=E,m=i.inclusive);break}return{value:c,inclusive:m}}function Jc(a,t,i){let c=Td,m=!0;for(const v of Fl(a,t)){let E=Td,R=!0;switch(v.op){case">=":case">":E=Ss(v.value),R=!1;break;case"==":case"in":case"<=":E=v.value;break;case"<":E=v.value,R=!1;break;case"!=":case"not-in":E=Td}Kp({value:c,inclusive:m},{value:E,inclusive:R})>0&&(c=E,m=R)}if(null!==i)for(let v=0;v<a.orderBy.length;++v)if(a.orderBy[v].field.isEqual(t)){const E=i.position[v];Kp({value:c,inclusive:m},{value:E,inclusive:i.inclusive})>0&&(c=E,m=i.inclusive);break}return{value:c,inclusive:m}}class sl{constructor(t,i=null,c=[],m=[],v=null,E="F",R=null,$=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=c,this.filters=m,this.limit=v,this.limitType=E,this.startAt=R,this.endAt=$,this.dt=null,this.wt=null}}function Am(a,t,i,c,m,v,E,R){return new sl(a,t,i,c,m,v,E,R)}function Su(a){return new sl(a)}function Df(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function mh(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function Ac(a){for(const t of a.filters){const i=t.getFirstInequalityField();if(null!==i)return i}return null}function If(a){return null!==a.collectionGroup}function ol(a){const t=tn(a);if(null===t.dt){t.dt=[];const i=Ac(t),c=mh(t);if(null!==i&&null===c)i.isKeyField()||t.dt.push(new kd(i)),t.dt.push(new kd(fr.keyField(),"asc"));else{let m=!1;for(const v of t.explicitOrderBy)t.dt.push(v),v.field.isKeyField()&&(m=!0);if(!m){const v=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new kd(fr.keyField(),v))}}}return t.dt}function qs(a){const t=tn(a);if(!t.wt)if("F"===t.limitType)t.wt=Tc(t.path,t.collectionGroup,ol(t),t.filters,t.limit,t.startAt,t.endAt);else{const i=[];for(const v of ol(t))i.push(new kd(v.field,"desc"===v.dir?"asc":"desc"));const c=t.endAt?new Sc(t.endAt.position,t.endAt.inclusive):null,m=t.startAt?new Sc(t.startAt.position,t.startAt.inclusive):null;t.wt=Tc(t.path,t.collectionGroup,i,t.filters,t.limit,c,m)}return t.wt}function al(a,t){t.getFirstInequalityField(),Ac(a);const i=a.filters.concat([t]);return new sl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function ph(a,t,i){return new sl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Nd(a,t){return Tm(qs(a),qs(t))&&a.limitType===t.limitType}function Oa(a){return`${Du(qs(a))}|lt:${a.limitType}`}function Fd(a){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(c=>xf(c)).join(", ")}]`),Kc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(c=>{return`${(m=c).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(c=>Zc(c)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(c=>Zc(c)).join(",")),`Target(${i})`}(qs(a))}; limitType=${a.limitType})`}function Mc(a,t){return t.isFoundDocument()&&function(i,c){const m=c.key.path;return null!==i.collectionGroup?c.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(m):cn.isDocumentKey(i.path)?i.path.isEqual(m):i.path.isImmediateParentOf(m)}(a,t)&&function(i,c){for(const m of ol(i))if(!m.field.isKeyField()&&null===c.data.field(m.field))return!1;return!0}(a,t)&&function(i,c){for(const m of i.filters)if(!m.matches(c))return!1;return!0}(a,t)&&(c=t,!((i=a).startAt&&!function(m,v,E){const R=uh(m,v,E);return m.inclusive?R<=0:R<0}(i.startAt,ol(i),c)||i.endAt&&!function(m,v,E){const R=uh(m,v,E);return m.inclusive?R>=0:R>0}(i.endAt,ol(i),c)));var i,c}function Mm(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function gh(a){return(t,i)=>{let c=!1;for(const m of ol(a)){const v=_h(m,t,i);if(0!==v)return v;c=c||m.field.isKeyField()}return 0}}function _h(a,t,i){const c=a.field.isKeyField()?cn.comparator(t.key,i.key):function(m,v,E){const R=v.data.field(m),$=E.data.field(m);return null!==R&&null!==$?Nl(R,$):Jt()}(a.field,t,i);switch(a.dir){case"asc":return c;case"desc":return-1*c;default:return Jt()}}class Fo{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),c=this.inner[i];if(void 0!==c)for(const[m,v]of c)if(this.equalsFn(m,t))return v}has(t){return void 0!==this.get(t)}set(t,i){const c=this.mapKeyFn(t),m=this.inner[c];if(void 0===m)return this.inner[c]=[[t,i]],void this.innerSize++;for(let v=0;v<m.length;v++)if(this.equalsFn(m[v][0],t))return void(m[v]=[t,i]);m.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),c=this.inner[i];if(void 0===c)return!1;for(let m=0;m<c.length;m++)if(this.equalsFn(c[m][0],t))return 1===c.length?delete this.inner[i]:c.splice(m,1),this.innerSize--,!0;return!1}forEach(t){V(this.inner,(i,c)=>{for(const[m,v]of c)t(m,v)})}isEmpty(){return W(this.inner)}size(){return this.innerSize}}const km=new te(cn.comparator);function Lo(){return km}const Sf=new te(cn.comparator);function Tf(...a){let t=Sf;for(const i of a)t=t.insert(i.key,i);return t}function yh(a){let t=Sf;return a.forEach((i,c)=>t=t.insert(i,c.overlayedDocument)),t}function _a(){return Ld()}function Rm(){return Ld()}function Ld(){return new Fo(a=>a.toString(),(a,t)=>a.isEqual(t))}const ed=new te(cn.comparator),Tu=new it(cn.comparator);function ii(...a){let t=Tu;for(const i of a)t=t.add(i);return t}const td=new it(Xn);function Ll(){return td}function vh(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mr(t)?"-0":t}}function Bd(a){return{integerValue:""+a}}function nd(a,t){return cc(t)?Bd(t):vh(a,t)}class Au{constructor(){this._=void 0}}function Af(a,t,i){return a instanceof bh?function(c,m){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return m&&(v.fields.__previous_value__=m),{mapValue:v}}(i,t):a instanceof Mu?k_(a,t):a instanceof Ud?ku(a,t):function(c,m){const v=Om(c,m),E=wh(v)+wh(c._t);return yf(v)&&yf(c._t)?Bd(E):vh(c.serializer,E)}(a,t)}function mv(a,t,i){return a instanceof Mu?k_(a,t):a instanceof Ud?ku(a,t):i}function Om(a,t){return a instanceof Bl?yf(i=t)||(c=i)&&"doubleValue"in c?t:{integerValue:0}:null;var c,i}class bh extends Au{}class Mu extends Au{constructor(t){super(),this.elements=t}}function k_(a,t){const i=uc(t);for(const c of a.elements)i.some(m=>ga(m,c))||i.push(c);return{arrayValue:{values:i}}}class Ud extends Au{constructor(t){super(),this.elements=t}}function ku(a,t){let i=uc(t);for(const c of a.elements)i=i.filter(m=>!ga(m,c));return{arrayValue:{values:i}}}class Bl extends Au{constructor(t,i){super(),this.serializer=t,this._t=i}}function wh(a){return br(a.integerValue||a.doubleValue)}function uc(a){return dh(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class id{constructor(t,i){this.field=t,this.transform=i}}class Pm{constructor(t,i){this.version=t,this.transformResults=i}}class Xr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xr}static exists(t){return new Xr(void 0,t)}static updateTime(t){return new Xr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vd(a,t){return void 0!==a.updateTime?t.isFoundDocument()&&t.version.isEqual(a.updateTime):void 0===a.exists||a.exists===t.isFoundDocument()}class kc{}function Hd(a,t){if(!a.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return a.isNoDocument()?new Rc(a.key,Xr.none()):new Ul(a.key,a.data,Xr.none());{const i=a.data,c=Ts.empty();let m=new it(fr.comparator);for(let v of t.fields)if(!m.has(v)){let E=i.field(v);null===E&&v.length>1&&(v=v.popLast(),E=i.field(v)),null===E?c.delete(v):c.set(v,E),m=m.add(v)}return new Bo(a.key,c,new An(m.toArray()),Xr.none())}}function xh(a,t,i){a instanceof Ul?function(c,m,v){const E=c.value.clone(),R=kf(c.fieldTransforms,m,v.transformResults);E.setAll(R),m.convertToFoundDocument(v.version,E).setHasCommittedMutations()}(a,t,i):a instanceof Bo?function(c,m,v){if(!Vd(c.precondition,m))return void m.convertToUnknownDocument(v.version);const E=kf(c.fieldTransforms,m,v.transformResults),R=m.data;R.setAll(eg(c)),R.setAll(E),m.convertToFoundDocument(v.version,R).setHasCommittedMutations()}(a,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function rd(a,t,i,c){return a instanceof Ul?function(m,v,E,R){if(!Vd(m.precondition,v))return E;const $=m.value.clone(),ee=Ru(m.fieldTransforms,R,v);return $.setAll(ee),v.convertToFoundDocument(v.version,$).setHasLocalMutations(),null}(a,t,i,c):a instanceof Bo?function(m,v,E,R){if(!Vd(m.precondition,v))return E;const $=Ru(m.fieldTransforms,R,v),ee=v.data;return ee.setAll(eg(m)),ee.setAll($),v.convertToFoundDocument(v.version,ee).setHasLocalMutations(),null===E?null:E.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(fe=>fe.field))}(a,t,i,c):(E=i,Vd(a.precondition,v=t)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):E);var v,E}function Jp(a,t){let i=null;for(const c of a.fieldTransforms){const m=t.data.field(c.field),v=Om(c.transform,m||null);null!=v&&(null===i&&(i=Ts.empty()),i.set(c.field,v))}return i||null}function Jo(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&(c=t.fieldTransforms,!!(void 0===(i=a.fieldTransforms)&&void 0===c||i&&c&&vr(i,c,(m,v)=>function Mf(a,t){return a.field.isEqual(t.field)&&(c=t.transform,(i=a.transform)instanceof Mu&&c instanceof Mu||i instanceof Ud&&c instanceof Ud?vr(i.elements,c.elements,ga):i instanceof Bl&&c instanceof Bl?ga(i._t,c._t):i instanceof bh&&c instanceof bh);var i,c}(m,v))))&&(0===a.type?a.value.isEqual(t.value):1!==a.type||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask));var i,c}class Ul extends kc{constructor(t,i,c,m=[]){super(),this.key=t,this.value=i,this.precondition=c,this.fieldTransforms=m,this.type=0}getFieldMask(){return null}}class Bo extends kc{constructor(t,i,c,m,v=[]){super(),this.key=t,this.data=i,this.fieldMask=c,this.precondition=m,this.fieldTransforms=v,this.type=1}getFieldMask(){return this.fieldMask}}function eg(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const c=a.data.field(i);t.set(i,c)}}),t}function kf(a,t,i){const c=new Map;ln(a.length===i.length);for(let m=0;m<i.length;m++){const v=a[m],E=v.transform,R=t.data.field(v.field);c.set(v.field,mv(E,R,i[m]))}return c}function Ru(a,t,i){const c=new Map;for(const m of a){const v=m.transform,E=i.data.field(m.field);c.set(m.field,Af(v,E,t))}return c}class Rc extends kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jd extends kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vl{constructor(t,i,c,m){this.batchId=t,this.localWriteTime=i,this.baseMutations=c,this.mutations=m}applyToRemoteDocument(t,i){const c=i.mutationResults;for(let m=0;m<this.mutations.length;m++){const v=this.mutations[m];v.key.isEqual(t.key)&&xh(v,t,c[m])}}applyToLocalView(t,i){for(const c of this.baseMutations)c.key.isEqual(t.key)&&(i=rd(c,t,i,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(t.key)&&(i=rd(c,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const c=Rm();return this.mutations.forEach(m=>{const v=t.get(m.key),E=v.overlayedDocument;let R=this.applyToLocalView(E,v.mutatedFields);R=i.has(m.key)?null:R;const $=Hd(E,R);null!==$&&c.set(m.key,$),E.isValidDocument()||E.convertToNoDocument(kn.min())}),c}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),ii())}isEqual(t){return this.batchId===t.batchId&&vr(this.mutations,t.mutations,(i,c)=>Jo(i,c))&&vr(this.baseMutations,t.baseMutations,(i,c)=>Jo(i,c))}}class lo{constructor(t,i,c,m){this.batch=t,this.commitVersion=i,this.mutationResults=c,this.docVersions=m}static from(t,i,c){ln(t.mutations.length===c.length);let m=ed;const v=t.mutations;for(let E=0;E<v.length;E++)m=m.insert(v[E].key,c[E].version);return new lo(t,i,c,m)}}class zd{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tg{constructor(t){this.count=t}}var Yi,Fi;function Rf(a){switch(a){default:return Jt();case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0}}function Of(a){if(void 0===a)return Kn("GRPC error has no .code"),_t.UNKNOWN;switch(a){case Yi.OK:return _t.OK;case Yi.CANCELLED:return _t.CANCELLED;case Yi.UNKNOWN:return _t.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return _t.INTERNAL;case Yi.UNAVAILABLE:return _t.UNAVAILABLE;case Yi.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case Yi.NOT_FOUND:return _t.NOT_FOUND;case Yi.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case Yi.ABORTED:return _t.ABORTED;case Yi.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case Yi.DATA_LOSS:return _t.DATA_LOSS;default:return Jt()}}(Fi=Yi||(Yi={}))[Fi.OK=0]="OK",Fi[Fi.CANCELLED=1]="CANCELLED",Fi[Fi.UNKNOWN=2]="UNKNOWN",Fi[Fi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fi[Fi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fi[Fi.NOT_FOUND=5]="NOT_FOUND",Fi[Fi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fi[Fi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fi[Fi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fi[Fi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fi[Fi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fi[Fi.ABORTED=10]="ABORTED",Fi[Fi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fi[Fi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fi[Fi.INTERNAL=13]="INTERNAL",Fi[Fi.UNAVAILABLE=14]="UNAVAILABLE",Fi[Fi.DATA_LOSS=15]="DATA_LOSS";class Hl{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sd}static getOrCreateInstance(){return null===sd&&(sd=new Hl),sd}onExistenceFilterMismatch(t){const i=Symbol();return this.onExistenceFilterMismatchCallbacks.set(i,t),()=>this.onExistenceFilterMismatchCallbacks.delete(i)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(i=>i(t))}}let sd=null;class od{constructor(t,i,c,m,v){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=c,this.documentUpdates=m,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(t,i,c){const m=new Map;return m.set(t,ya.createSynthesizedTargetChangeForCurrentChange(t,i,c)),new od(kn.min(),m,Ll(),Lo(),ii())}}class ya{constructor(t,i,c,m,v){this.resumeToken=t,this.current=i,this.addedDocuments=c,this.modifiedDocuments=m,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(t,i,c){return new ya(c,i,ii(),ii(),ii())}}class ad{constructor(t,i,c,m){this.It=t,this.removedTargetIds=i,this.key=c,this.Tt=m}}class Pf{constructor(t,i){this.targetId=t,this.Et=i}}class ng{constructor(t,i,c=Fn.EMPTY_BYTE_STRING,m=null){this.state=t,this.targetIds=i,this.resumeToken=c,this.cause=m}}class jl{constructor(){this.At=0,this.Rt=C(),this.vt=Fn.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=ii(),i=ii(),c=ii();return this.Rt.forEach((m,v)=>{switch(v){case 0:t=t.add(m);break;case 2:i=i.add(m);break;case 1:c=c.add(m);break;default:Jt()}}),new ya(this.vt,this.bt,t,i,c)}xt(){this.Pt=!1,this.Rt=C()}Nt(t,i){this.Pt=!0,this.Rt=this.Rt.insert(t,i)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class ld{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=Lo(),this.qt=Eh(),this.Ut=new it(Xn)}Kt(t){for(const i of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(i,t.Tt):this.Qt(i,t.key,t.Tt);for(const i of t.removedTargetIds)this.Qt(i,t.key,t.Tt)}zt(t){this.forEachTarget(t,i=>{const c=this.jt(i);switch(t.state){case 0:this.Wt(i)&&c.Dt(t.resumeToken);break;case 1:c.$t(),c.Vt||c.xt(),c.Dt(t.resumeToken);break;case 2:c.$t(),c.Vt||this.removeTarget(i);break;case 3:this.Wt(i)&&(c.Mt(),c.Dt(t.resumeToken));break;case 4:this.Wt(i)&&(this.Ht(i),c.Dt(t.resumeToken));break;default:Jt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Bt.forEach((c,m)=>{this.Wt(m)&&i(m)})}Jt(t){var i;const c=t.targetId,m=t.Et.count,v=this.Yt(c);if(v){const E=v.target;if(Pd(E))if(0===m){const R=new cn(E.path);this.Qt(c,R,Or.newNoDocument(R,kn.min()))}else ln(1===m);else{const R=this.Zt(c);R!==m&&(this.Ht(c),this.Ut=this.Ut.add(c),null===(i=Hl.instance)||void 0===i||i.notifyOnExistenceFilterMismatch({localCacheCount:R,existenceFilterCount:t.Et.count}))}}}Xt(t){const i=new Map;this.Bt.forEach((v,E)=>{const R=this.Yt(E);if(R){if(v.current&&Pd(R.target)){const $=new cn(R.target.path);null!==this.Lt.get($)||this.te(E,$)||this.Qt(E,$,Or.newNoDocument($,t))}v.St&&(i.set(E,v.Ct()),v.xt())}});let c=ii();this.qt.forEach((v,E)=>{let R=!0;E.forEachWhile($=>{const ee=this.Yt($);return!ee||2===ee.purpose||(R=!1,!1)}),R&&(c=c.add(v))}),this.Lt.forEach((v,E)=>E.setReadTime(t));const m=new od(t,i,this.Ut,this.Lt,c);return this.Lt=Lo(),this.qt=Eh(),this.Ut=new it(Xn),m}Gt(t,i){if(!this.Wt(t))return;const c=this.te(t,i.key)?2:0;this.jt(t).Nt(i.key,c),this.Lt=this.Lt.insert(i.key,i),this.qt=this.qt.insert(i.key,this.ee(i.key).add(t))}Qt(t,i,c){if(!this.Wt(t))return;const m=this.jt(t);this.te(t,i)?m.Nt(i,1):m.kt(i),this.qt=this.qt.insert(i,this.ee(i).delete(t)),c&&(this.Lt=this.Lt.insert(i,c))}removeTarget(t){this.Bt.delete(t)}Zt(t){const i=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let i=this.Bt.get(t);return i||(i=new jl,this.Bt.set(t,i)),i}ee(t){let i=this.qt.get(t);return i||(i=new it(Xn),this.qt=this.qt.insert(t,i)),i}Wt(t){const i=null!==this.Yt(t);return i||Rt("WatchChangeAggregator","Detected inactive target",t),i}Yt(t){const i=this.Bt.get(t);return i&&i.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new jl),this.Ft.getRemoteKeysForTarget(t).forEach(i=>{this.Qt(t,i,null)})}te(t,i){return this.Ft.getRemoteKeysForTarget(t).has(i)}}function Eh(){return new te(cn.comparator)}function C(){return new te(cn.comparator)}const y={asc:"ASCENDING",desc:"DESCENDING"},b={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T={and:"AND",or:"OR"};class M{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function re(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function He(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function ct(a,t){return re(a,t.toTimestamp())}function jt(a){return ln(!!a),kn.fromTimestamp(function(t){const i=Rr(t);return new Ki(i.seconds,i.nanos)}(a))}function dn(a,t){return(i=a,new oi(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function In(a){const t=oi.fromString(a);return ln(sg(t)),t}function Qt(a,t){return dn(a.databaseId,t.path)}function Yn(a,t){const i=In(t);if(i.get(1)!==a.databaseId.projectId)throw new Ht(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new Ht(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new cn(Nf(i))}function vo(a,t){return dn(a.databaseId,t)}function Gd(a){const t=In(a);return 4===t.length?oi.emptyPath():Nf(t)}function Lr(a){return new oi(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Nf(a){return ln(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function Fm(a,t,i){return{name:Qt(a,t),fields:i.value.mapValue.fields}}function Ch(a,t,i){const c=Yn(a,t.name),m=jt(t.updateTime),v=t.createTime?jt(t.createTime):kn.min(),E=new Ts({mapValue:{fields:t.fields}}),R=Or.newFoundDocument(c,m,v,E);return i&&R.setHasCommittedMutations(),i?R.setHasCommittedMutations():R}function $d(a,t){let i;if(t instanceof Ul)i={update:Fm(a,t.key,t.value)};else if(t instanceof Rc)i={delete:Qt(a,t.key)};else if(t instanceof Bo)i={update:Fm(a,t.key,t.data),updateMask:pv(t.fieldMask)};else{if(!(t instanceof jd))return Jt();i={verify:Qt(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(c=>function(m,v){const E=v.transform;if(E instanceof bh)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Mu)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Ud)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Bl)return{fieldPath:v.field.canonicalString(),increment:E._t};throw Jt()}(0,c))),t.precondition.isNone||(i.currentDocument=void 0!==(m=t.precondition).updateTime?{updateTime:ct(a,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Jt()),i;var m}function Dh(a,t){const i=t.currentDocument?void 0!==(m=t.currentDocument).updateTime?Xr.updateTime(jt(m.updateTime)):void 0!==m.exists?Xr.exists(m.exists):Xr.none():Xr.none(),c=t.updateTransforms?t.updateTransforms.map(m=>function(v,E){let R=null;"setToServerValue"in E?(ln("REQUEST_TIME"===E.setToServerValue),R=new bh):"appendMissingElements"in E?R=new Mu(E.appendMissingElements.values||[]):"removeAllFromArray"in E?R=new Ud(E.removeAllFromArray.values||[]):"increment"in E?R=new Bl(v,E.increment):Jt();const $=fr.fromServerFormat(E.fieldPath);return new id($,R)}(a,m)):[];var m;if(t.update){const m=Yn(a,t.update.name),v=new Ts({mapValue:{fields:t.update.fields}});if(t.updateMask){const E=new An((t.updateMask.fieldPaths||[]).map(ee=>fr.fromServerFormat(ee)));return new Bo(m,v,E,i,c)}return new Ul(m,v,i,c)}if(t.delete){const m=Yn(a,t.delete);return new Rc(m,i)}if(t.verify){const m=Yn(a,t.verify);return new jd(m,i)}return Jt()}function Bm(a,t){return{documents:[vo(a,t.path)]}}function Ih(a,t){const i={structuredQuery:{}},c=t.path;null!==t.collectionGroup?(i.parent=vo(a,c),i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i.parent=vo(a,c.popLast()),i.structuredQuery.from=[{collectionId:c.lastSegment()}]);const m=function($){if(0!==$.length)return Uo(ar.create($,"and"))}(t.filters);m&&(i.structuredQuery.where=m);const v=function($){if(0!==$.length)return $.map(ee=>{return{field:hc((fe=ee).field),direction:Sh(fe.dir)};var fe})}(t.orderBy);v&&(i.structuredQuery.orderBy=v);const E=(ee=t.limit,a.useProto3Json||Kc(ee)?ee:{value:ee});var ee,R,$;return null!==E&&(i.structuredQuery.limit=E),t.startAt&&(i.structuredQuery.startAt={before:(R=t.startAt).inclusive,values:R.position}),t.endAt&&(i.structuredQuery.endAt={before:!($=t.endAt).inclusive,values:$.position}),i}function O_(a){let t=Gd(a.parent);const i=a.structuredQuery,c=i.from?i.from.length:0;let m=null;if(c>0){ln(1===c);const fe=i.from[0];fe.allDescendants?m=fe.collectionId:t=t.child(fe.collectionId)}let v=[];i.where&&(v=function(fe){const Ue=rg(fe);return Ue instanceof ar&&ao(Ue)?Ue.getFilters():[Ue]}(i.where));let E=[];i.orderBy&&(E=i.orderBy.map(fe=>{return new kd(cd((Ue=fe).field),function(ut){switch(ut){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ue.direction));var Ue}));let R=null;i.limit&&(R=function(fe){let Ue;return Ue="object"==typeof fe?fe.value:fe,Kc(Ue)?null:Ue}(i.limit));let $=null;var fe;i.startAt&&($=new Sc((fe=i.startAt).values||[],!!fe.before));let ee=null;return i.endAt&&(ee=function(fe){return new Sc(fe.values||[],!fe.before)}(i.endAt)),Am(t,m,E,v,R,"F",$,ee)}function rg(a){return void 0!==a.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=cd(t.unaryFilter.field);return ti.create(i,"==",{doubleValue:NaN});case"IS_NULL":const c=cd(t.unaryFilter.field);return ti.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=cd(t.unaryFilter.field);return ti.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=cd(t.unaryFilter.field);return ti.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Jt()}}(a):void 0!==a.fieldFilter?ti.create(cd((t=a).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==a.compositeFilter?function(t){return ar.create(t.compositeFilter.filters.map(i=>rg(i)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Jt()}}(t.compositeFilter.op))}(a):Jt();var t}function Sh(a){return y[a]}function P_(a){return b[a]}function N_(a){return T[a]}function hc(a){return{fieldPath:a.canonicalString()}}function cd(a){return fr.fromServerFormat(a.fieldPath)}function Uo(a){return a instanceof ti?function(t){if("=="===t.op){if(wu(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NAN"}};if(vf(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(wu(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NAN"}};if(vf(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(t.field),op:P_(t.op),value:t.value}}}(a):a instanceof ar?function(t){const i=t.getFilters().map(c=>Uo(c));return 1===i.length?i[0]:{compositeFilter:{op:N_(t.op),filters:i}}}(a):Jt()}function pv(a){const t=[];return a.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function sg(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class Th{constructor(t,i,c,m,v=kn.min(),E=kn.min(),R=Fn.EMPTY_BYTE_STRING){this.target=t,this.targetId=i,this.purpose=c,this.sequenceNumber=m,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=R}withSequenceNumber(t){return new Th(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,i){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class og{constructor(t){this.se=t}}function ag(a,t){const i=t.key,c={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Pu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())c.document={name:Qt(m=a.se,(v=t).key),fields:v.data.value.mapValue.fields,updateTime:re(m,v.version.toTimestamp()),createTime:re(m,v.createTime.toTimestamp())};else if(t.isNoDocument())c.noDocument={path:i.path.toArray(),readTime:Wd(t.version)};else{if(!t.isUnknownDocument())return Jt();c.unknownDocument={path:i.path.toArray(),version:Wd(t.version)}}var m,v;return c}function Pu(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function Wd(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Pa(a){const t=new Ki(a.seconds,a.nanoseconds);return kn.fromTimestamp(t)}function Kd(a,t){const i=(t.baseMutations||[]).map(v=>Dh(a.se,v));for(let v=0;v<t.mutations.length-1;++v)v+1<t.mutations.length&&void 0!==t.mutations[v+1].transform&&(t.mutations[v].updateTransforms=t.mutations[v+1].transform.fieldTransforms,t.mutations.splice(v+1,1),++v);const c=t.mutations.map(v=>Dh(a.se,v)),m=Ki.fromMillis(t.localWriteTimeMs);return new Vl(t.batchId,m,i,c)}function Na(a){const t=Pa(a.readTime),i=void 0!==a.lastLimboFreeSnapshotVersion?Pa(a.lastLimboFreeSnapshotVersion):kn.min();let c;var m;return void 0!==a.query.documents?(ln(1===(m=a.query).documents.length),c=qs(Su(Gd(m.documents[0])))):c=qs(O_(a.query)),new Th(c,a.targetId,0,a.lastListenSequenceNumber,t,i,Fn.fromBase64String(a.resumeToken))}function Lf(a,t){const i=Wd(t.snapshotVersion),c=Wd(t.lastLimboFreeSnapshotVersion);let m;m=Pd(t.target)?Bm(a.se,t.target):Ih(a.se,t.target);const v=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Du(t.target),readTime:i,resumeToken:v,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:c,query:m}}function dd(a){const t=O_({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?ph(t,t.limit,"L"):t}function Bf(a,t){return new zd(t.largestBatchId,Dh(a.se,t.overlayMutation))}function Vm(a,t){const i=t.path.lastSegment();return[a,Wr(t.path.popLast()),i]}function Oc(a,t,i,c){return{indexId:a,uid:t.uid||"",sequenceNumber:i,readTime:Wd(c.readTime),documentKey:Wr(c.documentKey.path),largestBatchId:c.largestBatchId}}class gv{getBundleMetadata(t,i){return lg(t).get(i).next(c=>{if(c)return{id:(m=c).bundleId,createTime:Pa(m.createTime),version:m.version};var m})}saveBundleMetadata(t,i){return lg(t).put({bundleId:(c=i).id,createTime:Wd(jt(c.createTime)),version:c.version});var c}getNamedQuery(t,i){return _v(t).get(i).next(c=>{if(c)return{name:(m=c).name,query:dd(m.bundledQuery),readTime:Pa(m.readTime)};var m})}saveNamedQuery(t,i){return _v(t).put({name:(c=i).name,readTime:Wd(jt(c.readTime)),bundledQuery:c.bundledQuery});var c}}function lg(a){return Ys(a,"bundles")}function _v(a){return Ys(a,"namedQueries")}class cg{constructor(t,i){this.serializer=t,this.userId=i}static ie(t,i){return new cg(t,i.uid||"")}getOverlay(t,i){return Uf(t).get(Vm(this.userId,i)).next(c=>c?Bf(this.serializer,c):null)}getOverlays(t,i){const c=_a();return pt.forEach(i,m=>this.getOverlay(t,m).next(v=>{null!==v&&c.set(m,v)})).next(()=>c)}saveOverlays(t,i,c){const m=[];return c.forEach((v,E)=>{const R=new zd(i,E);m.push(this.re(t,R))}),pt.waitFor(m)}removeOverlaysForBatchId(t,i,c){const m=new Set;i.forEach(E=>m.add(Wr(E.getCollectionPath())));const v=[];return m.forEach(E=>{const R=IDBKeyRange.bound([this.userId,E,c],[this.userId,E,c+1],!1,!0);v.push(Uf(t).J("collectionPathOverlayIndex",R))}),pt.waitFor(v)}getOverlaysForCollection(t,i,c){const m=_a(),v=Wr(i),E=IDBKeyRange.bound([this.userId,v,c],[this.userId,v,Number.POSITIVE_INFINITY],!0);return Uf(t).j("collectionPathOverlayIndex",E).next(R=>{for(const $ of R){const ee=Bf(this.serializer,$);m.set(ee.getKey(),ee)}return m})}getOverlaysForCollectionGroup(t,i,c,m){const v=_a();let E;const R=IDBKeyRange.bound([this.userId,i,c],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Uf(t).Z({index:"collectionGroupOverlayIndex",range:R},($,ee,fe)=>{const Ue=Bf(this.serializer,ee);v.size()<m||Ue.largestBatchId===E?(v.set(Ue.getKey(),Ue),E=Ue.largestBatchId):fe.done()}).next(()=>v)}re(t,i){return Uf(t).put(function(c,m,v){const[E,R,$]=Vm(m,v.mutation.key);return{userId:m,collectionPath:R,documentId:$,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:$d(c.se,v.mutation)}}(this.serializer,this.userId,i))}}function Uf(a){return Ys(a,"documentOverlays")}class fc{constructor(){}oe(t,i){this.ue(t,i),i.ce()}ue(t,i){if("nullValue"in t)this.ae(i,5);else if("booleanValue"in t)this.ae(i,10),i.he(t.booleanValue?1:0);else if("integerValue"in t)this.ae(i,15),i.he(br(t.integerValue));else if("doubleValue"in t){const c=br(t.doubleValue);isNaN(c)?this.ae(i,13):(this.ae(i,15),mr(c)?i.he(0):i.he(c))}else if("timestampValue"in t){const c=t.timestampValue;this.ae(i,20),"string"==typeof c?i.le(c):(i.le(`${c.seconds||""}`),i.he(c.nanos||0))}else if("stringValue"in t)this.fe(t.stringValue,i),this.de(i);else if("bytesValue"in t)this.ae(i,30),i.we(pa(t.bytesValue)),this.de(i);else if("referenceValue"in t)this._e(t.referenceValue,i);else if("geoPointValue"in t){const c=t.geoPointValue;this.ae(i,45),i.he(c.latitude||0),i.he(c.longitude||0)}else"mapValue"in t?Eu(t)?this.ae(i,Number.MAX_SAFE_INTEGER):(this.me(t.mapValue,i),this.de(i)):"arrayValue"in t?(this.ge(t.arrayValue,i),this.de(i)):Jt()}fe(t,i){this.ae(i,25),this.ye(t,i)}ye(t,i){i.le(t)}me(t,i){const c=t.fields||{};this.ae(i,55);for(const m of Object.keys(c))this.fe(m,i),this.ue(c[m],i)}ge(t,i){const c=t.values||[];this.ae(i,50);for(const m of c)this.ue(m,i)}_e(t,i){this.ae(i,37),cn.fromName(t).path.forEach(c=>{this.ae(i,60),this.ye(c,i)})}ae(t,i){t.he(i)}de(t){t.he(2)}}function $b(a){if(0===a)return 8;let t=0;return!(a>>4)&&(t+=4,a<<=4),!(a>>6)&&(t+=2,a<<=2),!(a>>7)&&(t+=1),t}function yv(a){const t=64-function(i){let c=0;for(let m=0;m<8;++m){const v=$b(255&i[m]);if(c+=v,8!==v)break}return c}(a);return Math.ceil(t/8)}fc.pe=new fc;class Wb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(t){const i=t[Symbol.iterator]();let c=i.next();for(;!c.done;)this.Te(c.value),c=i.next();this.Ee()}Ae(t){const i=t[Symbol.iterator]();let c=i.next();for(;!c.done;)this.Re(c.value),c=i.next();this.ve()}be(t){for(const i of t){const c=i.charCodeAt(0);if(c<128)this.Te(c);else if(c<2048)this.Te(960|c>>>6),this.Te(128|63&c);else if(i<"\ud800"||"\udbff"<i)this.Te(480|c>>>12),this.Te(128|63&c>>>6),this.Te(128|63&c);else{const m=i.codePointAt(0);this.Te(240|m>>>18),this.Te(128|63&m>>>12),this.Te(128|63&m>>>6),this.Te(128|63&m)}}this.Ee()}Pe(t){for(const i of t){const c=i.charCodeAt(0);if(c<128)this.Re(c);else if(c<2048)this.Re(960|c>>>6),this.Re(128|63&c);else if(i<"\ud800"||"\udbff"<i)this.Re(480|c>>>12),this.Re(128|63&c>>>6),this.Re(128|63&c);else{const m=i.codePointAt(0);this.Re(240|m>>>18),this.Re(128|63&m>>>12),this.Re(128|63&m>>>6),this.Re(128|63&m)}}this.ve()}Ve(t){const i=this.Se(t),c=yv(i);this.De(1+c),this.buffer[this.position++]=255&c;for(let m=i.length-c;m<i.length;++m)this.buffer[this.position++]=255&i[m]}Ce(t){const i=this.Se(t),c=yv(i);this.De(1+c),this.buffer[this.position++]=~(255&c);for(let m=i.length-c;m<i.length;++m)this.buffer[this.position++]=~(255&i[m])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(t){this.De(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Se(t){const i=function(m){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,m,!1),new Uint8Array(v.buffer)}(t),c=0!=(128&i[0]);i[0]^=c?255:128;for(let m=1;m<i.length;++m)i[m]^=c?255:0;return i}Te(t){const i=255&t;0===i?(this.Ne(0),this.Ne(255)):255===i?(this.Ne(255),this.Ne(0)):this.Ne(i)}Re(t){const i=255&t;0===i?(this.Oe(0),this.Oe(255)):255===i?(this.Oe(255),this.Oe(0)):this.Oe(t)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(t){this.De(1),this.buffer[this.position++]=t}Oe(t){this.De(1),this.buffer[this.position++]=~t}De(t){const i=t+this.position;if(i<=this.buffer.length)return;let c=2*this.buffer.length;c<i&&(c=i);const m=new Uint8Array(c);m.set(this.buffer),this.buffer=m}}class Fa{constructor(t){this.Me=t}we(t){this.Me.Ie(t)}le(t){this.Me.be(t)}he(t){this.Me.Ve(t)}ce(){this.Me.xe()}}class F_{constructor(t){this.Me=t}we(t){this.Me.Ae(t)}le(t){this.Me.Pe(t)}he(t){this.Me.Ce(t)}ce(){this.Me.ke()}}class Nu{constructor(){this.Me=new Wb,this.Fe=new Fa(this.Me),this.Be=new F_(this.Me)}seed(t){this.Me.seed(t)}Le(t){return 0===t?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class Fu{constructor(t,i,c,m){this.indexId=t,this.documentKey=i,this.arrayValue=c,this.directionalValue=m}qe(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,c=new Uint8Array(i);return c.set(this.directionalValue,0),i!==t?c.set([0],this.directionalValue.length):++c[c.length-1],new Fu(this.indexId,this.documentKey,this.arrayValue,c)}}function Yd(a,t){let i=a.indexId-t.indexId;return 0!==i?i:(i=vv(a.arrayValue,t.arrayValue),0!==i?i:(i=vv(a.directionalValue,t.directionalValue),0!==i?i:cn.comparator(a.documentKey,t.documentKey)))}function vv(a,t){for(let i=0;i<a.length&&i<t.length;++i){const c=a[i]-t[i];if(0!==c)return c}return a.length-t.length}class bv{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];for(const i of t.filters){const c=i;c.isInequality()?this.Ge=c:this.Ke.push(c)}}Qe(t){ln(t.collectionGroup===this.collectionId);const i=da(t);if(void 0!==i&&!this.ze(i))return!1;const c=kr(t);let m=0,v=0;for(;m<c.length&&this.ze(c[m]);++m);if(m===c.length)return!0;if(void 0!==this.Ge){const E=c[m];if(!this.je(this.Ge,E)||!this.We(this.Ue[v++],E))return!1;++m}for(;m<c.length;++m)if(v>=this.Ue.length||!this.We(this.Ue[v++],c[m]))return!1;return!0}ze(t){for(const i of this.Ke)if(this.je(i,t))return!0;return!1}je(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function Vf(a){var t,i;if(ln(a instanceof ti||a instanceof ar),a instanceof ti){if(a instanceof Ef){const m=(null===(i=null===(t=a.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(v=>ti.create(a.field,"==",v)))||[];return ar.create(m,"or")}return a}const c=a.filters.map(m=>Vf(m));return ar.create(c,a.op)}function Kb(a){if(0===a.getFilters().length)return[];const t=ug(Vf(a));return ln(dg(t)),Lu(t)||va(t)?[t]:t.getFilters()}function Lu(a){return a instanceof ti}function va(a){return a instanceof ar&&ao(a)}function dg(a){return Lu(a)||va(a)||function(t){if(t instanceof ar&&hh(t)){for(const i of t.getFilters())if(!Lu(i)&&!va(i))return!1;return!0}return!1}(a)}function ug(a){if(ln(a instanceof ti||a instanceof ar),a instanceof ti)return a;if(1===a.filters.length)return ug(a.filters[0]);const t=a.filters.map(c=>ug(c));let i=ar.create(t,a.op);return i=hg(i),dg(i)?i:(ln(i instanceof ar),ln(Rd(i)),ln(i.filters.length>1),i.filters.reduce((c,m)=>L_(c,m)))}function L_(a,t){let i;return ln(a instanceof ti||a instanceof ar),ln(t instanceof ti||t instanceof ar),i=a instanceof ti?t instanceof ti?ar.create([a,t],"and"):B_(a,t):t instanceof ti?B_(t,a):function(c,m){if(ln(c.filters.length>0&&m.filters.length>0),Rd(c)&&Rd(m))return Zp(c,m.getFilters());const v=hh(c)?c:m,E=hh(c)?m:c,R=v.filters.map($=>L_($,E));return ar.create(R,"or")}(a,t),hg(i)}function B_(a,t){if(Rd(t))return Zp(t,a.getFilters());{const i=t.filters.map(c=>L_(a,c));return ar.create(i,"or")}}function hg(a){if(ln(a instanceof ti||a instanceof ar),a instanceof ti)return a;const t=a.getFilters();if(1===t.length)return hg(t[0]);if(Od(a))return a;const i=t.map(m=>hg(m)),c=[];return i.forEach(m=>{m instanceof ti?c.push(m):m instanceof ar&&(m.op===a.op?c.push(...m.filters):c.push(m))}),1===c.length?c[0]:ar.create(c,a.op)}class ba{constructor(){this.He=new Ah}addToCollectionParentIndex(t,i){return this.He.add(i),pt.resolve()}getCollectionParents(t,i){return pt.resolve(this.He.getEntries(i))}addFieldIndex(t,i){return pt.resolve()}deleteFieldIndex(t,i){return pt.resolve()}getDocumentsMatchingTarget(t,i){return pt.resolve(null)}getIndexType(t,i){return pt.resolve(0)}getFieldIndexes(t,i){return pt.resolve([])}getNextCollectionGroupToUpdate(t){return pt.resolve(null)}getMinOffset(t,i){return pt.resolve(as.min())}getMinOffsetFromCollectionGroup(t,i){return pt.resolve(as.min())}updateCollectionGroup(t,i,c){return pt.resolve()}updateIndexEntries(t,i){return pt.resolve()}}class Ah{constructor(){this.index={}}add(t){const i=t.lastSegment(),c=t.popLast(),m=this.index[i]||new it(oi.comparator),v=!m.has(c);return this.index[i]=m.add(c),v}has(t){const i=t.lastSegment(),c=t.popLast(),m=this.index[i];return m&&m.has(c)}getEntries(t){return(this.index[t]||new it(oi.comparator)).toArray()}}const Hf=new Uint8Array(0);class Mh{constructor(t,i){this.user=t,this.databaseId=i,this.Je=new Ah,this.Ye=new Fo(c=>Du(c),(c,m)=>Tm(c,m)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.Je.has(i)){const c=i.lastSegment(),m=i.popLast();t.addOnCommittedListener(()=>{this.Je.add(i)});const v={collectionId:c,parent:Wr(m)};return wv(t).put(v)}return pt.resolve()}getCollectionParents(t,i){const c=[],m=IDBKeyRange.bound([i,""],[Wi(i),""],!1,!0);return wv(t).j(m).next(v=>{for(const E of v){if(E.collectionId!==i)break;c.push(ls(E.parent))}return c})}addFieldIndex(t,i){const c=qd(t),m={indexId:(E=i).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var E;delete m.indexId;const v=c.add(m);if(i.indexState){const E=Hm(t);return v.next(R=>{E.put(Oc(R,this.user,i.indexState.sequenceNumber,i.indexState.offset))})}return v.next()}deleteFieldIndex(t,i){const c=qd(t),m=Hm(t),v=kh(t);return c.delete(i.indexId).next(()=>m.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>v.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,i){const c=kh(t);let m=!0;const v=new Map;return pt.forEach(this.Ze(i),E=>this.Xe(t,E).next(R=>{m&&(m=!!R),v.set(E,R)})).next(()=>{if(m){let E=ii();const R=[];return pt.forEach(v,($,ee)=>{var fe;Rt("IndexedDbIndexManager",`Using index ${fe=$,`id=${fe.indexId}|cg=${fe.collectionGroup}|f=${fe.fields.map(Ui=>`${Ui.fieldPath}:${Ui.kind}`).join(",")}`} to execute ${Du(i)}`);const Ue=function(Ui,Zs){const Vr=da(Zs);if(void 0===Vr)return null;for(const qr of Fl(Ui,Vr.fieldPath))switch(qr.op){case"array-contains-any":return qr.value.arrayValue.values||[];case"array-contains":return[qr.value]}return null}(ee,$),ut=function(Ui,Zs){const Vr=new Map;for(const qr of kr(Zs))for(const fo of Fl(Ui,qr.fieldPath))switch(fo.op){case"==":case"in":Vr.set(qr.fieldPath.canonicalString(),fo.value);break;case"not-in":case"!=":return Vr.set(qr.fieldPath.canonicalString(),fo.value),Array.from(Vr.values())}return null}(ee,$),Bt=function(Ui,Zs){const Vr=[];let qr=!0;for(const fo of kr(Zs)){const ta=0===fo.kind?Iu(Ui,fo.fieldPath,Ui.startAt):Jc(Ui,fo.fieldPath,Ui.startAt);Vr.push(ta.value),qr&&(qr=ta.inclusive)}return new Sc(Vr,qr)}(ee,$),en=function(Ui,Zs){const Vr=[];let qr=!0;for(const fo of kr(Zs)){const ta=0===fo.kind?Jc(Ui,fo.fieldPath,Ui.endAt):Iu(Ui,fo.fieldPath,Ui.endAt);Vr.push(ta.value),qr&&(qr=ta.inclusive)}return new Sc(Vr,qr)}(ee,$),vn=this.tn($,ee,Bt),$n=this.tn($,ee,en),ir=this.en($,ee,ut),bs=this.nn($.indexId,Ue,vn,Bt.inclusive,$n,en.inclusive,ir);return pt.forEach(bs,Ui=>c.H(Ui,i.limit).next(Zs=>{Zs.forEach(Vr=>{const qr=cn.fromSegments(Vr.documentKey);E.has(qr)||(E=E.add(qr),R.push(qr))})}))}).next(()=>R)}return pt.resolve(null)})}Ze(t){let i=this.Ye.get(t);return i||(i=0===t.filters.length?[t]:Kb(ar.create(t.filters,"and")).map(c=>Tc(t.path,t.collectionGroup,t.orderBy,c.getFilters(),t.limit,t.startAt,t.endAt)),this.Ye.set(t,i),i)}nn(t,i,c,m,v,E,R){const $=(null!=i?i.length:1)*Math.max(c.length,v.length),ee=$/(null!=i?i.length:1),fe=[];for(let Ue=0;Ue<$;++Ue){const ut=i?this.sn(i[Ue/ee]):Hf,Bt=this.rn(t,ut,c[Ue%ee],m),en=this.on(t,ut,v[Ue%ee],E),vn=R.map($n=>this.rn(t,ut,$n,!0));fe.push(...this.createRange(Bt,en,vn))}return fe}rn(t,i,c,m){const v=new Fu(t,cn.empty(),i,c);return m?v:v.qe()}on(t,i,c,m){const v=new Fu(t,cn.empty(),i,c);return m?v.qe():v}Xe(t,i){const c=new bv(i),m=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,m).next(v=>{let E=null;for(const R of v)c.Qe(R)&&(!E||R.fields.length>E.fields.length)&&(E=R);return E})}getIndexType(t,i){let c=2;const m=this.Ze(i);return pt.forEach(m,v=>this.Xe(t,v).next(E=>{E?0!==c&&E.fields.length<function(R){let $=new it(fr.comparator),ee=!1;for(const fe of R.filters)for(const Ue of fe.getFlattenedFilters())Ue.field.isKeyField()||("array-contains"===Ue.op||"array-contains-any"===Ue.op?ee=!0:$=$.add(Ue.field));for(const fe of R.orderBy)fe.field.isKeyField()||($=$.add(fe.field));return $.size+(ee?1:0)}(v)&&(c=1):c=0})).next(()=>null!==i.limit&&m.length>1&&2===c?1:c)}un(t,i){const c=new Nu;for(const m of kr(t)){const v=i.data.field(m.fieldPath);if(null==v)return null;const E=c.Le(m.kind);fc.pe.oe(v,E)}return c.$e()}sn(t){const i=new Nu;return fc.pe.oe(t,i.Le(0)),i.$e()}cn(t,i){const c=new Nu;return fc.pe.oe(Ad(this.databaseId,i),c.Le(function(m){const v=kr(m);return 0===v.length?0:v[v.length-1].kind}(t))),c.$e()}en(t,i,c){if(null===c)return[];let m=[];m.push(new Nu);let v=0;for(const E of kr(t)){const R=c[v++];for(const $ of m)if(this.an(i,E.fieldPath)&&dh(R))m=this.hn(m,E,R);else{const ee=$.Le(E.kind);fc.pe.oe(R,ee)}}return this.ln(m)}tn(t,i,c){return this.en(t,i,c.position)}ln(t){const i=[];for(let c=0;c<t.length;++c)i[c]=t[c].$e();return i}hn(t,i,c){const m=[...t],v=[];for(const E of c.arrayValue.values||[])for(const R of m){const $=new Nu;$.seed(R.$e()),fc.pe.oe(E,$.Le(i.kind)),v.push($)}return v}an(t,i){return!!t.filters.find(c=>c instanceof ti&&c.field.isEqual(i)&&("in"===c.op||"not-in"===c.op))}getFieldIndexes(t,i){const c=qd(t),m=Hm(t);return(i?c.j("collectionGroupIndex",IDBKeyRange.bound(i,i)):c.j()).next(v=>{const E=[];return pt.forEach(v,R=>m.get([R.indexId,this.uid]).next($=>{E.push(function(ee,fe){const Ue=fe?new _s(fe.sequenceNumber,new as(Pa(fe.readTime),new cn(ls(fe.documentKey)),fe.largestBatchId)):_s.empty(),ut=ee.fields.map(([Bt,en])=>new os(fr.fromServerFormat(Bt),en));return new $r(ee.indexId,ee.collectionGroup,ut,Ue)}(R,$))})).next(()=>E)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((c,m)=>{const v=c.indexState.sequenceNumber-m.indexState.sequenceNumber;return 0!==v?v:Xn(c.collectionGroup,m.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,c){const m=qd(t),v=Hm(t);return this.fn(t).next(E=>m.j("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(R=>pt.forEach(R,$=>v.put(Oc($.indexId,this.user,E,c)))))}updateIndexEntries(t,i){const c=new Map;return pt.forEach(i,(m,v)=>{const E=c.get(m.collectionGroup);return(E?pt.resolve(E):this.getFieldIndexes(t,m.collectionGroup)).next(R=>(c.set(m.collectionGroup,R),pt.forEach(R,$=>this.dn(t,m,$).next(ee=>{const fe=this.wn(v,$);return ee.isEqual(fe)?pt.resolve():this._n(t,v,$,ee,fe)}))))})}mn(t,i,c,m){return kh(t).put({indexId:m.indexId,uid:this.uid,arrayValue:m.arrayValue,directionalValue:m.directionalValue,orderedDocumentKey:this.cn(c,i.key),documentKey:i.key.path.toArray()})}gn(t,i,c,m){return kh(t).delete([m.indexId,this.uid,m.arrayValue,m.directionalValue,this.cn(c,i.key),i.key.path.toArray()])}dn(t,i,c){const m=kh(t);let v=new it(Yd);return m.Z({index:"documentKeyIndex",range:IDBKeyRange.only([c.indexId,this.uid,this.cn(c,i)])},(E,R)=>{v=v.add(new Fu(c.indexId,i,R.arrayValue,R.directionalValue))}).next(()=>v)}wn(t,i){let c=new it(Yd);const m=this.un(i,t);if(null==m)return c;const v=da(i);if(null!=v){const E=t.data.field(v.fieldPath);if(dh(E))for(const R of E.arrayValue.values||[])c=c.add(new Fu(i.indexId,t.key,this.sn(R),m))}else c=c.add(new Fu(i.indexId,t.key,Hf,m));return c}_n(t,i,c,m,v){Rt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const E=[];return function(R,$,ee,fe,Ue){const ut=R.getIterator(),Bt=$.getIterator();let en=En(ut),vn=En(Bt);for(;en||vn;){let $n=!1,ir=!1;if(en&&vn){const bs=ee(en,vn);bs<0?ir=!0:bs>0&&($n=!0)}else null!=en?ir=!0:$n=!0;$n?(fe(vn),vn=En(Bt)):ir?(Ue(en),en=En(ut)):(en=En(ut),vn=En(Bt))}}(m,v,Yd,R=>{E.push(this.mn(t,i,c,R))},R=>{E.push(this.gn(t,i,c,R))}),pt.waitFor(E)}fn(t){let i=1;return Hm(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(c,m,v)=>{v.done(),i=m.sequenceNumber+1}).next(()=>i)}createRange(t,i,c){c=c.sort((E,R)=>Yd(E,R)).filter((E,R,$)=>!R||0!==Yd(E,$[R-1]));const m=[];m.push(t);for(const E of c){const R=Yd(E,t),$=Yd(E,i);if(0===R)m[0]=t.qe();else if(R>0&&$<0)m.push(E),m.push(E.qe());else if($>0)break}m.push(i);const v=[];for(let E=0;E<m.length;E+=2){if(this.yn(m[E],m[E+1]))return[];v.push(IDBKeyRange.bound([m[E].indexId,this.uid,m[E].arrayValue,m[E].directionalValue,Hf,[]],[m[E+1].indexId,this.uid,m[E+1].arrayValue,m[E+1].directionalValue,Hf,[]]))}return v}yn(t,i){return Yd(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(fg)}getMinOffset(t,i){return pt.mapArray(this.Ze(i),c=>this.Xe(t,c).next(m=>m||Jt())).next(fg)}}function wv(a){return Ys(a,"collectionParents")}function kh(a){return Ys(a,"indexEntries")}function qd(a){return Ys(a,"indexConfiguration")}function Hm(a){return Ys(a,"indexState")}function fg(a){ln(0!==a.length);let t=a[0].indexState.offset,i=t.largestBatchId;for(let c=1;c<a.length;c++){const m=a[c].indexState.offset;Ro(m,t)<0&&(t=m),i<m.largestBatchId&&(i=m.largestBatchId)}return new as(t.readTime,t.documentKey,i)}const U_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class La{constructor(t,i,c){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=c}static withCacheSize(t){return new La(t,La.DEFAULT_COLLECTION_PERCENTILE,La.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xv(a,t,i){const c=a.store("mutations"),m=a.store("documentMutations"),v=[],E=IDBKeyRange.only(i.batchId);let R=0;const $=c.Z({range:E},(fe,Ue,ut)=>(R++,ut.delete()));v.push($.next(()=>{ln(1===R)}));const ee=[];for(const fe of i.mutations){const Ue=A(t,fe.key.path,i.batchId);v.push(m.delete(Ue)),ee.push(fe.key)}return pt.waitFor(v).next(()=>ee)}function mg(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw Jt();t=a.noDocument}return JSON.stringify(t).length}La.DEFAULT_COLLECTION_PERCENTILE=10,La.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,La.DEFAULT=new La(41943040,La.DEFAULT_COLLECTION_PERCENTILE,La.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),La.DISABLED=new La(-1,0,0);class zl{constructor(t,i,c,m){this.userId=t,this.serializer=i,this.indexManager=c,this.referenceDelegate=m,this.pn={}}static ie(t,i,c,m){ln(""!==t.uid);const v=t.isAuthenticated()?t.uid:"";return new zl(v,i,c,m)}checkEmpty(t){let i=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bo(t).Z({index:"userMutationsIndex",range:c},(m,v,E)=>{i=!1,E.done()}).next(()=>i)}addMutationBatch(t,i,c,m){const v=jf(t),E=bo(t);return E.add({}).next(R=>{ln("number"==typeof R);const $=new Vl(R,i,c,m),ee=function(ut,Bt,en){const vn=en.baseMutations.map(ir=>$d(ut.se,ir)),$n=en.mutations.map(ir=>$d(ut.se,ir));return{userId:Bt,batchId:en.batchId,localWriteTimeMs:en.localWriteTime.toMillis(),baseMutations:vn,mutations:$n}}(this.serializer,this.userId,$),fe=[];let Ue=new it((ut,Bt)=>Xn(ut.canonicalString(),Bt.canonicalString()));for(const ut of m){const Bt=A(this.userId,ut.key.path,R);Ue=Ue.add(ut.key.path.popLast()),fe.push(E.put(ee)),fe.push(v.put(Bt,k))}return Ue.forEach(ut=>{fe.push(this.indexManager.addToCollectionParentIndex(t,ut))}),t.addOnCommittedListener(()=>{this.pn[R]=$.keys()}),pt.waitFor(fe).next(()=>$)})}lookupMutationBatch(t,i){return bo(t).get(i).next(c=>c?(ln(c.userId===this.userId),Kd(this.serializer,c)):null)}In(t,i){return this.pn[i]?pt.resolve(this.pn[i]):this.lookupMutationBatch(t,i).next(c=>{if(c){const m=c.keys();return this.pn[i]=m,m}return null})}getNextMutationBatchAfterBatchId(t,i){const c=i+1,m=IDBKeyRange.lowerBound([this.userId,c]);let v=null;return bo(t).Z({index:"userMutationsIndex",range:m},(E,R,$)=>{R.userId===this.userId&&(ln(R.batchId>=c),v=Kd(this.serializer,R)),$.done()}).next(()=>v)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return bo(t).Z({index:"userMutationsIndex",range:i,reverse:!0},(m,v,E)=>{c=v.batchId,E.done()}).next(()=>c)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bo(t).j("userMutationsIndex",i).next(c=>c.map(m=>Kd(this.serializer,m)))}getAllMutationBatchesAffectingDocumentKey(t,i){const c=il(this.userId,i.path),m=IDBKeyRange.lowerBound(c),v=[];return jf(t).Z({range:m},(E,R,$)=>{const[ee,fe,Ue]=E,ut=ls(fe);if(ee===this.userId&&i.path.isEqual(ut))return bo(t).get(Ue).next(Bt=>{if(!Bt)throw Jt();ln(Bt.userId===this.userId),v.push(Kd(this.serializer,Bt))});$.done()}).next(()=>v)}getAllMutationBatchesAffectingDocumentKeys(t,i){let c=new it(Xn);const m=[];return i.forEach(v=>{const E=il(this.userId,v.path),R=IDBKeyRange.lowerBound(E),$=jf(t).Z({range:R},(ee,fe,Ue)=>{const[ut,Bt,en]=ee,vn=ls(Bt);ut===this.userId&&v.path.isEqual(vn)?c=c.add(en):Ue.done()});m.push($)}),pt.waitFor(m).next(()=>this.Tn(t,c))}getAllMutationBatchesAffectingQuery(t,i){const c=i.path,m=c.length+1,v=il(this.userId,c),E=IDBKeyRange.lowerBound(v);let R=new it(Xn);return jf(t).Z({range:E},($,ee,fe)=>{const[Ue,ut,Bt]=$,en=ls(ut);Ue===this.userId&&c.isPrefixOf(en)?en.length===m&&(R=R.add(Bt)):fe.done()}).next(()=>this.Tn(t,R))}Tn(t,i){const c=[],m=[];return i.forEach(v=>{m.push(bo(t).get(v).next(E=>{if(null===E)throw Jt();ln(E.userId===this.userId),c.push(Kd(this.serializer,E))}))}),pt.waitFor(m).next(()=>c)}removeMutationBatch(t,i){return xv(t.at,this.userId,i).next(c=>(t.addOnCommittedListener(()=>{this.En(i.batchId)}),pt.forEach(c,m=>this.referenceDelegate.markPotentiallyOrphaned(t,m))))}En(t){delete this.pn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return pt.resolve();const c=IDBKeyRange.lowerBound([this.userId]),m=[];return jf(t).Z({range:c},(v,E,R)=>{if(v[0]===this.userId){const $=ls(v[1]);m.push($)}else R.done()}).next(()=>{ln(0===m.length)})})}containsKey(t,i){return wa(t,this.userId,i)}An(t){return Ev(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wa(a,t,i){const c=il(t,i.path),m=c[1],v=IDBKeyRange.lowerBound(c);let E=!1;return jf(a).Z({range:v,Y:!0},(R,$,ee)=>{const[fe,Ue,ut]=R;fe===t&&Ue===m&&(E=!0),ee.done()}).next(()=>E)}function bo(a){return Ys(a,"mutations")}function jf(a){return Ys(a,"documentMutations")}function Ev(a){return Ys(a,"mutationQueues")}class Pc{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new Pc(0)}static bn(){return new Pc(-1)}}class pg{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.Pn(t).next(i=>{const c=new Pc(i.highestTargetId);return i.highestTargetId=c.next(),this.Vn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Pn(t).next(i=>kn.fromTimestamp(new Ki(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Pn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,c){return this.Pn(t).next(m=>(m.highestListenSequenceNumber=i,c&&(m.lastRemoteSnapshotVersion=c.toTimestamp()),i>m.highestListenSequenceNumber&&(m.highestListenSequenceNumber=i),this.Vn(t,m)))}addTargetData(t,i){return this.Sn(t,i).next(()=>this.Pn(t).next(c=>(c.targetCount+=1,this.Dn(i,c),this.Vn(t,c))))}updateTargetData(t,i){return this.Sn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>Bu(t).delete(i.targetId)).next(()=>this.Pn(t)).next(c=>(ln(c.targetCount>0),c.targetCount-=1,this.Vn(t,c)))}removeTargets(t,i,c){let m=0;const v=[];return Bu(t).Z((E,R)=>{const $=Na(R);$.sequenceNumber<=i&&null===c.get($.targetId)&&(m++,v.push(this.removeTargetData(t,$)))}).next(()=>pt.waitFor(v)).next(()=>m)}forEachTarget(t,i){return Bu(t).Z((c,m)=>{const v=Na(m);i(v)})}Pn(t){return Yb(t).get("targetGlobalKey").next(i=>(ln(null!==i),i))}Vn(t,i){return Yb(t).put("targetGlobalKey",i)}Sn(t,i){return Bu(t).put(Lf(this.serializer,i))}Dn(t,i){let c=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,c=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,c=!0),c}getTargetCount(t){return this.Pn(t).next(i=>i.targetCount)}getTargetData(t,i){const c=Du(i),m=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let v=null;return Bu(t).Z({range:m,index:"queryTargetsIndex"},(E,R,$)=>{const ee=Na(R);Tm(i,ee.target)&&(v=ee,$.done())}).next(()=>v)}addMatchingKeys(t,i,c){const m=[],v=ud(t);return i.forEach(E=>{const R=Wr(E.path);m.push(v.put({targetId:c,path:R})),m.push(this.referenceDelegate.addReference(t,c,E))}),pt.waitFor(m)}removeMatchingKeys(t,i,c){const m=ud(t);return pt.forEach(i,v=>{const E=Wr(v.path);return pt.waitFor([m.delete([c,E]),this.referenceDelegate.removeReference(t,c,v)])})}removeMatchingKeysForTargetId(t,i){const c=ud(t),m=IDBKeyRange.bound([i],[i+1],!1,!0);return c.delete(m)}getMatchingKeysForTargetId(t,i){const c=IDBKeyRange.bound([i],[i+1],!1,!0),m=ud(t);let v=ii();return m.Z({range:c,Y:!0},(E,R,$)=>{const ee=ls(E[1]),fe=new cn(ee);v=v.add(fe)}).next(()=>v)}containsKey(t,i){const c=Wr(i.path),m=IDBKeyRange.bound([c],[Wi(c)],!1,!0);let v=0;return ud(t).Z({index:"documentTargetsIndex",Y:!0,range:m},([E,R],$,ee)=>{0!==E&&(v++,ee.done())}).next(()=>v>0)}ne(t,i){return Bu(t).get(i).next(c=>c?Na(c):null)}}function Bu(a){return Ys(a,"targets")}function Yb(a){return Ys(a,"targetGlobal")}function ud(a){return Ys(a,"targetDocuments")}function V_([a,t],[i,c]){const m=Xn(a,i);return 0===m?Xn(t,c):m}class qb{constructor(t){this.Cn=t,this.buffer=new it(V_),this.xn=0}Nn(){return++this.xn}kn(t){const i=[t,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(i);else{const c=this.buffer.last();V_(i,c)<0&&(this.buffer=this.buffer.delete(c).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Cv{constructor(t,i,c){this.garbageCollector=t,this.asyncQueue=i,this.localStore=c,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(t){var i=this;Rt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ee.Z)(function*(){i.On=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(c){oc(c)?Rt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield ha(c)}yield i.$n(3e5)}))}}class Zb{constructor(t,i){this.Mn=t,this.params=i}calculateTargetCount(t,i){return this.Mn.Fn(t).next(c=>Math.floor(i/100*c))}nthSequenceNumber(t,i){if(0===i)return pt.resolve(Oo.ct);const c=new qb(i);return this.Mn.forEachTarget(t,m=>c.kn(m.sequenceNumber)).next(()=>this.Mn.Bn(t,m=>c.kn(m))).next(()=>c.maxValue)}removeTargets(t,i,c){return this.Mn.removeTargets(t,i,c)}removeOrphanedDocuments(t,i){return this.Mn.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(U_)):this.getCacheSize(t).next(c=>c<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U_):this.Ln(t,i))}getCacheSize(t){return this.Mn.getCacheSize(t)}Ln(t,i){let c,m,v,E,R,$,ee;const fe=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ue=>(Ue>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ue}`),m=this.params.maximumSequenceNumbersToCollect):m=Ue,E=Date.now(),this.nthSequenceNumber(t,m))).next(Ue=>(c=Ue,R=Date.now(),this.removeTargets(t,c,i))).next(Ue=>(v=Ue,$=Date.now(),this.removeOrphanedDocuments(t,c))).next(Ue=>(ee=Date.now(),Dn()<=De.in.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-fe}ms\n\tDetermined least recently used ${m} in `+(R-E)+`ms\n\tRemoved ${v} targets in `+($-R)+`ms\n\tRemoved ${Ue} documents in `+(ee-$)+`ms\nTotal Duration: ${ee-fe}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:m,targetsRemoved:v,documentsRemoved:Ue})))}}class Dv{constructor(t,i){this.db=t,this.garbageCollector=new Zb(this,i)}Fn(t){const i=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(c=>i.next(m=>c+m))}qn(t){let i=0;return this.Bn(t,c=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Bn(t,i){return this.Un(t,(c,m)=>i(m))}addReference(t,i,c){return Ba(t,c)}removeReference(t,i,c){return Ba(t,c)}removeTargets(t,i,c){return this.db.getTargetCache().removeTargets(t,i,c)}markPotentiallyOrphaned(t,i){return Ba(t,i)}Kn(t,i){return function(c,m){let v=!1;return Ev(c).X(E=>wa(c,E,m).next(R=>(R&&(v=!0),pt.resolve(!R)))).next(()=>v)}(t,i)}removeOrphanedDocuments(t,i){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),m=[];let v=0;return this.Un(t,(E,R)=>{if(R<=i){const $=this.Kn(t,E).next(ee=>{if(!ee)return v++,c.getEntry(t,E).next(()=>(c.removeEntry(E,kn.min()),ud(t).delete([0,Wr(E.path)])))});m.push($)}}).next(()=>pt.waitFor(m)).next(()=>c.apply(t)).next(()=>v)}removeTarget(t,i){const c=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,c)}updateLimboDocument(t,i){return Ba(t,i)}Un(t,i){const c=ud(t);let m,v=Oo.ct;return c.Z({index:"documentTargetsIndex"},([E,R],{path:$,sequenceNumber:ee})=>{0===E?(v!==Oo.ct&&i(new cn(ls(m)),v),v=ee,m=$):v=Oo.ct}).next(()=>{v!==Oo.ct&&i(new cn(ls(m)),v)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Ba(a,t){return ud(a).put((c=a.currentSequenceNumber,{targetId:0,path:Wr(t.path),sequenceNumber:c}));var c}class jm{constructor(){this.changes=new Fo(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Or.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const c=this.changes.get(i);return void 0!==c?pt.resolve(c):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class gg{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,c){return Rh(t).put(c)}removeEntry(t,i,c){return Rh(t).delete(function(m,v){const E=m.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Pu(v),E[E.length-1]]}(i,c))}updateMetadata(t,i){return this.getMetadata(t).next(c=>(c.byteSize+=i,this.Gn(t,c)))}getEntry(t,i){let c=Or.newInvalidDocument(i);return Rh(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zf(i))},(m,v)=>{c=this.Qn(i,v)}).next(()=>c)}zn(t,i){let c={size:0,document:Or.newInvalidDocument(i)};return Rh(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zf(i))},(m,v)=>{c={document:this.Qn(i,v),size:mg(v)}}).next(()=>c)}getEntries(t,i){let c=Lo();return this.jn(t,i,(m,v)=>{const E=this.Qn(m,v);c=c.insert(m,E)}).next(()=>c)}Wn(t,i){let c=Lo(),m=new te(cn.comparator);return this.jn(t,i,(v,E)=>{const R=this.Qn(v,E);c=c.insert(v,R),m=m.insert(v,mg(E))}).next(()=>({documents:c,Hn:m}))}jn(t,i,c){if(i.isEmpty())return pt.resolve();let m=new it(_g);i.forEach($=>m=m.add($));const v=IDBKeyRange.bound(zf(m.first()),zf(m.last())),E=m.getIterator();let R=E.getNext();return Rh(t).Z({index:"documentKeyIndex",range:v},($,ee,fe)=>{const Ue=cn.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;R&&_g(R,Ue)<0;)c(R,null),R=E.getNext();R&&R.isEqual(Ue)&&(c(R,ee),R=E.hasNext()?E.getNext():null),R?fe.G(zf(R)):fe.done()}).next(()=>{for(;R;)c(R,null),R=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(t,i,c,m){const v=i.path,E=[v.popLast().toArray(),v.lastSegment(),Pu(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],R=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rh(t).j(IDBKeyRange.bound(E,R,!0)).next($=>{let ee=Lo();for(const fe of $){const Ue=this.Qn(cn.fromSegments(fe.prefixPath.concat(fe.collectionGroup,fe.documentId)),fe);Ue.isFoundDocument()&&(Mc(i,Ue)||m.has(Ue.key))&&(ee=ee.insert(Ue.key,Ue))}return ee})}getAllFromCollectionGroup(t,i,c,m){let v=Lo();const E=xa(i,c),R=xa(i,as.max());return Rh(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,R,!0)},($,ee,fe)=>{const Ue=this.Qn(cn.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);v=v.insert(Ue.key,Ue),v.size===m&&fe.done()}).next(()=>v)}newChangeBuffer(t){return new Qb(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return H_(t).get("remoteDocumentGlobalKey").next(i=>(ln(!!i),i))}Gn(t,i){return H_(t).put("remoteDocumentGlobalKey",i)}Qn(t,i){if(i){const c=function Gb(a,t){let i;if(t.document)i=Ch(a.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const c=cn.fromSegments(t.noDocument.path),m=Pa(t.noDocument.readTime);i=Or.newNoDocument(c,m),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return Jt();{const c=cn.fromSegments(t.unknownDocument.path),m=Pa(t.unknownDocument.version);i=Or.newUnknownDocument(c,m)}}return t.readTime&&i.setReadTime(function(c){const m=new Ki(c[0],c[1]);return kn.fromTimestamp(m)}(t.readTime)),i}(this.serializer,i);if(!c.isNoDocument()||!c.version.isEqual(kn.min()))return c}return Or.newInvalidDocument(t)}}function Iv(a){return new gg(a)}class Qb extends jm{constructor(t,i){super(),this.Jn=t,this.trackRemovals=i,this.Yn=new Fo(c=>c.toString(),(c,m)=>c.isEqual(m))}applyChanges(t){const i=[];let c=0,m=new it((v,E)=>Xn(v.canonicalString(),E.canonicalString()));return this.changes.forEach((v,E)=>{const R=this.Yn.get(v);if(i.push(this.Jn.removeEntry(t,v,R.readTime)),E.isValidDocument()){const $=ag(this.Jn.serializer,E);m=m.add(v.path.popLast());const ee=mg($);c+=ee-R.size,i.push(this.Jn.addEntry(t,v,$))}else if(c-=R.size,this.trackRemovals){const $=ag(this.Jn.serializer,E.convertToNoDocument(kn.min()));i.push(this.Jn.addEntry(t,v,$))}}),m.forEach(v=>{i.push(this.Jn.indexManager.addToCollectionParentIndex(t,v))}),i.push(this.Jn.updateMetadata(t,c)),pt.waitFor(i)}getFromCache(t,i){return this.Jn.zn(t,i).next(c=>(this.Yn.set(i,{size:c.size,readTime:c.document.readTime}),c.document))}getAllFromCache(t,i){return this.Jn.Wn(t,i).next(({documents:c,Hn:m})=>(m.forEach((v,E)=>{this.Yn.set(v,{size:E,readTime:c.get(v).readTime})}),c))}}function H_(a){return Ys(a,"remoteDocumentGlobal")}function Rh(a){return Ys(a,"remoteDocumentsV14")}function zf(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xa(a,t){const i=t.documentKey.path.toArray();return[a,Pu(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function _g(a,t){const i=a.path.toArray(),c=t.path.toArray();let m=0;for(let v=0;v<i.length-2&&v<c.length-2;++v)if(m=Xn(i[v],c[v]),m)return m;return m=Xn(i.length,c.length),m||(m=Xn(i[i.length-2],c[c.length-2]),m||Xn(i[i.length-1],c[c.length-1]))}class Xb{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class ai{constructor(t,i,c,m){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=c,this.indexManager=m}getDocument(t,i){let c=null;return this.documentOverlayCache.getOverlay(t,i).next(m=>(c=m,this.remoteDocumentCache.getEntry(t,i))).next(m=>(null!==c&&rd(c.mutation,m,An.empty(),Ki.now()),m))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(c=>this.getLocalViewOfDocuments(t,c,ii()).next(()=>c))}getLocalViewOfDocuments(t,i,c=ii()){const m=_a();return this.populateOverlays(t,m,i).next(()=>this.computeViews(t,i,m,c).next(v=>{let E=Tf();return v.forEach((R,$)=>{E=E.insert(R,$.overlayedDocument)}),E}))}getOverlayedDocuments(t,i){const c=_a();return this.populateOverlays(t,c,i).next(()=>this.computeViews(t,i,c,ii()))}populateOverlays(t,i,c){const m=[];return c.forEach(v=>{i.has(v)||m.push(v)}),this.documentOverlayCache.getOverlays(t,m).next(v=>{v.forEach((E,R)=>{i.set(E,R)})})}computeViews(t,i,c,m){let v=Lo();const E=Ld(),R=Ld();return i.forEach(($,ee)=>{const fe=c.get(ee.key);m.has(ee.key)&&(void 0===fe||fe.mutation instanceof Bo)?v=v.insert(ee.key,ee):void 0!==fe?(E.set(ee.key,fe.mutation.getFieldMask()),rd(fe.mutation,ee,fe.mutation.getFieldMask(),Ki.now())):E.set(ee.key,An.empty())}),this.recalculateAndSaveOverlays(t,v).next($=>($.forEach((ee,fe)=>E.set(ee,fe)),i.forEach((ee,fe)=>{var Ue;return R.set(ee,new Xb(fe,null!==(Ue=E.get(ee))&&void 0!==Ue?Ue:null))}),R))}recalculateAndSaveOverlays(t,i){const c=Ld();let m=new te((E,R)=>E-R),v=ii();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(E=>{for(const R of E)R.keys().forEach($=>{const ee=i.get($);if(null===ee)return;let fe=c.get($)||An.empty();fe=R.applyToLocalView(ee,fe),c.set($,fe);const Ue=(m.get(R.batchId)||ii()).add($);m=m.insert(R.batchId,Ue)})}).next(()=>{const E=[],R=m.getReverseIterator();for(;R.hasNext();){const $=R.getNext(),ee=$.key,fe=$.value,Ue=Rm();fe.forEach(ut=>{if(!v.has(ut)){const Bt=Hd(i.get(ut),c.get(ut));null!==Bt&&Ue.set(ut,Bt),v=v.add(ut)}}),E.push(this.documentOverlayCache.saveOverlays(t,ee,Ue))}return pt.waitFor(E)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(c=>this.recalculateAndSaveOverlays(t,c))}getDocumentsMatchingQuery(t,i,c){return cn.isDocumentKey((m=i).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):If(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,c):this.getDocumentsMatchingCollectionQuery(t,i,c);var m}getNextDocuments(t,i,c,m){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,c,m).next(v=>{const E=m-v.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,c.largestBatchId,m-v.size):pt.resolve(_a());let R=-1,$=v;return E.next(ee=>pt.forEach(ee,(fe,Ue)=>(R<Ue.largestBatchId&&(R=Ue.largestBatchId),v.get(fe)?pt.resolve():this.remoteDocumentCache.getEntry(t,fe).next(ut=>{$=$.insert(fe,ut)}))).next(()=>this.populateOverlays(t,ee,v)).next(()=>this.computeViews(t,$,ee,ii())).next(fe=>({batchId:R,changes:yh(fe)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new cn(i)).next(c=>{let m=Tf();return c.isFoundDocument()&&(m=m.insert(c.key,c)),m})}getDocumentsMatchingCollectionGroupQuery(t,i,c){const m=i.collectionGroup;let v=Tf();return this.indexManager.getCollectionParents(t,m).next(E=>pt.forEach(E,R=>{const $=(ee=i,fe=R.child(m),new sl(fe,null,ee.explicitOrderBy.slice(),ee.filters.slice(),ee.limit,ee.limitType,ee.startAt,ee.endAt));var ee,fe;return this.getDocumentsMatchingCollectionQuery(t,$,c).next(ee=>{ee.forEach((fe,Ue)=>{v=v.insert(fe,Ue)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(t,i,c){let m;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,c.largestBatchId).next(v=>(m=v,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,c,m))).next(v=>{m.forEach((R,$)=>{const ee=$.getKey();null===v.get(ee)&&(v=v.insert(ee,Or.newInvalidDocument(ee)))});let E=Tf();return v.forEach((R,$)=>{const ee=m.get(R);void 0!==ee&&rd(ee.mutation,$,An.empty(),Ki.now()),Mc(i,$)&&(E=E.insert(R,$))}),E})}}class j_{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,i){return pt.resolve(this.Zn.get(i))}saveBundleMetadata(t,i){var c;return this.Zn.set(i.id,{id:(c=i).id,version:c.version,createTime:jt(c.createTime)}),pt.resolve()}getNamedQuery(t,i){return pt.resolve(this.Xn.get(i))}saveNamedQuery(t,i){return this.Xn.set(i.name,{name:(c=i).name,query:dd(c.bundledQuery),readTime:jt(c.readTime)}),pt.resolve();var c}}class Sv{constructor(){this.overlays=new te(cn.comparator),this.ts=new Map}getOverlay(t,i){return pt.resolve(this.overlays.get(i))}getOverlays(t,i){const c=_a();return pt.forEach(i,m=>this.getOverlay(t,m).next(v=>{null!==v&&c.set(m,v)})).next(()=>c)}saveOverlays(t,i,c){return c.forEach((m,v)=>{this.re(t,i,v)}),pt.resolve()}removeOverlaysForBatchId(t,i,c){const m=this.ts.get(c);return void 0!==m&&(m.forEach(v=>this.overlays=this.overlays.remove(v)),this.ts.delete(c)),pt.resolve()}getOverlaysForCollection(t,i,c){const m=_a(),v=i.length+1,E=new cn(i.child("")),R=this.overlays.getIteratorFrom(E);for(;R.hasNext();){const $=R.getNext().value,ee=$.getKey();if(!i.isPrefixOf(ee.path))break;ee.path.length===v&&$.largestBatchId>c&&m.set($.getKey(),$)}return pt.resolve(m)}getOverlaysForCollectionGroup(t,i,c,m){let v=new te((ee,fe)=>ee-fe);const E=this.overlays.getIterator();for(;E.hasNext();){const ee=E.getNext().value;if(ee.getKey().getCollectionGroup()===i&&ee.largestBatchId>c){let fe=v.get(ee.largestBatchId);null===fe&&(fe=_a(),v=v.insert(ee.largestBatchId,fe)),fe.set(ee.getKey(),ee)}}const R=_a(),$=v.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((ee,fe)=>R.set(ee,fe)),!(R.size()>=m)););return pt.resolve(R)}re(t,i,c){const m=this.overlays.get(c.key);if(null!==m){const E=this.ts.get(m.largestBatchId).delete(c.key);this.ts.set(m.largestBatchId,E)}this.overlays=this.overlays.insert(c.key,new zd(i,c));let v=this.ts.get(i);void 0===v&&(v=ii(),this.ts.set(i,v)),this.ts.set(i,v.add(c.key))}}class yg{constructor(){this.es=new it(Br.ns),this.ss=new it(Br.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,i){const c=new Br(t,i);this.es=this.es.add(c),this.ss=this.ss.add(c)}os(t,i){t.forEach(c=>this.addReference(c,i))}removeReference(t,i){this.us(new Br(t,i))}cs(t,i){t.forEach(c=>this.removeReference(c,i))}hs(t){const i=new cn(new oi([])),c=new Br(i,t),m=new Br(i,t+1),v=[];return this.ss.forEachInRange([c,m],E=>{this.us(E),v.push(E.key)}),v}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const i=new cn(new oi([])),c=new Br(i,t),m=new Br(i,t+1);let v=ii();return this.ss.forEachInRange([c,m],E=>{v=v.add(E.key)}),v}containsKey(t){const i=new Br(t,0),c=this.es.firstAfterOrEqual(i);return null!==c&&t.isEqual(c.key)}}class Br{constructor(t,i){this.key=t,this.ds=i}static ns(t,i){return cn.comparator(t.key,i.key)||Xn(t.ds,i.ds)}static rs(t,i){return Xn(t.ds,i.ds)||cn.comparator(t.key,i.key)}}class Jb{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.ws=1,this._s=new it(Br.ns)}checkEmpty(t){return pt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,c,m){const v=this.ws;this.ws++;const E=new Vl(v,i,c,m);this.mutationQueue.push(E);for(const R of m)this._s=this._s.add(new Br(R.key,v)),this.indexManager.addToCollectionParentIndex(t,R.key.path.popLast());return pt.resolve(E)}lookupMutationBatch(t,i){return pt.resolve(this.gs(i))}getNextMutationBatchAfterBatchId(t,i){const m=this.ys(i+1),v=m<0?0:m;return pt.resolve(this.mutationQueue.length>v?this.mutationQueue[v]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const c=new Br(i,0),m=new Br(i,Number.POSITIVE_INFINITY),v=[];return this._s.forEachInRange([c,m],E=>{const R=this.gs(E.ds);v.push(R)}),pt.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(t,i){let c=new it(Xn);return i.forEach(m=>{const v=new Br(m,0),E=new Br(m,Number.POSITIVE_INFINITY);this._s.forEachInRange([v,E],R=>{c=c.add(R.ds)})}),pt.resolve(this.ps(c))}getAllMutationBatchesAffectingQuery(t,i){const c=i.path,m=c.length+1;let v=c;cn.isDocumentKey(v)||(v=v.child(""));const E=new Br(new cn(v),0);let R=new it(Xn);return this._s.forEachWhile($=>{const ee=$.key.path;return!!c.isPrefixOf(ee)&&(ee.length===m&&(R=R.add($.ds)),!0)},E),pt.resolve(this.ps(R))}ps(t){const i=[];return t.forEach(c=>{const m=this.gs(c);null!==m&&i.push(m)}),i}removeMutationBatch(t,i){ln(0===this.Is(i.batchId,"removed")),this.mutationQueue.shift();let c=this._s;return pt.forEach(i.mutations,m=>{const v=new Br(m.key,i.batchId);return c=c.delete(v),this.referenceDelegate.markPotentiallyOrphaned(t,m.key)}).next(()=>{this._s=c})}En(t){}containsKey(t,i){const c=new Br(i,0),m=this._s.firstAfterOrEqual(c);return pt.resolve(i.isEqual(m&&m.key))}performConsistencyCheck(t){return pt.resolve()}Is(t,i){return this.ys(t)}ys(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}gs(t){const i=this.ys(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Tv{constructor(t){this.Ts=t,this.docs=new te(cn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const c=i.key,m=this.docs.get(c),v=m?m.size:0,E=this.Ts(i);return this.docs=this.docs.insert(c,{document:i.mutableCopy(),size:E}),this.size+=E-v,this.indexManager.addToCollectionParentIndex(t,c.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const c=this.docs.get(i);return pt.resolve(c?c.document.mutableCopy():Or.newInvalidDocument(i))}getEntries(t,i){let c=Lo();return i.forEach(m=>{const v=this.docs.get(m);c=c.insert(m,v?v.document.mutableCopy():Or.newInvalidDocument(m))}),pt.resolve(c)}getDocumentsMatchingQuery(t,i,c,m){let v=Lo();const E=i.path,R=new cn(E.child("")),$=this.docs.getIteratorFrom(R);for(;$.hasNext();){const{key:ee,value:{document:fe}}=$.getNext();if(!E.isPrefixOf(ee.path))break;ee.path.length>E.length+1||Ro(Al(fe),c)<=0||(m.has(fe.key)||Mc(i,fe))&&(v=v.insert(fe.key,fe.mutableCopy()))}return pt.resolve(v)}getAllFromCollectionGroup(t,i,c,m){Jt()}Es(t,i){return pt.forEach(this.docs,c=>i(c))}newChangeBuffer(t){return new e0(this)}getSize(t){return pt.resolve(this.size)}}class e0 extends jm{constructor(t){super(),this.Jn=t}applyChanges(t){const i=[];return this.changes.forEach((c,m)=>{m.isValidDocument()?i.push(this.Jn.addEntry(t,m)):this.Jn.removeEntry(c)}),pt.waitFor(i)}getFromCache(t,i){return this.Jn.getEntry(t,i)}getAllFromCache(t,i){return this.Jn.getEntries(t,i)}}class Av{constructor(t){this.persistence=t,this.As=new Fo(i=>Du(i),Tm),this.lastRemoteSnapshotVersion=kn.min(),this.highestTargetId=0,this.Rs=0,this.vs=new yg,this.targetCount=0,this.bs=Pc.vn()}forEachTarget(t,i){return this.As.forEach((c,m)=>i(m)),pt.resolve()}getLastRemoteSnapshotVersion(t){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pt.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,c){return c&&(this.lastRemoteSnapshotVersion=c),i>this.Rs&&(this.Rs=i),pt.resolve()}Sn(t){this.As.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.bs=new Pc(i),this.highestTargetId=i),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,i){return this.Sn(i),this.targetCount+=1,pt.resolve()}updateTargetData(t,i){return this.Sn(i),pt.resolve()}removeTargetData(t,i){return this.As.delete(i.target),this.vs.hs(i.targetId),this.targetCount-=1,pt.resolve()}removeTargets(t,i,c){let m=0;const v=[];return this.As.forEach((E,R)=>{R.sequenceNumber<=i&&null===c.get(R.targetId)&&(this.As.delete(E),v.push(this.removeMatchingKeysForTargetId(t,R.targetId)),m++)}),pt.waitFor(v).next(()=>m)}getTargetCount(t){return pt.resolve(this.targetCount)}getTargetData(t,i){const c=this.As.get(i)||null;return pt.resolve(c)}addMatchingKeys(t,i,c){return this.vs.os(i,c),pt.resolve()}removeMatchingKeys(t,i,c){this.vs.cs(i,c);const m=this.persistence.referenceDelegate,v=[];return m&&i.forEach(E=>{v.push(m.markPotentiallyOrphaned(t,E))}),pt.waitFor(v)}removeMatchingKeysForTargetId(t,i){return this.vs.hs(i),pt.resolve()}getMatchingKeysForTargetId(t,i){const c=this.vs.fs(i);return pt.resolve(c)}containsKey(t,i){return pt.resolve(this.vs.containsKey(i))}}class z_{constructor(t,i){this.Ps={},this.overlays={},this.Vs=new Oo(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new Av(this),this.indexManager=new ba,this.remoteDocumentCache=new Tv(c=>this.referenceDelegate.Cs(c)),this.serializer=new og(i),this.xs=new j_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Sv,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let c=this.Ps[t.toKey()];return c||(c=new Jb(i,this.referenceDelegate),this.Ps[t.toKey()]=c),c}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,i,c){Rt("MemoryPersistence","Starting transaction:",t);const m=new Oh(this.Vs.next());return this.referenceDelegate.Ns(),c(m).next(v=>this.referenceDelegate.ks(m).next(()=>v)).toPromise().then(v=>(m.raiseOnCommittedEvent(),v))}Os(t,i){return pt.or(Object.values(this.Ps).map(c=>()=>c.containsKey(t,i)))}}class Oh extends ua{constructor(t){super(),this.currentSequenceNumber=t}}class G_{constructor(t){this.persistence=t,this.$s=new yg,this.Ms=null}static Fs(t){return new G_(t)}get Bs(){if(this.Ms)return this.Ms;throw Jt()}addReference(t,i,c){return this.$s.addReference(c,i),this.Bs.delete(c.toString()),pt.resolve()}removeReference(t,i,c){return this.$s.removeReference(c,i),this.Bs.add(c.toString()),pt.resolve()}markPotentiallyOrphaned(t,i){return this.Bs.add(i.toString()),pt.resolve()}removeTarget(t,i){this.$s.hs(i.targetId).forEach(m=>this.Bs.add(m.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(t,i.targetId).next(m=>{m.forEach(v=>this.Bs.add(v.toString()))}).next(()=>c.removeTargetData(t,i))}Ns(){this.Ms=new Set}ks(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.Bs,c=>{const m=cn.fromPath(c);return this.Ls(t,m).next(v=>{v||i.removeEntry(m,kn.min())})}).next(()=>(this.Ms=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ls(t,i).next(c=>{c?this.Bs.delete(i.toString()):this.Bs.add(i.toString())})}Cs(t){return 0}Ls(t,i){return pt.or([()=>pt.resolve(this.$s.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Os(t,i)])}}class Mv{constructor(t){this.serializer=t}M(t,i,c,m){const v=new so("createOrUpgrade",i);var R;c<1&&m>=1&&(t.createObjectStore("owner"),(R=t).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dc,{unique:!0}),R.createObjectStore("documentMutations"),vg(t),function(R){R.createObjectStore("remoteDocuments")}(t));let E=pt.resolve();return c<3&&m>=3&&(0!==c&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(t),vg(t)),E=E.next(()=>function(R){const $=R.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",ee)}(v))),c<4&&m>=4&&(0!==c&&(E=E.next(()=>function(R,$){return $.store("mutations").j().next(ee=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dc,{unique:!0});const fe=$.store("mutations"),Ue=ee.map(ut=>fe.put(ut));return pt.waitFor(Ue)})}(t,v))),E=E.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),c<5&&m>=5&&(E=E.next(()=>this.qs(v))),c<6&&m>=6&&(E=E.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(t),this.Us(v)))),c<7&&m>=7&&(E=E.next(()=>this.Ks(v))),c<8&&m>=8&&(E=E.next(()=>this.Gs(t,v))),c<9&&m>=9&&(E=E.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(t)})),c<10&&m>=10&&(E=E.next(()=>this.Qs(v))),c<11&&m>=11&&(E=E.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),c<12&&m>=12&&(E=E.next(()=>{!function(R){const $=R.createObjectStore("documentOverlays",{keyPath:rl});$.createIndex("collectionPathOverlayIndex",Qo,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Ks,{unique:!1})}(t)})),c<13&&m>=13&&(E=E.next(()=>function(R){const $=R.createObjectStore("remoteDocumentsV14",{keyPath:D});$.createIndex("documentKeyIndex",L),$.createIndex("collectionGroupIndex",q)}(t)).next(()=>this.zs(t,v)).next(()=>t.deleteObjectStore("remoteDocuments"))),c<14&&m>=14&&(E=E.next(()=>this.js(t,v))),c<15&&m>=15&&(E=E.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:_n}).createIndex("sequenceNumberIndex",yn,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:wi}).createIndex("documentKeyIndex",cs,{unique:!1})}(t))),E}Us(t){let i=0;return t.store("remoteDocuments").Z((c,m)=>{i+=mg(m)}).next(()=>{const c={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",c)})}qs(t){const i=t.store("mutationQueues"),c=t.store("mutations");return i.j().next(m=>pt.forEach(m,v=>{const E=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return c.j("userMutationsIndex",E).next(R=>pt.forEach(R,$=>{ln($.userId===v.userId);const ee=Kd(this.serializer,$);return xv(t,v.userId,ee).next(()=>{})}))}))}Ks(t){const i=t.store("targetDocuments"),c=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(m=>{const v=[];return c.Z((E,R)=>{const $=new oi(E),ee=[0,Wr($)];v.push(i.get(ee).next(fe=>fe?pt.resolve():i.put({targetId:0,path:Wr($),sequenceNumber:m.highestListenSequenceNumber})))}).next(()=>pt.waitFor(v))})}Gs(t,i){t.createObjectStore("collectionParents",{keyPath:zt});const c=i.store("collectionParents"),m=new Ah,v=E=>{if(m.add(E)){const R=E.lastSegment(),$=E.popLast();return c.put({collectionId:R,parent:Wr($)})}};return i.store("remoteDocuments").Z({Y:!0},(E,R)=>{const $=new oi(E);return v($.popLast())}).next(()=>i.store("documentMutations").Z({Y:!0},([E,R,$],ee)=>{const fe=ls(R);return v(fe.popLast())}))}Qs(t){const i=t.store("targets");return i.Z((c,m)=>{const v=Na(m),E=Lf(this.serializer,v);return i.put(E)})}zs(t,i){const c=i.store("remoteDocuments"),m=[];return c.Z((v,E)=>{const R=i.store("remoteDocumentsV14"),$=(ee=E,ee.document?new cn(oi.fromString(ee.document.name).popFirst(5)):ee.noDocument?cn.fromSegments(ee.noDocument.path):ee.unknownDocument?cn.fromSegments(ee.unknownDocument.path):Jt()).path.toArray();var ee;const fe={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};m.push(R.put(fe))}).next(()=>pt.waitFor(m))}js(t,i){const c=i.store("mutations"),m=Iv(this.serializer),v=new z_(G_.Fs,this.serializer.se);return c.j().next(E=>{const R=new Map;return E.forEach($=>{var ee;let fe=null!==(ee=R.get($.userId))&&void 0!==ee?ee:ii();Kd(this.serializer,$).keys().forEach(Ue=>fe=fe.add(Ue)),R.set($.userId,fe)}),pt.forEach(R,($,ee)=>{const fe=new ke(ee),Ue=cg.ie(this.serializer,fe),ut=v.getIndexManager(fe),Bt=zl.ie(fe,this.serializer,ut,v.referenceDelegate);return new ai(m,Bt,Ue,ut).recalculateAndSaveOverlaysForDocumentKeys(new kl(i,Oo.ct),$).next()})})}}function vg(a){a.createObjectStore("targetDocuments",{keyPath:ye}).createIndex("documentTargetsIndex",tt,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ie,{unique:!0}),a.createObjectStore("targetGlobal")}const Zd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $_{constructor(t,i,c,m,v,E,R,$,ee,fe,Ue=15){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=c,this.Ws=v,this.window=E,this.document=R,this.Hs=ee,this.Js=fe,this.Ys=Ue,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=ut=>Promise.resolve(),!$_.D())throw new Ht(_t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dv(this,m),this.si=i+"main",this.serializer=new og($),this.ii=new Zo(this.si,this.Ys,new Mv(this.serializer)),this.Ds=new pg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Iv(this.serializer),this.xs=new gv,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===fe&&Kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ht(_t.FAILED_PRECONDITION,Zd);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ds.getHighestSequenceNumber(t))}).then(t=>{this.Vs=new Oo(t,this.Hs)}).then(()=>{this.Ss=!0}).catch(t=>(this.ii&&this.ii.close(),Promise.reject(t)))}hi(t){var i=this;return this.ni=function(){var c=(0,Ee.Z)(function*(m){if(i.started)return t(m)});return function(m){return c.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ii.B(function(){var i=(0,Ee.Z)(function*(c){null===c.newVersion&&(yield t())});return function(c){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Ws.enqueueAndForget((0,Ee.Z)(function*(){i.started&&(yield i.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Nh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(t).next(i=>{i||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(t)).next(i=>this.isPrimary&&!i?this.di(t).next(()=>!1):!!i&&this.wi(t).next(()=>!0))).catch(t=>{if(oc(t))return Rt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Rt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ws.enqueueRetryable(()=>this.ni(t)),this.isPrimary=t})}li(t){return Ph(t).get("owner").next(i=>pt.resolve(this._i(i)))}mi(t){return Nh(t).delete(this.clientId)}gi(){var t=this;return(0,Ee.Z)(function*(){if(t.isPrimary&&!t.yi(t.ei,18e5)){t.ei=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const m=Ys(c,"clientMetadata");return m.j().next(v=>{const E=t.pi(v,18e5),R=v.filter($=>-1===E.indexOf($));return pt.forEach(R,$=>m.delete($.clientId)).next(()=>R)})}).catch(()=>[]);if(t.ri)for(const c of i)t.ri.removeItem(t.Ii(c.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(t){return!!t&&t.ownerId===this.clientId}fi(t){return this.Js?pt.resolve(!0):Ph(t).get("owner").next(i=>{if(null!==i&&this.yi(i.leaseTimestampMs,5e3)&&!this.Ti(i.ownerId)){if(this._i(i)&&this.networkEnabled)return!0;if(!this._i(i)){if(!i.allowTabSynchronization)throw new Ht(_t.FAILED_PRECONDITION,Zd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nh(t).j().next(c=>void 0===this.pi(c,5e3).find(m=>!(this.clientId===m.clientId||!(!this.networkEnabled&&m.networkEnabled||!this.inForeground&&m.inForeground&&this.networkEnabled===m.networkEnabled))))}).next(i=>(this.isPrimary!==i&&Rt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,Ee.Z)(function*(){t.Ss=!1,t.Ei(),t.ti&&(t.ti.cancel(),t.ti=null),t.Ai(),t.Ri(),yield t.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const c=new kl(i,Oo.ct);return t.di(c).next(()=>t.mi(c))}),t.ii.close(),t.vi()})()}pi(t,i){return t.filter(c=>this.yi(c.updateTimeMs,i)&&!this.Ti(c.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",t=>Nh(t).j().next(i=>this.pi(i,18e5).map(c=>c.clientId)))}get started(){return this.Ss}getMutationQueue(t,i){return zl.ie(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Mh(t,this.serializer.se.databaseId)}getDocumentOverlayCache(t){return cg.ie(this.serializer,t)}getBundleCache(){return this.xs}runTransaction(t,i,c){Rt("IndexedDbPersistence","Starting transaction:",t);const m="readonly"===i?"readonly":"readwrite",v=15===(E=this.Ys)?vu:14===E?Ml:13===E?fa:12===E?Xo:11===E?ys:void Jt();var E;let R;return this.ii.runTransaction(t,m,v,$=>(R=new kl($,this.Vs?this.Vs.next():Oo.ct),"readwrite-primary"===i?this.li(R).next(ee=>!!ee||this.fi(R)).next(ee=>{if(!ee)throw Kn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Ht(_t.FAILED_PRECONDITION,rc);return c(R)}).next(ee=>this.wi(R).next(()=>ee)):this.Pi(R).next(()=>c(R)))).then($=>(R.raiseOnCommittedEvent(),$))}Pi(t){return Ph(t).get("owner").next(i=>{if(null!==i&&this.yi(i.leaseTimestampMs,5e3)&&!this.Ti(i.ownerId)&&!this._i(i)&&!(this.Js||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Ht(_t.FAILED_PRECONDITION,Zd)})}wi(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ph(t).put("owner",i)}static D(){return Zo.D()}di(t){const i=Ph(t);return i.get("owner").next(c=>this._i(c)?(Rt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):pt.resolve())}yi(t,i){const c=Date.now();return!(t<c-i||t>c&&(Kn(`Detected an update time that is in the future: ${t} > ${c}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ei();const i=/(?:Version|Mobile)\/1[456]/;(0,me.G6)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(t){var i;try{const c=null!==(null===(i=this.ri)||void 0===i?void 0:i.getItem(this.Ii(t)));return Rt("IndexedDbPersistence",`Client '${t}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return Kn("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(t){Kn("Failed to set zombie client id.",t)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ph(a){return Ys(a,"owner")}function Nh(a){return Ys(a,"clientMetadata")}function zm(a,t){let i=a.projectId;return a.isDefaultDatabase||(i+="."+a.database),"firestore/"+t+"/"+i+"/"}class W_{constructor(t,i,c,m){this.targetId=t,this.fromCache=i,this.Vi=c,this.Si=m}static Di(t,i){let c=ii(),m=ii();for(const v of i.docChanges)switch(v.type){case 0:c=c.add(v.doc.key);break;case 1:m=m.add(v.doc.key)}return new W_(t,i.fromCache,c,m)}}class t0{constructor(){this.Ci=!1}initialize(t,i){this.xi=t,this.indexManager=i,this.Ci=!0}getDocumentsMatchingQuery(t,i,c,m){return this.Ni(t,i).next(v=>v||this.ki(t,i,m,c)).next(v=>v||this.Oi(t,i))}Ni(t,i){if(Df(i))return pt.resolve(null);let c=qs(i);return this.indexManager.getIndexType(t,c).next(m=>0===m?null:(null!==i.limit&&1===m&&(i=ph(i,null,"F"),c=qs(i)),this.indexManager.getDocumentsMatchingTarget(t,c).next(v=>{const E=ii(...v);return this.xi.getDocuments(t,E).next(R=>this.indexManager.getMinOffset(t,c).next($=>{const ee=this.$i(i,R);return this.Mi(i,ee,E,$.readTime)?this.Ni(t,ph(i,null,"F")):this.Fi(t,ee,i,$)}))})))}ki(t,i,c,m){return Df(i)||m.isEqual(kn.min())?this.Oi(t,i):this.xi.getDocuments(t,c).next(v=>{const E=this.$i(i,v);return this.Mi(i,E,c,m)?this.Oi(t,i):(Dn()<=De.in.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",m.toString(),Fd(i)),this.Fi(t,E,i,ro(m,-1)))})}$i(t,i){let c=new it(gh(t));return i.forEach((m,v)=>{Mc(t,v)&&(c=c.add(v))}),c}Mi(t,i,c,m){if(null===t.limit)return!1;if(c.size!==i.size)return!0;const v="F"===t.limitType?i.last():i.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(m)>0)}Oi(t,i){return Dn()<=De.in.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Fd(i)),this.xi.getDocumentsMatchingQuery(t,i,as.min())}Fi(t,i,c,m){return this.xi.getDocumentsMatchingQuery(t,c,m).next(v=>(i.forEach(E=>{v=v.insert(E.key,E)}),v))}}class gw{constructor(t,i,c,m){this.persistence=t,this.Bi=i,this.serializer=m,this.Li=new te(Xn),this.qi=new Fo(v=>Du(v),Tm),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(c)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ai(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Li))}}function kv(a,t,i,c){return new gw(a,t,i,c)}function K_(a,t){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,Ee.Z)(function*(a,t){const i=tn(a);return yield i.persistence.runTransaction("Handle user change","readonly",c=>{let m;return i.mutationQueue.getAllMutationBatches(c).next(v=>(m=v,i.Gi(t),i.mutationQueue.getAllMutationBatches(c))).next(v=>{const E=[],R=[];let $=ii();for(const ee of m){E.push(ee.batchId);for(const fe of ee.mutations)$=$.add(fe.key)}for(const ee of v){R.push(ee.batchId);for(const fe of ee.mutations)$=$.add(fe.key)}return i.localDocuments.getDocuments(c,$).next(ee=>({Qi:ee,removedBatchIds:E,addedBatchIds:R}))})})}),Y_.apply(this,arguments)}function Fh(a){const t=tn(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ds.getLastRemoteSnapshotVersion(i))}function q_(a,t,i){let c=ii(),m=ii();return i.forEach(v=>c=c.add(v)),t.getEntries(a,c).next(v=>{let E=Lo();return i.forEach((R,$)=>{const ee=v.get(R);$.isFoundDocument()!==ee.isFoundDocument()&&(m=m.add(R)),$.isNoDocument()&&$.version.isEqual(kn.min())?(t.removeEntry(R,$.readTime),E=E.insert(R,$)):!ee.isValidDocument()||$.version.compareTo(ee.version)>0||0===$.version.compareTo(ee.version)&&ee.hasPendingWrites?(t.addEntry($),E=E.insert(R,$)):Rt("LocalStore","Ignoring outdated watch update for ",R,". Current version:",ee.version," Watch version:",$.version)}),{zi:E,ji:m}})}function Gm(a,t){const i=tn(a);return i.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(c,t)))}function Gf(a,t){const i=tn(a);return i.persistence.runTransaction("Allocate target","readwrite",c=>{let m;return i.Ds.getTargetData(c,t).next(v=>v?(m=v,pt.resolve(m)):i.Ds.allocateTargetId(c).next(E=>(m=new Th(t,E,0,c.currentSequenceNumber),i.Ds.addTargetData(c,m).next(()=>m))))}).then(c=>{const m=i.Li.get(c.targetId);return(null===m||c.snapshotVersion.compareTo(m.snapshotVersion)>0)&&(i.Li=i.Li.insert(c.targetId,c),i.qi.set(t,c.targetId)),c})}function Qd(a,t,i){return bg.apply(this,arguments)}function bg(){return bg=(0,Ee.Z)(function*(a,t,i){const c=tn(a),m=c.Li.get(t),v=i?"readwrite":"readwrite-primary";try{i||(yield c.persistence.runTransaction("Release target",v,E=>c.persistence.referenceDelegate.removeTarget(E,m)))}catch(E){if(!oc(E))throw E;Rt("LocalStore",`Failed to update sequence numbers for target ${t}: ${E}`)}c.Li=c.Li.remove(t),c.qi.delete(m.target)}),bg.apply(this,arguments)}function $m(a,t,i){const c=tn(a);let m=kn.min(),v=ii();return c.persistence.runTransaction("Execute query","readonly",E=>function(R,$,ee){const fe=tn(R),Ue=fe.qi.get(ee);return void 0!==Ue?pt.resolve(fe.Li.get(Ue)):fe.Ds.getTargetData($,ee)}(c,E,qs(t)).next(R=>{if(R)return m=R.lastLimboFreeSnapshotVersion,c.Ds.getMatchingKeysForTargetId(E,R.targetId).next($=>{v=$})}).next(()=>c.Bi.getDocumentsMatchingQuery(E,t,i?m:kn.min(),i?v:ii())).next(R=>(s0(c,Mm(t),R),{documents:R,Wi:v})))}function Z_(a,t){const i=tn(a),c=tn(i.Ds),m=i.Li.get(t);return m?Promise.resolve(m.target):i.persistence.runTransaction("Get target data","readonly",v=>c.ne(v,t).next(E=>E?E.target:null))}function r0(a,t){const i=tn(a),c=i.Ui.get(t)||kn.min();return i.persistence.runTransaction("Get new document changes","readonly",m=>i.Ki.getAllFromCollectionGroup(m,t,ro(c,-1),Number.MAX_SAFE_INTEGER)).then(m=>(s0(i,t,m),m))}function s0(a,t,i){let c=a.Ui.get(t)||kn.min();i.forEach((m,v)=>{v.readTime.compareTo(c)>0&&(c=v.readTime)}),a.Ui.set(t,c)}function Q_(){return Q_=(0,Ee.Z)(function*(a,t,i,c){const m=tn(a);let v=ii(),E=Lo();for(const ee of i){const fe=t.Hi(ee.metadata.name);ee.document&&(v=v.add(fe));const Ue=t.Ji(ee);Ue.setReadTime(t.Yi(ee.metadata.readTime)),E=E.insert(fe,Ue)}const R=m.Ki.newChangeBuffer({trackRemovals:!0}),$=yield Gf(m,(ee=c,qs(Su(oi.fromString(`__bundle__/docs/${ee}`)))));var ee;return m.persistence.runTransaction("Apply bundle documents","readwrite",ee=>q_(ee,R,E).next(fe=>(R.apply(ee),fe)).next(fe=>m.Ds.removeMatchingKeysForTargetId(ee,$.targetId).next(()=>m.Ds.addMatchingKeys(ee,v,$.targetId)).next(()=>m.localDocuments.getLocalViewOfDocuments(ee,fe.zi,fe.ji)).next(()=>fe.zi)))}),Q_.apply(this,arguments)}function Ov(a,t){return wg.apply(this,arguments)}function wg(){return wg=(0,Ee.Z)(function*(a,t,i=ii()){const c=yield Gf(a,qs(dd(t.bundledQuery))),m=tn(a);return m.persistence.runTransaction("Save named query","readwrite",v=>{const E=jt(t.readTime);if(c.snapshotVersion.compareTo(E)>=0)return m.xs.saveNamedQuery(v,t);const R=c.withResumeToken(Fn.EMPTY_BYTE_STRING,E);return m.Li=m.Li.insert(R.targetId,R),m.Ds.updateTargetData(v,R).next(()=>m.Ds.removeMatchingKeysForTargetId(v,c.targetId)).next(()=>m.Ds.addMatchingKeys(v,i,c.targetId)).next(()=>m.xs.saveNamedQuery(v,t))})}),wg.apply(this,arguments)}function xg(a,t){return`firestore_clients_${a}_${t}`}function a0(a,t,i){let c=`firestore_mutations_${a}_${i}`;return t.isAuthenticated()&&(c+=`_${t.uid}`),c}function Wm(a,t){return`firestore_targets_${a}_${t}`}class Eg{constructor(t,i,c,m){this.user=t,this.batchId=i,this.state=c,this.error=m}static Zi(t,i,c){const m=JSON.parse(c);let v,E="object"==typeof m&&-1!==["pending","acknowledged","rejected"].indexOf(m.state)&&(void 0===m.error||"object"==typeof m.error);return E&&m.error&&(E="string"==typeof m.error.message&&"string"==typeof m.error.code,E&&(v=new Ht(m.error.code,m.error.message))),E?new Eg(t,i,m.state,v):(Kn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${c}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Km{constructor(t,i,c){this.targetId=t,this.state=i,this.error=c}static Zi(t,i){const c=JSON.parse(i);let m,v="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return v&&c.error&&(v="string"==typeof c.error.message&&"string"==typeof c.error.code,v&&(m=new Ht(c.error.code,c.error.message))),v?new Km(t,c.state,m):(Kn("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Xd{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Zi(t,i){const c=JSON.parse(i);let m="object"==typeof c&&c.activeTargetIds instanceof Array,v=Ll();for(let E=0;m&&E<c.activeTargetIds.length;++E)m=cc(c.activeTargetIds[E]),v=v.add(c.activeTargetIds[E]);return m?new Xd(t,v):(Kn("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}}class X_{constructor(t,i){this.clientId=t,this.onlineState=i}static Zi(t){const i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new X_(i.clientId,i.onlineState):(Kn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Cg{constructor(){this.activeTargetIds=Ll()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class J_{constructor(t,i,c,m,v){this.window=t,this.Ws=i,this.persistenceKey=c,this.nr=m,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new te(Xn),this.started=!1,this.ur=[];const E=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.cr=xg(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new Cg),this.hr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ee.Z)(function*(){const i=yield t.syncEngine.bi();for(const m of i){if(m===t.nr)continue;const v=t.getItem(xg(t.persistenceKey,m));if(v){const E=Xd.Zi(m,v);E&&(t.rr=t.rr.insert(E.clientId,E))}}t.mr();const c=t.storage.getItem(t.wr);if(c){const m=t.gr(c);m&&t.yr(m)}for(const m of t.ur)t.ir(m);t.ur=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(t){let i=!1;return this.rr.forEach((c,m)=>{m.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.Ir(t,"pending")}updateMutationState(t,i,c){this.Ir(t,i,c),this.Tr(t)}addLocalQueryTarget(t){let i="not-current";if(this.isActiveQueryTarget(t)){const c=this.storage.getItem(Wm(this.persistenceKey,t));if(c){const m=Km.Zi(t,c);m&&(i=m.state)}}return this.Er.tr(t),this.mr(),i}removeLocalQueryTarget(t){this.Er.er(t),this.mr()}isLocalQueryTarget(t){return this.Er.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Wm(this.persistenceKey,t))}updateQueryState(t,i,c){this.Ar(t,i,c)}handleUserChange(t,i,c){i.forEach(m=>{this.Tr(m)}),this.currentUser=t,c.forEach(m=>{this.addPendingMutation(m)})}setOnlineState(t){this.Rr(t)}notifyBundleLoaded(t){this.vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(t){const i=this.storage.getItem(t);return Rt("SharedClientState","READ",t,i),i}setItem(t,i){Rt("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){Rt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ir(t){var i=this;const c=t;if(c.storageArea===this.storage){if(Rt("SharedClientState","EVENT",c.key,c.newValue),c.key===this.cr)return void Kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,Ee.Z)(function*(){if(i.started){if(null!==c.key)if(i.hr.test(c.key)){if(null==c.newValue){const m=i.br(c.key);return i.Pr(m,null)}{const m=i.Vr(c.key,c.newValue);if(m)return i.Pr(m.clientId,m)}}else if(i.lr.test(c.key)){if(null!==c.newValue){const m=i.Sr(c.key,c.newValue);if(m)return i.Dr(m)}}else if(i.dr.test(c.key)){if(null!==c.newValue){const m=i.Cr(c.key,c.newValue);if(m)return i.Nr(m)}}else if(c.key===i.wr){if(null!==c.newValue){const m=i.gr(c.newValue);if(m)return i.yr(m)}}else if(c.key===i.ar){const m=function(v){let E=Oo.ct;if(null!=v)try{const R=JSON.parse(v);ln("number"==typeof R),E=R}catch(R){Kn("SharedClientState","Failed to read sequence number from WebStorage",R)}return E}(c.newValue);m!==Oo.ct&&i.sequenceNumberHandler(m)}else if(c.key===i._r){const m=i.kr(c.newValue);yield Promise.all(m.map(v=>i.syncEngine.Or(v)))}}else i.ur.push(c)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(t,i,c){const m=new Eg(this.currentUser,t,i,c),v=a0(this.persistenceKey,this.currentUser,t);this.setItem(v,m.Xi())}Tr(t){const i=a0(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Rr(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:t}))}Ar(t,i,c){const m=Wm(this.persistenceKey,t),v=new Km(t,i,c);this.setItem(m,v.Xi())}vr(t){const i=JSON.stringify(Array.from(t));this.setItem(this._r,i)}br(t){const i=this.hr.exec(t);return i?i[1]:null}Vr(t,i){const c=this.br(t);return Xd.Zi(c,i)}Sr(t,i){const c=this.lr.exec(t),m=Number(c[1]);return Eg.Zi(new ke(void 0!==c[2]?c[2]:null),m,i)}Cr(t,i){const c=this.dr.exec(t),m=Number(c[1]);return Km.Zi(m,i)}gr(t){return X_.Zi(t)}kr(t){return JSON.parse(t)}Dr(t){var i=this;return(0,Ee.Z)(function*(){if(t.user.uid===i.currentUser.uid)return i.syncEngine.$r(t.batchId,t.state,t.error);Rt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Nr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}Pr(t,i){const c=i?this.rr.insert(t,i):this.rr.remove(t),m=this.pr(this.rr),v=this.pr(c),E=[],R=[];return v.forEach($=>{m.has($)||E.push($)}),m.forEach($=>{v.has($)||R.push($)}),this.syncEngine.Fr(E,R).then(()=>{this.rr=c})}yr(t){this.rr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}pr(t){let i=Ll();return t.forEach((c,m)=>{i=i.unionWith(m.activeTargetIds)}),i}}class l0{constructor(){this.Br=new Cg,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,c){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,i,c){this.Lr[t]=i}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new Cg,Promise.resolve()}handleUserChange(t,i,c){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class c0{qr(t){}shutdown(){}}class Ym{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){Rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mc=null;function $f(){return null===mc?mc=268435456+Math.round(2147483648*Math.random()):mc++,"0x"+mc.toString(16)}const Wf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nc{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}const co="WebChannelConnection";class ey extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.ro=(t.ssl?"https":"http")+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,i,c,m,v){const E=$f(),R=this.ao(t,i);Rt("RestConnection",`Sending RPC '${t}' ${E}:`,R,c);const $={};return this.ho($,m,v),this.lo(t,R,$,c).then(ee=>(Rt("RestConnection",`Received RPC '${t}' ${E}: `,ee),ee),ee=>{throw zn("RestConnection",`RPC '${t}' ${E} failed with error: `,ee,"url: ",R,"request:",c),ee})}fo(t,i,c,m,v,E){return this.co(t,i,c,m,v)}ho(t,i,c){t["X-Goog-Api-Client"]="gl-js/ fire/"+wt,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((m,v)=>t[v]=m),c&&c.headers.forEach((m,v)=>t[v]=m)}ao(t,i){return`${this.ro}/v1/${i}:${Wf[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,i,c,m){const v=$f();return new Promise((E,R)=>{const $=new j;$.setWithCredentials(!0),$.listenOnce(Il.COMPLETE,()=>{try{switch($.getLastErrorCode()){case Dl.NO_ERROR:const fe=$.getResponseJson();Rt(co,`XHR for RPC '${t}' ${v} received:`,JSON.stringify(fe)),E(fe);break;case Dl.TIMEOUT:Rt(co,`RPC '${t}' ${v} timed out`),R(new Ht(_t.DEADLINE_EXCEEDED,"Request time out"));break;case Dl.HTTP_ERROR:const Ue=$.getStatus();if(Rt(co,`RPC '${t}' ${v} failed with status:`,Ue,"response text:",$.getResponseText()),Ue>0){let ut=$.getResponseJson();Array.isArray(ut)&&(ut=ut[0]);const Bt=ut?.error;if(Bt&&Bt.status&&Bt.message){const en=function(vn){const $n=vn.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf($n)>=0?$n:_t.UNKNOWN}(Bt.status);R(new Ht(en,Bt.message))}else R(new Ht(_t.UNKNOWN,"Server responded with status "+$.getStatus()))}else R(new Ht(_t.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{Rt(co,`RPC '${t}' ${v} completed.`)}});const ee=JSON.stringify(m);Rt(co,`RPC '${t}' ${v} sending request:`,m),$.send(i,"POST",ee,c,15)})}wo(t,i,c){const m=$f(),v=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],E=Dd(),R=gs(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&($.xmlHttpFactory=new F({})),this.ho($.initMessageHeaders,i,c),$.encodeInitMessageHeaders=!0;const ee=v.join("");Rt(co,`Creating RPC '${t}' stream ${m}: ${ee}`,$);const fe=E.createWebChannel(ee,$);let Ue=!1,ut=!1;const Bt=new Nc({Wr:vn=>{ut?Rt(co,`Not sending because RPC '${t}' stream ${m} is closed:`,vn):(Ue||(Rt(co,`Opening RPC '${t}' stream ${m} transport.`),fe.open(),Ue=!0),Rt(co,`RPC '${t}' stream ${m} sending:`,vn),fe.send(vn))},Hr:()=>fe.close()}),en=(vn,$n,ir)=>{vn.listen($n,bs=>{try{ir(bs)}catch(Ui){setTimeout(()=>{throw Ui},0)}})};return en(fe,X.EventType.OPEN,()=>{ut||Rt(co,`RPC '${t}' stream ${m} transport opened.`)}),en(fe,X.EventType.CLOSE,()=>{ut||(ut=!0,Rt(co,`RPC '${t}' stream ${m} transport closed`),Bt.so())}),en(fe,X.EventType.ERROR,vn=>{ut||(ut=!0,zn(co,`RPC '${t}' stream ${m} transport errored:`,vn),Bt.so(new Ht(_t.UNAVAILABLE,"The operation could not be completed")))}),en(fe,X.EventType.MESSAGE,vn=>{var $n;if(!ut){const ir=vn.data[0];ln(!!ir);const Ui=ir.error||(null===($n=ir[0])||void 0===$n?void 0:$n.error);if(Ui){Rt(co,`RPC '${t}' stream ${m} received error:`,Ui);const Zs=Ui.status;let Vr=function(fo){const ta=Yi[fo];if(void 0!==ta)return Of(ta)}(Zs),qr=Ui.message;void 0===Vr&&(Vr=_t.INTERNAL,qr="Unknown error status: "+Zs+" with message "+Ui.message),ut=!0,Bt.so(new Ht(Vr,qr)),fe.close()}else Rt(co,`RPC '${t}' stream ${m} received:`,ir),Bt.io(ir)}}),en(R,Id.STAT_EVENT,vn=>{vn.stat===Gc.PROXY?Rt(co,`RPC '${t}' stream ${m} detected buffering proxy`):vn.stat===Gc.NOPROXY&&Rt(co,`RPC '${t}' stream ${m} detected no buffering proxy`)}),setTimeout(()=>{Bt.no()},0),Bt}}function Dg(){return typeof window<"u"?window:null}function Kf(){return typeof document<"u"?document:null}function Lh(a){return new M(a,!0)}class Ig{constructor(t,i,c=1e3,m=1.5,v=6e4){this.Ws=t,this.timerId=i,this._o=c,this.mo=m,this.yo=v,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const i=Math.floor(this.po+this.Ro()),c=Math.max(0,Date.now()-this.To),m=Math.max(0,i-c);m>0&&Rt("ExponentialBackoff",`Backing off for ${m} ms (base delay: ${this.po} ms, delay with jitter: ${i} ms, last attempt: ${c} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,m,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Sg{constructor(t,i,c,m,v,E,R,$){this.Ws=t,this.bo=c,this.Po=m,this.connection=v,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=R,this.listener=$,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Ig(t,i)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var t=this;return(0,Ee.Z)(function*(){t.xo()&&(yield t.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}Mo(){var t=this;return(0,Ee.Z)(function*(){if(t.No())return t.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(t,i){var c=this;return(0,Ee.Z)(function*(){c.Bo(),c.Lo(),c.Co.cancel(),c.Vo++,4!==t?c.Co.reset():i&&i.code===_t.RESOURCE_EXHAUSTED?(Kn(i.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),c.Co.Eo()):i&&i.code===_t.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.qo(),c.stream.close(),c.stream=null),c.state=t,yield c.listener.Zr(i)})()}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),i=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,m])=>{this.Vo===i&&this.Ko(c,m)},c=>{t(()=>{const m=new Ht(_t.UNKNOWN,"Fetching auth token failed: "+c.message);return this.Go(m)})})}Ko(t,i){const c=this.Uo(this.Vo);this.stream=this.Qo(t,i),this.stream.Jr(()=>{c(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(m=>{c(()=>this.Go(m))}),this.stream.onMessage(m=>{c(()=>this.onMessage(m))})}ko(){var t=this;this.state=5,this.Co.Ao((0,Ee.Z)(function*(){t.state=0,t.start()}))}Go(t){return Rt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return i=>{this.Ws.enqueueAndForget(()=>this.Vo===t?i():(Rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pv extends Sg{constructor(t,i,c,m,v,E){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,c,m,E),this.serializer=v}Qo(t,i){return this.connection.wo("Listen",t,i)}onMessage(t){this.Co.reset();const i=function Lm(a,t){let i;if("targetChange"in t){const c="NO_CHANGE"===($=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Jt(),m=t.targetChange.targetIds||[],v=function($,ee){return $.useProto3Json?(ln(void 0===ee||"string"==typeof ee),Fn.fromBase64String(ee||"")):(ln(void 0===ee||ee instanceof Uint8Array),Fn.fromUint8Array(ee||new Uint8Array))}(a,t.targetChange.resumeToken),E=t.targetChange.cause,R=E&&function($){const ee=void 0===$.code?_t.UNKNOWN:Of($.code);return new Ht(ee,$.message||"")}(E);i=new ng(c,m,v,R||null)}else if("documentChange"in t){const c=t.documentChange,m=Yn(a,c.document.name),v=jt(c.document.updateTime),E=c.document.createTime?jt(c.document.createTime):kn.min(),R=new Ts({mapValue:{fields:c.document.fields}}),$=Or.newFoundDocument(m,v,E,R);i=new ad(c.targetIds||[],c.removedTargetIds||[],$.key,$)}else if("documentDelete"in t){const c=t.documentDelete,m=Yn(a,c.document),v=c.readTime?jt(c.readTime):kn.min(),E=Or.newNoDocument(m,v);i=new ad([],c.removedTargetIds||[],E.key,E)}else if("documentRemove"in t){const c=t.documentRemove,m=Yn(a,c.document);i=new ad([],c.removedTargetIds||[],m,null)}else{if(!("filter"in t))return Jt();{const c=t.filter,v=new tg(c.count||0);i=new Pf(c.targetId,v)}}var $;return i}(this.serializer,t),c=function(m){if(!("targetChange"in m))return kn.min();const v=m.targetChange;return v.targetIds&&v.targetIds.length?kn.min():v.readTime?jt(v.readTime):kn.min()}(t);return this.listener.zo(i,c)}jo(t){const i={};i.database=Lr(this.serializer),i.addTarget=function(m,v){let E;const R=v.target;return E=Pd(R)?{documents:Bm(m,R)}:{query:Ih(m,R)},E.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?E.resumeToken=He(m,v.resumeToken):v.snapshotVersion.compareTo(kn.min())>0&&(E.readTime=re(m,v.snapshotVersion.toTimestamp())),E}(this.serializer,t);const c=function Um(a,t){const i=function(c,m){switch(m){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jt()}}(0,t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);c&&(i.labels=c),this.Fo(i)}Wo(t){const i={};i.database=Lr(this.serializer),i.removeTarget=t,this.Fo(i)}}class Nv extends Sg{constructor(t,i,c,m,v,E){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,c,m,E),this.serializer=v,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(t,i){return this.connection.wo("Write",t,i)}onMessage(t){if(ln(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ho){this.Co.reset();const i=function ig(a,t){return a&&a.length>0?(ln(void 0!==t),a.map(i=>function(c,m){let v=jt(c.updateTime?c.updateTime:m);return v.isEqual(kn.min())&&(v=jt(m)),new Pm(v,c.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),c=jt(t.commitTime);return this.listener.Zo(c,i)}return ln(!t.writeResults||0===t.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const t={};t.database=Lr(this.serializer),this.Fo(t)}Yo(t){const i={streamToken:this.lastStreamToken,writes:t.map(c=>$d(this.serializer,c))};this.Fo(i)}}class Fv extends class{}{constructor(t,i,c,m){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=c,this.serializer=m,this.eu=!1}nu(){if(this.eu)throw new Ht(_t.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,i,c){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,v])=>this.connection.co(t,i,c,m,v)).catch(m=>{throw"FirebaseError"===m.name?(m.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Ht(_t.UNKNOWN,m.toString())})}fo(t,i,c,m){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,E])=>this.connection.fo(t,i,c,v,E,m)).catch(v=>{throw"FirebaseError"===v.name?(v.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new Ht(_t.UNKNOWN,v.toString())})}terminate(){this.eu=!0}}class Bv{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,"Online"===t&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Kn(i),this.ru=!1):Rt("OnlineStateTracker",i)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class d0{constructor(t,i,c,m,v){var E=this;this.localStore=t,this.datastore=i,this.asyncQueue=c,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=v,this._u.qr(R=>{c.enqueueAndForget((0,Ee.Z)(function*(){var $;Jd(E)&&(Rt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,Ee.Z)(function*(ee){const fe=tn(ee);fe.du.add(4),yield Uh(fe),fe.mu.set("Unknown"),fe.du.delete(4),yield qm(fe)}),function(ee){return $.apply(this,arguments)})(E))}))}),this.mu=new Bv(c,m)}}function qm(a){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,Ee.Z)(function*(a){if(Jd(a))for(const t of a.wu)yield t(!0)}),Ua.apply(this,arguments)}function Uh(a){return Uv.apply(this,arguments)}function Uv(){return Uv=(0,Ee.Z)(function*(a){for(const t of a.wu)yield t(!1)}),Uv.apply(this,arguments)}function ty(a,t){const i=tn(a);i.fu.has(t.targetId)||(i.fu.set(t.targetId,t),ry(i)?iy(i):cl(i).No()&&Tg(i,t))}function Vh(a,t){const i=tn(a),c=cl(i);i.fu.delete(t),c.No()&&ny(i,t),0===i.fu.size&&(c.No()?c.$o():Jd(i)&&i.mu.set("Unknown"))}function Tg(a,t){a.gu.Ot(t.targetId),cl(a).jo(t)}function ny(a,t){a.gu.Ot(t),cl(a).Wo(t)}function iy(a){a.gu=new ld({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>a.fu.get(t)||null}),cl(a).start(),a.mu.ou()}function ry(a){return Jd(a)&&!cl(a).xo()&&a.fu.size>0}function Jd(a){return 0===tn(a).du.size}function Vv(a){a.gu=void 0}function u0(a){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,Ee.Z)(function*(a){a.fu.forEach((t,i)=>{Tg(a,t)})}),Ag.apply(this,arguments)}function sy(a,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,Ee.Z)(function*(a,t){Vv(a),ry(a)?(a.mu.au(t),iy(a)):a.mu.set("Unknown")}),Mg.apply(this,arguments)}function Hv(a,t,i){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,Ee.Z)(function*(a,t,i){if(a.mu.set("Online"),t instanceof ng&&2===t.state&&t.cause)try{yield(c=(0,Ee.Z)(function*(m,v){const E=v.cause;for(const R of v.targetIds)m.fu.has(R)&&(yield m.remoteSyncer.rejectListen(R,E),m.fu.delete(R),m.gu.removeTarget(R))}),function(m,v){return c.apply(this,arguments)})(a,t)}catch(c){Rt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),c),yield Qm(a,c)}else if(t instanceof ad?a.gu.Kt(t):t instanceof Pf?a.gu.Jt(t):a.gu.zt(t),!i.isEqual(kn.min()))try{const c=yield Fh(a.localStore);i.compareTo(c)>=0&&(yield function(m,v){const E=m.gu.Xt(v);return E.targetChanges.forEach((R,$)=>{if(R.resumeToken.approximateByteSize()>0){const ee=m.fu.get($);ee&&m.fu.set($,ee.withResumeToken(R.resumeToken,v))}}),E.targetMismatches.forEach(R=>{const $=m.fu.get(R);if(!$)return;m.fu.set(R,$.withResumeToken(Fn.EMPTY_BYTE_STRING,$.snapshotVersion)),ny(m,R);const ee=new Th($.target,R,1,$.sequenceNumber);Tg(m,ee)}),m.remoteSyncer.applyRemoteEvent(E)}(a,i))}catch(c){Rt("RemoteStore","Failed to raise snapshot:",c),yield Qm(a,c)}var c}),Zm.apply(this,arguments)}function Qm(a,t,i){return pc.apply(this,arguments)}function pc(){return pc=(0,Ee.Z)(function*(a,t,i){if(!oc(t))throw t;a.du.add(1),yield Uh(a),a.mu.set("Offline"),i||(i=()=>Fh(a.localStore)),a.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Rt("RemoteStore","Retrying IndexedDB access"),yield i(),a.du.delete(1),yield qm(a)}))}),pc.apply(this,arguments)}function kg(a,t){return t().catch(i=>Qm(a,i,t))}function Hh(a){return eu.apply(this,arguments)}function eu(){return eu=(0,Ee.Z)(function*(a){const t=tn(a),i=Vo(t);let c=t.lu.length>0?t.lu[t.lu.length-1].batchId:-1;for(;Rg(t);)try{const m=yield Gm(t.localStore,c);if(null===m){0===t.lu.length&&i.$o();break}c=m.batchId,Yf(t,m)}catch(m){yield Qm(t,m)}oy(t)&&ay(t)}),eu.apply(this,arguments)}function Rg(a){return Jd(a)&&a.lu.length<10}function Yf(a,t){a.lu.push(t);const i=Vo(a);i.No()&&i.Jo&&i.Yo(t.mutations)}function oy(a){return Jd(a)&&!Vo(a).xo()&&a.lu.length>0}function ay(a){Vo(a).start()}function jh(a){return tu.apply(this,arguments)}function tu(){return tu=(0,Ee.Z)(function*(a){Vo(a).tu()}),tu.apply(this,arguments)}function jv(a){return zh.apply(this,arguments)}function zh(){return zh=(0,Ee.Z)(function*(a){const t=Vo(a);for(const i of a.lu)t.Yo(i.mutations)}),zh.apply(this,arguments)}function uo(a,t,i){return hd.apply(this,arguments)}function hd(){return hd=(0,Ee.Z)(function*(a,t,i){const c=a.lu.shift(),m=lo.from(c,t,i);yield kg(a,()=>a.remoteSyncer.applySuccessfulWrite(m)),yield Hh(a)}),hd.apply(this,arguments)}function zv(a,t){return ll.apply(this,arguments)}function ll(){return ll=(0,Ee.Z)(function*(a,t){var i;t&&Vo(a).Jo&&(yield(i=(0,Ee.Z)(function*(c,m){if(Rf(v=m.code)&&v!==_t.ABORTED){const E=c.lu.shift();Vo(c).Oo(),yield kg(c,()=>c.remoteSyncer.rejectFailedWrite(E.batchId,m)),yield Hh(c)}var v}),function(c,m){return i.apply(this,arguments)})(a,t)),oy(a)&&ay(a)}),ll.apply(this,arguments)}function Ea(a,t){return Og.apply(this,arguments)}function Og(){return Og=(0,Ee.Z)(function*(a,t){const i=tn(a);i.asyncQueue.verifyOperationInProgress(),Rt("RemoteStore","RemoteStore received new credentials");const c=Jd(i);i.du.add(3),yield Uh(i),c&&i.mu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.du.delete(3),yield qm(i)}),Og.apply(this,arguments)}function Gh(a,t){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,Ee.Z)(function*(a,t){const i=tn(a);t?(i.du.delete(2),yield qm(i)):t||(i.du.add(2),yield Uh(i),i.mu.set("Unknown"))}),Pg.apply(this,arguments)}function cl(a){return a.yu||(a.yu=function(t,i,c){const m=tn(t);return m.nu(),new Pv(i,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(a.datastore,a.asyncQueue,{Jr:u0.bind(null,a),Zr:sy.bind(null,a),zo:Hv.bind(null,a)}),a.wu.push(function(){var t=(0,Ee.Z)(function*(i){i?(a.yu.Oo(),ry(a)?iy(a):a.mu.set("Unknown")):(yield a.yu.stop(),Vv(a))});return function(i){return t.apply(this,arguments)}}())),a.yu}function Vo(a){return a.pu||(a.pu=function(t,i,c){const m=tn(t);return m.nu(),new Nv(i,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(a.datastore,a.asyncQueue,{Jr:jh.bind(null,a),Zr:zv.bind(null,a),Xo:jv.bind(null,a),Zo:uo.bind(null,a)}),a.wu.push(function(){var t=(0,Ee.Z)(function*(i){i?(a.pu.Oo(),yield Hh(a)):(yield a.pu.stop(),a.lu.length>0&&(Rt("RemoteStore",`Stopping write stream with ${a.lu.length} pending writes`),a.lu=[]))});return function(i){return t.apply(this,arguments)}}())),a.pu}class ea{constructor(t,i,c,m,v){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=c,this.op=m,this.removalCallback=v,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(t,i,c,m,v){const E=Date.now()+c,R=new ea(t,i,E,m,v);return R.start(c),R}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ht(_t.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nu(a,t){if(Kn("AsyncQueue",`${t}: ${a}`),oc(a))return new Ht(_t.UNAVAILABLE,`${t}: ${a}`);throw a}class Gl{constructor(t){this.comparator=t?(i,c)=>t(i,c)||cn.comparator(i.key,c.key):(i,c)=>cn.comparator(i.key,c.key),this.keyedMap=Tf(),this.sortedSet=new te(this.comparator)}static emptySet(t){return new Gl(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,c)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Gl)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),c=t.sortedSet.getIterator();for(;i.hasNext();){const m=i.getNext().key,v=c.getNext().key;if(!m.isEqual(v))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const c=new Gl;return c.comparator=this.comparator,c.keyedMap=t,c.sortedSet=i,c}}class Uu{constructor(){this.Iu=new te(cn.comparator)}track(t){const i=t.doc.key,c=this.Iu.get(i);c?0!==t.type&&3===c.type?this.Iu=this.Iu.insert(i,t):3===t.type&&1!==c.type?this.Iu=this.Iu.insert(i,{type:c.type,doc:t.doc}):2===t.type&&2===c.type?this.Iu=this.Iu.insert(i,{type:2,doc:t.doc}):2===t.type&&0===c.type?this.Iu=this.Iu.insert(i,{type:0,doc:t.doc}):1===t.type&&0===c.type?this.Iu=this.Iu.remove(i):1===t.type&&2===c.type?this.Iu=this.Iu.insert(i,{type:1,doc:c.doc}):0===t.type&&1===c.type?this.Iu=this.Iu.insert(i,{type:2,doc:t.doc}):Jt():this.Iu=this.Iu.insert(i,t)}Tu(){const t=[];return this.Iu.inorderTraversal((i,c)=>{t.push(c)}),t}}class $h{constructor(t,i,c,m,v,E,R,$,ee){this.query=t,this.docs=i,this.oldDocs=c,this.docChanges=m,this.mutatedKeys=v,this.fromCache=E,this.syncStateChanged=R,this.excludesMetadataChanges=$,this.hasCachedResults=ee}static fromInitialDocuments(t,i,c,m,v){const E=[];return i.forEach(R=>{E.push({type:0,doc:R})}),new $h(t,i,Gl.emptySet(i),E,c,m,!0,!1,v)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,c=t.docChanges;if(i.length!==c.length)return!1;for(let m=0;m<i.length;m++)if(i[m].type!==c[m].type||!i[m].doc.isEqual(c[m].doc))return!1;return!0}}class wo{constructor(){this.Eu=void 0,this.listeners=[]}}class ly{constructor(){this.queries=new Fo(t=>Oa(t),Nd),this.onlineState="Unknown",this.Au=new Set}}function cy(a,t){return dy.apply(this,arguments)}function dy(){return dy=(0,Ee.Z)(function*(a,t){const i=tn(a),c=t.query;let m=!1,v=i.queries.get(c);if(v||(m=!0,v=new wo),m)try{v.Eu=yield i.onListen(c)}catch(E){const R=nu(E,`Initialization of query '${Fd(t.query)}' failed`);return void t.onError(R)}i.queries.set(c,v),v.listeners.push(t),t.Ru(i.onlineState),v.Eu&&t.vu(v.Eu)&&Ng(i)}),dy.apply(this,arguments)}function Wh(a,t){return uy.apply(this,arguments)}function uy(){return uy=(0,Ee.Z)(function*(a,t){const i=tn(a),c=t.query;let m=!1;const v=i.queries.get(c);if(v){const E=v.listeners.indexOf(t);E>=0&&(v.listeners.splice(E,1),m=0===v.listeners.length)}if(m)return i.queries.delete(c),i.onUnlisten(c)}),uy.apply(this,arguments)}function _w(a,t){const i=tn(a);let c=!1;for(const m of t){const E=i.queries.get(m.query);if(E){for(const R of E.listeners)R.vu(m)&&(c=!0);E.Eu=m}}c&&Ng(i)}function h0(a,t,i){const c=tn(a),m=c.queries.get(t);if(m)for(const v of m.listeners)v.onError(i);c.queries.delete(t)}function Ng(a){a.Au.forEach(t=>{t.next()})}class Vu{constructor(t,i,c){this.query=t,this.bu=i,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=c||{}}vu(t){if(!this.options.includeMetadataChanges){const c=[];for(const m of t.docChanges)3!==m.type&&c.push(m);t=new $h(t.query,t.docs,t.oldDocs,c,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),i=!0):this.Du(t,this.onlineState)&&(this.Cu(t),i=!0),this.Vu=t,i}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let i=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),i=!0),i}Du(t,i){return!t.fromCache||(!this.options.xu||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}Su(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(t){t=$h.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}class f0{constructor(t,i){this.Nu=t,this.byteLength=i}ku(){return"metadata"in this.Nu}}class qf{constructor(t){this.serializer=t}Hi(t){return Yn(this.serializer,t)}Ji(t){return t.metadata.exists?Ch(this.serializer,t.document,!1):Or.newNoDocument(this.Hi(t.metadata.name),this.Yi(t.metadata.readTime))}Yi(t){return jt(t)}}class m0{constructor(t,i,c){this.Ou=t,this.localStore=i,this.serializer=c,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Gv(t)}$u(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.Nu.namedQuery)this.queries.push(t.Nu.namedQuery);else if(t.Nu.documentMetadata){this.documents.push({metadata:t.Nu.documentMetadata}),t.Nu.documentMetadata.exists||++i;const c=oi.fromString(t.Nu.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else t.Nu.document&&(this.documents[this.documents.length-1].document=t.Nu.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}Mu(t){const i=new Map,c=new qf(this.serializer);for(const m of t)if(m.metadata.queries){const v=c.Hi(m.metadata.name);for(const E of m.metadata.queries){const R=(i.get(E)||ii()).add(v);i.set(E,R)}}return i}complete(){var t=this;return(0,Ee.Z)(function*(){const i=yield function o0(a,t,i,c){return Q_.apply(this,arguments)}(t.localStore,new qf(t.serializer),t.documents,t.Ou.id),c=t.Mu(t.documents);for(const m of t.queries)yield Ov(t.localStore,m,c.get(m.name));return t.progress.taskState="Success",{progress:t.progress,Fu:t.collectionGroups,Bu:i}})()}}function Gv(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class Kh{constructor(t){this.key=t}}class Yh{constructor(t){this.key=t}}class hy{constructor(t,i){this.query=t,this.Lu=i,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ii(),this.mutatedKeys=ii(),this.Ku=gh(t),this.Gu=new Gl(this.Ku)}get Qu(){return this.Lu}zu(t,i){const c=i?i.ju:new Uu,m=i?i.Gu:this.Gu;let v=i?i.mutatedKeys:this.mutatedKeys,E=m,R=!1;const $="F"===this.query.limitType&&m.size===this.query.limit?m.last():null,ee="L"===this.query.limitType&&m.size===this.query.limit?m.first():null;if(t.inorderTraversal((fe,Ue)=>{const ut=m.get(fe),Bt=Mc(this.query,Ue)?Ue:null,en=!!ut&&this.mutatedKeys.has(ut.key),vn=!!Bt&&(Bt.hasLocalMutations||this.mutatedKeys.has(Bt.key)&&Bt.hasCommittedMutations);let $n=!1;ut&&Bt?ut.data.isEqual(Bt.data)?en!==vn&&(c.track({type:3,doc:Bt}),$n=!0):this.Wu(ut,Bt)||(c.track({type:2,doc:Bt}),$n=!0,($&&this.Ku(Bt,$)>0||ee&&this.Ku(Bt,ee)<0)&&(R=!0)):!ut&&Bt?(c.track({type:0,doc:Bt}),$n=!0):ut&&!Bt&&(c.track({type:1,doc:ut}),$n=!0,($||ee)&&(R=!0)),$n&&(Bt?(E=E.add(Bt),v=vn?v.add(fe):v.delete(fe)):(E=E.delete(fe),v=v.delete(fe)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const fe="F"===this.query.limitType?E.last():E.first();E=E.delete(fe.key),v=v.delete(fe.key),c.track({type:1,doc:fe})}return{Gu:E,ju:c,Mi:R,mutatedKeys:v}}Wu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,c){const m=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const v=t.ju.Tu();v.sort((ee,fe)=>function(Ue,ut){const Bt=en=>{switch(en){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}};return Bt(Ue)-Bt(ut)}(ee.type,fe.type)||this.Ku(ee.doc,fe.doc)),this.Hu(c);const E=i?this.Ju():[],R=0===this.Uu.size&&this.current?1:0,$=R!==this.qu;return this.qu=R,0!==v.length||$?{snapshot:new $h(this.query,t.Gu,m,v,t.mutatedKeys,0===R,$,!1,!!c&&c.resumeToken.approximateByteSize()>0),Yu:E}:{Yu:E}}Ru(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Uu,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(i=>this.Lu=this.Lu.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Lu=this.Lu.delete(i)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=ii(),this.Gu.forEach(c=>{this.Zu(c.key)&&(this.Uu=this.Uu.add(c.key))});const i=[];return t.forEach(c=>{this.Uu.has(c)||i.push(new Yh(c))}),this.Uu.forEach(c=>{t.has(c)||i.push(new Kh(c))}),i}Xu(t){this.Lu=t.Wi,this.Uu=ii();const i=this.zu(t.documents);return this.applyChanges(i,!0)}tc(){return $h.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Fg{constructor(t,i,c){this.query=t,this.targetId=i,this.view=c}}class $v{constructor(t){this.key=t,this.ec=!1}}class Wv{constructor(t,i,c,m,v,E){this.localStore=t,this.remoteStore=i,this.eventManager=c,this.sharedClientState=m,this.currentUser=v,this.maxConcurrentLimboResolutions=E,this.nc={},this.sc=new Fo(R=>Oa(R),Nd),this.ic=new Map,this.rc=new Set,this.oc=new te(cn.comparator),this.uc=new Map,this.cc=new yg,this.ac={},this.hc=new Map,this.lc=Pc.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Kv(a,t){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,Ee.Z)(function*(a,t){const i=rp(a);let c,m;const v=i.sc.get(t);if(v)c=v.targetId,i.sharedClientState.addLocalQueryTarget(c),m=v.view.tc();else{const E=yield Gf(i.localStore,qs(t));i.isPrimaryClient&&ty(i.remoteStore,E);const R=i.sharedClientState.addLocalQueryTarget(E.targetId);c=E.targetId,m=yield Bg(i,t,c,"current"===R,E.resumeToken)}return m}),Lg.apply(this,arguments)}function Bg(a,t,i,c,m){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,Ee.Z)(function*(a,t,i,c,m){a.dc=(Ue,ut,Bt)=>{return(en=(0,Ee.Z)(function*(vn,$n,ir,bs){let Ui=$n.view.zu(ir);Ui.Mi&&(Ui=yield $m(vn.localStore,$n.query,!1).then(({documents:qr})=>$n.view.zu(qr,Ui)));const Zs=bs&&bs.targetChanges.get($n.targetId),Vr=$n.view.applyChanges(Ui,vn.isPrimaryClient,Zs);return Hu(vn,$n.targetId,Vr.Yu),Vr.snapshot}),function(vn,$n,ir,bs){return en.apply(this,arguments)})(a,Ue,ut,Bt);var en};const v=yield $m(a.localStore,t,!0),E=new hy(t,v.Wi),R=E.zu(v.documents),$=ya.createSynthesizedTargetChangeForCurrentChange(i,c&&"Offline"!==a.onlineState,m),ee=E.applyChanges(R,a.isPrimaryClient,$);Hu(a,i,ee.Yu);const fe=new Fg(t,i,E);return a.sc.set(t,fe),a.ic.has(i)?a.ic.get(i).push(t):a.ic.set(i,[t]),ee.snapshot}),Xm.apply(this,arguments)}function Yv(a,t){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,Ee.Z)(function*(a,t){const i=tn(a),c=i.sc.get(t),m=i.ic.get(c.targetId);if(m.length>1)return i.ic.set(c.targetId,m.filter(v=>!Nd(v,t))),void i.sc.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(c.targetId),i.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Qd(i.localStore,c.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(c.targetId),Vh(i.remoteStore,c.targetId),jo(i,c.targetId)}).catch(ha))):(jo(i,c.targetId),yield Qd(i.localStore,c.targetId,!0))}),Jm.apply(this,arguments)}function fy(){return fy=(0,Ee.Z)(function*(a,t,i){const c=Kg(a);try{const m=yield function(v,E){const R=tn(v),$=Ki.now(),ee=E.reduce((ut,Bt)=>ut.add(Bt.key),ii());let fe,Ue;return R.persistence.runTransaction("Locally write mutations","readwrite",ut=>{let Bt=Lo(),en=ii();return R.Ki.getEntries(ut,ee).next(vn=>{Bt=vn,Bt.forEach(($n,ir)=>{ir.isValidDocument()||(en=en.add($n))})}).next(()=>R.localDocuments.getOverlayedDocuments(ut,Bt)).next(vn=>{fe=vn;const $n=[];for(const ir of E){const bs=Jp(ir,fe.get(ir.key).overlayedDocument);null!=bs&&$n.push(new Bo(ir.key,bs,bf(bs.value.mapValue),Xr.exists(!0)))}return R.mutationQueue.addMutationBatch(ut,$,$n,E)}).next(vn=>{Ue=vn;const $n=vn.applyToLocalDocumentSet(fe,en);return R.documentOverlayCache.saveOverlays(ut,vn.batchId,$n)})}).then(()=>({batchId:Ue.batchId,changes:yh(fe)}))}(c.localStore,t);c.sharedClientState.addPendingMutation(m.batchId),function(v,E,R){let $=v.ac[v.currentUser.toKey()];$||($=new te(Xn)),$=$.insert(E,R),v.ac[v.currentUser.toKey()]=$}(c,m.batchId,i),yield dl(c,m.changes),yield Hh(c.remoteStore)}catch(m){const v=nu(m,"Failed to persist write");i.reject(v)}}),fy.apply(this,arguments)}function qv(a,t){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,Ee.Z)(function*(a,t){const i=tn(a);try{const c=yield function Rv(a,t){const i=tn(a),c=t.snapshotVersion;let m=i.Li;return i.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const E=i.Ki.newChangeBuffer({trackRemovals:!0});m=i.Li;const R=[];t.targetChanges.forEach((fe,Ue)=>{const ut=m.get(Ue);if(!ut)return;R.push(i.Ds.removeMatchingKeys(v,fe.removedDocuments,Ue).next(()=>i.Ds.addMatchingKeys(v,fe.addedDocuments,Ue)));let Bt=ut.withSequenceNumber(v.currentSequenceNumber);var en,vn,$n;t.targetMismatches.has(Ue)?Bt=Bt.withResumeToken(Fn.EMPTY_BYTE_STRING,kn.min()).withLastLimboFreeSnapshotVersion(kn.min()):fe.resumeToken.approximateByteSize()>0&&(Bt=Bt.withResumeToken(fe.resumeToken,c)),m=m.insert(Ue,Bt),vn=Bt,$n=fe,(0===(en=ut).resumeToken.approximateByteSize()||vn.snapshotVersion.toMicroseconds()-en.snapshotVersion.toMicroseconds()>=3e8||$n.addedDocuments.size+$n.modifiedDocuments.size+$n.removedDocuments.size>0)&&R.push(i.Ds.updateTargetData(v,Bt))});let $=Lo(),ee=ii();if(t.documentUpdates.forEach(fe=>{t.resolvedLimboDocuments.has(fe)&&R.push(i.persistence.referenceDelegate.updateLimboDocument(v,fe))}),R.push(q_(v,E,t.documentUpdates).next(fe=>{$=fe.zi,ee=fe.ji})),!c.isEqual(kn.min())){const fe=i.Ds.getLastRemoteSnapshotVersion(v).next(Ue=>i.Ds.setTargetsMetadata(v,v.currentSequenceNumber,c));R.push(fe)}return pt.waitFor(R).next(()=>E.apply(v)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,$,ee)).next(()=>$)}).then(v=>(i.Li=m,v))}(i.localStore,t);t.targetChanges.forEach((m,v)=>{const E=i.uc.get(v);E&&(ln(m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size<=1),m.addedDocuments.size>0?E.ec=!0:m.modifiedDocuments.size>0?ln(E.ec):m.removedDocuments.size>0&&(ln(E.ec),E.ec=!1))}),yield dl(i,c,t)}catch(c){yield ha(c)}}),Vg.apply(this,arguments)}function my(a,t,i){const c=tn(a);if(c.isPrimaryClient&&0===i||!c.isPrimaryClient&&1===i){const m=[];c.sc.forEach((v,E)=>{const R=E.view.Ru(t);R.snapshot&&m.push(R.snapshot)}),function(v,E){const R=tn(v);R.onlineState=E;let $=!1;R.queries.forEach((ee,fe)=>{for(const Ue of fe.listeners)Ue.Ru(E)&&($=!0)}),$&&Ng(R)}(c.eventManager,t),m.length&&c.nc.zo(m),c.onlineState=t,c.isPrimaryClient&&c.sharedClientState.setOnlineState(t)}}function Zf(a,t,i){return ep.apply(this,arguments)}function ep(){return ep=(0,Ee.Z)(function*(a,t,i){const c=tn(a);c.sharedClientState.updateQueryState(t,"rejected",i);const m=c.uc.get(t),v=m&&m.key;if(v){let E=new te(cn.comparator);E=E.insert(v,Or.newNoDocument(v,kn.min()));const R=ii().add(v),$=new od(kn.min(),new Map,new it(Xn),E,R);yield qv(c,$),c.oc=c.oc.remove(v),c.uc.delete(t),ju(c)}else yield Qd(c.localStore,t,!1).then(()=>jo(c,t,i)).catch(ha)}),ep.apply(this,arguments)}function p0(a,t){return tp.apply(this,arguments)}function tp(){return tp=(0,Ee.Z)(function*(a,t){const i=tn(a),c=t.batch.batchId;try{const m=yield function n0(a,t){const i=tn(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const m=t.batch.keys(),v=i.Ki.newChangeBuffer({trackRemovals:!0});return function(E,R,$,ee){const fe=$.batch,Ue=fe.keys();let ut=pt.resolve();return Ue.forEach(Bt=>{ut=ut.next(()=>ee.getEntry(R,Bt)).next(en=>{const vn=$.docVersions.get(Bt);ln(null!==vn),en.version.compareTo(vn)<0&&(fe.applyToRemoteDocument(en,$),en.isValidDocument()&&(en.setReadTime($.commitVersion),ee.addEntry(en)))})}),ut.next(()=>E.mutationQueue.removeMutationBatch(R,fe))}(i,c,t,v).next(()=>v.apply(c)).next(()=>i.mutationQueue.performConsistencyCheck(c)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(c,m,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(E){let R=ii();for(let $=0;$<E.mutationResults.length;++$)E.mutationResults[$].transformResults.length>0&&(R=R.add(E.batch.mutations[$].key));return R}(t))).next(()=>i.localDocuments.getDocuments(c,m))})}(i.localStore,t);qh(i,c,null),fd(i,c),i.sharedClientState.updateMutationState(c,"acknowledged"),yield dl(i,m)}catch(m){yield ha(m)}}),tp.apply(this,arguments)}function Zv(a,t,i){return gc.apply(this,arguments)}function gc(){return gc=(0,Ee.Z)(function*(a,t,i){const c=tn(a);try{const m=yield function(v,E){const R=tn(v);return R.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let ee;return R.mutationQueue.lookupMutationBatch($,E).next(fe=>(ln(null!==fe),ee=fe.keys(),R.mutationQueue.removeMutationBatch($,fe))).next(()=>R.mutationQueue.performConsistencyCheck($)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId($,ee,E)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,ee)).next(()=>R.localDocuments.getDocuments($,ee))})}(c.localStore,t);qh(c,t,i),fd(c,t),c.sharedClientState.updateMutationState(t,"rejected",i),yield dl(c,m)}catch(m){yield ha(m)}}),gc.apply(this,arguments)}function Ho(){return Ho=(0,Ee.Z)(function*(a,t){const i=tn(a);Jd(i.remoteStore)||Rt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(v){const E=tn(v);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>E.mutationQueue.getHighestUnacknowledgedBatchId(R))}(i.localStore);if(-1===c)return void t.resolve();const m=i.hc.get(c)||[];m.push(t),i.hc.set(c,m)}catch(c){const m=nu(c,"Initialization of waitForPendingWrites() operation failed");t.reject(m)}}),Ho.apply(this,arguments)}function fd(a,t){(a.hc.get(t)||[]).forEach(i=>{i.resolve()}),a.hc.delete(t)}function qh(a,t,i){const c=tn(a);let m=c.ac[c.currentUser.toKey()];if(m){const v=m.get(t);v&&(i?v.reject(i):v.resolve(),m=m.remove(t)),c.ac[c.currentUser.toKey()]=m}}function jo(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const c of a.ic.get(t))a.sc.delete(c),i&&a.nc.wc(c,i);a.ic.delete(t),a.isPrimaryClient&&a.cc.hs(t).forEach(c=>{a.cc.containsKey(c)||Hg(a,c)})}function Hg(a,t){a.rc.delete(t.path.canonicalString());const i=a.oc.get(t);null!==i&&(Vh(a.remoteStore,i),a.oc=a.oc.remove(t),a.uc.delete(i),ju(a))}function Hu(a,t,i){for(const c of i)c instanceof Kh?(a.cc.addReference(c.key,t),Qf(a,c)):c instanceof Yh?(Rt("SyncEngine","Document no longer in limbo: "+c.key),a.cc.removeReference(c.key,t),a.cc.containsKey(c.key)||Hg(a,c.key)):Jt()}function Qf(a,t){const i=t.key,c=i.path.canonicalString();a.oc.get(i)||a.rc.has(c)||(Rt("SyncEngine","New document in limbo: "+i),a.rc.add(c),ju(a))}function ju(a){for(;a.rc.size>0&&a.oc.size<a.maxConcurrentLimboResolutions;){const t=a.rc.values().next().value;a.rc.delete(t);const i=new cn(oi.fromString(t)),c=a.lc.next();a.uc.set(c,new $v(i)),a.oc=a.oc.insert(i,c),ty(a.remoteStore,new Th(qs(Su(i.path)),c,2,Oo.ct))}}function dl(a,t,i){return iu.apply(this,arguments)}function iu(){return iu=(0,Ee.Z)(function*(a,t,i){const c=tn(a),m=[],v=[],E=[];var R;c.sc.isEmpty()||(c.sc.forEach((R,$)=>{E.push(c.dc($,t,i).then(ee=>{if((ee||i)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState($.targetId,ee?.fromCache?"not-current":"current"),ee){m.push(ee);const fe=W_.Di($.targetId,ee);v.push(fe)}}))}),yield Promise.all(E),c.nc.zo(m),yield(R=(0,Ee.Z)(function*($,ee){const fe=tn($);try{yield fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ue=>pt.forEach(ee,ut=>pt.forEach(ut.Vi,Bt=>fe.persistence.referenceDelegate.addReference(Ue,ut.targetId,Bt)).next(()=>pt.forEach(ut.Si,Bt=>fe.persistence.referenceDelegate.removeReference(Ue,ut.targetId,Bt)))))}catch(Ue){if(!oc(Ue))throw Ue;Rt("LocalStore","Failed to update sequence numbers: "+Ue)}for(const Ue of ee){const ut=Ue.targetId;if(!Ue.fromCache){const Bt=fe.Li.get(ut),vn=Bt.withLastLimboFreeSnapshotVersion(Bt.snapshotVersion);fe.Li=fe.Li.insert(ut,vn)}}}),function($,ee){return R.apply(this,arguments)})(c.localStore,v))}),iu.apply(this,arguments)}function Zh(a,t){return zu.apply(this,arguments)}function zu(){return zu=(0,Ee.Z)(function*(a,t){const i=tn(a);if(!i.currentUser.isEqual(t)){Rt("SyncEngine","User change. New user:",t.toKey());const c=yield K_(i.localStore,t);i.currentUser=t,(m=i).hc.forEach(E=>{E.forEach(R=>{R.reject(new Ht(_t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.hc.clear(),i.sharedClientState.handleUserChange(t,c.removedBatchIds,c.addedBatchIds),yield dl(i,c.Qi)}var m}),zu.apply(this,arguments)}function Xf(a,t){const i=tn(a),c=i.uc.get(t);if(c&&c.ec)return ii().add(c.key);{let m=ii();const v=i.ic.get(t);if(!v)return m;for(const E of v){const R=i.sc.get(E);m=m.unionWith(R.view.Qu)}return m}}function Jf(a,t){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,Ee.Z)(function*(a,t){const i=tn(a),c=yield $m(i.localStore,t.query,!0),m=t.view.Xu(c);return i.isPrimaryClient&&Hu(i,t.targetId,m.Yu),m}),Fc.apply(this,arguments)}function jg(a,t){return zg.apply(this,arguments)}function zg(){return zg=(0,Ee.Z)(function*(a,t){const i=tn(a);return r0(i.localStore,t).then(c=>dl(i,c))}),zg.apply(this,arguments)}function Qv(a,t,i,c){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,Ee.Z)(function*(a,t,i,c){const m=tn(a),v=yield function(E,R){const $=tn(E),ee=tn($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",fe=>ee.In(fe,R).next(Ue=>Ue?$.localDocuments.getDocuments(fe,Ue):pt.resolve(null)))}(m.localStore,t);var R;null!==v?("pending"===i?yield Hh(m.remoteStore):"acknowledged"===i||"rejected"===i?(qh(m,t,c||null),fd(m,t),R=t,tn(tn(m.localStore).mutationQueue).En(R)):Jt(),yield dl(m,v)):Rt("SyncEngine","Cannot apply mutation batch with id: "+t)}),Qh.apply(this,arguments)}function ip(){return ip=(0,Ee.Z)(function*(a,t){const i=tn(a);if(rp(i),Kg(i),!0===t&&!0!==i.fc){const c=i.sharedClientState.getAllActiveQueryTargets(),m=yield py(i,c.toArray());i.fc=!0,yield Gh(i.remoteStore,!0);for(const v of m)ty(i.remoteStore,v)}else if(!1===t&&!1!==i.fc){const c=[];let m=Promise.resolve();i.ic.forEach((v,E)=>{i.sharedClientState.isLocalQueryTarget(E)?c.push(E):m=m.then(()=>(jo(i,E),Qd(i.localStore,E,!0))),Vh(i.remoteStore,E)}),yield m,yield py(i,c),function(v){const E=tn(v);E.uc.forEach((R,$)=>{Vh(E.remoteStore,$)}),E.cc.ls(),E.uc=new Map,E.oc=new te(cn.comparator)}(i),i.fc=!1,yield Gh(i.remoteStore,!1)}}),ip.apply(this,arguments)}function py(a,t,i){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,Ee.Z)(function*(a,t,i){const c=tn(a),m=[],v=[];for(const E of t){let R;const $=c.ic.get(E);if($&&0!==$.length){R=yield Gf(c.localStore,qs($[0]));for(const ee of $){const fe=c.sc.get(ee),Ue=yield Jf(c,fe);Ue.snapshot&&v.push(Ue.snapshot)}}else{const ee=yield Z_(c.localStore,E);R=yield Gf(c.localStore,ee),yield Bg(c,Xv(ee),E,!1,R.resumeToken)}m.push(R)}return c.nc.zo(v),m}),Gg.apply(this,arguments)}function Xv(a){return Am(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function g0(a){const t=tn(a);return tn(tn(t.localStore).persistence).bi()}function $g(a,t,i,c){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,Ee.Z)(function*(a,t,i,c){const m=tn(a);if(m.fc)return void Rt("SyncEngine","Ignoring unexpected query state notification.");const v=m.ic.get(t);if(v&&v.length>0)switch(i){case"current":case"not-current":{const E=yield r0(m.localStore,Mm(v[0])),R=od.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,Fn.EMPTY_BYTE_STRING);yield dl(m,E,R);break}case"rejected":yield Qd(m.localStore,t,!0),jo(m,t,c);break;default:Jt()}}),Wg.apply(this,arguments)}function Jv(a,t,i){return em.apply(this,arguments)}function em(){return em=(0,Ee.Z)(function*(a,t,i){const c=rp(a);if(c.fc){for(const m of t){if(c.ic.has(m)){Rt("SyncEngine","Adding an already active target "+m);continue}const v=yield Z_(c.localStore,m),E=yield Gf(c.localStore,v);yield Bg(c,Xv(v),E.targetId,!1,E.resumeToken),ty(c.remoteStore,E)}for(const m of i)c.ic.has(m)&&(yield Qd(c.localStore,m,!1).then(()=>{Vh(c.remoteStore,m),jo(c,m)}).catch(ha))}}),em.apply(this,arguments)}function rp(a){const t=tn(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=qv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zf.bind(null,t),t.nc.zo=_w.bind(null,t.eventManager),t.nc.wc=h0.bind(null,t.eventManager),t}function Kg(a){const t=tn(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=p0.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zv.bind(null,t),t}class Gu{constructor(){this.synchronizeTabs=!1}initialize(t){var i=this;return(0,Ee.Z)(function*(){i.serializer=Lh(t.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(t),i.persistence=i.createPersistence(t),yield i.persistence.start(),i.localStore=i.createLocalStore(t),i.gcScheduler=i.createGarbageCollectionScheduler(t,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(t,i.localStore)})()}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return kv(this.persistence,new t0,t.initialUser,this.serializer)}createPersistence(t){return new z_(G_.Fs,this.serializer)}createSharedClientState(t){return new l0}terminate(){var t=this;return(0,Ee.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class tm extends Gu{constructor(t,i,c){super(),this.mc=t,this.cacheSizeBytes=i,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,c=this;return(0,Ee.Z)(function*(){yield i().call(c,t),yield c.mc.initialize(c,t),yield Kg(c.mc.syncEngine),yield Hh(c.mc.remoteStore),yield c.persistence.hi(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(),c.indexBackfillerScheduler&&!c.indexBackfillerScheduler.started&&c.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return kv(this.persistence,new t0,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,i){return new Cv(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}createIndexBackfillerScheduler(t,i){const c=new Ic(i,this.persistence);return new lc(t.asyncQueue,c)}createPersistence(t){const i=zm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?La.withCacheSize(this.cacheSizeBytes):La.DEFAULT;return new $_(this.synchronizeTabs,i,t.clientId,c,t.asyncQueue,Dg(),Kf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new l0}}class eb extends tm{constructor(t,i){super(t,i,!1),this.mc=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){var i=()=>super.initialize,c=this;return(0,Ee.Z)(function*(){yield i().call(c,t);const m=c.mc.syncEngine;c.sharedClientState instanceof J_&&(c.sharedClientState.syncEngine={$r:Qv.bind(null,m),Mr:$g.bind(null,m),Fr:Jv.bind(null,m),bi:g0.bind(null,m),Or:jg.bind(null,m)},yield c.sharedClientState.start()),yield c.persistence.hi(function(){var v=(0,Ee.Z)(function*(E){yield function Xh(a,t){return ip.apply(this,arguments)}(c.mc.syncEngine,E),c.gcScheduler&&(E&&!c.gcScheduler.started?c.gcScheduler.start():E||c.gcScheduler.stop()),c.indexBackfillerScheduler&&(E&&!c.indexBackfillerScheduler.started?c.indexBackfillerScheduler.start():E||c.indexBackfillerScheduler.stop())});return function(E){return v.apply(this,arguments)}}())})()}createSharedClientState(t){const i=Dg();if(!J_.D(i))throw new Ht(_t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=zm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new J_(i,t.asyncQueue,c,t.clientId,t.initialUser)}}class md{initialize(t,i){var c=this;return(0,Ee.Z)(function*(){c.localStore||(c.localStore=t.localStore,c.sharedClientState=t.sharedClientState,c.datastore=c.createDatastore(i),c.remoteStore=c.createRemoteStore(i),c.eventManager=c.createEventManager(i),c.syncEngine=c.createSyncEngine(i,!t.synchronizeTabs),c.sharedClientState.onlineStateHandler=m=>my(c.syncEngine,m,1),c.remoteStore.remoteSyncer.handleCredentialChange=Zh.bind(null,c.syncEngine),yield Gh(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(t){return new ly}createDatastore(t){const i=Lh(t.databaseInfo.databaseId),c=new ey(t.databaseInfo);return new Fv(t.authCredentials,t.appCheckCredentials,c,i)}createRemoteStore(t){return i=this.localStore,c=this.datastore,m=t.asyncQueue,v=R=>my(this.syncEngine,R,0),E=Ym.D()?new Ym:new c0,new d0(i,c,m,v,E);var i,c,m,v,E}createSyncEngine(t,i){return function(c,m,v,E,R,$,ee){const fe=new Wv(c,m,v,E,R,$);return ee&&(fe.fc=!0),fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return(t=(0,Ee.Z)(function*(i){const c=tn(i);Rt("RemoteStore","RemoteStore shutting down."),c.du.add(5),yield Uh(c),c._u.shutdown(),c.mu.set("Unknown")}),function(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function nm(a,t=10240){let i=0;return{read:()=>(0,Ee.Z)(function*(){if(i<a.byteLength){const c={value:a.slice(i,i+t),done:!1};return i+=t,c}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Jh{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):Kn("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}}class op{constructor(t,i){this.Ic=t,this.serializer=i,this.metadata=new nr,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(c=>{c&&c.ku()?this.metadata.resolve(c.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(c?.Nu)}`))},c=>this.metadata.reject(c))}close(){return this.Ic.cancel()}getMetadata(){var t=this;return(0,Ee.Z)(function*(){return t.metadata.promise})()}_c(){var t=this;return(0,Ee.Z)(function*(){return yield t.getMetadata(),t.Ec()})()}Ec(){var t=this;return(0,Ee.Z)(function*(){const i=yield t.Ac();if(null===i)return null;const c=t.Tc.decode(i),m=Number(c);isNaN(m)&&t.Rc(`length string (${c}) is not valid number`);const v=yield t.vc(m);return new f0(JSON.parse(v),i.length+m)})()}bc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ac(){var t=this;return(0,Ee.Z)(function*(){for(;t.bc()<0&&!(yield t.Pc()););if(0===t.buffer.length)return null;const i=t.bc();i<0&&t.Rc("Reached the end of bundle when a length string is expected.");const c=t.buffer.slice(0,i);return t.buffer=t.buffer.slice(i),c})()}vc(t){var i=this;return(0,Ee.Z)(function*(){for(;i.buffer.length<t;)(yield i.Pc())&&i.Rc("Reached the end of bundle when more is expected.");const c=i.Tc.decode(i.buffer.slice(0,t));return i.buffer=i.buffer.slice(t),c})()}Rc(t){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${t}`)}Pc(){var t=this;return(0,Ee.Z)(function*(){const i=yield t.Ic.read();if(!i.done){const c=new Uint8Array(t.buffer.length+i.value.length);c.set(t.buffer),c.set(i.value,t.buffer.length),t.buffer=c}return i.done})()}}class Yg{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var i=this;return(0,Ee.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Ht(_t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(m=(0,Ee.Z)(function*(v,E){const R=tn(v),$=Lr(R.serializer)+"/documents",ee={documents:E.map(Bt=>Qt(R.serializer,Bt))},fe=yield R.fo("BatchGetDocuments",$,ee,E.length),Ue=new Map;fe.forEach(Bt=>{const en=function Ff(a,t){return"found"in t?function(i,c){ln(!!c.found);const m=Yn(i,c.found.name),v=jt(c.found.updateTime),E=c.found.createTime?jt(c.found.createTime):kn.min(),R=new Ts({mapValue:{fields:c.found.fields}});return Or.newFoundDocument(m,v,E,R)}(a,t):"missing"in t?function(i,c){ln(!!c.missing),ln(!!c.readTime);const m=Yn(i,c.missing),v=jt(c.readTime);return Or.newNoDocument(m,v)}(a,t):Jt()}(R.serializer,Bt);Ue.set(en.key.toString(),en)});const ut=[];return E.forEach(Bt=>{const en=Ue.get(Bt.toString());ln(!!en),ut.push(en)}),ut}),function(v,E){return m.apply(this,arguments)})(i.datastore,t);var m;return c.forEach(m=>i.recordVersion(m)),c})()}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(t.toString())}delete(t){this.write(new Rc(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const i=t.readVersions;var c;t.mutations.forEach(c=>{i.delete(c.key.toString())}),i.forEach((c,m)=>{const v=cn.fromPath(m);t.mutations.push(new jd(v,t.precondition(v)))}),yield(c=(0,Ee.Z)(function*(m,v){const E=tn(m),R=Lr(E.serializer)+"/documents",$={writes:v.map(ee=>$d(E.serializer,ee))};yield E.co("Commit",R,$)}),function(m,v){return c.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw Jt();i=kn.min()}const c=this.readVersions.get(t.key.toString());if(c){if(!i.isEqual(c))throw new Ht(_t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(kn.min())?Xr.exists(!1):Xr.updateTime(i):Xr.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(kn.min()))throw new Ht(_t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xr.updateTime(i)}return Xr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class gy{constructor(t,i,c,m,v){this.asyncQueue=t,this.datastore=i,this.options=c,this.updateFunction=m,this.deferred=v,this.Vc=c.maxAttempts,this.Co=new Ig(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var t=this;this.Co.Ao((0,Ee.Z)(function*(){const i=new Yg(t.datastore),c=t.Dc(i);c&&c.then(m=>{t.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{t.deferred.resolve(m)}).catch(v=>{t.Cc(v)}))}).catch(m=>{t.Cc(m)})}))}Dc(t){try{const i=this.updateFunction(t);return!Kc(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Cc(t){this.Vc>0&&this.xc(t)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(t)}xc(t){if("FirebaseError"===t.name){const i=t.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Rf(i)}return!1}}class wr{constructor(t,i,c,m){var v=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=c,this.databaseInfo=m,this.user=ke.UNAUTHENTICATED,this.clientId=tl.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var E=(0,Ee.Z)(function*(R){Rt("FirestoreClient","Received user=",R.uid),yield v.authCredentialListener(R),v.user=R});return function(R){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(c,E=>(Rt("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var t=this;return(0,Ee.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ht(_t.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(c){const m=nu(c,"Failed to shutdown persistence");i.reject(m)}})),i.promise}}function qi(a,t){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,Ee.Z)(function*(a,t){a.asyncQueue.verifyOperationInProgress(),Rt("FirestoreClient","Initializing OfflineComponentProvider");const i=yield a.getConfiguration();yield t.initialize(i);let c=i.initialUser;a.setCredentialChangeListener(function(){var m=(0,Ee.Z)(function*(v){c.isEqual(v)||(yield K_(t.localStore,v),c=v)});return function(v){return m.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}),Oi.apply(this,arguments)}function pd(a,t){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,Ee.Z)(function*(a,t){a.asyncQueue.verifyOperationInProgress();const i=yield qg(a);Rt("FirestoreClient","Initializing OnlineComponentProvider");const c=yield a.getConfiguration();yield t.initialize(i,c),a.setCredentialChangeListener(m=>Ea(t.remoteStore,m)),a.setAppCheckTokenChangeListener((m,v)=>Ea(t.remoteStore,v)),a._onlineComponents=t}),Ir.apply(this,arguments)}function ap(a){return"FirebaseError"===a.name?a.code===_t.FAILED_PRECONDITION||a.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function qg(a){return $u.apply(this,arguments)}function $u(){return $u=(0,Ee.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Rt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qi(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!ap(i))throw i;zn("Error using user provided cache. Falling back to memory cache: "+i),yield qi(a,new Gu)}}else Rt("FirestoreClient","Using default OfflineComponentProvider"),yield qi(a,new Gu);return a._offlineComponents}),$u.apply(this,arguments)}function lp(a){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,Ee.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Rt("FirestoreClient","Using user provided OnlineComponentProvider"),yield pd(a,a._uninitializedComponentsProvider._online)):(Rt("FirestoreClient","Using default OnlineComponentProvider"),yield pd(a,new md))),a._onlineComponents}),Kr.apply(this,arguments)}function Li(a){return qg(a).then(t=>t.persistence)}function xo(a){return qg(a).then(t=>t.localStore)}function cp(a){return lp(a).then(t=>t.remoteStore)}function im(a){return lp(a).then(t=>t.syncEngine)}function ef(a){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,Ee.Z)(function*(a){const t=yield lp(a),i=t.eventManager;return i.onListen=Kv.bind(null,t.syncEngine),i.onUnlisten=Yv.bind(null,t.syncEngine),i}),Zg.apply(this,arguments)}function dp(a,t,i={}){const c=new nr;return a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(m,v,E,R,$){const ee=new Jh({next:Ue=>{v.enqueueAndForget(()=>Wh(m,fe));const ut=Ue.docs.has(E);!ut&&Ue.fromCache?$.reject(new Ht(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):ut&&Ue.fromCache&&R&&"server"===R.source?$.reject(new Ht(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(Ue)},error:Ue=>$.reject(Ue)}),fe=new Vu(Su(E.path),ee,{includeMetadataChanges:!0,xu:!0});return cy(m,fe)}(yield ef(a),a.asyncQueue,t,i,c)})),c.promise}function ru(a,t,i={}){const c=new nr;return a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(m,v,E,R,$){const ee=new Jh({next:Ue=>{v.enqueueAndForget(()=>Wh(m,fe)),Ue.fromCache&&"server"===R.source?$.reject(new Ht(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Ue)},error:Ue=>$.reject(Ue)}),fe=new Vu(E,ee,{includeMetadataChanges:!0,xu:!0});return cy(m,fe)}(yield ef(a),a.asyncQueue,t,i,c)})),c.promise}const up=new Map;function su(a,t,i){if(!i)throw new Ht(_t.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Bi(a,t,i,c){if(!0===t&&!0===c)throw new Ht(_t.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Qg(a){if(!cn.isDocumentKey(a))throw new Ht(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Xg(a){if(cn.isDocumentKey(a))throw new Ht(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function hp(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const t=(i=a).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof a?"a function":Jt()}function xi(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new Ht(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hp(a);throw new Ht(_t.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function rm(a,t){if(t<=0)throw new Ht(_t.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${t}.`)}class _c{constructor(t){var i;if(void 0===t.host){if(void 0!==t.ssl)throw new Ht(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ht(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Bi("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class As{constructor(t,i,c,m){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=c,this._app=m,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _c({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ht(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ht(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _c(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new Sl;switch(i.type){case"firstParty":return new ah(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ht(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=up.get(t);i&&(Rt("ComponentProvider","Removing Datastore"),up.delete(t),i.terminate())}(this),Promise.resolve()}}class ds{constructor(t,i,c){this.converter=i,this._key=c,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ds(this.firestore,t,this._key)}}class Eo{constructor(t,i,c){this.converter=i,this._query=c,this.type="query",this.firestore=t}withConverter(t){return new Eo(this.firestore,t,this._query)}}class $l extends Eo{constructor(t,i,c){super(t,i,Su(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ds(this.firestore,null,new cn(t))}withConverter(t){return new $l(this.firestore,t,this._path)}}function ib(a,t,...i){if(a=(0,me.m9)(a),su("collection","path",t),a instanceof As){const c=oi.fromString(t,...i);return Xg(c),new $l(a,null,c)}{if(!(a instanceof ds||a instanceof $l))throw new Ht(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=a._path.child(oi.fromString(t,...i));return Xg(c),new $l(a.firestore,null,c)}}function sm(a,t,...i){if(a=(0,me.m9)(a),1===arguments.length&&(t=tl.A()),su("doc","path",t),a instanceof As){const c=oi.fromString(t,...i);return Qg(c),new ds(a,null,new cn(c))}{if(!(a instanceof ds||a instanceof $l))throw new Ht(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=a._path.child(oi.fromString(t,...i));return Qg(c),new ds(a.firestore,a instanceof $l?a.converter:null,new cn(c))}}function Yu(a,t){return a=(0,me.m9)(a),t=(0,me.m9)(t),(a instanceof ds||a instanceof $l)&&(t instanceof ds||t instanceof $l)&&a.firestore===t.firestore&&a.path===t.path&&a.converter===t.converter}function qu(a,t){return a=(0,me.m9)(a),t=(0,me.m9)(t),a instanceof Eo&&t instanceof Eo&&a.firestore===t.firestore&&Nd(a._query,t._query)&&a.converter===t.converter}class rb{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Ig(this,"async_queue_retry"),this.qc=()=>{const i=Kf();i&&Rt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Co.vo()};const t=Kf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const i=Kf();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const i=new nr;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}Gc(){var t=this;return(0,Ee.Z)(function*(){if(0!==t.kc.length){try{yield t.kc[0](),t.kc.shift(),t.Co.reset()}catch(i){if(!oc(i))throw i;Rt("AsyncQueue","Operation failed with retryable error: "+i)}t.kc.length>0&&t.Co.Ao(()=>t.Gc())}})()}Kc(t){const i=this.Nc.then(()=>(this.Fc=!0,t().catch(c=>{throw this.Mc=c,this.Fc=!1,Kn("INTERNAL UNHANDLED ERROR: ",function(v){let E=v.message||"";return v.stack&&(E=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),E}(c)),c}).then(c=>(this.Fc=!1,c))));return this.Nc=i,i}enqueueAfterDelay(t,i,c){this.Uc(),this.Lc.indexOf(t)>-1&&(i=0);const m=ea.createAndSchedule(this,t,i,c,v=>this.Qc(v));return this.$c.push(m),m}Uc(){this.Mc&&Jt()}verifyOperationInProgress(){}zc(){var t=this;return(0,Ee.Z)(function*(){let i;do{i=t.Nc,yield i}while(i!==t.Nc)})()}jc(t){for(const i of this.$c)if(i.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((i,c)=>i.targetTimeMs-c.targetTimeMs);for(const i of this.$c)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const i=this.$c.indexOf(t);this.$c.splice(i,1)}}function fp(a){return function(t,i){if("object"!=typeof t||null===t)return!1;const c=t;for(const m of["next","error","complete"])if(m in c&&"function"==typeof c[m])return!0;return!1}(a)}class y0{constructor(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,c){this._progressObserver={next:t,error:i,complete:c}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class vs extends As{constructor(t,i,c,m){super(t,i,c,m),this.type="firestore",this._queue=new rb,this._persistenceKey=m?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mp(this),this._firestoreClient.terminate()}}function Sr(a){return a._firestoreClient||mp(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function mp(a){var t,i,c;const m=a._freezeSettings(),v=(R=(null===(t=a._app)||void 0===t?void 0:t.options.appId)||"",new Em(a._databaseId,R,a._persistenceKey,(ee=m).host,ee.ssl,ee.experimentalForceLongPolling,ee.experimentalAutoDetectLongPolling,ee.useFetchStreams));var R,ee;a._firestoreClient=new wr(a._authCredentials,a._appCheckCredentials,a._queue,v),null!==(i=m.cache)&&void 0!==i&&i._offlineComponentProvider&&null!==(c=m.cache)&&void 0!==c&&c._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:m.cache.kind,_offline:m.cache._offlineComponentProvider,_online:m.cache._onlineComponentProvider})}function ho(a,t,i){const c=new nr;return a.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield qi(a,i),yield pd(a,t),c.resolve()}catch(m){const v=m;if(!ap(v))throw v;zn("Error enabling indexeddb cache. Falling back to memory cache: "+v),c.reject(v)}})).then(()=>c.promise)}function Jg(a){if(a._initialized||a._terminated)throw new Ht(_t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Da{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Da(Fn.fromBase64String(t))}catch(i){throw new Ht(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Da(Fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Wl{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new Ht(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zu{constructor(t){this._methodName=t}}class ou{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new Ht(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new Ht(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xn(this._lat,t._lat)||Xn(this._long,t._long)}}const _p=/^__.*__$/;class cb{constructor(t,i,c){this.data=t,this.fieldMask=i,this.fieldTransforms=c}toMutation(t,i){return null!==this.fieldMask?new Bo(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ul(t,this.data,i,this.fieldTransforms)}}class om{constructor(t,i,c){this.data=t,this.fieldMask=i,this.fieldTransforms=c}toMutation(t,i){return new Bo(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function e_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}class nf{constructor(t,i,c,m,v,E){this.settings=t,this.databaseId=i,this.serializer=c,this.ignoreUndefinedProperties=m,void 0===v&&this.Jc(),this.fieldTransforms=v||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new nf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var i;const c=null===(i=this.path)||void 0===i?void 0:i.child(t),m=this.Zc({path:c,ta:!1});return m.ea(t),m}na(t){var i;const c=null===(i=this.path)||void 0===i?void 0:i.child(t),m=this.Zc({path:c,ta:!1});return m.Jc(),m}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return i_(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(0===t.length)throw this.ia("Document fields must not be empty");if(e_(this.Yc)&&_p.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class db{constructor(t,i,c){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=c||Lh(t)}ua(t,i,c,m=!1){return new nf({Yc:t,methodName:i,oa:c,path:fr.emptyPath(),ta:!1,ra:m},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gd(a){const t=a._freezeSettings(),i=Lh(a._databaseId);return new db(a._databaseId,!!t.ignoreUndefinedProperties,i)}function yp(a,t,i,c,m,v={}){const E=a.ua(v.merge||v.mergeFields?2:0,t,i,m);Iy("Data must be an object, but it was:",E,c);const R=t_(c,E);let $,ee;if(v.merge)$=new An(E.fieldMask),ee=E.fieldTransforms;else if(v.mergeFields){const fe=[];for(const Ue of v.mergeFields){const ut=lm(t,Ue,i);if(!E.contains(ut))throw new Ht(_t.INVALID_ARGUMENT,`Field '${ut}' is specified in your field mask but missing from your input data.`);Kl(fe,ut)||fe.push(ut)}$=new An(fe),ee=E.fieldTransforms.filter(Ue=>$.covers(Ue.field))}else $=null,ee=E.fieldTransforms;return new cb(new Ts(R),$,ee)}class Qu extends Zu{_toFieldTransform(t){if(2!==t.Yc)throw t.ia(1===t.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qu}}function xy(a,t,i){return new nf({Yc:3,oa:t.settings.oa,methodName:a._methodName,ta:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class rf extends Zu{_toFieldTransform(t){return new id(t.path,new bh)}isEqual(t){return t instanceof rf}}class Ey extends Zu{constructor(t,i){super(t),this.ca=i}_toFieldTransform(t){const i=xy(this,t,!0),c=this.ca.map(v=>au(v,i)),m=new Mu(c);return new id(t.path,m)}isEqual(t){return this===t}}class Cy extends Zu{constructor(t,i){super(t),this.ca=i}_toFieldTransform(t){const i=xy(this,t,!0),c=this.ca.map(v=>au(v,i)),m=new Ud(c);return new id(t.path,m)}isEqual(t){return this===t}}class vp extends Zu{constructor(t,i){super(t),this.aa=i}_toFieldTransform(t){const i=new Bl(t.serializer,nd(t.serializer,this.aa));return new id(t.path,i)}isEqual(t){return this===t}}function Dy(a,t,i,c){const m=a.ua(1,t,i);Iy("Data must be an object, but it was:",m,c);const v=[],E=Ts.empty();V(c,($,ee)=>{const fe=n_(t,$,i);ee=(0,me.m9)(ee);const Ue=m.na(fe);if(ee instanceof Qu)v.push(fe);else{const ut=au(ee,Ue);null!=ut&&(v.push(fe),E.set(fe,ut))}});const R=new An(v);return new om(E,R,m.fieldTransforms)}function am(a,t,i,c,m,v){const E=a.ua(1,t,i),R=[lm(t,c,i)],$=[m];if(v.length%2!=0)throw new Ht(_t.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ut=0;ut<v.length;ut+=2)R.push(lm(t,v[ut])),$.push(v[ut+1]);const ee=[],fe=Ts.empty();for(let ut=R.length-1;ut>=0;--ut)if(!Kl(ee,R[ut])){const Bt=R[ut];let en=$[ut];en=(0,me.m9)(en);const vn=E.na(Bt);if(en instanceof Qu)ee.push(Bt);else{const $n=au(en,vn);null!=$n&&(ee.push(Bt),fe.set(Bt,$n))}}const Ue=new An(ee);return new om(fe,Ue,E.fieldTransforms)}function sf(a,t,i,c=!1){return au(i,a.ua(c?4:3,t))}function au(a,t){if(ub(a=(0,me.m9)(a)))return Iy("Unsupported field value:",t,a),t_(a,t);if(a instanceof Zu)return function(i,c){if(!e_(c.Yc))throw c.ia(`${i._methodName}() can only be used with update() and set()`);if(!c.path)throw c.ia(`${i._methodName}() is not currently supported inside arrays`);const m=i._toFieldTransform(c);m&&c.fieldTransforms.push(m)}(a,t),null;if(void 0===a&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(i,c){const m=[];let v=0;for(const E of i){let R=au(E,c.sa(v));null==R&&(R={nullValue:"NULL_VALUE"}),m.push(R),v++}return{arrayValue:{values:m}}}(a,t)}return function(i,c){if(null===(i=(0,me.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return nd(c.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const m=Ki.fromDate(i);return{timestampValue:re(c.serializer,m)}}if(i instanceof Ki){const m=new Ki(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:re(c.serializer,m)}}if(i instanceof ou)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Da)return{bytesValue:He(c.serializer,i._byteString)};if(i instanceof ds){const m=c.databaseId,v=i.firestore._databaseId;if(!v.isEqual(m))throw c.ia(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:dn(i.firestore._databaseId||c.databaseId,i._key.path)}}throw c.ia(`Unsupported field value: ${hp(i)}`)}(a,t)}function t_(a,t){const i={};return W(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):V(a,(c,m)=>{const v=au(m,t.Xc(c));null!=v&&(i[c]=v)}),{mapValue:{fields:i}}}function ub(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Ki||a instanceof ou||a instanceof Da||a instanceof ds||a instanceof Zu)}function Iy(a,t,i){if(!ub(i)||"object"!=typeof(c=i)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=hp(i);throw t.ia("an object"===c?a+" a custom object":a+" "+c)}var c}function lm(a,t,i){if((t=(0,me.m9)(t))instanceof Wl)return t._internalPath;if("string"==typeof t)return n_(a,t);throw i_("Field path arguments must be of type string or ",a,!1,void 0,i)}const v0=new RegExp("[~\\*/\\[\\]]");function n_(a,t,i){if(t.search(v0)>=0)throw i_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Wl(...t.split("."))._internalPath}catch{throw i_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function i_(a,t,i,c,m){const v=c&&!c.isEmpty(),E=void 0!==m;let R=`Function ${t}() called with invalid data`;i&&(R+=" (via `toFirestore()`)"),R+=". ";let $="";return(v||E)&&($+=" (found",v&&($+=` in field ${c}`),E&&($+=` in document ${m}`),$+=")"),new Ht(_t.INVALID_ARGUMENT,R+a+$)}function Kl(a,t){return a.some(i=>i.isEqual(t))}class af{constructor(t,i,c,m,v){this._firestore=t,this._userDataWriter=i,this._key=c,this._document=m,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new ds(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Sy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(cm("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class Sy extends af{data(){return super.data()}}function cm(a,t){return"string"==typeof t?n_(a,t):t instanceof Wl?t._internalPath:t._delegate._internalPath}function bp(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new Ht(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lf{}class yc extends lf{}function hl(a,t,...i){let c=[];t instanceof lf&&c.push(t),c=c.concat(i),function(m){const v=m.filter(R=>R instanceof cf).length,E=m.filter(R=>R instanceof Yl).length;if(v>1||v>0&&E>0)throw new Ht(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(c);for(const m of c)a=m._apply(a);return a}class Yl extends yc{constructor(t,i,c){super(),this._field=t,this._op=i,this._value=c,this.type="where"}static _create(t,i,c){return new Yl(t,i,c)}_apply(t){const i=this._parse(t);return Qn(t._query,i),new Eo(t.firestore,t.converter,al(t._query,i))}_parse(t){const i=gd(t.firestore);return function(m,v,E,R,$,ee,fe){let Ue;if($.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new Ht(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){Ay(fe,ee);const ut=[];for(const Bt of fe)ut.push(a_(R,m,Bt));Ue={arrayValue:{values:ut}}}else Ue=a_(R,m,fe)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||Ay(fe,ee),Ue=sf(E,"where",fe,"in"===ee||"not-in"===ee);return ti.create($,ee,Ue)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}class cf extends lf{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new cf(t,i)}_parse(t){const i=this._queryConstraints.map(c=>c._parse(t)).filter(c=>c.getFilters().length>0);return 1===i.length?i[0]:ar.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(c,m){let v=c;const E=m.getFlattenedFilters();for(const R of E)Qn(v,R),v=al(v,R)}(t._query,i),new Eo(t.firestore,t.converter,al(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class r_ extends yc{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new r_(t,i)}_apply(t){const i=function(c,m,v){if(null!==c.startAt)throw new Ht(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Ht(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new kd(m,v);return function(R,$){if(null===mh(R)){const ee=Ac(R);null!==ee&&My(0,ee,$.field)}}(c,E),E}(t._query,this._field,this._direction);return new Eo(t.firestore,t.converter,function(c,m){const v=c.explicitOrderBy.concat([m]);return new sl(c.path,c.collectionGroup,v,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t._query,i))}}class _d extends yc{constructor(t,i,c){super(),this.type=t,this._limit=i,this._limitType=c}static _create(t,i,c){return new _d(t,i,c)}_apply(t){return new Eo(t.firestore,t.converter,ph(t._query,this._limit,this._limitType))}}class vd extends yc{constructor(t,i,c){super(),this.type=t,this._docOrFields=i,this._inclusive=c}static _create(t,i,c){return new vd(t,i,c)}_apply(t){const i=Ep(t,this.type,this._docOrFields,this._inclusive);return new Eo(t.firestore,t.converter,(m=i,new sl((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,m,c.endAt)));var c,m}}class Ur extends yc{constructor(t,i,c){super(),this.type=t,this._docOrFields=i,this._inclusive=c}static _create(t,i,c){return new Ur(t,i,c)}_apply(t){const i=Ep(t,this.type,this._docOrFields,this._inclusive);return new Eo(t.firestore,t.converter,(m=i,new sl((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,m)));var c,m}}function Ep(a,t,i,c){if(i[0]=(0,me.m9)(i[0]),i[0]instanceof af)return function(m,v,E,R,$){if(!R)throw new Ht(_t.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const ee=[];for(const fe of ol(m))if(fe.field.isKeyField())ee.push(Ad(v,R.key));else{const Ue=R.data.field(fe.field);if(Rl(Ue))throw new Ht(_t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ue){const ut=fe.field.canonicalString();throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ut}' (used as the orderBy) does not exist.`)}ee.push(Ue)}return new Sc(ee,$)}(a._query,a.firestore._databaseId,t,i[0]._document,c);{const m=gd(a.firestore);return function(v,E,R,$,ee,fe){const Ue=v.explicitOrderBy;if(ee.length>Ue.length)throw new Ht(_t.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ut=[];for(let Bt=0;Bt<ee.length;Bt++){const en=ee[Bt];if(Ue[Bt].field.isKeyField()){if("string"!=typeof en)throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof en}`);if(!If(v)&&-1!==en.indexOf("/"))throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${en}' contains a slash.`);const vn=v.path.child(oi.fromString(en));if(!cn.isDocumentKey(vn))throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${vn}' is not because it contains an odd number of segments.`);const $n=new cn(vn);ut.push(Ad(E,$n))}else{const vn=sf(R,$,en);ut.push(vn)}}return new Sc(ut,fe)}(a._query,a.firestore._databaseId,m,t,i,c)}}function a_(a,t,i){if("string"==typeof(i=(0,me.m9)(i))){if(""===i)throw new Ht(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!If(t)&&-1!==i.indexOf("/"))throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const c=t.path.child(oi.fromString(i));if(!cn.isDocumentKey(c))throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return Ad(a,new cn(c))}if(i instanceof ds)return Ad(a,i._key);throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hp(i)}.`)}function Ay(a,t){if(!Array.isArray(a)||0===a.length)throw new Ht(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Qn(a,t){if(t.isInequality()){const c=Ac(a),m=t.field;if(null!==c&&!c.isEqual(m))throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${c.toString()}' and '${m.toString()}'`);const v=mh(a);null!==v&&My(0,m,v)}const i=function(c,m){for(const v of c)for(const E of v.getFlattenedFilters())if(m.indexOf(E.op)>=0)return E.op;return null}(a.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Ht(_t.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function My(a,t,i){if(!i.isEqual(t))throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Cp{convertValue(t,i="none"){switch(Pl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return br(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(pa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw Jt()}}convertObject(t,i){const c={};return V(t.fields,(m,v)=>{c[m]=this.convertValue(v,i)}),c}convertGeoPoint(t){return new ou(br(t.latitude),br(t.longitude))}convertArray(t,i){return(t.values||[]).map(c=>this.convertValue(c,i))}convertServerTimestamp(t,i){switch(i){case"previous":const c=Po(t);return null==c?null:this.convertValue(c,i);case"estimate":return this.convertTimestamp(yo(t));default:return null}}convertTimestamp(t){const i=Rr(t);return new Ki(i.seconds,i.nanos)}convertDocumentKey(t,i){const c=oi.fromString(t);ln(sg(c));const m=new Ol(c.get(1),c.get(3)),v=new cn(c.popFirst(5));return m.isEqual(i)||Kn(`Document ${v} contains a document reference within a different database (${m.projectId}/${m.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),v}}function fl(a,t,i){let c;return c=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,c}class fb extends Cp{constructor(t){super(),this.firestore=t}convertBytes(t){return new Da(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ds(this.firestore,null,i)}}class Xu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cu extends af{constructor(t,i,c,m,v,E){super(t,i,c,m,E),this._firestore=t,this._firestoreImpl=t,this.metadata=v}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const c=this._document.data.field(cm("DocumentSnapshot.get",t));if(null!==c)return this._userDataWriter.convertValue(c,i.serverTimestamps)}}}class hm extends cu{data(t={}){return super.data(t)}}class bd{constructor(t,i,c,m){this._firestore=t,this._userDataWriter=i,this._snapshot=m,this.metadata=new Xu(m.hasPendingWrites,m.fromCache),this.query=c}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(c=>{t.call(i,new hm(this._firestore,this._userDataWriter,c.key,c,new Xu(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ht(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(c,m){if(c._snapshot.oldDocs.isEmpty()){let v=0;return c._snapshot.docChanges.map(E=>({type:"added",doc:new hm(c._firestore,c._userDataWriter,E.doc.key,E.doc,new Xu(c._snapshot.mutatedKeys.has(E.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:v++}))}{let v=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(E=>m||3!==E.type).map(E=>{const R=new hm(c._firestore,c._userDataWriter,E.doc.key,E.doc,new Xu(c._snapshot.mutatedKeys.has(E.doc.key),c._snapshot.fromCache),c.query.converter);let $=-1,ee=-1;return 0!==E.type&&($=v.indexOf(E.doc.key),v=v.delete(E.doc.key)),1!==E.type&&(v=v.add(E.doc),ee=v.indexOf(E.doc.key)),{type:Ry(E.type),doc:R,oldIndex:$,newIndex:ee}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Ry(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}function Oy(a,t){return a instanceof cu&&t instanceof cu?a._firestore===t._firestore&&a._key.isEqual(t._key)&&(null===a._document?null===t._document:a._document.isEqual(t._document))&&a._converter===t._converter:a instanceof bd&&t instanceof bd&&a._firestore===t._firestore&&qu(a.query,t.query)&&a.metadata.isEqual(t.metadata)&&a._snapshot.isEqual(t._snapshot)}class Ju extends Cp{constructor(t){super(),this.firestore=t}convertBytes(t){return new Da(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ds(this.firestore,null,i)}}function fm(a,t,i){a=xi(a,ds);const c=xi(a.firestore,vs),m=fl(a.converter,t,i);return wd(c,[yp(gd(c),"setDoc",a._key,m,null!==a.converter,i).toMutation(a._key,Xr.none())])}function mm(a,t,i,...c){a=xi(a,ds);const m=xi(a.firestore,vs),v=gd(m);let E;return E="string"==typeof(t=(0,me.m9)(t))||t instanceof Wl?am(v,"updateDoc",a._key,t,i,c):Dy(v,"updateDoc",a._key,t),wd(m,[E.toMutation(a._key,Xr.exists(!0))])}function Ny(a,...t){var i,c,m;a=(0,me.m9)(a);let v={includeMetadataChanges:!1},E=0;"object"!=typeof t[E]||fp(t[E])||(v=t[E],E++);const R={includeMetadataChanges:v.includeMetadataChanges};if(fp(t[E])){const Ue=t[E];t[E]=null===(i=Ue.next)||void 0===i?void 0:i.bind(Ue),t[E+1]=null===(c=Ue.error)||void 0===c?void 0:c.bind(Ue),t[E+2]=null===(m=Ue.complete)||void 0===m?void 0:m.bind(Ue)}let $,ee,fe;if(a instanceof ds)ee=xi(a.firestore,vs),fe=Su(a._key.path),$={next:Ue=>{t[E]&&t[E](Fy(ee,a,Ue))},error:t[E+1],complete:t[E+2]};else{const Ue=xi(a,Eo);ee=xi(Ue.firestore,vs),fe=Ue._query;const ut=new Ju(ee);$={next:Bt=>{t[E]&&t[E](new bd(ee,ut,Ue,Bt))},error:t[E+1],complete:t[E+2]},bp(a._query)}return function(Ue,ut,Bt,en){const vn=new Jh(en),$n=new Vu(ut,vn,Bt);return Ue.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return cy(yield ef(Ue),$n)})),()=>{vn.yc(),Ue.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Wh(yield ef(Ue),$n)}))}}(Sr(ee),fe,R,$)}function wd(a,t){return function(i,c){const m=new nr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function Ug(a,t,i){return fy.apply(this,arguments)}(yield im(i),c,m)})),m.promise}(Sr(a),t)}function Fy(a,t,i){const c=i.docs.get(t._key),m=new Ju(a);return new cu(a,m,t._key,c,new Xu(i.hasPendingWrites,i.fromCache),t.converter)}const ww={maxAttempts:5};class _b{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=gd(t)}set(t,i,c){this._verifyNotCommitted();const m=du(t,this._firestore),v=fl(m.converter,i,c),E=yp(this._dataReader,"WriteBatch.set",m._key,v,null!==m.converter,c);return this._mutations.push(E.toMutation(m._key,Xr.none())),this}update(t,i,c,...m){this._verifyNotCommitted();const v=du(t,this._firestore);let E;return E="string"==typeof(i=(0,me.m9)(i))||i instanceof Wl?am(this._dataReader,"WriteBatch.update",v._key,i,c,m):Dy(this._dataReader,"WriteBatch.update",v._key,i),this._mutations.push(E.toMutation(v._key,Xr.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=du(t,this._firestore);return this._mutations=this._mutations.concat(new Rc(i._key,Xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ht(_t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function du(a,t){if((a=(0,me.m9)(a)).firestore!==t)throw new Ht(_t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class yb extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=gd(t)}get(t){const i=du(t,this._firestore),c=new fb(this._firestore);return this._transaction.lookup([i._key]).then(m=>{if(!m||1!==m.length)return Jt();const v=m[0];if(v.isFoundDocument())return new af(this._firestore,c,v.key,v,i.converter);if(v.isNoDocument())return new af(this._firestore,c,i._key,null,i.converter);throw Jt()})}set(t,i,c){const m=du(t,this._firestore),v=fl(m.converter,i,c),E=yp(this._dataReader,"Transaction.set",m._key,v,null!==m.converter,c);return this._transaction.set(m._key,E),this}update(t,i,c,...m){const v=du(t,this._firestore);let E;return E="string"==typeof(i=(0,me.m9)(i))||i instanceof Wl?am(this._dataReader,"Transaction.update",v._key,i,c,m):Dy(this._dataReader,"Transaction.update",v._key,i),this._transaction.update(v._key,E),this}delete(t){const i=du(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=du(t,this._firestore),c=new Ju(this._firestore);return super.get(t).then(m=>new cu(this._firestore,c,i._key,m._document,new Xu(!1,!1),i.converter))}}!function(a,t=!0){wt=Ct.SDK_VERSION,(0,Ct._registerComponent)(new Ve.wA("firestore",(i,{instanceIdentifier:c,options:m})=>{const v=i.getProvider("app").getImmediate(),E=new vs(new $c(i.getProvider("auth-internal")),new Wc(i.getProvider("app-check-internal")),function(R,$){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new Ht(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(R.options.projectId,$)}(v,c),v);return m=Object.assign({useFetchStreams:t},m),E._setSettings(m),E},"PUBLIC").setMultipleInstances(!0)),(0,Ct.registerVersion)(oe,"3.10.1",a),(0,Ct.registerVersion)(oe,"3.10.1","esm2017")}();function Sp(a,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ht("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return t}function Tp(){if(typeof Uint8Array>"u")throw new Ht("unimplemented","Uint8Arrays are not available in this environment.")}function Hy(){if(!function Ni(){return typeof atob<"u"}())throw new Ht("unimplemented","Blobs are unavailable in Firestore in this environment.")}class uu{constructor(t){this._delegate=t}static fromBase64String(t){return Hy(),new uu(Da.fromBase64String(t))}static fromUint8Array(t){return Tp(),new uu(Da.fromUint8Array(t))}toBase64(){return Hy(),this._delegate.toBase64()}toUint8Array(){return Tp(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jy(a){return function bb(a,t){if("object"!=typeof a||null===a)return!1;const i=a;for(const c of t)if(c in i&&"function"==typeof i[c])return!0;return!1}(a,["next","error","complete"])}class zy{enableIndexedDbPersistence(t,i){return function by(a,t){Jg(a=xi(a,vs));const i=Sr(a);if(i._uninitializedComponentsProvider)throw new Ht(_t.FAILED_PRECONDITION,"SDK cache is already specified.");zn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const c=a._freezeSettings(),m=new md;return ho(i,m,new tm(m,c.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return function Va(a){Jg(a=xi(a,vs));const t=Sr(a);if(t._uninitializedComponentsProvider)throw new Ht(_t.FAILED_PRECONDITION,"SDK cache is already specified.");zn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=a._freezeSettings(),c=new md;return ho(t,c,new eb(c,i.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Ha(a){if(a._initialized&&!a._terminated)throw new Ht(_t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new nr;return a._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(i=(0,Ee.Z)(function*(c){if(!Zo.D())return Promise.resolve();const m=c+"main";yield Zo.delete(m)}),function(c){return i.apply(this,arguments)})(zm(a._databaseId,a._persistenceKey)),t.resolve()}catch(i){t.reject(i)}var i})),t.promise}(t._delegate)}}class h_{constructor(t,i,c){this._delegate=i,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ol||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&zn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},i),t)).merge,this._delegate._setSettings(t)}useEmulator(t,i,c={}){!function Ca(a,t,i,c={}){var m;const v=(a=xi(a,As))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==t&&zn("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},v),{host:`${t}:${i}`,ssl:!1})),c.mockUserToken){let E,R;if("string"==typeof c.mockUserToken)E=c.mockUserToken,R=ke.MOCK_USER;else{E=(0,me.Sg)(c.mockUserToken,null===(m=a._app)||void 0===m?void 0:m.options.projectId);const $=c.mockUserToken.sub||c.mockUserToken.user_id;if(!$)throw new Ht(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new ke($)}a._authCredentials=new Sd(new ko(E,R))}}(this._delegate,t,i,c)}enableNetwork(){return function ab(a){return function tb(a){return a.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield Li(a),i=yield cp(a);return t.setNetworkEnabled(!0),function(c){const m=tn(c);return m.du.delete(0),qm(m)}(i)}))}(Sr(a=xi(a,vs)))}(this._delegate)}disableNetwork(){return function pp(a){return function _y(a){return a.asyncQueue.enqueue((0,Ee.Z)(function*(){const t=yield Li(a),i=yield cp(a);return t.setNetworkEnabled(!1),(c=(0,Ee.Z)(function*(m){const v=tn(m);v.du.add(0),yield Uh(v),v.mu.set("Offline")}),function(m){return c.apply(this,arguments)})(i);var c}))}(Sr(a=xi(a,vs)))}(this._delegate)}enablePersistence(t){let i=!1,c=!1;return t&&(i=!!t.synchronizeTabs,c=!!t.experimentalForceOwningTab,Bi("synchronizeTabs",i,"experimentalForceOwningTab",c)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ai(a){return function(t){const i=new nr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function np(a,t){return Ho.apply(this,arguments)}(yield im(t),i)})),i.promise}(Sr(a=xi(a,vs)))}(this._delegate)}onSnapshotsInSync(t){return function pm(a,t){return function nb(a,t){const i=new Jh(t);return a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return c=yield ef(a),m=i,tn(c).Au.add(m),void m.next();var c,m})),()=>{i.yc(),a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return c=yield ef(a),m=i,void tn(c).Au.delete(m);var c,m}))}}(Sr(a=xi(a,vs)),fp(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ht("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new gm(this,ib(this._delegate,t))}catch(i){throw ks(i,"collection()","Firestore.collection()")}}doc(t){try{return new ml(this,sm(this._delegate,t))}catch(i){throw ks(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ja(this,function vy(a,t){if(a=xi(a,As),su("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ht(_t.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Eo(a,null,(i=t,new sl(oi.emptyPath(),i)));var i}(this._delegate,t))}catch(i){throw ks(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function u_(a,t,i){a=xi(a,vs);const c=Object.assign(Object.assign({},ww),i);return function(m){if(m.maxAttempts<1)throw new Ht(_t.INVALID_ARGUMENT,"Max attempts must be at least 1")}(c),function(m,v,E){const R=new nr;return m.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const $=yield function ul(a){return lp(a).then(t=>t.datastore)}(m);new gy(m.asyncQueue,$,E,v,R).run()})),R.promise}(Sr(a),m=>t(new yb(a,m)),c)}(this._delegate,i=>t(new Gy(this,i)))}batch(){return Sr(this._delegate),new Bc(new _b(this._delegate,t=>wd(this._delegate,t)))}loadBundle(t){return function Ms(a,t){const i=Sr(a=xi(a,vs)),c=new y0;return function _0(a,t,i,c){const m=function(v,E){let R;return R="string"==typeof v?(new TextEncoder).encode(v):v,$=function($,ee){if($ instanceof Uint8Array)return nm($,void 0);if($ instanceof ArrayBuffer)return nm(new Uint8Array($),void 0);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new op($,E);var $}(i,Lh(t));a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function sp(a,t,i){const c=tn(a);var m;(m=(0,Ee.Z)(function*(v,E,R){try{const $=yield E.getMetadata();if(yield function(ut,Bt){const en=tn(ut),vn=jt(Bt.createTime);return en.persistence.runTransaction("hasNewerBundle","readonly",$n=>en.xs.getBundleMetadata($n,Bt.id)).then($n=>!!$n&&$n.createTime.compareTo(vn)>=0)}(v.localStore,$))return yield E.close(),R._completeWith({taskState:"Success",documentsLoaded:(ut=$).totalDocuments,bytesLoaded:ut.totalBytes,totalDocuments:ut.totalDocuments,totalBytes:ut.totalBytes}),Promise.resolve(new Set);R._updateProgress(Gv($));const ee=new m0($,v.localStore,E.serializer);let fe=yield E._c();for(;fe;){const ut=yield ee.$u(fe);ut&&R._updateProgress(ut),fe=yield E._c()}const Ue=yield ee.complete();return yield dl(v,Ue.Bu,void 0),yield function(ut,Bt){const en=tn(ut);return en.persistence.runTransaction("Save bundle","readwrite",vn=>en.xs.saveBundleMetadata(vn,Bt))}(v.localStore,$),R._completeWith(Ue.progress),Promise.resolve(Ue.Fu)}catch($){return zn("SyncEngine",`Loading bundle failed with ${$}`),R._failWith($),Promise.resolve(new Set)}var ut}),function(v,E,R){return m.apply(this,arguments)})(c,t,i).then(m=>{c.sharedClientState.notifyBundleLoaded(m)})}(yield im(a),m,c)}))}(i,a._databaseId,t,c),c}(this._delegate,t)}namedQuery(t){return function wy(a,t){return function yy(a,t){return a.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(i,c){const m=tn(i);return m.persistence.runTransaction("Get named query","readonly",v=>m.xs.getNamedQuery(v,c))}(yield xo(a),t)}))}(Sr(a=xi(a,vs)),t).then(i=>i?new Eo(a,null,i.query):null)}(this._delegate,t).then(i=>i?new ja(this,i):null)}}class f_ extends Cp{constructor(t){super(),this.firestore=t}convertBytes(t){return new uu(new Da(t))}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return ml.forKey(i,this.firestore,null)}}class Gy{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new f_(t)}get(t){const i=pl(t);return this._delegate.get(i).then(c=>new kp(this._firestore,new cu(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,i.converter)))}set(t,i,c){const m=pl(t);return c?(Sp("Transaction.set",c),this._delegate.set(m,i,c)):this._delegate.set(m,i),this}update(t,i,c,...m){const v=pl(t);return 2===arguments.length?this._delegate.update(v,i):this._delegate.update(v,i,c,...m),this}delete(t){const i=pl(t);return this._delegate.delete(i),this}}class Bc{constructor(t){this._delegate=t}set(t,i,c){const m=pl(t);return c?(Sp("WriteBatch.set",c),this._delegate.set(m,i,c)):this._delegate.set(m,i),this}update(t,i,c,...m){const v=pl(t);return 2===arguments.length?this._delegate.update(v,i):this._delegate.update(v,i,c,...m),this}delete(t){const i=pl(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class eh{constructor(t,i,c){this._firestore=t,this._userDataWriter=i,this._delegate=c}fromFirestore(t,i){const c=new hm(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new df(this._firestore,c),i??{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){const c=eh.INSTANCES;let m=c.get(t);m||(m=new WeakMap,c.set(t,m));let v=m.get(i);return v||(v=new eh(t,new f_(t),i),m.set(i,v)),v}}eh.INSTANCES=new WeakMap;class ml{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new f_(t)}static forPath(t,i,c){if(t.length%2!=0)throw new Ht("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ml(i,new ds(i._delegate,c,new cn(t)))}static forKey(t,i,c){return new ml(i,new ds(i._delegate,c,t))}get id(){return this._delegate.id}get parent(){return new gm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new gm(this.firestore,ib(this._delegate,t))}catch(i){throw ks(i,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,me.m9)(t))instanceof ds&&Yu(this._delegate,t)}set(t,i){i=Sp("DocumentReference.set",i);try{return i?fm(this._delegate,t,i):fm(this._delegate,t)}catch(c){throw ks(c,"setDoc()","DocumentReference.set()")}}update(t,i,...c){try{return 1===arguments.length?mm(this._delegate,t):mm(this._delegate,t,i,...c)}catch(m){throw ks(m,"updateDoc()","DocumentReference.update()")}}delete(){return function mb(a){return wd(xi(a.firestore,vs),[new Rc(a._key,Xr.none())])}(this._delegate)}onSnapshot(...t){const i=Ap(t),c=Mp(t,m=>new kp(this.firestore,new cu(this.firestore._delegate,this._userDataWriter,m._key,m._document,m.metadata,this._delegate.converter)));return Ny(this._delegate,i,c)}get(t){let i;return i="cache"===t?.source?function E0(a){a=xi(a,ds);const t=xi(a.firestore,vs),i=Sr(t),c=new Ju(t);return function Wu(a,t){const i=new nr;return a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(c=(0,Ee.Z)(function*(m,v,E){try{const R=yield function($,ee){const fe=tn($);return fe.persistence.runTransaction("read document","readonly",Ue=>fe.localDocuments.getDocument(Ue,ee))}(m,v);R.isFoundDocument()?E.resolve(R):R.isNoDocument()?E.resolve(null):E.reject(new Ht(_t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const $=nu(R,`Failed to get document '${v} from cache`);E.reject($)}}),function(m,v,E){return c.apply(this,arguments)})(yield xo(a),t,i);var c})),i.promise}(i,a._key).then(m=>new cu(t,c,a._key,m,new Xu(null!==m&&m.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===t?.source?function Dp(a){a=xi(a,ds);const t=xi(a.firestore,vs);return dp(Sr(t),a._key,{source:"server"}).then(i=>Fy(t,a,i))}(this._delegate):function x0(a){a=xi(a,ds);const t=xi(a.firestore,vs);return dp(Sr(t),a._key).then(i=>Fy(t,a,i))}(this._delegate),i.then(c=>new kp(this.firestore,new cu(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(t){return new ml(this.firestore,this._delegate.withConverter(t?eh.getInstance(this.firestore,t):null))}}function ks(a,t,i){return a.message=a.message.replace(t,i),a}function Ap(a){for(const t of a)if("object"==typeof t&&!jy(t))return t;return{}}function Mp(a,t){var i,c;let m;return m=jy(a[0])?a[0]:jy(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:v=>{m.next&&m.next(t(v))},error:null===(i=m.error)||void 0===i?void 0:i.bind(m),complete:null===(c=m.complete)||void 0===c?void 0:c.bind(m)}}class kp{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new ml(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return Oy(this._delegate,t._delegate)}}class df extends kp{data(t){const i=this._delegate.data(t);return function io(a,t){a||Jt()}(void 0!==i),i}}class ja{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new f_(t)}where(t,i,c){try{return new ja(this.firestore,hl(this._delegate,function hb(a,t,i){const c=t,m=cm("where",a);return Yl._create(m,c,i)}(t,i,c)))}catch(m){throw ks(m,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new ja(this.firestore,hl(this._delegate,function xp(a,t="asc"){const i=t,c=cm("orderBy",a);return r_._create(c,i)}(t,i)))}catch(c){throw ks(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ja(this.firestore,hl(this._delegate,function s_(a){return rm("limit",a),_d._create("limit",a,"F")}(t)))}catch(i){throw ks(i,"limit()","Query.limit()")}}limitToLast(t){try{return new ja(this.firestore,hl(this._delegate,function yd(a){return rm("limitToLast",a),_d._create("limitToLast",a,"L")}(t)))}catch(i){throw ks(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ja(this.firestore,hl(this._delegate,function Ty(...a){return vd._create("startAt",a,!0)}(...t)))}catch(i){throw ks(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ja(this.firestore,hl(this._delegate,function dm(...a){return vd._create("startAfter",a,!1)}(...t)))}catch(i){throw ks(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ja(this.firestore,hl(this._delegate,function ql(...a){return Ur._create("endBefore",a,!1)}(...t)))}catch(i){throw ks(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ja(this.firestore,hl(this._delegate,function o_(...a){return Ur._create("endAt",a,!0)}(...t)))}catch(i){throw ks(i,"endAt()","Query.endAt()")}}isEqual(t){return qu(this._delegate,t._delegate)}get(t){let i;return i="cache"===t?.source?function l_(a){a=xi(a,Eo);const t=xi(a.firestore,vs),i=Sr(t),c=new Ju(t);return function Ku(a,t){const i=new nr;return a.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(c=(0,Ee.Z)(function*(m,v,E){try{const R=yield $m(m,v,!0),$=new hy(v,R.Wi),ee=$.zu(R.documents),fe=$.applyChanges(ee,!1);E.resolve(fe.snapshot)}catch(R){const $=nu(R,`Failed to execute query '${v} against cache`);E.reject($)}}),function(m,v,E){return c.apply(this,arguments)})(yield xo(a),t,i);var c})),i.promise}(i,a._query).then(m=>new bd(t,c,a,m))}(this._delegate):"server"===t?.source?function Py(a){a=xi(a,Eo);const t=xi(a.firestore,vs),i=Sr(t),c=new Ju(t);return ru(i,a._query,{source:"server"}).then(m=>new bd(t,c,a,m))}(this._delegate):function C0(a){a=xi(a,Eo);const t=xi(a.firestore,vs),i=Sr(t),c=new Ju(t);return bp(a._query),ru(i,a._query).then(m=>new bd(t,c,a,m))}(this._delegate),i.then(c=>new Rp(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...t){const i=Ap(t),c=Mp(t,m=>new Rp(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,this._delegate,m._snapshot)));return Ny(this._delegate,i,c)}withConverter(t){return new ja(this.firestore,this._delegate.withConverter(t?eh.getInstance(this.firestore,t):null))}}class $y{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new df(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rp{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new ja(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new df(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new $y(this._firestore,i))}forEach(t,i){this._delegate.forEach(c=>{t.call(i,new df(this._firestore,c))})}isEqual(t){return Oy(this._delegate,t._delegate)}}class gm extends ja{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ml(this.firestore,t):null}doc(t){try{return new ml(this.firestore,void 0===t?sm(this._delegate):sm(this._delegate,t))}catch(i){throw ks(i,"doc()","CollectionReference.doc()")}}add(t){return function c_(a,t){const i=xi(a.firestore,vs),c=sm(a),m=fl(a.converter,t);return wd(i,[yp(gd(a.firestore),"addDoc",c._key,m,null!==a.converter,{}).toMutation(c._key,Xr.exists(!1))]).then(()=>c)}(this._delegate,t).then(i=>new ml(this.firestore,i))}isEqual(t){return Yu(this._delegate,t._delegate)}withConverter(t){return new gm(this.firestore,this._delegate.withConverter(t?eh.getInstance(this.firestore,t):null))}}function pl(a){return xi(a,ds)}class uf{constructor(...t){this._delegate=new Wl(...t)}static documentId(){return new uf(fr.keyField().canonicalString())}isEqual(t){return(t=(0,me.m9)(t))instanceof Wl&&this._delegate._internalPath.isEqual(t._internalPath)}}class hf{constructor(t){this._delegate=t}static serverTimestamp(){const t=function T0(){return new rf("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new hf(t)}static delete(){const t=function S0(){return new Qu("deleteField")}();return t._methodName="FieldValue.delete",new hf(t)}static arrayUnion(...t){const i=function vb(...a){return new Ey("arrayUnion",a)}(...t);return i._methodName="FieldValue.arrayUnion",new hf(i)}static arrayRemove(...t){const i=function Ip(...a){return new Cy("arrayRemove",a)}(...t);return i._methodName="FieldValue.arrayRemove",new hf(i)}static increment(t){const i=function A0(a){return new vp("increment",a)}(t);return i._methodName="FieldValue.increment",new hf(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const O0={Firestore:h_,GeoPoint:ou,Timestamp:Ki,Blob:uu,Transaction:Gy,WriteBatch:Bc,DocumentReference:ml,DocumentSnapshot:kp,Query:ja,QueryDocumentSnapshot:df,QuerySnapshot:Rp,CollectionReference:gm,FieldPath:uf,FieldValue:hf,setLogLevel:function wb(a){!function Ti(a){Pt.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};!function m_(a){(function P0(a,t){a.INTERNAL.registerComponent(new Ve.wA("firestore-compat",i=>{const c=i.getProvider("app-compat").getImmediate(),m=i.getProvider("firestore").getImmediate();return t(c,m)},"PUBLIC").setServiceProps(Object.assign({},O0)))})(a,(t,i)=>new h_(t,i,new zy)),a.registerVersion("@firebase/firestore-compat","0.3.7")}(Le.Z);var xd=P(3385),xb=P(6217),Wy=P(9260);function Ky(a,t){return function p_(a,t=h.z){return new Q.y(i=>{let c;return null!=t?t.schedule(()=>{c=a.onSnapshot({includeMetadataChanges:!0},i)}):c=a.onSnapshot({includeMetadataChanges:!0},i),()=>{c?.()}})}(a,t)}function g_(a,t){return Ky(a,t).pipe((0,_e.U)(i=>({payload:i,type:"query"})))}function Op(a,t){return g_(a,t).pipe((0,we.O)(void 0),ne(),(0,_e.U)(([i,c])=>{const m=c.payload.docChanges(),v=m.map(E=>({type:E.type,payload:E}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((E,R)=>{const $=m.find(fe=>fe.doc.ref.isEqual(E.ref)),ee=i?.payload.docs.find(fe=>fe.ref.isEqual(E.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(E.metadata)||!$&&ee&&JSON.stringify(ee.metadata)===JSON.stringify(E.metadata)||v.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:E}})}),v}))}function Pp(a,t,i){return Op(a,i).pipe((0,pe.R)((c,m)=>function ff(a,t,i){return t.forEach(c=>{i.indexOf(c.type)>-1&&(a=function Np(a,t){switch(t.type){case"added":if(!a[t.newIndex]||!a[t.newIndex].doc.ref.isEqual(t.doc.ref))return mf(a,t.newIndex,0,t);break;case"modified":if(null==a[t.oldIndex]||a[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const i=a.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}return mf(a,t.newIndex,1,t)}break;case"removed":if(a[t.oldIndex]&&a[t.oldIndex].doc.ref.isEqual(t.doc.ref))return mf(a,t.oldIndex,1)}return a}(a,c))}),a}(c,m.map(v=>v.payload),t),[]),(0,nt.x)(),(0,_e.U)(c=>c.map(m=>({type:m.type,payload:m}))))}function mf(a,t,i,...c){const m=a.slice();return m.splice(t,i,...c),m}function __(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class y_{constructor(t,i,c){this.ref=t,this.query=i,this.afs=c}stateChanges(t){let i=Op(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe((0,_e.U)(c=>c.filter(m=>t.indexOf(m.type)>-1)))),i.pipe((0,we.O)(void 0),ne(),(0,Ke.h)(([c,m])=>m.length>0||!c),(0,_e.U)(([c,m])=>m),Se.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,pe.R)((i,c)=>[...i,...c],[]))}snapshotChanges(t){const i=__(t);return Pp(this.query,i,this.afs.schedulers.outsideAngular).pipe(Se.iC)}valueChanges(t={}){return g_(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(i=>i.payload.docs.map(c=>t.idField?Object.assign(Object.assign({},c.data()),{[t.idField]:c.id}):c.data())),Se.iC)}get(t){return(0,ve.D)(this.query.get(t)).pipe(Se.iC)}add(t){return this.ref.add(t)}doc(t){return new v_(this.ref.doc(t),this.afs)}}class v_{constructor(t,i){this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){const c=this.ref.collection(t),{ref:m,query:v}=Zy(c,i);return new y_(m,v,this.afs)}snapshotChanges(){return function _m(a,t){return Ky(a,t).pipe((0,we.O)(void 0),ne(),(0,_e.U)(([i,c])=>c.exists?i?.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Se.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,_e.U)(({payload:i})=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data()))}get(t){return(0,ve.D)(this.ref.get(t)).pipe(Se.iC)}}class Fp{constructor(t,i){this.query=t,this.afs=i}stateChanges(t){return t&&0!==t.length?Op(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(i=>i.filter(c=>t.indexOf(c.type)>-1)),(0,Ke.h)(i=>i.length>0),Se.iC):Op(this.query,this.afs.schedulers.outsideAngular).pipe(Se.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,pe.R)((i,c)=>[...i,...c],[]))}snapshotChanges(t){const i=__(t);return Pp(this.query,i,this.afs.schedulers.outsideAngular).pipe(Se.iC)}valueChanges(t={}){return g_(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(c=>c.payload.docs.map(m=>t.idField?Object.assign({[t.idField]:m.id},m.data()):m.data())),Se.iC)}get(t){return(0,ve.D)(this.query.get(t)).pipe(Se.iC)}}const Yy=new _.OlP("angularfire2.enableFirestorePersistence"),pf=new _.OlP("angularfire2.firestore.persistenceSettings"),Eb=new _.OlP("angularfire2.firestore.settings"),qy=new _.OlP("angularfire2.firestore.use-emulator");function Zy(a,t=(i=>i)){return{query:t(a),ref:a}}let Qy=(()=>{class a{constructor(i,c,m,v,E,R,$,ee,fe,Ue,ut,Bt,en,vn,$n,ir,bs){this.schedulers=$;const Ui=(0,xt.on)(i,R,c),Zs=fe;Ue&&(0,xd.nw)(Ui,R,ut,en,vn,$n,Bt,ir),[this.firestore,this.persistenceEnabled$]=(0,xt.cc)(`${Ui.name}.firestore`,"AngularFirestore",Ui.name,()=>{const Vr=R.runOutsideAngular(()=>Ui.firestore());if(v&&Vr.settings(v),Zs&&Vr.useEmulator(...Zs),m&&!(0,ht.PM)(E)){const qr=()=>{try{return(0,ve.D)(Vr.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(fo){return typeof console<"u"&&console.warn(fo),(0,Ae.of)(!1)}};return[Vr,R.runOutsideAngular(qr)]}return[Vr,(0,Ae.of)(!1)]},[v,Zs,m])}collection(i,c){let m;m="string"==typeof i?this.firestore.collection(i):i;const{ref:v,query:E}=Zy(m,c),R=this.schedulers.ngZone.run(()=>v);return new y_(R,E,this)}collectionGroup(i,c){const m=c||(E=>E),v=this.firestore.collectionGroup(i);return new Fp(m(v),this)}doc(i){let c;c="string"==typeof i?this.firestore.doc(i):i;const m=this.schedulers.ngZone.run(()=>c);return new v_(m,this)}createId(){return this.firestore.collection("_").doc().id}}return a.\u0275fac=function(i){return new(i||a)(_.LFG(xt.Dh),_.LFG(xt.xv,8),_.LFG(Yy,8),_.LFG(Eb,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Se.HU),_.LFG(pf,8),_.LFG(qy,8),_.LFG(xd.zQ,8),_.LFG(xd.Qv,8),_.LFG(xd.L6,8),_.LFG(xd._Q,8),_.LFG(xd.rT,8),_.LFG(xd.lh,8),_.LFG(xd.f7,8),_.LFG(xb.nm,8))},a.\u0275prov=_.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),b_=(()=>{class a{constructor(){Wy.Z.registerVersion("angularfire",Se.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:a,providers:[{provide:Yy,useValue:!0},{provide:pf,useValue:i}]}}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=_.oAB({type:a}),a.\u0275inj=_.cJS({providers:[Qy]}),a})()},2011:(Wt,Ge,P)=>{P.d(Ge,{Dh:()=>ce,GT:()=>Se,cc:()=>Ke,hO:()=>nt,on:()=>ne,pX:()=>Ae,xv:()=>xe});var _=P(4650),h=P(9260),Q=P(2122);Wt=P.hmd(Wt);const ve=["ngOnDestroy"],Ae=(Le,Ee,Ct,Ve={})=>new Proxy(Le,{get:(De,me)=>Ct.runOutsideAngular(()=>{var ze;if(Le[me])return!(null===(ze=Ve?.spy)||void 0===ze)&&ze.get&&Ve.spy.get(me,Le[me]),Le[me];if(ve.indexOf(me)>-1)return()=>{};const Xe=Ee.toPromise().then(ge=>{const Ce=ge&&ge[me];return"function"==typeof Ce?Ce.bind(ge):Ce&&Ce.then?Ce.then($e=>Ct.run(()=>$e)):Ct.run(()=>Ce)});return new Proxy(()=>{},{get:(ge,Ce)=>Xe[Ce],apply:(ge,Ce,$e)=>Xe.then(mt=>{var nn;const Nt=mt&&mt(...$e);return!(null===(nn=Ve?.spy)||void 0===nn)&&nn.apply&&Ve.spy.apply(me,$e,Nt),Nt})})})}),Se=(Le,Ee)=>{Ee.forEach(Ct=>{Object.getOwnPropertyNames(Ct.prototype||Ct).forEach(Ve=>{Object.defineProperty(Le.prototype,Ve,Object.getOwnPropertyDescriptor(Ct.prototype||Ct,Ve))})})};class we{constructor(Ee){return Ee}}const ce=new _.OlP("angularfire2.app.options"),xe=new _.OlP("angularfire2.app.name");function ne(Le,Ee,Ct){const De="object"==typeof Ct&&Ct||{};De.name=De.name||"string"==typeof Ct&&Ct||"[DEFAULT]";const ze=h.Z.apps.filter(Xe=>Xe&&Xe.name===De.name)[0]||Ee.runOutsideAngular(()=>h.Z.initializeApp(Le,De));try{JSON.stringify(Le)!==JSON.stringify(ze.options)&&_e("error",`${ze.name} Firebase App already initialized with different options${Wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(ze)}const _e=(Le,...Ee)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Le](...Ee)},pe={provide:we,useFactory:ne,deps:[ce,_.R0b,[new _.FiY,xe]]};let nt=(()=>{class Le{constructor(Ct){h.Z.registerVersion("angularfire",Q.q4.full,"core"),h.Z.registerVersion("angularfire",Q.q4.full,"app-compat"),h.Z.registerVersion("angular",_.q4F.full,Ct.toString())}static initializeApp(Ct,Ve){return{ngModule:Le,providers:[{provide:ce,useValue:Ct},{provide:xe,useValue:Ve}]}}}return Le.\u0275fac=function(Ct){return new(Ct||Le)(_.LFG(_.Lbi))},Le.\u0275mod=_.oAB({type:Le}),Le.\u0275inj=_.cJS({providers:[pe]}),Le})();function Ke(Le,Ee,Ct,Ve,De){const[,me,ze]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===Le)||[];if(me)return function xt(Le,Ee){try{return Le.toString()===Ee.toString()}catch{return Le===Ee}}(De,ze)||(Ze("error",`${Ee} was already initialized on the ${Ct} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:De,was:ze})),me;{const Xe=Ve();return globalThis.\u0275AngularfireInstanceCache.push([Le,Xe,De]),Xe}}const ht=!!Wt.hot,Ze=(Le,...Ee)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Le](...Ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Wt,Ge,P)=>{P.d(Ge,{q4:()=>dc,iC:()=>vu,fc:()=>fa,HU:()=>Qo,vb:()=>yn,JM:()=>_n});var _=P(4650),h=P(259),Q=P(5861),ve=P(9681),Ae=P(2090),Se=P(4859),we=P(1877),ce=P(8766);const xe="@firebase/installations",ne="0.6.4",_e=1e4,pe=`w:${ne}`,nt="FIS_v2",Ke="https://firebaseinstallations.googleapis.com/v1",xt=36e5,Ee=new Ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(V){return V instanceof Ae.ZR&&V.code.includes("request-failed")}function Ve({projectId:V}){return`${Ke}/projects/${V}/installations`}function De(V){return{token:V.token,requestStatus:2,expiresIn:mt(V.expiresIn),creationTime:Date.now()}}function me(V,W){return ze.apply(this,arguments)}function ze(){return(ze=(0,Q.Z)(function*(V,W){const Pe=(yield W.json()).error;return Ee.create("request-failed",{requestName:V,serverCode:Pe.code,serverMessage:Pe.message,serverStatus:Pe.status})})).apply(this,arguments)}function Xe({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function Ce(V){return $e.apply(this,arguments)}function $e(){return($e=(0,Q.Z)(function*(V){const W=yield V();return W.status>=500&&W.status<600?V():W})).apply(this,arguments)}function mt(V){return Number(V.replace("s","000"))}function rt(){return(rt=(0,Q.Z)(function*({appConfig:V,heartbeatServiceProvider:W},{fid:te}){const Pe=Ve(V),qe=Xe(V),it=W.getImmediate({optional:!0});if(it){const Zn=yield it.getHeartbeatsHeader();Zn&&qe.append("x-firebase-client",Zn)}const En={method:"POST",headers:qe,body:JSON.stringify({fid:te,authVersion:nt,appId:V.appId,sdkVersion:pe})},An=yield Ce(()=>fetch(Pe,En));if(An.ok){const Zn=yield An.json();return{fid:Zn.fid||te,registrationStatus:2,refreshToken:Zn.refreshToken,authToken:De(Zn.authToken)}}throw yield me("Create Installation",An)})).apply(this,arguments)}function ft(V){return new Promise(W=>{setTimeout(W,V)})}const Mt=/^[cdef][\w-]{21}$/,It="";function kt(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const te=function St(V){return function Et(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return Mt.test(te)?te:It}catch{return It}}function bt(V){return`${V.appName}!${V.appId}`}const et=new Map;function at(V,W){const te=bt(V);Tn(te,W),function wn(V,W){const te=function Hn(){return!On&&"BroadcastChannel"in self&&(On=new BroadcastChannel("[Firebase] FID Change"),On.onmessage=V=>{Tn(V.data.key,V.data.fid)}),On}();te&&te.postMessage({key:V,fid:W}),function Ci(){0===et.size&&On&&(On.close(),On=null)}()}(te,W)}function Tn(V,W){const te=et.get(V);if(te)for(const Pe of te)Pe(W)}let On=null;const jn="firebase-installations-database",yi=1,gn="firebase-installations-store";let ri=null;function pi(){return ri||(ri=(0,ce.X3)(jn,yi,{upgrade:(V,W)=>{0===W&&V.createObjectStore(gn)}})),ri}function hi(V,W){return ci.apply(this,arguments)}function ci(){return(ci=(0,Q.Z)(function*(V,W){const te=bt(V),qe=(yield pi()).transaction(gn,"readwrite"),it=qe.objectStore(gn),Kt=yield it.get(te);return yield it.put(W,te),yield qe.done,(!Kt||Kt.fid!==W.fid)&&at(V,W.fid),W})).apply(this,arguments)}function fn(V){return vi.apply(this,arguments)}function vi(){return(vi=(0,Q.Z)(function*(V){const W=bt(V),Pe=(yield pi()).transaction(gn,"readwrite");yield Pe.objectStore(gn).delete(W),yield Pe.done})).apply(this,arguments)}function Gi(V,W){return fi.apply(this,arguments)}function fi(){return(fi=(0,Q.Z)(function*(V,W){const te=bt(V),qe=(yield pi()).transaction(gn,"readwrite"),it=qe.objectStore(gn),Kt=yield it.get(te),En=W(Kt);return void 0===En?yield it.delete(te):yield it.put(En,te),yield qe.done,En&&(!Kt||Kt.fid!==En.fid)&&at(V,En.fid),En})).apply(this,arguments)}function _i(V){return Di.apply(this,arguments)}function Di(){return Di=(0,Q.Z)(function*(V){let W;const te=yield Gi(V.appConfig,Pe=>{const qe=function Sn(V){return Ft(V||{fid:kt(),registrationStatus:0})}(Pe),it=function an(V,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(Ee.create("app-offline"))};const te={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},Pe=function Dt(V,W){return Un.apply(this,arguments)}(V,te);return{installationEntry:te,registrationPromise:Pe}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:Ot(V)}:{installationEntry:W}}(V,qe);return W=it.registrationPromise,it.installationEntry});return te.fid===It?{installationEntry:yield W}:{installationEntry:te,registrationPromise:W}}),Di.apply(this,arguments)}function Un(){return Un=(0,Q.Z)(function*(V,W){try{const te=yield function Nt(V,W){return rt.apply(this,arguments)}(V,W);return hi(V.appConfig,te)}catch(te){throw Ct(te)&&409===te.customData.serverCode?yield fn(V.appConfig):yield hi(V.appConfig,{fid:W.fid,registrationStatus:0}),te}}),Un.apply(this,arguments)}function Ot(V){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,Q.Z)(function*(V){let W=yield st(V.appConfig);for(;1===W.registrationStatus;)yield ft(100),W=yield st(V.appConfig);if(0===W.registrationStatus){const{installationEntry:te,registrationPromise:Pe}=yield _i(V);return Pe||te}return W})).apply(this,arguments)}function st(V){return Gi(V,W=>{if(!W)throw Ee.create("installation-not-found");return Ft(W)})}function Ft(V){return function Pn(V){return 1===V.registrationStatus&&V.registrationTime+_e<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function Vi(){return(Vi=(0,Q.Z)(function*({appConfig:V,heartbeatServiceProvider:W},te){const Pe=function Rn(V,{fid:W}){return`${Ve(V)}/${W}/authTokens:generate`}(V,te),qe=function ge(V,{refreshToken:W}){const te=Xe(V);return te.append("Authorization",function nn(V){return`${nt} ${V}`}(W)),te}(V,te),it=W.getImmediate({optional:!0});if(it){const Zn=yield it.getHeartbeatsHeader();Zn&&qe.append("x-firebase-client",Zn)}const En={method:"POST",headers:qe,body:JSON.stringify({installation:{sdkVersion:pe,appId:V.appId}})},An=yield Ce(()=>fetch(Pe,En));if(An.ok)return De(yield An.json());throw yield me("Generate Auth Token",An)})).apply(this,arguments)}function Mi(V){return si.apply(this,arguments)}function si(){return si=(0,Q.Z)(function*(V,W=!1){let te;const Pe=yield Gi(V.appConfig,it=>{if(!ue(it))throw Ee.create("not-registered");const Kt=it.authToken;if(!W&&function Ie(V){return 2===V.requestStatus&&!function se(V){const W=Date.now();return W<V.creationTime||V.creationTime+V.expiresIn<W+xt}(V)}(Kt))return it;if(1===Kt.requestStatus)return te=function $t(V,W){return Re.apply(this,arguments)}(V,W),it;{if(!navigator.onLine)throw Ee.create("app-offline");const En=function be(V){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:W})}(it);return te=function N(V,W){return H.apply(this,arguments)}(V,En),En}});return te?yield te:Pe.authToken}),si.apply(this,arguments)}function Re(){return(Re=(0,Q.Z)(function*(V,W){let te=yield K(V.appConfig);for(;1===te.authToken.requestStatus;)yield ft(100),te=yield K(V.appConfig);const Pe=te.authToken;return 0===Pe.requestStatus?Mi(V,W):Pe})).apply(this,arguments)}function K(V){return Gi(V,W=>{if(!ue(W))throw Ee.create("not-registered");return function Fe(V){return 1===V.requestStatus&&V.requestTime+_e<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function H(){return H=(0,Q.Z)(function*(V,W){try{const te=yield function xn(V,W){return Vi.apply(this,arguments)}(V,W),Pe=Object.assign(Object.assign({},W),{authToken:te});return yield hi(V.appConfig,Pe),te}catch(te){if(!Ct(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const Pe=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield hi(V.appConfig,Pe)}else yield fn(V.appConfig);throw te}}),H.apply(this,arguments)}function ue(V){return void 0!==V&&2===V.registrationStatus}function Ye(){return(Ye=(0,Q.Z)(function*(V){const W=V,{installationEntry:te,registrationPromise:Pe}=yield _i(W);return Pe?Pe.catch(console.error):Mi(W).catch(console.error),te.fid})).apply(this,arguments)}function Ne(){return Ne=(0,Q.Z)(function*(V,W=!1){const te=V;return yield function Oe(V){return de.apply(this,arguments)}(te),(yield Mi(te,W)).token}),Ne.apply(this,arguments)}function de(){return(de=(0,Q.Z)(function*(V){const{registrationPromise:W}=yield _i(V);W&&(yield W)})).apply(this,arguments)}function js(V){return Ee.create("missing-app-config-values",{valueName:V})}const hs="installations",zs=V=>{const W=V.getProvider("app").getImmediate(),te=function cr(V){if(!V||!V.options)throw js("App Configuration");if(!V.name)throw js("App Name");const W=["projectId","apiKey","appId"];for(const te of W)if(!V.options[te])throw js(te);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(W);return{app:W,appConfig:te,heartbeatServiceProvider:(0,ve._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},mo=V=>{const W=V.getProvider("app").getImmediate(),te=(0,ve._getProvider)(W,hs).getImmediate();return{getId:()=>function ot(V){return Ye.apply(this,arguments)}(te),getToken:qe=>function on(V){return Ne.apply(this,arguments)}(te,qe)}};(function ws(){(0,ve._registerComponent)(new Se.wA(hs,zs,"PUBLIC")),(0,ve._registerComponent)(new Se.wA("installations-internal",mo,"PRIVATE"))})(),(0,ve.registerVersion)(xe,ne),(0,ve.registerVersion)(xe,ne,"esm2017");const mi="@firebase/remote-config",ki=new Ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Es{constructor(W,te,Pe,qe){this.client=W,this.storage=te,this.storageCache=Pe,this.logger=qe}isCachedDataFresh(W,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Pe=Date.now()-te,qe=Pe<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${qe}.`),qe}fetch(W){var te=this;return(0,Q.Z)(function*(){const[Pe,qe]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(qe&&te.isCachedDataFresh(W.cacheMaxAgeMillis,Pe))return qe;W.eTag=qe&&qe.eTag;const it=yield te.client.fetch(W),Kt=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===it.status&&Kt.push(te.storage.setLastSuccessfulFetchResponse(it)),yield Promise.all(Kt),it})()}}function Dr(V=navigator){return V.languages&&V.languages[0]||V.language}class Hi{constructor(W,te,Pe,qe,it,Kt){this.firebaseInstallations=W,this.sdkVersion=te,this.namespace=Pe,this.projectId=qe,this.apiKey=it,this.appId=Kt}fetch(W){var te=this;return(0,Q.Z)(function*(){const[Pe,qe]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),Kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,En={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},An={sdk_version:te.sdkVersion,app_instance_id:Pe,app_instance_id_token:qe,app_id:te.appId,language_code:Dr()},Zn={method:"POST",headers:En,body:JSON.stringify(An)},Ni=fetch(Kt,Zn),Fn=new Promise((Po,yo)=>{W.signal.addEventListener(()=>{const Em=new Error("The operation was aborted.");Em.name="AbortError",yo(Em)})});let ma;try{yield Promise.race([Ni,Fn]),ma=yield Ni}catch(Po){let yo="fetch-client-network";throw"AbortError"===Po?.name&&(yo="fetch-timeout"),ki.create(yo,{originalErrorMessage:Po?.message})}let Rr=ma.status;const br=ma.headers.get("ETag")||void 0;let pa,Rl;if(200===ma.status){let Po;try{Po=yield ma.json()}catch(yo){throw ki.create("fetch-client-parse",{originalErrorMessage:yo?.message})}pa=Po.entries,Rl=Po.state}if("INSTANCE_STATE_UNSPECIFIED"===Rl?Rr=500:"NO_CHANGE"===Rl?Rr=304:("NO_TEMPLATE"===Rl||"EMPTY_CONFIG"===Rl)&&(pa={}),304!==Rr&&200!==Rr)throw ki.create("fetch-status",{httpStatus:Rr});return{status:Rr,eTag:br,config:pa}})()}}class je{constructor(W,te){this.client=W,this.storage=te}fetch(W){var te=this;return(0,Q.Z)(function*(){const Pe=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(W,Pe)})()}attemptFetch(W,{throttleEndTimeMillis:te,backoffCount:Pe}){var qe=this;return(0,Q.Z)(function*(){yield function Gs(V,W){return new Promise((te,Pe)=>{const qe=Math.max(W-Date.now(),0),it=setTimeout(te,qe);V.addEventListener(()=>{clearTimeout(it),Pe(ki.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,te);try{const it=yield qe.client.fetch(W);return yield qe.storage.deleteThrottleMetadata(),it}catch(it){if(!function Qe(V){if(!(V instanceof Ae.ZR&&V.customData))return!1;const W=Number(V.customData.httpStatus);return 429===W||500===W||503===W||504===W}(it))throw it;const Kt={throttleEndTimeMillis:Date.now()+(0,Ae.$s)(Pe),backoffCount:Pe+1};return yield qe.storage.setThrottleMetadata(Kt),qe.attemptFetch(W,Kt)}})()}}class Zt{constructor(W,te,Pe,qe,it){this.app=W,this._client=te,this._storageCache=Pe,this._storage=qe,this._logger=it,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pn(V,W){const te=V.target.error||void 0;return ki.create(W,{originalErrorMessage:te&&te?.message})}const ei="app_namespace_store";class Ar{constructor(W,te,Pe,qe=function or(){return new Promise((V,W)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=Pe=>{W(pn(Pe,"storage-open"))},te.onsuccess=Pe=>{V(Pe.target.result)},te.onupgradeneeded=Pe=>{0===Pe.oldVersion&&Pe.target.result.createObjectStore(ei,{keyPath:"compositeKey"})}}catch(te){W(ki.create("storage-open",{originalErrorMessage:te?.message}))}})}()){this.appId=W,this.appName=te,this.namespace=Pe,this.openDbPromise=qe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var te=this;return(0,Q.Z)(function*(){const Pe=yield te.openDbPromise;return new Promise((qe,it)=>{const En=Pe.transaction([ei],"readonly").objectStore(ei),An=te.createCompositeKey(W);try{const Zn=En.get(An);Zn.onerror=Ni=>{it(pn(Ni,"storage-get"))},Zn.onsuccess=Ni=>{const Fn=Ni.target.result;qe(Fn?Fn.value:void 0)}}catch(Zn){it(ki.create("storage-get",{originalErrorMessage:Zn?.message}))}})})()}set(W,te){var Pe=this;return(0,Q.Z)(function*(){const qe=yield Pe.openDbPromise;return new Promise((it,Kt)=>{const An=qe.transaction([ei],"readwrite").objectStore(ei),Zn=Pe.createCompositeKey(W);try{const Ni=An.put({compositeKey:Zn,value:te});Ni.onerror=Fn=>{Kt(pn(Fn,"storage-set"))},Ni.onsuccess=()=>{it()}}catch(Ni){Kt(ki.create("storage-set",{originalErrorMessage:Ni?.message}))}})})()}delete(W){var te=this;return(0,Q.Z)(function*(){const Pe=yield te.openDbPromise;return new Promise((qe,it)=>{const En=Pe.transaction([ei],"readwrite").objectStore(ei),An=te.createCompositeKey(W);try{const Zn=En.delete(An);Zn.onerror=Ni=>{it(pn(Ni,"storage-delete"))},Zn.onsuccess=()=>{qe()}}catch(Zn){it(ki.create("storage-delete",{originalErrorMessage:Zn?.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class Mr{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,Q.Z)(function*(){const te=W.storage.getLastFetchStatus(),Pe=W.storage.getLastSuccessfulFetchTimestampMillis(),qe=W.storage.getActiveConfig(),it=yield te;it&&(W.lastFetchStatus=it);const Kt=yield Pe;Kt&&(W.lastSuccessfulFetchTimestampMillis=Kt);const En=yield qe;En&&(W.activeConfig=En)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function ts(){return Io.apply(this,arguments)}function Io(){return(Io=(0,Q.Z)(function*(){if(!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}!function ms(){(0,ve._registerComponent)(new Se.wA("remote-config",function V(W,{instanceIdentifier:te}){const Pe=W.getProvider("app").getImmediate(),qe=W.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ki.create("registration-window");if(!(0,Ae.hl)())throw ki.create("indexed-db-unavailable");const{projectId:it,apiKey:Kt,appId:En}=Pe.options;if(!it)throw ki.create("registration-project-id");if(!Kt)throw ki.create("registration-api-key");if(!En)throw ki.create("registration-app-id");const An=new Ar(En,Pe.name,te=te||"firebase"),Zn=new Mr(An),Ni=new we.Yd(mi);Ni.logLevel=we.in.ERROR;const Fn=new Hi(qe,ve.SDK_VERSION,te,it,Kt,En),ma=new je(Fn,An),Rr=new Es(ma,An,Zn,Ni),br=new Zt(Pe,Rr,Zn,An,Ni);return function Er(V){const W=(0,Ae.m9)(V);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(br),br},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(mi,"0.4.4"),(0,ve.registerVersion)(mi,"0.4.4","esm2017")}();const ia="/firebase-messaging-sw.js",Os="/firebase-cloud-messaging-push-scope",$a="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Go="https://fcmregistrations.googleapis.com/v1",Sa="google.c.a.c_id",po="google.c.a.c_l",Wa="google.c.a.ts",ps="google.c.a.e";var go=(()=>{return(V=go||(go={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",go;var V})();function Qs(V){const W=new Uint8Array(V);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $o(V){const te=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Pe=atob(te),qe=new Uint8Array(Pe.length);for(let it=0;it<Pe.length;++it)qe[it]=Pe.charCodeAt(it);return qe}const Xs="fcm_token_details_db",er=5,ns="fcm_token_object_Store";function Cs(){return Cs=(0,Q.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(it=>it.name).includes(Xs))return null;let W=null;return(yield(0,ce.X3)(Xs,er,{upgrade:(Pe=(0,Q.Z)(function*(qe,it,Kt,En){var An;if(it<2||!qe.objectStoreNames.contains(ns))return;const Zn=En.objectStore(ns),Ni=yield Zn.index("fcmSenderId").get(V);if(yield Zn.clear(),Ni)if(2===it){const Fn=Ni;if(!Fn.auth||!Fn.p256dh||!Fn.endpoint)return;W={token:Fn.fcmToken,createTime:null!==(An=Fn.createTime)&&void 0!==An?An:Date.now(),subscriptionOptions:{auth:Fn.auth,p256dh:Fn.p256dh,endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:"string"==typeof Fn.vapidKey?Fn.vapidKey:Qs(Fn.vapidKey)}}}else if(3===it){const Fn=Ni;W={token:Fn.fcmToken,createTime:Fn.createTime,subscriptionOptions:{auth:Qs(Fn.auth),p256dh:Qs(Fn.p256dh),endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:Qs(Fn.vapidKey)}}}else if(4===it){const Fn=Ni;W={token:Fn.fcmToken,createTime:Fn.createTime,subscriptionOptions:{auth:Qs(Fn.auth),p256dh:Qs(Fn.p256dh),endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:Qs(Fn.vapidKey)}}}}),function(it,Kt,En,An){return Pe.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Xs),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),function dr(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:W}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}(W)?W:null;var Pe}),Cs.apply(this,arguments)}const is="firebase-messaging-database",ji=1,Ps="firebase-messaging-store";let _o=null;function Js(){return _o||(_o=(0,ce.X3)(is,ji,{upgrade:(V,W)=>{0===W&&V.createObjectStore(Ps)}})),_o}function Ql(V){return eo.apply(this,arguments)}function eo(){return eo=(0,Q.Z)(function*(V){const W=Ns(V),Pe=yield(yield Js()).transaction(Ps).objectStore(Ps).get(W);if(Pe)return Pe;{const qe=yield function So(V){return Cs.apply(this,arguments)}(V.appConfig.senderId);if(qe)return yield Ta(V,qe),qe}}),eo.apply(this,arguments)}function Ta(V,W){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,Q.Z)(function*(V,W){const te=Ns(V),qe=(yield Js()).transaction(Ps,"readwrite");return yield qe.objectStore(Ps).put(W,te),yield qe.done,W})).apply(this,arguments)}function zr(){return(zr=(0,Q.Z)(function*(V){const W=Ns(V),Pe=(yield Js()).transaction(Ps,"readwrite");yield Pe.objectStore(Ps).delete(W),yield Pe.done})).apply(this,arguments)}function Ns({appConfig:V}){return V.appId}const gi=new Ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rs(V,W){return to.apply(this,arguments)}function to(){return(to=(0,Q.Z)(function*(V,W){const te=yield oa(V),Pe=Fs(W),qe={method:"POST",headers:te,body:JSON.stringify(Pe)};let it;try{it=yield(yield fetch(ur(V.appConfig),qe)).json()}catch(Kt){throw gi.create("token-subscribe-failed",{errorInfo:Kt?.toString()})}if(it.error)throw gi.create("token-subscribe-failed",{errorInfo:it.error.message});if(!it.token)throw gi.create("token-subscribe-no-token");return it.token})).apply(this,arguments)}function yl(){return(yl=(0,Q.Z)(function*(V,W){const te=yield oa(V),Pe=Fs(W.subscriptionOptions),qe={method:"PATCH",headers:te,body:JSON.stringify(Pe)};let it;try{it=yield(yield fetch(`${ur(V.appConfig)}/${W.token}`,qe)).json()}catch(Kt){throw gi.create("token-update-failed",{errorInfo:Kt?.toString()})}if(it.error)throw gi.create("token-update-failed",{errorInfo:it.error.message});if(!it.token)throw gi.create("token-update-no-token");return it.token})).apply(this,arguments)}function sa(V,W){return no.apply(this,arguments)}function no(){return(no=(0,Q.Z)(function*(V,W){const Pe={method:"DELETE",headers:yield oa(V)};try{const it=yield(yield fetch(`${ur(V.appConfig)}/${W}`,Pe)).json();if(it.error)throw gi.create("token-unsubscribe-failed",{errorInfo:it.error.message})}catch(qe){throw gi.create("token-unsubscribe-failed",{errorInfo:qe?.toString()})}})).apply(this,arguments)}function ur({projectId:V}){return`${Go}/projects/${V}/registrations`}function oa(V){return To.apply(this,arguments)}function To(){return(To=(0,Q.Z)(function*({appConfig:V,installations:W}){const te=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function Fs({p256dh:V,auth:W,endpoint:te,vapidKey:Pe}){const qe={web:{endpoint:te,auth:W,p256dh:V}};return Pe!==$a&&(qe.web.applicationPubKey=Pe),qe}const ss=6048e5;function aa(){return aa=(0,Q.Z)(function*(V){const W=yield function z(V,W){return he.apply(this,arguments)}(V.swRegistration,V.vapidKey),te={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:W.endpoint,auth:Qs(W.getKey("auth")),p256dh:Qs(W.getKey("p256dh"))},Pe=yield Ql(V.firebaseDependencies);if(Pe){if(function Tt(V,W){return W.vapidKey===V.vapidKey&&W.endpoint===V.endpoint&&W.auth===V.auth&&W.p256dh===V.p256dh}(Pe.subscriptionOptions,te))return Date.now()>=Pe.createTime+ss?function Xl(V,W){return Ya.apply(this,arguments)}(V,{token:Pe.token,createTime:Date.now(),subscriptionOptions:te}):Pe.token;try{yield sa(V.firebaseDependencies,Pe.token)}catch(qe){console.warn(qe)}return Y(V.firebaseDependencies,te)}return Y(V.firebaseDependencies,te)}),aa.apply(this,arguments)}function $s(){return $s=(0,Q.Z)(function*(V){const W=yield Ql(V.firebaseDependencies);W&&(yield sa(V.firebaseDependencies,W.token),yield function Ka(V){return zr.apply(this,arguments)}(V.firebaseDependencies));const te=yield V.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()}),$s.apply(this,arguments)}function Ya(){return Ya=(0,Q.Z)(function*(V,W){try{const te=yield function zi(V,W){return yl.apply(this,arguments)}(V.firebaseDependencies,W),Pe=Object.assign(Object.assign({},W),{token:te,createTime:Date.now()});return yield Ta(V.firebaseDependencies,Pe),te}catch(te){throw yield function Ln(V){return $s.apply(this,arguments)}(V),te}}),Ya.apply(this,arguments)}function Y(V,W){return G.apply(this,arguments)}function G(){return(G=(0,Q.Z)(function*(V,W){const Pe={token:yield rs(V,W),createTime:Date.now(),subscriptionOptions:W};return yield Ta(V,Pe),Pe.token})).apply(this,arguments)}function he(){return(he=(0,Q.Z)(function*(V,W){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$o(W)})})).apply(this,arguments)}function dt(V){const W={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function Bn(V,W){if(!W.notification)return;V.notification={};const te=W.notification.title;te&&(V.notification.title=te);const Pe=W.notification.body;Pe&&(V.notification.body=Pe);const qe=W.notification.image;qe&&(V.notification.image=qe);const it=W.notification.icon;it&&(V.notification.icon=it)}(W,V),function bi(V,W){W.data&&(V.data=W.data)}(W,V),function Si(V,W){var te,Pe,qe,it,Kt;if(!(W.fcmOptions||null!==(te=W.notification)&&void 0!==te&&te.click_action))return;V.fcmOptions={};const En=null!==(qe=null===(Pe=W.fcmOptions)||void 0===Pe?void 0:Pe.link)&&void 0!==qe?qe:null===(it=W.notification)||void 0===it?void 0:it.click_action;En&&(V.fcmOptions.link=En);const An=null===(Kt=W.fcmOptions)||void 0===Kt?void 0:Kt.analytics_label;An&&(V.fcmOptions.analyticsLabel=An)}(W,V),W}function Jl(V,W){const te=[];for(let Pe=0;Pe<V.length;Pe++)te.push(V.charAt(Pe)),Pe<W.length&&te.push(W.charAt(Pe));return te.join("")}function Ds(V){return gi.create("missing-app-config-values",{valueName:V})}Jl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Jl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bl{constructor(W,te,Pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const qe=function Ko(V){if(!V||!V.options)throw Ds("App Configuration Object");if(!V.name)throw Ds("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:te}=V;for(const Pe of W)if(!te[Pe])throw Ds(Pe);return{appName:V.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:qe,installations:te,analyticsProvider:Pe}}_delete(){return Promise.resolve()}}function wl(V){return xl.apply(this,arguments)}function xl(){return(xl=(0,Q.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register(ia,{scope:Os}),V.swRegistration.update().catch(()=>{})}catch(W){throw gi.create("failed-service-worker-registration",{browserErrorMessage:W?.message})}})).apply(this,arguments)}function Aa(){return(Aa=(0,Q.Z)(function*(V,W){if(!W&&!V.swRegistration&&(yield wl(V)),W||!V.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw gi.create("invalid-sw-registration");V.swRegistration=W}})).apply(this,arguments)}function Ls(){return(Ls=(0,Q.Z)(function*(V,W){W?V.vapidKey=W:V.vapidKey||(V.vapidKey=$a)})).apply(this,arguments)}function Is(){return Is=(0,Q.Z)(function*(V,W){if(!navigator)throw gi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gi.create("permission-blocked");return yield function tr(V,W){return Ls.apply(this,arguments)}(V,W?.vapidKey),yield function Cd(V,W){return Aa.apply(this,arguments)}(V,W?.serviceWorkerRegistration),function vl(V){return aa.apply(this,arguments)}(V)}),Is.apply(this,arguments)}function la(){return(la=(0,Q.Z)(function*(V,W,te){const Pe=function Ec(V){switch(V){case go.NOTIFICATION_CLICKED:return"notification_open";case go.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(W);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(Pe,{message_id:te[Sa],message_name:te[po],message_time:te[Wa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ma(){return Ma=(0,Q.Z)(function*(V,W){const te=W.data;if(!te.isFirebaseMessaging)return;V.onMessageHandler&&te.messageType===go.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(dt(te)):V.onMessageHandler.next(dt(te)));const Pe=te.data;(function gr(V){return"object"==typeof V&&!!V&&Sa in V})(Pe)&&"1"===Pe[ps]&&(yield function Gr(V,W,te){return la.apply(this,arguments)}(V,te.messageType,Pe))}),Ma.apply(this,arguments)}const Za="@firebase/messaging",Qa=V=>{const W=new bl(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function El(V,W){return Ma.apply(this,arguments)}(W,te)),W},Yo=V=>{const W=V.getProvider("messaging").getImmediate();return{getToken:Pe=>function qa(V,W){return Is.apply(this,arguments)}(W,Pe)}};function Ja(){return qo.apply(this,arguments)}function qo(){return(qo=(0,Q.Z)(function*(){try{yield(0,Ae.eu)()}catch{return!1}return typeof window<"u"&&(0,Ae.hl)()&&(0,Ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xa(){(0,ve._registerComponent)(new Se.wA("messaging",Qa,"PUBLIC")),(0,ve._registerComponent)(new Se.wA("messaging-internal",Yo,"PRIVATE")),(0,ve.registerVersion)(Za,"0.12.4"),(0,ve.registerVersion)(Za,"0.12.4","esm2017")}();const Mo="analytics",hr="firebase_id",el="origin",Bs=6e4,zc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ca="https://www.googletagmanager.com/gtag/js",_r=new we.Yd("@firebase/analytics"),gs=new Ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Dl(V){if(!V.startsWith(ca)){const W=gs.create("invalid-gtag-resource",{gtagURL:V});return _r.warn(W.message),""}return V}function Il(V){return Promise.all(V.map(W=>W.catch(te=>te)))}function j(){return(j=(0,Q.Z)(function*(V,W,te,Pe,qe,it){const Kt=Pe[qe];try{if(Kt)yield W[Kt];else{const An=(yield Il(te)).find(Zn=>Zn.measurementId===qe);An&&(yield W[An.appId])}}catch(En){_r.error(En)}V("config",qe,it)})).apply(this,arguments)}function ke(){return(ke=(0,Q.Z)(function*(V,W,te,Pe,qe){try{let it=[];if(qe&&qe.send_to){let Kt=qe.send_to;Array.isArray(Kt)||(Kt=[Kt]);const En=yield Il(te);for(const An of Kt){const Zn=En.find(Fn=>Fn.measurementId===An),Ni=Zn&&W[Zn.appId];if(!Ni){it=[];break}it.push(Ni)}}0===it.length&&(it=Object.values(W)),yield Promise.all(it),V("event",Pe,qe||{})}catch(it){_r.error(it)}})).apply(this,arguments)}const Ti=30,zn=new class Kn{constructor(W={},te=1e3){this.throttleMetadata=W,this.intervalMillis=te}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,te){this.throttleMetadata[W]=te}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function yr(V){return new Headers({Accept:"application/json","x-goog-api-key":V})}function ln(){return(ln=(0,Q.Z)(function*(V){var W;const{appId:te,apiKey:Pe}=V,qe={method:"GET",headers:yr(Pe)},it=zc.replace("{app-id}",te),Kt=yield fetch(it,qe);if(200!==Kt.status&&304!==Kt.status){let En="";try{const An=yield Kt.json();null!==(W=An.error)&&void 0!==W&&W.message&&(En=An.error.message)}catch{}throw gs.create("config-fetch-failed",{httpStatus:Kt.status,responseMessage:En})}return Kt.json()})).apply(this,arguments)}function tn(){return(tn=(0,Q.Z)(function*(V,W=zn,te){const{appId:Pe,apiKey:qe,measurementId:it}=V.options;if(!Pe)throw gs.create("no-app-id");if(!qe){if(it)return{measurementId:it,appId:Pe};throw gs.create("no-api-key")}const Kt=W.getThrottleMetadata(Pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},En=new Sl;return setTimeout((0,Q.Z)(function*(){En.abort()}),void 0!==te?te:Bs),_t({appId:Pe,apiKey:qe,measurementId:it},Kt,En,W)})).apply(this,arguments)}function _t(V,W,te){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,Q.Z)(function*(V,{throttleEndTimeMillis:W,backoffCount:te},Pe,qe=zn){var it;const{appId:Kt,measurementId:En}=V;try{yield function nr(V,W){return new Promise((te,Pe)=>{const qe=Math.max(W-Date.now(),0),it=setTimeout(te,qe);V.addEventListener(()=>{clearTimeout(it),Pe(gs.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(Pe,W)}catch(An){if(En)return _r.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${En} provided in the "measurementId" field in the local Firebase config. [${An?.message}]`),{appId:Kt,measurementId:En};throw An}try{const An=yield function Jt(V){return ln.apply(this,arguments)}(V);return qe.deleteThrottleMetadata(Kt),An}catch(An){const Zn=An;if(!function ko(V){if(!(V instanceof Ae.ZR&&V.customData))return!1;const W=Number(V.customData.httpStatus);return 429===W||500===W||503===W||504===W}(Zn)){if(qe.deleteThrottleMetadata(Kt),En)return _r.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${En} provided in the "measurementId" field in the local Firebase config. [${Zn?.message}]`),{appId:Kt,measurementId:En};throw An}const Ni=503===Number(null===(it=Zn?.customData)||void 0===it?void 0:it.httpStatus)?(0,Ae.$s)(te,qe.intervalMillis,Ti):(0,Ae.$s)(te,qe.intervalMillis),Fn={throttleEndTimeMillis:Date.now()+Ni,backoffCount:te+1};return qe.setThrottleMetadata(Kt,Fn),_r.debug(`Calling attemptFetch again in ${Ni} millis`),_t(V,Fn,Pe,qe)}}),Ht.apply(this,arguments)}class Sl{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}let Sd,Wi;function Tl(){return(Tl=(0,Q.Z)(function*(V,W,te,Pe,qe){if(qe&&qe.global)V("event",te,Pe);else{const it=yield W;V("event",te,Object.assign(Object.assign({},Pe),{send_to:it}))}})).apply(this,arguments)}function oi(){return(oi=(0,Q.Z)(function*(){if(!(0,Ae.hl)())return _r.warn(gs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ae.eu)()}catch(V){return _r.warn(gs.create("indexeddb-unavailable",{errorInfo:V?.toString()}).message),!1}return!0})).apply(this,arguments)}function fr(){return fr=(0,Q.Z)(function*(V,W,te,Pe,qe,it,Kt){var En;const An=function io(V){return tn.apply(this,arguments)}(V);An.then(Rr=>{te[Rr.measurementId]=Rr.appId,V.options.measurementId&&Rr.measurementId!==V.options.measurementId&&_r.warn(`The measurement ID in the local Firebase config (${V.options.measurementId}) does not match the measurement ID fetched from the server (${Rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Rr=>_r.error(Rr)),W.push(An);const Zn=function nc(){return oi.apply(this,arguments)}().then(Rr=>{if(Rr)return Pe.getId()}),[Ni,Fn]=yield Promise.all([An,Zn]);(function Dn(V){const W=window.document.getElementsByTagName("script");for(const te of Object.values(W))if(te.src&&te.src.includes(ca)&&te.src.includes(V))return te;return null})(it)||function Gc(V,W){const te=function Id(V,W){let te;return window.trustedTypes&&(te=window.trustedTypes.createPolicy(V,W)),te}("firebase-js-sdk-policy",{createScriptURL:Dl}),Pe=document.createElement("script"),qe=`${ca}?l=${V}&id=${W}`;Pe.src=te?te?.createScriptURL(qe):qe,Pe.async=!0,document.head.appendChild(Pe)}(it,Ni.measurementId),Wi&&(qe("consent","default",Wi),function Ki(V){Wi=V}(void 0)),qe("js",new Date);const ma=null!==(En=Kt?.config)&&void 0!==En?En:{};return ma[el]="firebase",ma.update=!0,null!=Fn&&(ma[hr]=Fn),qe("config",Ni.measurementId,ma),Sd&&(qe("set",Sd),function kn(V){Sd=V}(void 0)),Ni.measurementId}),fr.apply(this,arguments)}class cn{constructor(W){this.app=W}_delete(){return delete $r[this.app.options.appId],Promise.resolve()}}let $r={},da=[];const kr={};let ic,_s,Fr="dataLayer",os="gtag",ro=!1;function Ro(V,W,te){!function as(){const V=[];if((0,Ae.ru)()&&V.push("This is a browser extension environment."),(0,Ae.zI)()||V.push("Cookies are not available."),V.length>0){const W=V.map((Pe,qe)=>`(${qe+1}) ${Pe}`).join(" "),te=gs.create("invalid-analytics-context",{errorInfo:W});_r.warn(te.message)}}();const Pe=V.options.appId;if(!Pe)throw gs.create("no-app-id");if(!V.options.apiKey){if(!V.options.measurementId)throw gs.create("no-api-key");_r.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${V.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$r[Pe])throw gs.create("already-exists",{id:Pe});if(!ro){!function F(V){let W=[];Array.isArray(window[V])?W=window[V]:window[V]=W}(Fr);const{wrappedGtag:it,gtagCore:Kt}=function Pt(V,W,te,Pe,qe){let it=function(...Kt){window[Pe].push(arguments)};return window[qe]&&"function"==typeof window[qe]&&(it=window[qe]),window[qe]=function wt(V,W,te,Pe){function it(){return it=(0,Q.Z)(function*(Kt,En,An){try{"event"===Kt?yield function oe(V,W,te,Pe,qe){return ke.apply(this,arguments)}(V,W,te,En,An):"config"===Kt?yield function X(V,W,te,Pe,qe,it){return j.apply(this,arguments)}(V,W,te,Pe,En,An):"consent"===Kt?V("consent","update",An):V("set",En)}catch(Zn){_r.error(Zn)}}),it.apply(this,arguments)}return function qe(Kt,En,An){return it.apply(this,arguments)}}(it,V,W,te),{gtagCore:it,wrappedGtag:window[qe]}}($r,da,kr,Fr,os);_s=it,ic=Kt,ro=!0}return $r[Pe]=function lh(V,W,te,Pe,qe,it,Kt){return fr.apply(this,arguments)}(V,da,kr,W,ic,Fr,te),new cn(V)}function ha(){return nl.apply(this,arguments)}function nl(){return(nl=(0,Q.Z)(function*(){if((0,Ae.ru)()||!(0,Ae.zI)()||!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}const ac="@firebase/analytics";!function _f(){(0,ve._registerComponent)(new Se.wA(Mo,(W,{options:te})=>Ro(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,ve._registerComponent)(new Se.wA("analytics-internal",function V(W){try{const te=W.getProvider(Mo).getImmediate();return{logEvent:(Pe,qe,it)=>function oc(V,W,te,Pe){V=(0,Ae.m9)(V),function $c(V,W,te,Pe,qe){return Tl.apply(this,arguments)}(_s,$r[V.app.options.appId],W,te,Pe).catch(qe=>_r.error(qe))}(te,Pe,qe,it)}}catch(te){throw gs.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,ve.registerVersion)(ac,"0.9.5"),(0,ve.registerVersion)(ac,"0.9.5","esm2017")}();var lc=P(4408),Oo=P(7565);const mr=new class Kc extends Oo.v{}(class Ic extends lc.o{constructor(W,te){super(W,te),this.scheduler=W,this.work=te}schedule(W,te=0){return te>0?super.schedule(W,te):(this.delay=te,this.state=W,this.scheduler.flush(this),this)}execute(W,te){return te>0||this.closed?super.execute(W,te):this._execute(W,te)}requestAsyncId(W,te,Pe=0){return null!=Pe&&Pe>0||null==Pe&&this.delay>0?super.requestAsyncId(W,te,Pe):(W.flush(this),0)}});var Wr=P(4986),yu=P(8505),oo=P(5363),ls=P(9468);const dc=new _.GfV("7.5.0"),il="__angularfire_symbol__analyticsIsSupportedValue",A="__angularfire_symbol__analyticsIsSupported",k="__angularfire_symbol__remoteConfigIsSupportedValue",D="__angularfire_symbol__remoteConfigIsSupported",L="__angularfire_symbol__messagingIsSupportedValue",q="__angularfire_symbol__messagingIsSupported";function _n(V,W,te){if(W){if(1===W.length)return W[0];const it=W.filter(Kt=>Kt.app===te);if(1===it.length)return it[0]}return te.container.getProvider(V).getImmediate({optional:!0})}globalThis[A]||(globalThis[A]=ha().then(V=>globalThis[il]=V).catch(()=>globalThis[il]=!1)),globalThis[q]||(globalThis[q]=Ja().then(V=>globalThis[L]=V).catch(()=>globalThis[L]=!1)),globalThis[D]||(globalThis[D]=ts().then(V=>globalThis[k]=V).catch(()=>globalThis[k]=!1));const yn=(V,W)=>{const te=W?[W]:(0,h.C6)(),Pe=[];return te.forEach(qe=>{qe.container.getProvider(V).instances.forEach(Kt=>{Pe.includes(Kt)||Pe.push(Kt)})}),Pe};function wi(){}class cs{constructor(W,te=mr){this.zone=W,this.delegate=te}now(){return this.delegate.now()}schedule(W,te,Pe){const qe=this.zone;return this.delegate.schedule(function(Kt){qe.runGuarded(()=>{W.apply(this,[Kt])})},te,Pe)}}class rl{constructor(W){this.zone=W,this.task=null}call(W,te){const Pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wi,{},wi,wi)),te.pipe((0,yu.b)({next:Pe,complete:Pe,error:Pe})).subscribe(W).add(Pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qo=(()=>{class V{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new cs(Zone.current)),this.insideAngular=te.run(()=>new cs(Zone.current,Wr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(te){return new(te||V)(_.LFG(_.R0b))},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Ks(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function fa(V){return V.pipe((0,oo.Q)(Ks().outsideAngular))}function vu(V){return Ks(),function kl(V){return function(te){return(te=te.lift(new rl(V.ngZone))).pipe((0,ls.R)(V.outsideAngular),(0,oo.Q)(V.insideAngular))}}(Ks())(V)}},2090:(Wt,Ge,P)=>{P.d(Ge,{$s:()=>N,BH:()=>me,DV:()=>ri,Dv:()=>Yt,G6:()=>Mt,GJ:()=>yi,L:()=>xe,LL:()=>at,Pz:()=>De,Sg:()=>ze,UG:()=>Ce,UI:()=>hi,US:()=>Se,Wj:()=>Pn,Wl:()=>wn,Yr:()=>Et,ZB:()=>pe,ZR:()=>et,aH:()=>Ve,b$:()=>nn,cI:()=>Tn,dS:()=>Vi,eu:()=>kt,g5:()=>Q,gK:()=>st,gQ:()=>Di,h$:()=>ce,hl:()=>It,hu:()=>h,jU:()=>$e,lb:()=>xn,m9:()=>Ie,ne:()=>Sn,p$:()=>_e,pd:()=>_i,r3:()=>gn,ru:()=>mt,tV:()=>ne,uI:()=>ge,ug:()=>Rn,vZ:()=>ci,w1:()=>rt,w9:()=>jn,xO:()=>Gi,xb:()=>pi,z$:()=>Xe,zI:()=>St,zd:()=>fi});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},h=function(se,be){if(!se)throw Q(be)},Q=function(se){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+se)},ve=function(se){const be=[];let Fe=0;for(let ot=0;ot<se.length;ot++){let Ye=se.charCodeAt(ot);Ye<128?be[Fe++]=Ye:Ye<2048?(be[Fe++]=Ye>>6|192,be[Fe++]=63&Ye|128):55296==(64512&Ye)&&ot+1<se.length&&56320==(64512&se.charCodeAt(ot+1))?(Ye=65536+((1023&Ye)<<10)+(1023&se.charCodeAt(++ot)),be[Fe++]=Ye>>18|240,be[Fe++]=Ye>>12&63|128,be[Fe++]=Ye>>6&63|128,be[Fe++]=63&Ye|128):(be[Fe++]=Ye>>12|224,be[Fe++]=Ye>>6&63|128,be[Fe++]=63&Ye|128)}return be},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,be){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,ot=[];for(let Ye=0;Ye<se.length;Ye+=3){const on=se[Ye],Ne=Ye+1<se.length,Oe=Ne?se[Ye+1]:0,de=Ye+2<se.length,Be=de?se[Ye+2]:0;let rn=(15&Oe)<<2|Be>>6,Mn=63&Be;de||(Mn=64,Ne||(rn=64)),ot.push(Fe[on>>2],Fe[(3&on)<<4|Oe>>4],Fe[rn],Fe[Mn])}return ot.join("")},encodeString(se,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(se):this.encodeByteArray(ve(se),be)},decodeString(se,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(se):function(se){const be=[];let Fe=0,ot=0;for(;Fe<se.length;){const Ye=se[Fe++];if(Ye<128)be[ot++]=String.fromCharCode(Ye);else if(Ye>191&&Ye<224){const on=se[Fe++];be[ot++]=String.fromCharCode((31&Ye)<<6|63&on)}else if(Ye>239&&Ye<365){const de=((7&Ye)<<18|(63&se[Fe++])<<12|(63&se[Fe++])<<6|63&se[Fe++])-65536;be[ot++]=String.fromCharCode(55296+(de>>10)),be[ot++]=String.fromCharCode(56320+(1023&de))}else{const on=se[Fe++],Ne=se[Fe++];be[ot++]=String.fromCharCode((15&Ye)<<12|(63&on)<<6|63&Ne)}}return be.join("")}(this.decodeStringToByteArray(se,be))},decodeStringToByteArray(se,be){this.init_();const Fe=be?this.charToByteMapWebSafe_:this.charToByteMap_,ot=[];for(let Ye=0;Ye<se.length;){const on=Fe[se.charAt(Ye++)],Oe=Ye<se.length?Fe[se.charAt(Ye)]:0;++Ye;const Be=Ye<se.length?Fe[se.charAt(Ye)]:64;++Ye;const Lt=Ye<se.length?Fe[se.charAt(Ye)]:64;if(++Ye,null==on||null==Oe||null==Be||null==Lt)throw new we;ot.push(on<<2|Oe>>4),64!==Be&&(ot.push(Oe<<4&240|Be>>2),64!==Lt&&ot.push(Be<<6&192|Lt))}return ot},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ce=function(se){const be=ve(se);return Se.encodeByteArray(be,!0)},xe=function(se){return ce(se).replace(/\./g,"")},ne=function(se){try{return Se.decodeString(se,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function _e(se){return pe(void 0,se)}function pe(se,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return be}for(const Fe in be)!be.hasOwnProperty(Fe)||!nt(Fe)||(se[Fe]=pe(se[Fe],be[Fe]));return se}function nt(se){return"__proto__"!==se}const Le=()=>{try{return function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const se=process.env.__FIREBASE_DEFAULTS__;return se?JSON.parse(se):void 0})()||(()=>{if(typeof document>"u")return;let se;try{se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const be=se&&ne(se[1]);return be&&JSON.parse(be)})()}catch(se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${se}`)}},Ve=()=>{var se;return null===(se=Le())||void 0===se?void 0:se.config},De=se=>{var be;return null===(be=Le())||void 0===be?void 0:be[`_${se}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,Fe)=>{this.resolve=be,this.reject=Fe})}wrapCallback(be){return(Fe,ot)=>{Fe?this.reject(Fe):this.resolve(ot),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(Fe):be(Fe,ot))}}}function ze(se,be){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ot=be||"demo-project",Ye=se.iat||0,on=se.sub||se.user_id;if(!on)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${ot}`,aud:ot,iat:Ye,exp:Ye+3600,auth_time:Ye,sub:on,user_id:on,firebase:{sign_in_provider:"custom",identities:{}}},se);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(Ne)),""].join(".")}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Ce(){var se;const be=null===(se=Le())||void 0===se?void 0:se.forceEnvironment;if("node"===be)return!0;if("browser"===be)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function mt(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function nn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){const se=Xe();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function Et(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function Mt(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function It(){try{return"object"==typeof indexedDB}catch{return!1}}function kt(){return new Promise((se,be)=>{try{let Fe=!0;const ot="validate-browser-context-for-indexeddb-analytics-module",Ye=self.indexedDB.open(ot);Ye.onsuccess=()=>{Ye.result.close(),Fe||self.indexedDB.deleteDatabase(ot),se(!0)},Ye.onupgradeneeded=()=>{Fe=!1},Ye.onerror=()=>{var on;be((null===(on=Ye.error)||void 0===on?void 0:on.message)||"")}}catch(Fe){be(Fe)}})}function St(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class et extends Error{constructor(be,Fe,ot){super(Fe),this.code=be,this.customData=ot,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}}class at{constructor(be,Fe,ot){this.service=be,this.serviceName=Fe,this.errors=ot}create(be,...Fe){const ot=Fe[0]||{},Ye=`${this.service}/${be}`,on=this.errors[be],Ne=on?function bn(se,be){return se.replace(sn,(Fe,ot)=>{const Ye=be[ot];return null!=Ye?String(Ye):`<${ot}?>`})}(on,ot):"Error";return new et(Ye,`${this.serviceName}: ${Ne} (${Ye}).`,ot)}}const sn=/\{\$([^}]+)}/g;function Tn(se){return JSON.parse(se)}function wn(se){return JSON.stringify(se)}const On=function(se){let be={},Fe={},ot={},Ye="";try{const on=se.split(".");be=Tn(ne(on[0])||""),Fe=Tn(ne(on[1])||""),Ye=on[2],ot=Fe.d||{},delete Fe.d}catch{}return{header:be,claims:Fe,data:ot,signature:Ye}},jn=function(se){const Fe=On(se).claims;return!!Fe&&"object"==typeof Fe&&Fe.hasOwnProperty("iat")},yi=function(se){const be=On(se).claims;return"object"==typeof be&&!0===be.admin};function gn(se,be){return Object.prototype.hasOwnProperty.call(se,be)}function ri(se,be){if(Object.prototype.hasOwnProperty.call(se,be))return se[be]}function pi(se){for(const be in se)if(Object.prototype.hasOwnProperty.call(se,be))return!1;return!0}function hi(se,be,Fe){const ot={};for(const Ye in se)Object.prototype.hasOwnProperty.call(se,Ye)&&(ot[Ye]=be.call(Fe,se[Ye],Ye,se));return ot}function ci(se,be){if(se===be)return!0;const Fe=Object.keys(se),ot=Object.keys(be);for(const Ye of Fe){if(!ot.includes(Ye))return!1;const on=se[Ye],Ne=be[Ye];if(fn(on)&&fn(Ne)){if(!ci(on,Ne))return!1}else if(on!==Ne)return!1}for(const Ye of ot)if(!Fe.includes(Ye))return!1;return!0}function fn(se){return null!==se&&"object"==typeof se}function Gi(se){const be=[];for(const[Fe,ot]of Object.entries(se))Array.isArray(ot)?ot.forEach(Ye=>{be.push(encodeURIComponent(Fe)+"="+encodeURIComponent(Ye))}):be.push(encodeURIComponent(Fe)+"="+encodeURIComponent(ot));return be.length?"&"+be.join("&"):""}function fi(se){const be={};return se.replace(/^\?/,"").split("&").forEach(ot=>{if(ot){const[Ye,on]=ot.split("=");be[decodeURIComponent(Ye)]=decodeURIComponent(on)}}),be}function _i(se){const be=se.indexOf("?");if(!be)return"";const Fe=se.indexOf("#",be);return se.substring(be,Fe>0?Fe:void 0)}class Di{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let be=1;be<this.blockSize;++be)this.pad_[be]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(be,Fe){Fe||(Fe=0);const ot=this.W_;if("string"==typeof be)for(let Lt=0;Lt<16;Lt++)ot[Lt]=be.charCodeAt(Fe)<<24|be.charCodeAt(Fe+1)<<16|be.charCodeAt(Fe+2)<<8|be.charCodeAt(Fe+3),Fe+=4;else for(let Lt=0;Lt<16;Lt++)ot[Lt]=be[Fe]<<24|be[Fe+1]<<16|be[Fe+2]<<8|be[Fe+3],Fe+=4;for(let Lt=16;Lt<80;Lt++){const rn=ot[Lt-3]^ot[Lt-8]^ot[Lt-14]^ot[Lt-16];ot[Lt]=4294967295&(rn<<1|rn>>>31)}let Be,yt,Ye=this.chain_[0],on=this.chain_[1],Ne=this.chain_[2],Oe=this.chain_[3],de=this.chain_[4];for(let Lt=0;Lt<80;Lt++){Lt<40?Lt<20?(Be=Oe^on&(Ne^Oe),yt=1518500249):(Be=on^Ne^Oe,yt=1859775393):Lt<60?(Be=on&Ne|Oe&(on|Ne),yt=2400959708):(Be=on^Ne^Oe,yt=3395469782);const rn=(Ye<<5|Ye>>>27)+Be+de+yt+ot[Lt]&4294967295;de=Oe,Oe=Ne,Ne=4294967295&(on<<30|on>>>2),on=Ye,Ye=rn}this.chain_[0]=this.chain_[0]+Ye&4294967295,this.chain_[1]=this.chain_[1]+on&4294967295,this.chain_[2]=this.chain_[2]+Ne&4294967295,this.chain_[3]=this.chain_[3]+Oe&4294967295,this.chain_[4]=this.chain_[4]+de&4294967295}update(be,Fe){if(null==be)return;void 0===Fe&&(Fe=be.length);const ot=Fe-this.blockSize;let Ye=0;const on=this.buf_;let Ne=this.inbuf_;for(;Ye<Fe;){if(0===Ne)for(;Ye<=ot;)this.compress_(be,Ye),Ye+=this.blockSize;if("string"==typeof be){for(;Ye<Fe;)if(on[Ne]=be.charCodeAt(Ye),++Ne,++Ye,Ne===this.blockSize){this.compress_(on),Ne=0;break}}else for(;Ye<Fe;)if(on[Ne]=be[Ye],++Ne,++Ye,Ne===this.blockSize){this.compress_(on),Ne=0;break}}this.inbuf_=Ne,this.total_+=Fe}digest(){const be=[];let Fe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ye=this.blockSize-1;Ye>=56;Ye--)this.buf_[Ye]=255&Fe,Fe/=256;this.compress_(this.buf_);let ot=0;for(let Ye=0;Ye<5;Ye++)for(let on=24;on>=0;on-=8)be[ot]=this.chain_[Ye]>>on&255,++ot;return be}}function Sn(se,be){const Fe=new an(se,be);return Fe.subscribe.bind(Fe)}class an{constructor(be,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{be(this)}).catch(ot=>{this.error(ot)})}next(be){this.forEachObserver(Fe=>{Fe.next(be)})}error(be){this.forEachObserver(Fe=>{Fe.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,Fe,ot){let Ye;if(void 0===be&&void 0===Fe&&void 0===ot)throw new Error("Missing Observer.");Ye=function Un(se,be){if("object"!=typeof se||null===se)return!1;for(const Fe of be)if(Fe in se&&"function"==typeof se[Fe])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:Fe,complete:ot},void 0===Ye.next&&(Ye.next=Ot),void 0===Ye.error&&(Ye.error=Ot),void 0===Ye.complete&&(Ye.complete=Ot);const on=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ye.error(this.finalError):Ye.complete()}catch{}}),this.observers.push(Ye),on}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,be)}sendOne(be,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{Fe(this.observers[be])}catch(ot){typeof console<"u"&&console.error&&console.error(ot)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ot(){}const Yt=function(se,be,Fe,ot){let Ye;if(ot<be?Ye="at least "+be:ot>Fe&&(Ye=0===Fe?"none":"no more than "+Fe),Ye)throw new Error(se+" failed: Was called with "+ot+(1===ot?" argument.":" arguments.")+" Expects "+Ye+".")};function st(se,be){return`${se} failed: ${be} argument `}function Pn(se,be,Fe,ot){if((!ot||Fe)&&"function"!=typeof Fe)throw new Error(st(se,be)+"must be a valid function.")}function xn(se,be,Fe,ot){if((!ot||Fe)&&("object"!=typeof Fe||null===Fe))throw new Error(st(se,be)+"must be a valid context object.")}const Vi=function(se){const be=[];let Fe=0;for(let ot=0;ot<se.length;ot++){let Ye=se.charCodeAt(ot);if(Ye>=55296&&Ye<=56319){const on=Ye-55296;ot++,h(ot<se.length,"Surrogate pair missing trail surrogate."),Ye=65536+(on<<10)+(se.charCodeAt(ot)-56320)}Ye<128?be[Fe++]=Ye:Ye<2048?(be[Fe++]=Ye>>6|192,be[Fe++]=63&Ye|128):Ye<65536?(be[Fe++]=Ye>>12|224,be[Fe++]=Ye>>6&63|128,be[Fe++]=63&Ye|128):(be[Fe++]=Ye>>18|240,be[Fe++]=Ye>>12&63|128,be[Fe++]=Ye>>6&63|128,be[Fe++]=63&Ye|128)}return be},Rn=function(se){let be=0;for(let Fe=0;Fe<se.length;Fe++){const ot=se.charCodeAt(Fe);ot<128?be++:ot<2048?be+=2:ot>=55296&&ot<=56319?(be+=4,Fe++):be+=3}return be},si=1e3,$t=2,Re=144e5,K=.5;function N(se,be=si,Fe=$t){const ot=be*Math.pow(Fe,se),Ye=Math.round(K*ot*(Math.random()-.5)*2);return Math.min(Re,ot+Ye)}function Ie(se){return se&&se._delegate?se._delegate:se}},8146:(Wt,Ge,P)=>{P.d(Ge,{G:()=>xe});var _=P(4650),h=P(7839),Q=P(9116),ve=P(4006),Ae=P(3546),Se=P(4144),we=P(9549),ce=P(9101);let xe=(()=>{class ne{constructor(pe,nt){this.globalService=pe,this.router=nt}ngOnInit(){}onLogin(pe){console.log(pe.value),this.globalService.SignIn(pe.value.username,pe.value.password)}}return ne.\u0275fac=function(pe){return new(pe||ne)(_.Y36(h.U),_.Y36(Q.F0))},ne.\u0275cmp=_.Xpm({type:ne,selectors:[["app-login"]],decls:25,vars:1,consts:[[1,"container"],[1,"row","mt-3"],[1,"col-12","col-lg-4","offset-lg-4"],[1,"text-center"],["mat-card-avatar","","src","assets/apre-golfer-logo.png"],[1,"mt-3",3,"ngSubmit"],["loginForm","ngForm"],["appearance","outline",1,"w-75"],["ngModel","","required","","matInput","","minlength","3","name","username","type","text","autocomplete","apds_username"],["username","ngModel"],["ngModel","","required","","matInput","","minlength","5","name","password","type","password","autocomplete","new-password"],["password","ngModel"],["type","submit","color","primary","mat-raised-button","",3,"disabled"]],template:function(pe,nt){if(1&pe){const Ke=_.EpF();_.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title"),_._uU(6," Login "),_.qZA(),_._UZ(7,"img",4),_.qZA(),_.TgZ(8,"mat-card-content")(9,"form",5,6),_.NdJ("ngSubmit",function(){_.CHM(Ke);const ht=_.MAs(10);return _.KtG(nt.onLogin(ht))}),_.TgZ(11,"p")(12,"mat-form-field",7)(13,"mat-label"),_._uU(14,"Username"),_.qZA(),_._UZ(15,"input",8,9),_.qZA()(),_.TgZ(17,"p")(18,"mat-form-field",7)(19,"mat-label"),_._uU(20,"Password"),_.qZA(),_._UZ(21,"input",10,11),_.qZA()(),_.TgZ(23,"button",12),_._uU(24," Login "),_.qZA()()()()()()()}if(2&pe){const Ke=_.MAs(10);_.xp6(23),_.Q6J("disabled",Ke.invalid)}},dependencies:[ve._Y,ve.Fj,ve.JJ,ve.JL,ve.Q7,ve.wO,ve.On,ve.F,Ae.a8,Ae.kc,Ae.dn,Ae.dk,Ae.n5,Se.Nt,we.KE,we.hX,ce.lW]}),ne})()},7839:(Wt,Ge,P)=>{P.d(Ge,{U:()=>we});var _=P(4650),h=P(529),Q=P(2289),ve=P(3101),Ae=P(3385),Se=P(9116);let we=(()=>{class ce{get loggedInUser(){return this._loggedInUser}set loggedInUser(ne){this._loggedInUser=ne}get isLoggedIn(){const ne=JSON.parse(localStorage.getItem("user"));return console.warn("isLoggedIn user=",JSON.stringify(ne)),null!==ne&&!1!==ne.emailVerified}get loggedIn(){return this._loggedIn}set loggedIn(ne){this._loggedIn=ne}get userList(){return this._userList}set userList(ne){this._userList=ne}get userListBooking(){return this._userListBooking}set userListBooking(ne){this._userListBooking=ne}get drinkBookings(){return this._drinkBookings}set drinkBookings(ne){this._drinkBookings=ne}get drinksData(){return this._drinksData}set drinksData(ne){this._drinksData=ne}get allDataLoaded(){return this._allDataLoaded}set allDataLoaded(ne){this._allDataLoaded=ne}ngOnInit(){}constructor(ne,_e,pe,nt,Ke,xt){this.httpClient=ne,this.responsive=_e,this.afs=pe,this.afAuth=nt,this.router=Ke,this.ngZone=xt,this.firebaseUserIdToken="",this._loggedInUser=JSON.parse(localStorage.getItem("user")),this._loggedIn=this.isLoggedIn,this._userList=[],this._userListBooking=[],this._drinkBookings=[],this._drinksData=[],this._allDataLoaded=!1,console.warn("GlobalService constructor");const ht=JSON.parse(localStorage.getItem("user"));ht&&(this._loggedIn=!0,this.firebaseUserIdToken=ht.stsTokenManager.accessToken),console.warn("GlobalService constructor user=",JSON.stringify(ht)),this.afAuth.authState.subscribe(Ze=>{console.warn("GlobalService AuthState subscribe() user=",JSON.stringify(Ze)),Ze?(this.firebaseUserData=Ze,localStorage.setItem("user",JSON.stringify(this.firebaseUserData)),JSON.parse(localStorage.getItem("user")),this.loadAllData(()=>{console.warn("callback router navigate dashboard 1"),this.router.navigate(["/dashboard"])})):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(ne,_e){return this.afAuth.signInWithEmailAndPassword(ne,_e).then(pe=>{console.warn("SignIn success result=",JSON.stringify(pe)),this.SetUserData(pe.user),this.loggedIn=!0,this.loadAllData(()=>{console.warn("callback router navigate dashboard 2"),this.router.navigate(["/dashboard"])}),this.afAuth.authState.subscribe(Ke=>{Ke&&this.router.navigate(["/dashboard"])})}).catch(pe=>{console.warn("SignIn ERROR"),window.alert(pe.message)})}SignOut(){return this.afAuth.signOut().then(()=>{console.warn("SignOut success"),localStorage.removeItem("user"),this.loggedIn=!1,this.router.navigate(["auth/login"])})}SetUserData(ne){return this.afs.doc(`users/${ne.uid}`).set({uid:ne.uid,email:ne.email,displayName:ne.displayName,photoURL:ne.photoURL,emailVerified:ne.emailVerified},{merge:!0})}loadAllData(ne){console.warn("loadAllData()"),this.httpClient.get("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/users.json?auth="+this.firebaseUserIdToken).subscribe({next:_e=>{console.log("Firebase Users:",_e);let pe=Object.values(_e);console.log("personArray: ",pe),this.userList=pe,this.userListBooking=pe.filter(nt=>!0===nt.bookingAllowed),this.checkAllDataLoaded(ne)},error:_e=>{console.error(_e)},complete:()=>{}}),this.httpClient.get("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/drinks.json?auth="+this.firebaseUserIdToken).subscribe(_e=>{console.log("drinks response:",_e);let pe=Object.values(_e);this._drinksData=pe,this.checkAllDataLoaded(ne)}),this.httpClient.get("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/bookings.json?auth="+this.firebaseUserIdToken).subscribe({next:_e=>{console.log("DrinkService HttpClient next() drinkBookings response=",_e),this.drinkBookings=Object.values(_e),this.checkAllDataLoaded(ne)},error:_e=>{console.error(_e)},complete:()=>{console.log("DrinkService drinkBookings complete() drinkBookings=",this.drinkBookings.length)}})}checkAllDataLoaded(ne){console.warn("checkAllDataLoaded() drinksData.length=",this._drinksData.length," // userList.length=",this.userList.length," // drinkBookings=",this.drinkBookings.length," // callback=",ne),this._drinksData&&this._drinksData.length>0&&this.drinkBookings&&this.drinkBookings.length>0&&this.userList&&this.userList.length>0&&ne&&(this._allDataLoaded=!0,ne())}}return ce.\u0275fac=function(ne){return new(ne||ce)(_.LFG(h.eN),_.LFG(Q.Yg),_.LFG(ve.ST),_.LFG(Ae.zQ),_.LFG(Se.F0),_.LFG(_.R0b))},ce.\u0275prov=_.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},687:(Wt,Ge,P)=>{var _=P(1481),h=P(4650),Q=P(2289),ve=P(4004),Ae=P(3151),Se=P(7839),we=P(6895),ce=P(3238),xe=P(3353);const ne=["*",[["mat-toolbar-row"]]],_e=["*","mat-toolbar-row"],pe=(0,ce.pj)(class{constructor(r){this._elementRef=r}});let nt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),Ke=(()=>{class r extends pe{constructor(e,s,u){super(e),this._platform=s,this._document=u}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(xe.t4),h.Y36(we.K0))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-toolbar"]],contentQueries:function(e,s,u){if(1&e&&h.Suo(u,nt,5),2&e){let p;h.iGM(p=h.CRH())&&(s._toolbarRows=p)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,s){2&e&&h.ekj("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:_e,decls:2,vars:0,template:function(e,s){1&e&&(h.F$t(ne),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),r})(),ht=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ce.BQ,ce.BQ]}),r})();var Ze=P(9101),Le=P(1281),Ee=P(7579),Ct=P(9646),Ve=P(9751),De=P(8421),me=P(5577),ze=P(1144),Xe=P(576),ge=P(3268);const Ce=["addListener","removeListener"],$e=["addEventListener","removeEventListener"],mt=["on","off"];function nn(r,n,e,s){if((0,Xe.m)(e)&&(s=e,e=void 0),s)return nn(r,n,e).pipe((0,ge.Z)(s));const[u,p]=function Et(r){return(0,Xe.m)(r.addEventListener)&&(0,Xe.m)(r.removeEventListener)}(r)?$e.map(x=>S=>r[x](n,S,e)):function rt(r){return(0,Xe.m)(r.addListener)&&(0,Xe.m)(r.removeListener)}(r)?Ce.map(Nt(r,n)):function ft(r){return(0,Xe.m)(r.on)&&(0,Xe.m)(r.off)}(r)?mt.map(Nt(r,n)):[];if(!u&&(0,ze.z)(r))return(0,me.z)(x=>nn(x,n,e))((0,De.Xf)(r));if(!u)throw new TypeError("Invalid event target");return new Ve.y(x=>{const S=(...B)=>x.next(1<B.length?B:B[0]);return u(S),()=>p(S)})}function Nt(r,n){return e=>s=>r[e](n,s)}var Mt=P(4408),It=P(727);const kt={schedule(r){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:s}=kt;s&&(n=s.requestAnimationFrame,e=s.cancelAnimationFrame);const u=n(p=>{e=void 0,r(p)});return new It.w0(()=>e?.(u))},requestAnimationFrame(...r){const{delegate:n}=kt;return(n?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:n}=kt;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};var bt=P(7565);const at=new class et extends bt.v{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:s}=this;let u;n=n||s.shift();do{if(u=n.execute(n.state,n.delay))break}while((n=s[0])&&n.id===e&&s.shift());if(this._active=!1,u){for(;(n=s[0])&&n.id===e&&s.shift();)n.unsubscribe();throw u}}}(class St extends Mt.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,s=0){return null!==s&&s>0?super.requestAsyncId(n,e,s):(n.actions.push(this),n._scheduled||(n._scheduled=kt.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,s=0){var u;if(null!=s?s>0:this.delay>0)return super.recycleAsyncId(n,e,s);const{actions:p}=n;null!=e&&(null===(u=p[p.length-1])||void 0===u?void 0:u.id)!==e&&(kt.cancelAnimationFrame(e),n._scheduled=void 0)}});let Tn,sn=1;const wn={};function On(r){return r in wn&&(delete wn[r],!0)}const Hn={setImmediate(r){const n=sn++;return wn[n]=!0,Tn||(Tn=Promise.resolve()),Tn.then(()=>On(n)&&r()),n},clearImmediate(r){On(r)}},{setImmediate:jn,clearImmediate:yi}=Hn,gn={setImmediate(...r){const{delegate:n}=gn;return(n?.setImmediate||jn)(...r)},clearImmediate(r){const{delegate:n}=gn;return(n?.clearImmediate||yi)(r)},delegate:void 0},hi=new class pi extends bt.v{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:s}=this;let u;n=n||s.shift();do{if(u=n.execute(n.state,n.delay))break}while((n=s[0])&&n.id===e&&s.shift());if(this._active=!1,u){for(;(n=s[0])&&n.id===e&&s.shift();)n.unsubscribe();throw u}}}(class ri extends Mt.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,s=0){return null!==s&&s>0?super.requestAsyncId(n,e,s):(n.actions.push(this),n._scheduled||(n._scheduled=gn.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,s=0){var u;if(null!=s?s>0:this.delay>0)return super.recycleAsyncId(n,e,s);const{actions:p}=n;null!=e&&(null===(u=p[p.length-1])||void 0===u?void 0:u.id)!==e&&(gn.clearImmediate(e),n._scheduled=void 0)}});var fn=P(4986),vi=P(4482),Gi=P(5403),_i=P(3532);function an(r,n=fn.z){return function fi(r){return(0,vi.e)((n,e)=>{let s=!1,u=null,p=null,x=!1;const S=()=>{if(p?.unsubscribe(),p=null,s){s=!1;const Z=u;u=null,e.next(Z)}x&&e.complete()},B=()=>{p=null,x&&e.complete()};n.subscribe((0,Gi.x)(e,Z=>{s=!0,u=Z,p||(0,De.Xf)(r(Z)).subscribe(p=(0,Gi.x)(e,S,B))},()=>{x=!0,(!s||!p||p.closed)&&e.complete()}))})}(()=>function Sn(r=0,n,e=fn.P){let s=-1;return null!=n&&((0,_i.K)(n)?e=n:s=n),new Ve.y(u=>{let p=function Di(r){return r instanceof Date&&!isNaN(r)}(r)?+r-e.now():r;p<0&&(p=0);let x=0;return e.schedule(function(){u.closed||(u.next(x++),0<=s?this.schedule(void 0,s):u.complete())},p)})}(r,n))}var Dt=P(9300),Un=P(2722),Ot=P(8675),Yt=P(445);const st=["contentWrapper"],Ft=["*"],Pn=new h.OlP("VIRTUAL_SCROLL_STRATEGY");let si=(()=>{class r{constructor(e,s,u){this._ngZone=e,this._platform=s,this._scrolled=new Ee.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=u}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const s=this.scrollContainers.get(e);s&&(s.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ve.y(s=>{this._globalSubscription||this._addGlobalListener();const u=e>0?this._scrolled.pipe(an(e)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{u.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ct.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(e,s){const u=this.getAncestorScrollContainers(e);return this.scrolled(s).pipe((0,Dt.h)(p=>!p||u.indexOf(p)>-1))}getAncestorScrollContainers(e){const s=[];return this.scrollContainers.forEach((u,p)=>{this._scrollableContainsElement(p,e)&&s.push(p)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,s){let u=(0,Le.fI)(s),p=e.getElementRef().nativeElement;do{if(u==p)return!0}while(u=u.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>nn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(h.R0b),h.LFG(xe.t4),h.LFG(we.K0,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),$t=(()=>{class r{constructor(e,s,u,p){this.elementRef=e,this.scrollDispatcher=s,this.ngZone=u,this.dir=p,this._destroyed=new Ee.x,this._elementScrolled=new Ve.y(x=>this.ngZone.runOutsideAngular(()=>nn(this.elementRef.nativeElement,"scroll").pipe((0,Un.R)(this._destroyed)).subscribe(x)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const s=this.elementRef.nativeElement,u=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=u?e.end:e.start),null==e.right&&(e.right=u?e.start:e.end),null!=e.bottom&&(e.top=s.scrollHeight-s.clientHeight-e.bottom),u&&0!=(0,xe._i)()?(null!=e.left&&(e.right=s.scrollWidth-s.clientWidth-e.left),2==(0,xe._i)()?e.left=e.right:1==(0,xe._i)()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=s.scrollWidth-s.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const s=this.elementRef.nativeElement;(0,xe.Mq)()?s.scrollTo(e):(null!=e.top&&(s.scrollTop=e.top),null!=e.left&&(s.scrollLeft=e.left))}measureScrollOffset(e){const s="left",u="right",p=this.elementRef.nativeElement;if("top"==e)return p.scrollTop;if("bottom"==e)return p.scrollHeight-p.clientHeight-p.scrollTop;const x=this.dir&&"rtl"==this.dir.value;return"start"==e?e=x?u:s:"end"==e&&(e=x?s:u),x&&2==(0,xe._i)()?e==s?p.scrollWidth-p.clientWidth-p.scrollLeft:p.scrollLeft:x&&1==(0,xe._i)()?e==s?p.scrollLeft+p.scrollWidth-p.clientWidth:-p.scrollLeft:e==s?p.scrollLeft:p.scrollWidth-p.clientWidth-p.scrollLeft}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(si),h.Y36(h.R0b),h.Y36(Yt.Is,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),r})(),K=(()=>{class r{constructor(e,s,u){this._platform=e,this._change=new Ee.x,this._changeListener=p=>{this._change.next(p)},this._document=u,s.runOutsideAngular(()=>{if(e.isBrowser){const p=this._getWindow();p.addEventListener("resize",this._changeListener),p.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:s,height:u}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+u,right:e.left+s,height:u,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,s=this._getWindow(),u=e.documentElement,p=u.getBoundingClientRect();return{top:-p.top||e.body.scrollTop||s.scrollY||u.scrollTop||0,left:-p.left||e.body.scrollLeft||s.scrollX||u.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(an(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(xe.t4),h.LFG(h.R0b),h.LFG(we.K0,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const N=new h.OlP("VIRTUAL_SCROLLABLE");let H=(()=>{class r extends $t{constructor(e,s,u,p){super(e,s,u,p)}measureViewportSize(e){const s=this.elementRef.nativeElement;return"horizontal"===e?s.clientWidth:s.clientHeight}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(si),h.Y36(h.R0b),h.Y36(Yt.Is,8))},r.\u0275dir=h.lG2({type:r,features:[h.qOj]}),r})();const Ie=typeof requestAnimationFrame<"u"?at:hi;let se=(()=>{class r extends H{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=(0,Le.Ig)(e)}constructor(e,s,u,p,x,S,B,Z){super(e,S,u,x),this.elementRef=e,this._changeDetectorRef=s,this._scrollStrategy=p,this.scrollable=Z,this._platform=(0,h.f3M)(xe.t4),this._detachedSubject=new Ee.x,this._renderedRangeSubject=new Ee.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Ve.y(le=>this._scrollStrategy.scrolledIndexChange.subscribe(Te=>Promise.resolve().then(()=>this.ngZone.run(()=>le.next(Te))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=It.w0.EMPTY,this._viewportChanges=B.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,Ot.O)(null),an(0,Ie)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe((0,Un.R)(this._detachedSubject)).subscribe(s=>{const u=s.length;u!==this._dataLength&&(this._dataLength=u,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function ue(r,n){return r.start==n.start&&r.end==n.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,s="to-start"){e=this.appendOnly&&"to-start"===s?0:e;const p="horizontal"==this.orientation,x=p?"X":"Y";let B=`translate${x}(${Number((p&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===s&&(B+=` translate${x}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=B&&(this._renderedContentTransform=B,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,s="auto"){const u={behavior:s};"horizontal"===this.orientation?u.start=e:u.top=e,this.scrollable.scrollTo(u)}scrollToIndex(e,s="auto"){this._scrollStrategy.scrollToIndex(e,s)}measureScrollOffset(e){let s;return s=this.scrollable==this?u=>super.measureScrollOffset(u):u=>this.scrollable.measureScrollOffset(u),Math.max(0,s(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let s;const u="left",p="right",x="rtl"==this.dir?.value;s="start"==e?x?p:u:"end"==e?x?u:p:e||("horizontal"===this.orientation?"left":"top");const S=this.scrollable.measureBoundingClientRectWithScrollOffset(s);return this.elementRef.nativeElement.getBoundingClientRect()[s]-S}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const s of e)s()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.R0b),h.Y36(Pn,8),h.Y36(Yt.Is,8),h.Y36(si),h.Y36(K),h.Y36(N,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,s){if(1&e&&h.Gf(st,7),2&e){let u;h.iGM(u=h.CRH())&&(s._contentWrapper=u.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,s){2&e&&h.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===s.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==s.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[h._Bn([{provide:$t,useFactory:(n,e)=>n||e,deps:[[new h.FiY,new h.tBr(N)],r]}]),h.qOj,h.jDz],ngContentSelectors:Ft,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,s){1&e&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA(),h._UZ(3,"div",2)),2&e&&(h.xp6(3),h.Udp("width",s._totalContentWidth)("height",s._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),r})(),on=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})(),Ne=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Yt.vT,on,se,Yt.vT,on]}),r})();var Oe=P(2687),de=P(9521),Be=P(6451),yt=P(9718),Lt=P(1884),rn=P(5698),Mn=P(8372),Vt=P(7340);const Hr=["*"],cr=["content"];function js(r,n){if(1&r){const e=h.EpF();h.TgZ(0,"div",2),h.NdJ("click",function(){h.CHM(e);const u=h.oxw();return h.KtG(u._onBackdropClicked())}),h.qZA()}if(2&r){const e=h.oxw();h.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function hs(r,n){1&r&&(h.TgZ(0,"mat-drawer-content"),h.Hsn(1,2),h.qZA())}const Do=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],zs=["mat-drawer","mat-drawer-content","*"];function mo(r,n){if(1&r){const e=h.EpF();h.TgZ(0,"div",2),h.NdJ("click",function(){h.CHM(e);const u=h.oxw();return h.KtG(u._onBackdropClicked())}),h.qZA()}if(2&r){const e=h.oxw();h.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function ws(r,n){1&r&&(h.TgZ(0,"mat-sidenav-content"),h.Hsn(1,2),h.qZA())}const mi=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],sr=["mat-sidenav","mat-sidenav-content","*"],xs={transformDrawer:(0,Vt.X$)("transform",[(0,Vt.SB)("open, open-instant",(0,Vt.oB)({transform:"none",visibility:"visible"})),(0,Vt.SB)("void",(0,Vt.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Vt.eR)("void => open-instant",(0,Vt.jt)("0ms")),(0,Vt.eR)("void <=> open, open-instant => void",(0,Vt.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ki=new h.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Nn(){return!1}}),mn=new h.OlP("MAT_DRAWER_CONTAINER");let Ii=(()=>{class r extends $t{constructor(e,s,u,p,x){super(u,p,x),this._changeDetectorRef=e,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.sBO),h.Y36((0,h.Gpc)(()=>es)),h.Y36(h.SBq),h.Y36(si),h.Y36(h.R0b))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,s){2&e&&h.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[h._Bn([{provide:$t,useExisting:r}]),h.qOj],ngContentSelectors:Hr,decls:1,vars:0,template:function(e,s){1&e&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),Tr=(()=>{class r{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,Le.Ig)(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,Le.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,Le.Ig)(e))}constructor(e,s,u,p,x,S,B,Z){this._elementRef=e,this._focusTrapFactory=s,this._focusMonitor=u,this._platform=p,this._ngZone=x,this._interactivityChecker=S,this._doc=B,this._container=Z,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ee.x,this._animationEnd=new Ee.x,this._animationState="void",this.openedChange=new h.vpe(!0),this._openedStream=this.openedChange.pipe((0,Dt.h)(le=>le),(0,ve.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Dt.h)(le=>le.fromState!==le.toState&&0===le.toState.indexOf("open")),(0,yt.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Dt.h)(le=>!le),(0,ve.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Dt.h)(le=>le.fromState!==le.toState&&"void"===le.toState),(0,yt.h)(void 0)),this._destroyed=new Ee.x,this.onPositionChanged=new h.vpe,this._modeChanged=new Ee.x,this.openedChange.subscribe(le=>{le?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{nn(this._elementRef.nativeElement,"keydown").pipe((0,Dt.h)(le=>le.keyCode===de.hY&&!this.disableClose&&!(0,de.Vb)(le)),(0,Un.R)(this._destroyed)).subscribe(le=>this._ngZone.run(()=>{this.close(),le.stopPropagation(),le.preventDefault()}))}),this._animationEnd.pipe((0,Lt.x)((le,Te)=>le.fromState===Te.fromState&&le.toState===Te.toState)).subscribe(le=>{const{fromState:Te,toState:We}=le;(0===We.indexOf("open")&&"void"===Te||"void"===We&&0===Te.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,s){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const u=()=>{e.removeEventListener("blur",u),e.removeEventListener("mousedown",u),e.removeAttribute("tabindex")};e.addEventListener("blur",u),e.addEventListener("mousedown",u)})),e.focus(s)}_focusByCssSelector(e,s){let u=this._elementRef.nativeElement.querySelector(e);u&&this._forceFocus(u,s)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(s=>{!s&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,s){e&&s&&(this._openedVia=s);const u=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),u}_setOpen(e,s,u){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",s&&this._restoreFocus(u)),this._updateFocusTrapState(),new Promise(p=>{this.openedChange.pipe((0,rn.q)(1)).subscribe(x=>p(x?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const s=this._elementRef.nativeElement,u=s.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),u.insertBefore(this._anchor,s)),u.appendChild(s)):this._anchor&&this._anchor.parentNode.insertBefore(s,this._anchor)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(Oe.qV),h.Y36(Oe.tE),h.Y36(xe.t4),h.Y36(h.R0b),h.Y36(Oe.ic),h.Y36(we.K0,8),h.Y36(mn,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-drawer"]],viewQuery:function(e,s){if(1&e&&h.Gf(cr,5),2&e){let u;h.iGM(u=h.CRH())&&(s._content=u.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,s){1&e&&h.WFA("@transform.start",function(p){return s._animationStarted.next(p)})("@transform.done",function(p){return s._animationEnd.next(p)}),2&e&&(h.uIk("align",null),h.d8E("@transform",s._animationState),h.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Hr,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,s){1&e&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA())},dependencies:[$t],encapsulation:2,data:{animation:[xs.transformDrawer]},changeDetection:0}),r})(),es=(()=>{class r{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,Le.Ig)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,Le.Ig)(e)}get scrollable(){return this._userContent||this._content}constructor(e,s,u,p,x,S=!1,B){this._dir=e,this._element=s,this._ngZone=u,this._changeDetectorRef=p,this._animationMode=B,this._drawers=new h.n_E,this.backdropClick=new h.vpe,this._destroyed=new Ee.x,this._doCheckSubject=new Ee.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ee.x,e&&e.change.pipe((0,Un.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),x.change().pipe((0,Un.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=S}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Ot.O)(this._allDrawers),(0,Un.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Ot.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Mn.b)(10),(0,Un.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const u=this._left._getWidth();e+=u,s-=u}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const u=this._right._getWidth();s+=u,e-=u}e=e||null,s=s||null,(e!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:e,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,Dt.h)(s=>s.fromState!==s.toState),(0,Un.R)(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,Un.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe((0,Un.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,rn.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,Un.R)((0,Be.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const s=this._element.nativeElement.classList,u="mat-drawer-container-has-open";e?s.add(u):s.remove(u)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Yt.Is,8),h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(h.sBO),h.Y36(K),h.Y36(ki),h.Y36(h.QbO,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,Ii,5),h.Suo(u,Tr,5)),2&e){let p;h.iGM(p=h.CRH())&&(s._content=p.first),h.iGM(p=h.CRH())&&(s._allDrawers=p)}},viewQuery:function(e,s){if(1&e&&h.Gf(Ii,5),2&e){let u;h.iGM(u=h.CRH())&&(s._userContent=u.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,s){2&e&&h.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[h._Bn([{provide:mn,useExisting:r}])],ngContentSelectors:zs,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,s){1&e&&(h.F$t(Do),h.YNc(0,js,1,2,"div",0),h.Hsn(1),h.Hsn(2,1),h.YNc(3,hs,2,0,"mat-drawer-content",1)),2&e&&(h.Q6J("ngIf",s.hasBackdrop),h.xp6(3),h.Q6J("ngIf",!s._content))},dependencies:[we.O5,Ii],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),r})(),Gn=(()=>{class r extends Ii{constructor(e,s,u,p,x){super(e,s,u,p,x)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.sBO),h.Y36((0,h.Gpc)(()=>Ri)),h.Y36(h.SBq),h.Y36(si),h.Y36(h.R0b))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,s){2&e&&h.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[h._Bn([{provide:$t,useExisting:r}]),h.qOj],ngContentSelectors:Hr,decls:1,vars:0,template:function(e,s){1&e&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),$i=(()=>{class r extends Tr{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,Le.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,Le.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,Le.su)(e)}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,s){2&e&&(h.uIk("align",null),h.Udp("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),h.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[h.qOj],ngContentSelectors:Hr,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,s){1&e&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA())},dependencies:[$t],encapsulation:2,data:{animation:[xs.transformDrawer]},changeDetection:0}),r})(),Ri=(()=>{class r extends es{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,Gn,5),h.Suo(u,$i,5)),2&e){let p;h.iGM(p=h.CRH())&&(s._content=p.first),h.iGM(p=h.CRH())&&(s._allDrawers=p)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,s){2&e&&h.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],features:[h._Bn([{provide:mn,useExisting:r}]),h.qOj],ngContentSelectors:sr,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,s){1&e&&(h.F$t(mi),h.YNc(0,mo,1,2,"div",0),h.Hsn(1),h.Hsn(2,1),h.YNc(3,ws,2,0,"mat-sidenav-content",1)),2&e&&(h.Q6J("ngIf",s.hasBackdrop),h.xp6(3),h.Q6J("ngIf",!s._content))},dependencies:[we.O5,Gn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),r})(),xr=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[we.ez,ce.BQ,on,on,ce.BQ]}),r})();var Er=P(2843),qn=P(4128),Nr=P(8505),na=P(262),Ia=P(8746),Cr=P(3099),Ji=P(529);const fs=["*"];let Rs;function Es(r){return function Zr(){if(void 0===Rs&&(Rs=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(Rs=r.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Rs}()?.createHTML(r)||r}function Dr(r){return Error(`Unable to find icon with the name "${r}"`)}function Gs(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function Qe(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class je{constructor(n,e,s){this.url=n,this.svgText=e,this.options=s}}let lt=(()=>{class r{constructor(e,s,u,p){this._httpClient=e,this._sanitizer=s,this._errorHandler=p,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=u}addSvgIcon(e,s,u){return this.addSvgIconInNamespace("",e,s,u)}addSvgIconLiteral(e,s,u){return this.addSvgIconLiteralInNamespace("",e,s,u)}addSvgIconInNamespace(e,s,u,p){return this._addSvgIconConfig(e,s,new je(u,null,p))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,s,u,p){const x=this._sanitizer.sanitize(h.q3G.HTML,u);if(!x)throw Qe(u);const S=Es(x);return this._addSvgIconConfig(e,s,new je("",S,p))}addSvgIconSet(e,s){return this.addSvgIconSetInNamespace("",e,s)}addSvgIconSetLiteral(e,s){return this.addSvgIconSetLiteralInNamespace("",e,s)}addSvgIconSetInNamespace(e,s,u){return this._addSvgIconSetConfig(e,new je(s,null,u))}addSvgIconSetLiteralInNamespace(e,s,u){const p=this._sanitizer.sanitize(h.q3G.HTML,s);if(!p)throw Qe(s);const x=Es(p);return this._addSvgIconSetConfig(e,new je("",x,u))}registerFontClassAlias(e,s=e){return this._fontCssClassesByAlias.set(e,s),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const s=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,e);if(!s)throw Gs(e);const u=this._cachedIconsByUrl.get(s);return u?(0,Ct.of)(pn(u)):this._loadSvgIconFromConfig(new je(e,null)).pipe((0,Nr.b)(p=>this._cachedIconsByUrl.set(s,p)),(0,ve.U)(p=>pn(p)))}getNamedSvgIcon(e,s=""){const u=ei(s,e);let p=this._svgIconConfigs.get(u);if(p)return this._getSvgFromConfig(p);if(p=this._getIconConfigFromResolvers(s,e),p)return this._svgIconConfigs.set(u,p),this._getSvgFromConfig(p);const x=this._iconSetConfigs.get(s);return x?this._getSvgFromIconSetConfigs(e,x):(0,Er._)(Dr(u))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Ct.of)(pn(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ve.U)(s=>pn(s)))}_getSvgFromIconSetConfigs(e,s){const u=this._extractIconWithNameFromAnySet(e,s);if(u)return(0,Ct.of)(u);const p=s.filter(x=>!x.svgText).map(x=>this._loadSvgIconSetFromConfig(x).pipe((0,na.K)(S=>{const Z=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,x.url)} failed: ${S.message}`;return this._errorHandler.handleError(new Error(Z)),(0,Ct.of)(null)})));return(0,qn.D)(p).pipe((0,ve.U)(()=>{const x=this._extractIconWithNameFromAnySet(e,s);if(!x)throw Dr(e);return x}))}_extractIconWithNameFromAnySet(e,s){for(let u=s.length-1;u>=0;u--){const p=s[u];if(p.svgText&&p.svgText.toString().indexOf(e)>-1){const x=this._svgElementFromConfig(p),S=this._extractSvgIconFromSet(x,e,p.options);if(S)return S}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Nr.b)(s=>e.svgText=s),(0,ve.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Ct.of)(null):this._fetchIcon(e).pipe((0,Nr.b)(s=>e.svgText=s))}_extractSvgIconFromSet(e,s,u){const p=e.querySelector(`[id="${s}"]`);if(!p)return null;const x=p.cloneNode(!0);if(x.removeAttribute("id"),"svg"===x.nodeName.toLowerCase())return this._setSvgAttributes(x,u);if("symbol"===x.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(x),u);const S=this._svgElementFromString(Es("<svg></svg>"));return S.appendChild(x),this._setSvgAttributes(S,u)}_svgElementFromString(e){const s=this._document.createElement("DIV");s.innerHTML=e;const u=s.querySelector("svg");if(!u)throw Error("<svg> tag not found");return u}_toSvgElement(e){const s=this._svgElementFromString(Es("<svg></svg>")),u=e.attributes;for(let p=0;p<u.length;p++){const{name:x,value:S}=u[p];"id"!==x&&s.setAttribute(x,S)}for(let p=0;p<e.childNodes.length;p++)e.childNodes[p].nodeType===this._document.ELEMENT_NODE&&s.appendChild(e.childNodes[p].cloneNode(!0));return s}_setSvgAttributes(e,s){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),s&&s.viewBox&&e.setAttribute("viewBox",s.viewBox),e}_fetchIcon(e){const{url:s,options:u}=e,p=u?.withCredentials??!1;if(!this._httpClient)throw function Hi(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const x=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,s);if(!x)throw Gs(s);const S=this._inProgressUrlFetches.get(x);if(S)return S;const B=this._httpClient.get(x,{responseType:"text",withCredentials:p}).pipe((0,ve.U)(Z=>Es(Z)),(0,Ia.x)(()=>this._inProgressUrlFetches.delete(x)),(0,Cr.B)());return this._inProgressUrlFetches.set(x,B),B}_addSvgIconConfig(e,s,u){return this._svgIconConfigs.set(ei(e,s),u),this}_addSvgIconSetConfig(e,s){const u=this._iconSetConfigs.get(e);return u?u.push(s):this._iconSetConfigs.set(e,[s]),this}_svgElementFromConfig(e){if(!e.svgElement){const s=this._svgElementFromString(e.svgText);this._setSvgAttributes(s,e.options),e.svgElement=s}return e.svgElement}_getIconConfigFromResolvers(e,s){for(let u=0;u<this._resolvers.length;u++){const p=this._resolvers[u](s,e);if(p)return Wn(p)?new je(p.url,null,p.options):new je(p,null)}}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Ji.eN,8),h.LFG(_.H7),h.LFG(we.K0,8),h.LFG(h.qLn))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function pn(r){return r.cloneNode(!0)}function ei(r,n){return r+":"+n}function Wn(r){return!(!r.url||!r.options)}const ni=(0,ce.pj)(class{constructor(r){this._elementRef=r}}),or=new h.OlP("MAT_ICON_DEFAULT_OPTIONS"),Ar=new h.OlP("mat-icon-location",{providedIn:"root",factory:function Mr(){const r=(0,h.f3M)(we.K0),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),ms=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ga=ms.map(r=>`[${r}]`).join(", "),jr=/^url\(['"]?#(.*?)['"]?\)$/;let ts=(()=>{class r extends ni{get inline(){return this._inline}set inline(e){this._inline=(0,Le.Ig)(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const s=this._cleanupFontValue(e);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const s=this._cleanupFontValue(e);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}constructor(e,s,u,p,x,S){super(e),this._iconRegistry=s,this._location=p,this._errorHandler=x,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=It.w0.EMPTY,S&&(S.color&&(this.color=this.defaultColor=S.color),S.fontSet&&(this.fontSet=S.fontSet)),u||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const s=e.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let s=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const u=e.childNodes[s];(1!==u.nodeType||"svg"===u.nodeName.toLowerCase())&&u.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,s=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(u=>u.length>0);this._previousFontSetClass.forEach(u=>e.classList.remove(u)),s.forEach(u=>e.classList.add(u)),this._previousFontSetClass=s,this.fontIcon!==this._previousFontIconClass&&!s.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const s=this._elementsWithExternalReferences;s&&s.forEach((u,p)=>{u.forEach(x=>{p.setAttribute(x.name,`url('${e}#${x.value}')`)})})}_cacheChildrenWithExternalReferences(e){const s=e.querySelectorAll(Ga),u=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let p=0;p<s.length;p++)ms.forEach(x=>{const S=s[p],B=S.getAttribute(x),Z=B?B.match(jr):null;if(Z){let le=u.get(S);le||(le=[],u.set(S,le)),le.push({name:x,value:Z[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[s,u]=this._splitIconName(e);s&&(this._svgNamespace=s),u&&(this._svgName=u),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(u,s).pipe((0,rn.q)(1)).subscribe(p=>this._setSvgElement(p),p=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${u}! ${p.message}`))})}}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(lt),h.$8M("aria-hidden"),h.Y36(Ar),h.Y36(h.qLn),h.Y36(or,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,s){2&e&&(h.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),h.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:fs,decls:1,vars:0,template:function(e,s){1&e&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),r})(),Io=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ce.BQ,ce.BQ]}),r})();var ia=P(9643);let $a=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ce.BQ,ce.BQ]}),r})();var Go=P(4033);function po(r){return r&&"function"==typeof r.connect&&!(r instanceof Go.c)}class ps{applyChanges(n,e,s,u,p){n.forEachOperation((x,S,B)=>{let Z,le;if(null==x.previousIndex){const Te=s(x,S,B);Z=e.createEmbeddedView(Te.templateRef,Te.context,Te.index),le=1}else null==B?(e.remove(S),le=3):(Z=e.get(S),e.move(Z,B),le=2);p&&p({context:Z?.context,operation:le,record:x})})}detach(){}}class go{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(n=!1,e,s=!0,u){this._multiple=n,this._emitChanges=s,this.compareWith=u,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ee.x,e&&e.length&&(n?e.forEach(p=>this._markSelected(p)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(s=>this._markSelected(s));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(s=>this._unmarkSelected(s));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,s=new Set(n);n.forEach(p=>this._markSelected(p)),e.filter(p=>!s.has(p)).forEach(p=>this._unmarkSelected(p));const u=this._hasQueuedChanges();return this._emitChangeEvent(),u}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n){if(this.compareWith){for(let e of this._selection)if(this.compareWith(n,e))return e;return n}return n}}const Xs=new h.OlP("_ViewRepeater");var er=P(4006);const ns=["*"],Cs=["unscopedContent"],dr=["text"],is=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ji=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],no=new h.OlP("ListOption");let ur=(()=>{class r{constructor(e){this._elementRef=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),r})(),oa=(()=>{class r{constructor(e){this._elementRef=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),r})(),To=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),r})(),Fs=(()=>{class r{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(no,8))},r.\u0275dir=h.lG2({type:r,hostVars:4,hostBindings:function(e,s){2&e&&h.ekj("mdc-list-item__start",s._isAlignedAtStart())("mdc-list-item__end",!s._isAlignedAtStart())}}),r})(),ss=(()=>{class r extends Fs{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[h.qOj]}),r})(),vl=(()=>{class r extends Fs{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[h.qOj]}),r})();const aa=new h.OlP("MAT_LIST_CONFIG");let Ln=(()=>{class r{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,h.f3M)(aa,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=(0,Le.Ig)(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,Le.Ig)(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,hostVars:1,hostBindings:function(e,s){2&e&&h.uIk("aria-disabled",s.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),r})(),$s=(()=>{class r{set lines(e){this._explicitLines=(0,Le.su)(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=(0,Le.Ig)(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=(0,Le.Ig)(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,s,u,p,x,S){this._elementRef=e,this._ngZone=s,this._listBase=u,this._platform=p,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new It.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=x||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===S,u&&!u._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new ce.IR(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Be.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const s=this._explicitLines??this._inferLinesFromContent(),u=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",s<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",s<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===s),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===s),this._hasUnscopedTextContent){const p=0===this._titles.length&&1===s;u.classList.toggle("mdc-list-item__primary-text",p),u.classList.toggle("mdc-list-item__secondary-text",!p)}else u.classList.remove("mdc-list-item__primary-text"),u.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Ln,8),h.Y36(xe.t4),h.Y36(ce.Y2,8),h.Y36(h.QbO,8))},r.\u0275dir=h.lG2({type:r,contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,ss,4),h.Suo(u,vl,4)),2&e){let p;h.iGM(p=h.CRH())&&(s._avatars=p),h.iGM(p=h.CRH())&&(s._icons=p)}},hostVars:4,hostBindings:function(e,s){2&e&&(h.uIk("aria-disabled",s.disabled)("disabled",s._isButtonElement&&s.disabled||null),h.ekj("mdc-list-item--disabled",s.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),r})(),z=(()=>{class r extends $s{get activated(){return this._activated}set activated(e){this._activated=(0,Le.Ig)(e)}constructor(e,s,u,p,x,S){super(e,s,u,p,x,S),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Ln,8),h.Y36(xe.t4),h.Y36(ce.Y2,8),h.Y36(h.QbO,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,oa,5),h.Suo(u,ur,5),h.Suo(u,To,5)),2&e){let p;h.iGM(p=h.CRH())&&(s._lines=p),h.iGM(p=h.CRH())&&(s._titles=p),h.iGM(p=h.CRH())&&(s._meta=p)}},viewQuery:function(e,s){if(1&e&&(h.Gf(Cs,5),h.Gf(dr,5)),2&e){let u;h.iGM(u=h.CRH())&&(s._unscopedContent=u.first),h.iGM(u=h.CRH())&&(s._itemText=u.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(e,s){2&e&&(h.uIk("aria-current",s._getAriaCurrent()),h.ekj("mdc-list-item--activated",s.activated)("mdc-list-item--with-leading-avatar",0!==s._avatars.length)("mdc-list-item--with-leading-icon",0!==s._icons.length)("mdc-list-item--with-trailing-meta",0!==s._meta.length)("_mat-animation-noopable",s._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[h.qOj],ngContentSelectors:ji,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(e,s){1&e&&(h.F$t(is),h.Hsn(0),h.TgZ(1,"span",0),h.Hsn(2,1),h.Hsn(3,2),h.TgZ(4,"span",1,2),h.NdJ("cdkObserveContent",function(){return s._updateItemLines(!0)}),h.Hsn(6,3),h.qZA()(),h.Hsn(7,4),h.Hsn(8,5),h._UZ(9,"div",3))},dependencies:[ia.wD],encapsulation:2,changeDetection:0}),r})(),bi=(()=>{class r extends Ln{constructor(){super(...arguments),this._isNonInteractive=!1}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[h._Bn([{provide:Ln,useExisting:r}]),h.qOj],ngContentSelectors:ns,decls:1,vars:0,template:function(e,s){1&e&&(h.F$t(),h.Hsn(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),r})(),Ko=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ia.Q8,we.ez,ce.BQ,ce.si,ce.us,$a]}),r})();var Ds=P(9116);function bl(r,n){if(1&r){const e=h.EpF();h.TgZ(0,"button",8),h.NdJ("click",function(){h.CHM(e),h.oxw();const u=h.MAs(2);return h.KtG(u.toggle())}),h.TgZ(1,"mat-icon",9),h._uU(2,"menu"),h.qZA()()}}let wl=(()=>{class r{get globalService(){return this._globalService}constructor(e,s){this.breakpointObserver=s,this.isHandset$=this.breakpointObserver.observe(Q.u3.Handset).pipe((0,ve.U)(u=>u.matches),(0,Ae.d)()),this._globalService=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Se.U),h.Y36(Q.Yg))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-nav"]],decls:24,vars:21,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["src","assets/apre-golfer-logo.png","width","50","height","48",1,"center"],["mat-list-item","","routerLinkActive","active",3,"routerLink","disabled"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[1,"nav-top-left"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(e,s){1&e&&(h.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),h.ALo(3,"async"),h.ALo(4,"async"),h.ALo(5,"async"),h.TgZ(6,"mat-toolbar"),h._UZ(7,"img",3),h.qZA(),h.TgZ(8,"mat-nav-list")(9,"a",4),h._uU(10,"Login"),h.qZA(),h.TgZ(11,"a",4),h._uU(12,"Dashboard"),h.qZA(),h.TgZ(13,"a",4),h._uU(14,"Getr\xe4nkeliste"),h.qZA(),h.TgZ(15,"a",4),h._uU(16,"Guthaben\xfcbersicht"),h.qZA()()(),h.TgZ(17,"mat-sidenav-content")(18,"mat-toolbar",5),h.YNc(19,bl,3,0,"button",6),h.ALo(20,"async"),h.TgZ(21,"p",7),h._uU(22),h.qZA()(),h._UZ(23,"router-outlet"),h.qZA()()),2&e&&(h.xp6(1),h.Q6J("mode",h.lcZ(4,15,s.isHandset$)?"over":"side")("opened",!1===h.lcZ(5,17,s.isHandset$)),h.uIk("role",h.lcZ(3,13,s.isHandset$)?"dialog":"navigation"),h.xp6(8),h.Q6J("routerLink",s.globalService.loggedIn?"":"/auth/login")("disabled",s.globalService.loggedIn),h.xp6(2),h.Q6J("routerLink",s.globalService.loggedIn?"/dashboard":"auth/login")("disabled",!s.globalService.loggedIn),h.xp6(2),h.Q6J("routerLink",s.globalService.loggedIn?"/list-of-drinks":"/auth/login")("disabled",!s.globalService.loggedIn),h.xp6(2),h.Q6J("routerLink",s.globalService.loggedIn?"/balances":"/auth/login")("disabled",!s.globalService.loggedIn),h.xp6(4),h.Q6J("ngIf",h.lcZ(20,19,s.isHandset$)),h.xp6(3),h.hij("Logged in user: ",s.globalService.loggedInUser?s.globalService.loggedInUser.email:"",""))},dependencies:[we.O5,Ke,Ze.RK,$i,Ri,Gn,ts,bi,z,Ds.lC,Ds.rH,Ds.Od,we.Ov],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.topnav[_ngcontent-%COMP%]{text-align:right}p.nav-top-left[_ngcontent-%COMP%]{text-align:left;width:49%;display:inline-block}p.nav-top-right[_ngcontent-%COMP%]{text-align:right;width:50%;display:inline-block;color:#fff}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}a.nav-top-right[_ngcontent-%COMP%]:link, a.nav-top-right[_ngcontent-%COMP%]:visited, a.nav-top-right[_ngcontent-%COMP%]:hover, a.nav-top-right[_ngcontent-%COMP%]:active{color:#fff;text-decoration:none}a.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}"]}),r})(),xl=(()=>{class r{constructor(){this.title="Apr\xe8s-Golfer"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-root"]],decls:2,vars:0,template:function(e,s){1&e&&(h._UZ(0,"app-nav"),h._uU(1,">"))},dependencies:[wl]}),r})();function Aa(r){return new h.vHH(3e3,!1)}function Gc(){return typeof window<"u"&&typeof window.document<"u"}function F(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function X(r){switch(r.length){case 0:return new Vt.ZN;case 1:return r[0];default:return new Vt.ZE(r)}}function j(r,n,e,s,u=new Map,p=new Map){const x=[],S=[];let B=-1,Z=null;if(s.forEach(le=>{const Te=le.get("offset"),We=Te==B,vt=We&&Z||new Map;le.forEach((At,qt)=>{let un=qt,li=At;if("offset"!==qt)switch(un=n.normalizePropertyName(un,x),li){case Vt.k1:li=u.get(qt);break;case Vt.l3:li=p.get(qt);break;default:li=n.normalizeStyleValue(qt,un,li,x)}vt.set(un,li)}),We||S.push(vt),Z=vt,B=Te}),x.length)throw function Qr(r){return new h.vHH(3502,!1)}();return S}function oe(r,n,e,s){switch(n){case"start":r.onStart(()=>s(e&&ke(e,"start",r)));break;case"done":r.onDone(()=>s(e&&ke(e,"done",r)));break;case"destroy":r.onDestroy(()=>s(e&&ke(e,"destroy",r)))}}function ke(r,n,e){const p=wt(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),x=r._data;return null!=x&&(p._data=x),p}function wt(r,n,e,s,u="",p=0,x){return{element:r,triggerName:n,fromState:e,toState:s,phaseName:u,totalTime:p,disabled:!!x}}function Pt(r,n,e){let s=r.get(n);return s||r.set(n,s=e),s}function Dn(r){const n=r.indexOf(":");return[r.substring(1,n),r.slice(n+1)]}let Ti=(r,n)=>!1,Rt=(r,n,e)=>[],Kn=null;function zn(r){const n=r.parentNode||r.host;return n===Kn?null:n}(F()||typeof Element<"u")&&(Gc()?(Kn=(()=>document.documentElement)(),Ti=(r,n)=>{for(;n;){if(n===r)return!0;n=zn(n)}return!1}):Ti=(r,n)=>r.contains(n),Rt=(r,n,e)=>{if(e)return Array.from(r.querySelectorAll(n));const s=r.querySelector(n);return s?[s]:[]});let ln=null,io=!1;const nr=Ti,ko=Rt;let Sd=(()=>{class r{validateStyleProperty(e){return function tn(r){ln||(ln=function Ht(){return typeof document<"u"?document.body:null}()||{},io=!!ln.style&&"WebkitAppearance"in ln.style);let n=!0;return ln.style&&!function Jt(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in ln.style,!n&&io&&(n="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in ln.style)),n}(e)}matchesElement(e,s){return!1}containsElement(e,s){return nr(e,s)}getParentElement(e){return zn(e)}query(e,s,u){return ko(e,s,u)}computeStyle(e,s,u){return u||""}animate(e,s,u,p,x,S=[],B){return new Vt.ZN(u,p)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),$c=(()=>{class r{}return r.NOOP=new Sd,r})();const Tl=1e3,Wc="ng-enter",Ws="ng-leave",tc="ng-trigger",tl=".ng-trigger",Xn="ng-animating",vr=".ng-animating";function Wi(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Ki(parseFloat(n[1]),n[2])}function Ki(r,n){return"s"===n?r*Tl:r}function kn(r,n,e){return r.hasOwnProperty("duration")?r:function nc(r,n,e){let u,p=0,x="";if("string"==typeof r){const S=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===S)return n.push(Aa()),{duration:0,delay:0,easing:""};u=Ki(parseFloat(S[1]),S[2]);const B=S[3];null!=B&&(p=Ki(parseFloat(B),S[4]));const Z=S[5];Z&&(x=Z)}else u=r;if(!e){let S=!1,B=n.length;u<0&&(n.push(function tr(){return new h.vHH(3100,!1)}()),S=!0),p<0&&(n.push(function Ls(){return new h.vHH(3101,!1)}()),S=!0),S&&n.splice(B,0,Aa())}return{duration:u,delay:p,easing:x}}(r,n,e)}function oi(r,n={}){return Object.keys(r).forEach(e=>{n[e]=r[e]}),n}function lh(r){const n=new Map;return Object.keys(r).forEach(e=>{n.set(e,r[e])}),n}function $r(r,n=new Map,e){if(e)for(let[s,u]of e)n.set(s,u);for(let[s,u]of r)n.set(s,u);return n}function da(r,n,e){return e?n+":"+e+";":""}function kr(r){let n="";for(let e=0;e<r.style.length;e++){const s=r.style.item(e);n+=da(0,s,r.style.getPropertyValue(s))}for(const e in r.style)r.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=da(0,ha(e),r.style[e]));r.setAttribute("style",n)}function Fr(r,n,e){r.style&&(n.forEach((s,u)=>{const p=ua(u);e&&!e.has(u)&&e.set(u,r.style[p]),r.style[p]=s}),F()&&kr(r))}function os(r,n){r.style&&(n.forEach((e,s)=>{const u=ua(s);r.style[u]=""}),F()&&kr(r))}function ic(r){return Array.isArray(r)?1==r.length?r[0]:(0,Vt.vP)(r):r}const ro=new RegExp("{{\\s*(.+?)\\s*}}","g");function Al(r){let n=[];if("string"==typeof r){let e;for(;e=ro.exec(r);)n.push(e[1]);ro.lastIndex=0}return n}function as(r,n,e){const s=r.toString(),u=s.replace(ro,(p,x)=>{let S=n[x];return null==S&&(e.push(function Is(r){return new h.vHH(3003,!1)}()),S=""),S.toString()});return u==s?r:u}function Ro(r){const n=[];let e=r.next();for(;!e.done;)n.push(e.value),e=r.next();return n}const rc=/-+([a-z0-9])/g;function ua(r){return r.replace(rc,(...n)=>n[1].toUpperCase())}function ha(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function so(r,n,e){switch(n.type){case 7:return r.visitTrigger(n,e);case 0:return r.visitState(n,e);case 1:return r.visitTransition(n,e);case 2:return r.visitSequence(n,e);case 3:return r.visitGroup(n,e);case 4:return r.visitAnimate(n,e);case 5:return r.visitKeyframes(n,e);case 6:return r.visitStyle(n,e);case 8:return r.visitReference(n,e);case 9:return r.visitAnimateChild(n,e);case 10:return r.visitAnimateRef(n,e);case 11:return r.visitQuery(n,e);case 12:return r.visitStagger(n,e);default:throw function Gr(r){return new h.vHH(3004,!1)}()}}function Zo(r,n){return window.getComputedStyle(r)[n]}const lc="*";function Ic(r,n){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function Oo(r,n,e){if(":"==r[0]){const B=function Kc(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return n.push(function Cc(r){return new h.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof B)return void n.push(B);r=B}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(function ec(r){return new h.vHH(3015,!1)}()),n;const u=s[1],p=s[2],x=s[3];n.push(Wr(u,x));"<"==p[0]&&!(u==lc&&x==lc)&&n.push(Wr(x,u))}(s,e,n)):e.push(r),e}const mr=new Set(["true","1"]),cc=new Set(["false","0"]);function Wr(r,n){const e=mr.has(r)||cc.has(r),s=mr.has(n)||cc.has(n);return(u,p)=>{let x=r==lc||r==u,S=n==lc||n==p;return!x&&e&&"boolean"==typeof u&&(x=u?mr.has(r):cc.has(r)),!S&&s&&"boolean"==typeof p&&(S=p?mr.has(n):cc.has(n)),x&&S}}const oo=new RegExp("s*:selfs*,?","g");function ls(r,n,e,s){return new il(r).build(n,e,s)}class il{constructor(n){this._driver=n}build(n,e,s){const u=new D(e);return this._resetContextStyleTimingState(u),so(this,ic(n),u)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let s=e.queryCount=0,u=e.depCount=0;const p=[],x=[];return"@"==n.name.charAt(0)&&e.errors.push(function Ec(){return new h.vHH(3006,!1)}()),n.definitions.forEach(S=>{if(this._resetContextStyleTimingState(e),0==S.type){const B=S,Z=B.name;Z.toString().split(/\s*,\s*/).forEach(le=>{B.name=le,p.push(this.visitState(B,e))}),B.name=Z}else if(1==S.type){const B=this.visitTransition(S,e);s+=B.queryCount,u+=B.depCount,x.push(B)}else e.errors.push(function El(){return new h.vHH(3007,!1)}())}),{type:7,name:n.name,states:p,transitions:x,queryCount:s,depCount:u,options:null}}visitState(n,e){const s=this.visitStyle(n.styles,e),u=n.options&&n.options.params||null;if(s.containsDynamicStyles){const p=new Set,x=u||{};s.styles.forEach(S=>{S instanceof Map&&S.forEach(B=>{Al(B).forEach(Z=>{x.hasOwnProperty(Z)||p.add(Z)})})}),p.size&&(Ro(p.values()),e.errors.push(function Ma(r,n){return new h.vHH(3008,!1)}()))}return{type:0,name:n.name,style:s,options:u?{params:u}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const s=so(this,ic(n.animation),e);return{type:1,matchers:Ic(n.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:ie(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(s=>so(this,s,e)),options:ie(n.options)}}visitGroup(n,e){const s=e.currentTime;let u=0;const p=n.steps.map(x=>{e.currentTime=s;const S=so(this,x,e);return u=Math.max(u,e.currentTime),S});return e.currentTime=u,{type:3,steps:p,options:ie(n.options)}}visitAnimate(n,e){const s=function q(r,n){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return ye(kn(r,n).duration,0,"");const e=r;if(e.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=ye(0,0,"");return p.dynamic=!0,p.strValue=e,p}const u=kn(e,n);return ye(u.duration,u.delay,u.easing)}(n.timings,e.errors);e.currentAnimateTimings=s;let u,p=n.styles?n.styles:(0,Vt.oB)({});if(5==p.type)u=this.visitKeyframes(p,e);else{let x=n.styles,S=!1;if(!x){S=!0;const Z={};s.easing&&(Z.easing=s.easing),x=(0,Vt.oB)(Z)}e.currentTime+=s.duration+s.delay;const B=this.visitStyle(x,e);B.isEmptyStep=S,u=B}return e.currentAnimateTimings=null,{type:4,timings:s,style:u,options:null}}visitStyle(n,e){const s=this._makeStyleAst(n,e);return this._validateStyleAst(s,e),s}_makeStyleAst(n,e){const s=[],u=Array.isArray(n.styles)?n.styles:[n.styles];for(let S of u)"string"==typeof S?S===Vt.l3?s.push(S):e.errors.push(new h.vHH(3002,!1)):s.push(lh(S));let p=!1,x=null;return s.forEach(S=>{if(S instanceof Map&&(S.has("easing")&&(x=S.get("easing"),S.delete("easing")),!p))for(let B of S.values())if(B.toString().indexOf("{{")>=0){p=!0;break}}),{type:6,styles:s,easing:x,offset:n.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(n,e){const s=e.currentAnimateTimings;let u=e.currentTime,p=e.currentTime;s&&p>0&&(p-=s.duration+s.delay),n.styles.forEach(x=>{"string"!=typeof x&&x.forEach((S,B)=>{const Z=e.collectedStyles.get(e.currentQuerySelector),le=Z.get(B);let Te=!0;le&&(p!=u&&p>=le.startTime&&u<=le.endTime&&(e.errors.push(function Qa(r,n,e,s,u){return new h.vHH(3010,!1)}()),Te=!1),p=le.startTime),Te&&Z.set(B,{startTime:p,endTime:u}),e.options&&function _s(r,n,e){const s=n.params||{},u=Al(r);u.length&&u.forEach(p=>{s.hasOwnProperty(p)||e.push(function qa(r){return new h.vHH(3001,!1)}())})}(S,e.options,e.errors)})})}visitKeyframes(n,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Yo(){return new h.vHH(3011,!1)}()),s;let p=0;const x=[];let S=!1,B=!1,Z=0;const le=n.steps.map(li=>{const rr=this._makeStyleAst(li,e);let Xi=null!=rr.offset?rr.offset:function L(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const s=e;n=parseFloat(s.get("offset")),s.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(rr.styles),lr=0;return null!=Xi&&(p++,lr=rr.offset=Xi),B=B||lr<0||lr>1,S=S||lr<Z,Z=lr,x.push(lr),rr});B&&e.errors.push(function Xa(){return new h.vHH(3012,!1)}()),S&&e.errors.push(function Ja(){return new h.vHH(3200,!1)}());const Te=n.steps.length;let We=0;p>0&&p<Te?e.errors.push(function qo(){return new h.vHH(3202,!1)}()):0==p&&(We=1/(Te-1));const vt=Te-1,At=e.currentTime,qt=e.currentAnimateTimings,un=qt.duration;return le.forEach((li,rr)=>{const Xi=We>0?rr==vt?1:We*rr:x[rr],lr=Xi*un;e.currentTime=At+qt.delay+lr,qt.duration=lr,this._validateStyleAst(li,e),li.offset=Xi,s.styles.push(li)}),s}visitReference(n,e){return{type:8,animation:so(this,ic(n.animation),e),options:ie(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:ie(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:ie(n.options)}}visitQuery(n,e){const s=e.currentQuerySelector,u=n.options||{};e.queryCount++,e.currentQuery=n;const[p,x]=function A(r){const n=!!r.split(/\s*,\s*/).find(e=>":self"==e);return n&&(r=r.replace(oo,"")),r=r.replace(/@\*/g,tl).replace(/@\w+/g,e=>tl+"-"+e.slice(1)).replace(/:animating/g,vr),[r,n]}(n.selector);e.currentQuerySelector=s.length?s+" "+p:p,Pt(e.collectedStyles,e.currentQuerySelector,new Map);const S=so(this,ic(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:p,limit:u.limit||0,optional:!!u.optional,includeSelf:x,animation:S,originalSelector:n.selector,options:ie(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function ka(){return new h.vHH(3013,!1)}());const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:kn(n.timings,e.errors,!0);return{type:12,animation:so(this,ic(n.animation),e),timings:s,options:null}}}class D{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ie(r){return r?(r=oi(r)).params&&(r.params=function k(r){return r?oi(r):null}(r.params)):r={},r}function ye(r,n,e){return{duration:r,delay:n,easing:e}}function tt(r,n,e,s,u,p,x=null,S=!1){return{type:1,element:r,keyframes:n,preStyleProps:e,postStyleProps:s,duration:u,delay:p,totalTime:u+p,easing:x,subTimeline:S}}class zt{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const wi=new RegExp(":enter","g"),rl=new RegExp(":leave","g");function Qo(r,n,e,s,u,p=new Map,x=new Map,S,B,Z=[]){return(new Ks).buildKeyframes(r,n,e,s,u,p,x,S,B,Z)}class Ks{buildKeyframes(n,e,s,u,p,x,S,B,Z,le=[]){Z=Z||new zt;const Te=new Xo(n,e,Z,u,p,le,[]);Te.options=B;const We=B.delay?Wi(B.delay):0;Te.currentTimeline.delayNextStep(We),Te.currentTimeline.setStyles([x],null,Te.errors,B),so(this,s,Te);const vt=Te.timelines.filter(At=>At.containsAnimation());if(vt.length&&S.size){let At;for(let qt=vt.length-1;qt>=0;qt--){const un=vt[qt];if(un.element===e){At=un;break}}At&&!At.allowOnlyTimelineStyles()&&At.setStyles([S],null,Te.errors,B)}return vt.length?vt.map(At=>At.buildKeyframes()):[tt(e,[],[],[],0,We,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const s=e.subInstructions.get(e.element);if(s){const u=e.createSubContext(n.options),p=e.currentTimeline.currentTime,x=this._visitSubInstructions(s,u,u.options);p!=x&&e.transformIntoNewTimeline(x)}e.previousNode=n}visitAnimateRef(n,e){const s=e.createSubContext(n.options);s.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,s),this.visitReference(n.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,s){for(const u of n){const p=u?.delay;if(p){const x="number"==typeof p?p:Wi(as(p,u?.params??{},e.errors));s.delayNextStep(x)}}}_visitSubInstructions(n,e,s){let p=e.currentTimeline.currentTime;const x=null!=s.duration?Wi(s.duration):null,S=null!=s.delay?Wi(s.delay):null;return 0!==x&&n.forEach(B=>{const Z=e.appendInstructionToTimeline(B,x,S);p=Math.max(p,Z.duration+Z.delay)}),p}visitReference(n,e){e.updateOptions(n.options,!0),so(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const s=e.subContextCount;let u=e;const p=n.options;if(p&&(p.params||p.delay)&&(u=e.createSubContext(p),u.transformIntoNewTimeline(),null!=p.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=ys);const x=Wi(p.delay);u.delayNextStep(x)}n.steps.length&&(n.steps.forEach(x=>so(this,x,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>s&&u.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const s=[];let u=e.currentTimeline.currentTime;const p=n.options&&n.options.delay?Wi(n.options.delay):0;n.steps.forEach(x=>{const S=e.createSubContext(n.options);p&&S.delayNextStep(p),so(this,x,S),u=Math.max(u,S.currentTimeline.currentTime),s.push(S.currentTimeline)}),s.forEach(x=>e.currentTimeline.mergeTimelineCollectedStyles(x)),e.transformIntoNewTimeline(u),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const s=n.strValue;return kn(e.params?as(s,e.params,e.errors):s,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const s=e.currentAnimateTimings=this._visitTiming(n.timings,e),u=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),u.snapshotCurrentStyles());const p=n.style;5==p.type?this.visitKeyframes(p,e):(e.incrementTime(s.duration),this.visitStyle(p,e),u.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const s=e.currentTimeline,u=e.currentAnimateTimings;!u&&s.hasCurrentStyleProperties()&&s.forwardFrame();const p=u&&u.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(p):s.setStyles(n.styles,p,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const s=e.currentAnimateTimings,u=e.currentTimeline.duration,p=s.duration,S=e.createSubContext().currentTimeline;S.easing=s.easing,n.styles.forEach(B=>{S.forwardTime((B.offset||0)*p),S.setStyles(B.styles,B.easing,e.errors,e.options),S.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(S),e.transformIntoNewTimeline(u+p),e.previousNode=n}visitQuery(n,e){const s=e.currentTimeline.currentTime,u=n.options||{},p=u.delay?Wi(u.delay):0;p&&(6===e.previousNode.type||0==s&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ys);let x=s;const S=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!u.optional,e.errors);e.currentQueryTotal=S.length;let B=null;S.forEach((Z,le)=>{e.currentQueryIndex=le;const Te=e.createSubContext(n.options,Z);p&&Te.delayNextStep(p),Z===e.element&&(B=Te.currentTimeline),so(this,n.animation,Te),Te.currentTimeline.applyStylesToKeyframe(),x=Math.max(x,Te.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(x),B&&(e.currentTimeline.mergeTimelineCollectedStyles(B),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const s=e.parentContext,u=e.currentTimeline,p=n.timings,x=Math.abs(p.duration),S=x*(e.currentQueryTotal-1);let B=x*e.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":B=S-B;break;case"full":B=s.currentStaggerTime}const le=e.currentTimeline;B&&le.delayNextStep(B);const Te=le.currentTime;so(this,n.animation,e),e.previousNode=n,s.currentStaggerTime=u.currentTime-Te+(u.startTime-s.currentTimeline.startTime)}}const ys={};class Xo{constructor(n,e,s,u,p,x,S,B){this._driver=n,this.element=e,this.subInstructions=s,this._enterClassName=u,this._leaveClassName=p,this.errors=x,this.timelines=S,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ys,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=B||new fa(this._driver,e,0),S.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const s=n;let u=this.options;null!=s.duration&&(u.duration=Wi(s.duration)),null!=s.delay&&(u.delay=Wi(s.delay));const p=s.params;if(p){let x=u.params;x||(x=this.options.params={}),Object.keys(p).forEach(S=>{(!e||!x.hasOwnProperty(S))&&(x[S]=as(p[S],x,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const s=n.params={};Object.keys(e).forEach(u=>{s[u]=e[u]})}}return n}createSubContext(n=null,e,s){const u=e||this.element,p=new Xo(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,s||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(n),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(n){return this.previousNode=ys,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,s){const u={duration:e??n.duration,delay:this.currentTimeline.currentTime+(s??0)+n.delay,easing:""},p=new Ml(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,u,n.stretchStartingKeyframe);return this.timelines.push(p),u}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,s,u,p,x){let S=[];if(u&&S.push(this.element),n.length>0){n=(n=n.replace(wi,"."+this._enterClassName)).replace(rl,"."+this._leaveClassName);let Z=this._driver.query(this.element,n,1!=s);0!==s&&(Z=s<0?Z.slice(Z.length+s,Z.length):Z.slice(0,s)),S.push(...Z)}return!p&&0==S.length&&x.push(function Ra(r){return new h.vHH(3014,!1)}()),S}}class fa{constructor(n,e,s,u){this._driver=n,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=u,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new fa(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,s]of this._globalTimelineStyles)this._backFill.set(e,s||Vt.l3),this._currentKeyframe.set(e,Vt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,s,u){e&&this._previousKeyframe.set("easing",e);const p=u&&u.params||{},x=function kl(r,n){const e=new Map;let s;return r.forEach(u=>{if("*"===u){s=s||n.keys();for(let p of s)e.set(p,Vt.l3)}else $r(u,e)}),e}(n,this._globalTimelineStyles);for(let[S,B]of x){const Z=as(B,p,s);this._pendingStyles.set(S,Z),this._localTimelineStyles.has(S)||this._backFill.set(S,this._globalTimelineStyles.get(S)??Vt.l3),this._updateStyle(S,Z)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,s)=>{const u=this._styleSummary.get(s);(!u||e.time>u.time)&&this._updateStyle(s,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((S,B)=>{const Z=$r(S,new Map,this._backFill);Z.forEach((le,Te)=>{le===Vt.k1?n.add(Te):le===Vt.l3&&e.add(Te)}),s||Z.set("offset",B/this.duration),u.push(Z)});const p=n.size?Ro(n.values()):[],x=e.size?Ro(e.values()):[];if(s){const S=u[0],B=new Map(S);S.set("offset",0),B.set("offset",1),u=[S,B]}return tt(this.element,u,p,x,this.duration,this.startTime,this.easing,!1)}}class Ml extends fa{constructor(n,e,s,u,p,x,S=!1){super(n,e,x.delay),this.keyframes=s,this.preStyleProps=u,this.postStyleProps=p,this._stretchStartingKeyframe=S,this.timings={duration:x.duration,delay:x.delay,easing:x.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:s,easing:u}=this.timings;if(this._stretchStartingKeyframe&&e){const p=[],x=s+e,S=e/x,B=$r(n[0]);B.set("offset",0),p.push(B);const Z=$r(n[0]);Z.set("offset",vu(S)),p.push(Z);const le=n.length-1;for(let Te=1;Te<=le;Te++){let We=$r(n[Te]);const vt=We.get("offset");We.set("offset",vu((e+vt*s)/x)),p.push(We)}s=x,e=0,u="",n=p}return tt(this.element,n,this.preStyleProps,this.postStyleProps,s,e,u,!0)}}function vu(r,n=3){const e=Math.pow(10,n-1);return Math.round(r*e)/e}class Yc{}const W=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class te extends Yc{normalizePropertyName(n,e){return ua(n)}normalizeStyleValue(n,e,s,u){let p="";const x=s.toString().trim();if(W.has(e)&&0!==s&&"0"!==s)if("number"==typeof s)p="px";else{const S=s.match(/^[+-]?[\d\.]+([a-z]*)$/);S&&0==S[1].length&&u.push(function la(r,n){return new h.vHH(3005,!1)}())}return x+p}}function Pe(r,n,e,s,u,p,x,S,B,Z,le,Te,We){return{type:0,element:r,triggerName:n,isRemovalTransition:u,fromState:e,fromStyles:p,toState:s,toStyles:x,timelines:S,queriedElements:B,preStyleProps:Z,postStyleProps:le,totalTime:Te,errors:We}}const qe={};class it{constructor(n,e,s){this._triggerName=n,this.ast=e,this._stateStyles=s}match(n,e,s,u){return function En(r,n,e,s,u){return r.some(p=>p(n,e,s,u))}(this.ast.matchers,n,e,s,u)}buildStyles(n,e,s){let u=this._stateStyles.get("*");return void 0!==n&&(u=this._stateStyles.get(n?.toString())||u),u?u.buildStyles(e,s):new Map}build(n,e,s,u,p,x,S,B,Z,le){const Te=[],We=this.ast.options&&this.ast.options.params||qe,At=this.buildStyles(s,S&&S.params||qe,Te),qt=B&&B.params||qe,un=this.buildStyles(u,qt,Te),li=new Set,rr=new Map,Xi=new Map,lr="void"===u,mu={params:An(qt,We),delay:this.ast.options?.delay},Zl=le?[]:Qo(n,e,this.ast.animation,p,x,At,un,mu,Z,Te);let za=0;if(Zl.forEach(pu=>{za=Math.max(pu.duration+pu.delay,za)}),Te.length)return Pe(e,this._triggerName,s,u,lr,At,un,[],[],rr,Xi,za,Te);Zl.forEach(pu=>{const Wp=pu.element,IC=Pt(rr,Wp,new Set);pu.preStyleProps.forEach(hv=>IC.add(hv));const pw=Pt(Xi,Wp,new Set);pu.postStyleProps.forEach(hv=>pw.add(hv)),Wp!==e&&li.add(Wp)});const Hc=Ro(li.values());return Pe(e,this._triggerName,s,u,lr,At,un,Zl,Hc,rr,Xi,za)}}function An(r,n){const e=oi(n);for(const s in r)r.hasOwnProperty(s)&&null!=r[s]&&(e[s]=r[s]);return e}class Zn{constructor(n,e,s){this.styles=n,this.defaultParams=e,this.normalizer=s}buildStyles(n,e){const s=new Map,u=oi(this.defaultParams);return Object.keys(n).forEach(p=>{const x=n[p];null!==x&&(u[p]=x)}),this.styles.styles.forEach(p=>{"string"!=typeof p&&p.forEach((x,S)=>{x&&(x=as(x,u,e));const B=this.normalizer.normalizePropertyName(S,e);x=this.normalizer.normalizeStyleValue(S,B,x,e),s.set(S,x)})}),s}}class Fn{constructor(n,e,s){this.name=n,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states=new Map,e.states.forEach(u=>{this.states.set(u.name,new Zn(u.style,u.options&&u.options.params||{},s))}),Rr(this.states,"true","1"),Rr(this.states,"false","0"),e.transitions.forEach(u=>{this.transitionFactories.push(new it(n,u,this.states))}),this.fallbackTransition=function ma(r,n,e){return new it(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(x,S)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,s,u){return this.transitionFactories.find(x=>x.match(n,e,s,u))||null}matchStyles(n,e,s){return this.fallbackTransition.buildStyles(n,e,s)}}function Rr(r,n,e){r.has(n)?r.has(e)||r.set(e,r.get(n)):r.has(e)&&r.set(n,r.get(e))}const br=new zt;class pa{constructor(n,e,s){this.bodyNode=n,this._driver=e,this._normalizer=s,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const s=[],u=[],p=ls(this._driver,e,s,u);if(s.length)throw function Mo(r){return new h.vHH(3503,!1)}();this._animations.set(n,p)}_buildPlayer(n,e,s){const u=n.element,p=j(0,this._normalizer,0,n.keyframes,e,s);return this._driver.animate(u,p,n.duration,n.delay,n.easing,[],!0)}create(n,e,s={}){const u=[],p=this._animations.get(n);let x;const S=new Map;if(p?(x=Qo(this._driver,e,p,Wc,Ws,new Map,new Map,s,br,u),x.forEach(le=>{const Te=Pt(S,le.element,new Map);le.postStyleProps.forEach(We=>Te.set(We,null))})):(u.push(function hr(){return new h.vHH(3300,!1)}()),x=[]),u.length)throw function el(r){return new h.vHH(3504,!1)}();S.forEach((le,Te)=>{le.forEach((We,vt)=>{le.set(vt,this._driver.computeStyle(Te,vt,Vt.l3))})});const Z=X(x.map(le=>{const Te=S.get(le.element);return this._buildPlayer(le,new Map,Te)}));return this._playersById.set(n,Z),Z.onDestroy(()=>this.destroy(n)),this.players.push(Z),Z}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function Bs(r){return new h.vHH(3301,!1)}();return e}listen(n,e,s,u){const p=wt(e,"","","");return oe(this._getPlayer(n),s,p,u),()=>{}}command(n,e,s,u){if("register"==s)return void this.register(n,u[0]);if("create"==s)return void this.create(n,e,u[0]||{});const p=this._getPlayer(n);switch(s){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(n)}}}const Rl="ng-animate-queued",yo="ng-animate-disabled",bu=[],Pl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ga={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},No="__ng_removed";class Nl{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const s=n&&n.hasOwnProperty("value");if(this.value=function vf(r){return r??null}(s?n.value:n),s){const p=oi(n);delete p.value,this.options=p}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const s=this.options.params;Object.keys(e).forEach(u=>{null==s[u]&&(s[u]=e[u])})}}}const qc="void",Zc=new Nl(qc);class Cm{constructor(n,e,s){this.id=n,this.hostElement=e,this._engine=s,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Ss(e,this._hostClassName)}listen(n,e,s,u){if(!this._triggers.has(e))throw function zc(r,n){return new h.vHH(3302,!1)}();if(null==s||0==s.length)throw function ca(r){return new h.vHH(3303,!1)}();if(!function xu(r){return"start"==r||"done"==r}(s))throw function _r(r,n){return new h.vHH(3400,!1)}();const p=Pt(this._elementListeners,n,[]),x={name:e,phase:s,callback:u};p.push(x);const S=Pt(this._engine.statesByElement,n,new Map);return S.has(e)||(Ss(n,tc),Ss(n,tc+"-"+e),S.set(e,Zc)),()=>{this._engine.afterFlush(()=>{const B=p.indexOf(x);B>=0&&p.splice(B,1),this._triggers.has(e)||S.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function Dd(r){return new h.vHH(3401,!1)}();return e}trigger(n,e,s,u=!0){const p=this._getTrigger(e),x=new yf(this.id,e,n);let S=this._engine.statesByElement.get(n);S||(Ss(n,tc),Ss(n,tc+"-"+e),this._engine.statesByElement.set(n,S=new Map));let B=S.get(e);const Z=new Nl(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&B&&Z.absorbOptions(B.options),S.set(e,Z),B||(B=Zc),Z.value!==qc&&B.value===Z.value){if(!function Or(r,n){const e=Object.keys(r),s=Object.keys(n);if(e.length!=s.length)return!1;for(let u=0;u<e.length;u++){const p=e[u];if(!n.hasOwnProperty(p)||r[p]!==n[p])return!1}return!0}(B.params,Z.params)){const qt=[],un=p.matchStyles(B.value,B.params,qt),li=p.matchStyles(Z.value,Z.params,qt);qt.length?this._engine.reportError(qt):this._engine.afterFlush(()=>{os(n,un),Fr(n,li)})}return}const We=Pt(this._engine.playersByElement,n,[]);We.forEach(qt=>{qt.namespaceId==this.id&&qt.triggerName==e&&qt.queued&&qt.destroy()});let vt=p.matchTransition(B.value,Z.value,n,Z.params),At=!1;if(!vt){if(!u)return;vt=p.fallbackTransition,At=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:vt,fromState:B,toState:Z,player:x,isFallbackTransition:At}),At||(Ss(n,Rl),x.onStart(()=>{Qc(n,Rl)})),x.onDone(()=>{let qt=this.players.indexOf(x);qt>=0&&this.players.splice(qt,1);const un=this._engine.playersByElement.get(n);if(un){let li=un.indexOf(x);li>=0&&un.splice(li,1)}}),this.players.push(x),We.push(x),x}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(u=>u.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const s=this._engine.driver.query(n,tl,!0);s.forEach(u=>{if(u[No])return;const p=this._engine.fetchNamespacesByElement(u);p.size?p.forEach(x=>x.triggerLeaveAnimation(u,e,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(n,e,s,u){const p=this._engine.statesByElement.get(n),x=new Map;if(p){const S=[];if(p.forEach((B,Z)=>{if(x.set(Z,B.value),this._triggers.has(Z)){const le=this.trigger(n,Z,qc,u);le&&S.push(le)}}),S.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,x),s&&X(S).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(e&&s){const u=new Set;e.forEach(p=>{const x=p.name;if(u.has(x))return;u.add(x);const B=this._triggers.get(x).fallbackTransition,Z=s.get(x)||Zc,le=new Nl(qc),Te=new yf(this.id,x,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:x,transition:B,fromState:Z,toState:le,player:Te,isFallbackTransition:!0})})}}removeNode(n,e){const s=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let u=!1;if(s.totalAnimations){const p=s.players.length?s.playersByQueriedElement.get(n):[];if(p&&p.length)u=!0;else{let x=n;for(;x=x.parentNode;)if(s.statesByElement.get(x)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(n),u)s.markElementAsRemoved(this.id,n,!1,e);else{const p=n[No];(!p||p===Pl)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,e))}}insertNode(n,e){Ss(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(s=>{const u=s.player;if(u.destroyed)return;const p=s.element,x=this._elementListeners.get(p);x&&x.forEach(S=>{if(S.name==s.triggerName){const B=wt(p,s.triggerName,s.fromState.value,s.toState.value);B._data=n,oe(s.player,S.phase,B,S.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):e.push(s)}),this._queue=[],e.sort((s,u)=>{const p=s.transition.ast.depCount,x=u.transition.ast.depCount;return 0==p||0==x?p-x:this._engine.driver.containsElement(s.element,u.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(s=>s.element===n)||e,e}}class Ad{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,s){this.bodyNode=n,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,p)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,e){const s=new Cm(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,e){const s=this._namespaceList,u=this.namespacesByHostElement;if(s.length-1>=0){let x=!1,S=this.driver.getParentElement(e);for(;S;){const B=u.get(S);if(B){const Z=s.indexOf(B);s.splice(Z+1,0,n),x=!0;break}S=this.driver.getParentElement(S)}x||s.unshift(n)}else s.push(n);return u.set(e,n),n}register(n,e){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,e)),s}registerTrigger(n,e,s){let u=this._namespaceLookup[n];u&&u.register(e,s)&&this.totalAnimations++}destroy(n,e){if(!n)return;const s=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[n];const u=this._namespaceList.indexOf(s);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,s=this.statesByElement.get(n);if(s)for(let u of s.values())if(u.namespaceId){const p=this._fetchNamespace(u.namespaceId);p&&e.add(p)}return e}trigger(n,e,s,u){if(wu(e)){const p=this._fetchNamespace(n);if(p)return p.trigger(e,s,u),!0}return!1}insertNode(n,e,s,u){if(!wu(e))return;const p=e[No];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const x=this.collectedLeaveElements.indexOf(e);x>=0&&this.collectedLeaveElements.splice(x,1)}if(n){const x=this._fetchNamespace(n);x&&x.insertNode(e,s)}u&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Ss(n,yo)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Qc(n,yo))}removeNode(n,e,s,u){if(wu(e)){const p=n?this._fetchNamespace(n):null;if(p?p.removeNode(e,u):this.markElementAsRemoved(n,e,!1,u),s){const x=this.namespacesByHostElement.get(e);x&&x.id!==n&&x.removeNode(e,u)}}else this._onRemovalComplete(e,u)}markElementAsRemoved(n,e,s,u,p){this.collectedLeaveElements.push(e),e[No]={namespaceId:n,setForRemoval:u,hasAnimation:s,removedBeforeQueried:!1,previousTriggersValues:p}}listen(n,e,s,u,p){return wu(e)?this._fetchNamespace(n).listen(e,s,u,p):()=>{}}_buildInstruction(n,e,s,u,p){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,u,n.fromState.options,n.toState.options,e,p)}destroyInnerAnimations(n){let e=this.driver.query(n,tl,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,vr,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return X(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[No];if(e&&e.setForRemoval){if(n[No]=Pl,e.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(yo)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,u)=>this._balanceNamespaceList(s,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Ss(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,n)}finally{for(let u=0;u<s.length;u++)s[u]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?X(e).onDone(()=>{s.forEach(u=>u())}):s.forEach(u=>u())}}reportError(n){throw function gs(r){return new h.vHH(3402,!1)}()}_flushAnimations(n,e){const s=new zt,u=[],p=new Map,x=[],S=new Map,B=new Map,Z=new Map,le=new Set;this.disabledNodes.forEach(Jn=>{le.add(Jn);const ui=this.driver.query(Jn,".ng-animate-queued",!0);for(let Ei=0;Ei<ui.length;Ei++)le.add(ui[Ei])});const Te=this.bodyNode,We=Array.from(this.statesByElement.keys()),vt=Dm(We,this.collectedEnterElements),At=new Map;let qt=0;vt.forEach((Jn,ui)=>{const Ei=Wc+qt++;At.set(ui,Ei),Jn.forEach(Pr=>Ss(Pr,Ei))});const un=[],li=new Set,rr=new Set;for(let Jn=0;Jn<this.collectedLeaveElements.length;Jn++){const ui=this.collectedLeaveElements[Jn],Ei=ui[No];Ei&&Ei.setForRemoval&&(un.push(ui),li.add(ui),Ei.hasAnimation?this.driver.query(ui,".ng-star-inserted",!0).forEach(Pr=>li.add(Pr)):rr.add(ui))}const Xi=new Map,lr=Dm(We,Array.from(li));lr.forEach((Jn,ui)=>{const Ei=Ws+qt++;Xi.set(ui,Ei),Jn.forEach(Pr=>Ss(Pr,Ei))}),n.push(()=>{vt.forEach((Jn,ui)=>{const Ei=At.get(ui);Jn.forEach(Pr=>Qc(Pr,Ei))}),lr.forEach((Jn,ui)=>{const Ei=Xi.get(ui);Jn.forEach(Pr=>Qc(Pr,Ei))}),un.forEach(Jn=>{this.processLeaveNode(Jn)})});const mu=[],Zl=[];for(let Jn=this._namespaceList.length-1;Jn>=0;Jn--)this._namespaceList[Jn].drainQueuedTransitions(e).forEach(Ei=>{const Pr=Ei.player,_l=Ei.element;if(mu.push(Pr),this.collectedEnterElements.length){const xc=_l[No];if(xc&&xc.setForMove){if(xc.previousTriggersValues&&xc.previousTriggersValues.has(Ei.triggerName)){const fv=xc.previousTriggersValues.get(Ei.triggerName),oh=this.statesByElement.get(Ei.element);if(oh&&oh.has(Ei.triggerName)){const Ax=oh.get(Ei.triggerName);Ax.value=fv,oh.set(Ei.triggerName,Ax)}}return void Pr.destroy()}}const xm=!Te||!this.driver.containsElement(Te,_l),gu=Xi.get(_l),T_=At.get(_l),Co=this._buildInstruction(Ei,s,T_,gu,xm);if(Co.errors&&Co.errors.length)return void Zl.push(Co);if(xm)return Pr.onStart(()=>os(_l,Co.fromStyles)),Pr.onDestroy(()=>Fr(_l,Co.toStyles)),void u.push(Pr);if(Ei.isFallbackTransition)return Pr.onStart(()=>os(_l,Co.fromStyles)),Pr.onDestroy(()=>Fr(_l,Co.toStyles)),void u.push(Pr);const AC=[];Co.timelines.forEach(xc=>{xc.stretchStartingKeyframe=!0,this.disabledNodes.has(xc.element)||AC.push(xc)}),Co.timelines=AC,s.append(_l,Co.timelines),x.push({instruction:Co,player:Pr,element:_l}),Co.queriedElements.forEach(xc=>Pt(S,xc,[]).push(Pr)),Co.preStyleProps.forEach((xc,fv)=>{if(xc.size){let oh=B.get(fv);oh||B.set(fv,oh=new Set),xc.forEach((Ax,NE)=>oh.add(NE))}}),Co.postStyleProps.forEach((xc,fv)=>{let oh=Z.get(fv);oh||Z.set(fv,oh=new Set),xc.forEach((Ax,NE)=>oh.add(NE))})});if(Zl.length){const Jn=[];Zl.forEach(ui=>{Jn.push(function Il(r,n){return new h.vHH(3505,!1)}())}),mu.forEach(ui=>ui.destroy()),this.reportError(Jn)}const za=new Map,Hc=new Map;x.forEach(Jn=>{const ui=Jn.element;s.has(ui)&&(Hc.set(ui,ui),this._beforeAnimationBuild(Jn.player.namespaceId,Jn.instruction,za))}),u.forEach(Jn=>{const ui=Jn.element;this._getPreviousPlayers(ui,!1,Jn.namespaceId,Jn.triggerName,null).forEach(Pr=>{Pt(za,ui,[]).push(Pr),Pr.destroy()})});const pu=un.filter(Jn=>Sc(Jn,B,Z)),Wp=new Map;Eu(Wp,this.driver,rr,Z,Vt.l3).forEach(Jn=>{Sc(Jn,B,Z)&&pu.push(Jn)});const pw=new Map;vt.forEach((Jn,ui)=>{Eu(pw,this.driver,new Set(Jn),B,Vt.k1)}),pu.forEach(Jn=>{const ui=Wp.get(Jn),Ei=pw.get(Jn);Wp.set(Jn,new Map([...Array.from(ui?.entries()??[]),...Array.from(Ei?.entries()??[])]))});const hv=[],SC=[],TC={};x.forEach(Jn=>{const{element:ui,player:Ei,instruction:Pr}=Jn;if(s.has(ui)){if(le.has(ui))return Ei.onDestroy(()=>Fr(ui,Pr.toStyles)),Ei.disabled=!0,Ei.overrideTotalTime(Pr.totalTime),void u.push(Ei);let _l=TC;if(Hc.size>1){let gu=ui;const T_=[];for(;gu=gu.parentNode;){const Co=Hc.get(gu);if(Co){_l=Co;break}T_.push(gu)}T_.forEach(Co=>Hc.set(Co,_l))}const xm=this._buildAnimation(Ei.namespaceId,Pr,za,p,pw,Wp);if(Ei.setRealPlayer(xm),_l===TC)hv.push(Ei);else{const gu=this.playersByElement.get(_l);gu&&gu.length&&(Ei.parentPlayer=X(gu)),u.push(Ei)}}else os(ui,Pr.fromStyles),Ei.onDestroy(()=>Fr(ui,Pr.toStyles)),SC.push(Ei),le.has(ui)&&u.push(Ei)}),SC.forEach(Jn=>{const ui=p.get(Jn.element);if(ui&&ui.length){const Ei=X(ui);Jn.setRealPlayer(Ei)}}),u.forEach(Jn=>{Jn.parentPlayer?Jn.syncPlayerEvents(Jn.parentPlayer):Jn.destroy()});for(let Jn=0;Jn<un.length;Jn++){const ui=un[Jn],Ei=ui[No];if(Qc(ui,Ws),Ei&&Ei.hasAnimation)continue;let Pr=[];if(S.size){let xm=S.get(ui);xm&&xm.length&&Pr.push(...xm);let gu=this.driver.query(ui,vr,!0);for(let T_=0;T_<gu.length;T_++){let Co=S.get(gu[T_]);Co&&Co.length&&Pr.push(...Co)}}const _l=Pr.filter(xm=>!xm.destroyed);_l.length?Kp(this,ui,_l):this.processLeaveNode(ui)}return un.length=0,hv.forEach(Jn=>{this.players.push(Jn),Jn.onDone(()=>{Jn.destroy();const ui=this.players.indexOf(Jn);this.players.splice(ui,1)}),Jn.play()}),hv}elementContainsData(n,e){let s=!1;const u=e[No];return u&&u.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(n).elementContainsData(e)||s}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,s,u,p){let x=[];if(e){const S=this.playersByQueriedElement.get(n);S&&(x=S)}else{const S=this.playersByElement.get(n);if(S){const B=!p||p==qc;S.forEach(Z=>{Z.queued||!B&&Z.triggerName!=u||x.push(Z)})}}return(s||u)&&(x=x.filter(S=>!(s&&s!=S.namespaceId||u&&u!=S.triggerName))),x}_beforeAnimationBuild(n,e,s){const p=e.element,x=e.isRemovalTransition?void 0:n,S=e.isRemovalTransition?void 0:e.triggerName;for(const B of e.timelines){const Z=B.element,le=Z!==p,Te=Pt(s,Z,[]);this._getPreviousPlayers(Z,le,x,S,e.toState).forEach(vt=>{const At=vt.getRealPlayer();At.beforeDestroy&&At.beforeDestroy(),vt.destroy(),Te.push(vt)})}os(p,e.fromStyles)}_buildAnimation(n,e,s,u,p,x){const S=e.triggerName,B=e.element,Z=[],le=new Set,Te=new Set,We=e.timelines.map(At=>{const qt=At.element;le.add(qt);const un=qt[No];if(un&&un.removedBeforeQueried)return new Vt.ZN(At.duration,At.delay);const li=qt!==B,rr=function Ts(r){const n=[];return bf(r,n),n}((s.get(qt)||bu).map(za=>za.getRealPlayer())).filter(za=>!!za.element&&za.element===qt),Xi=p.get(qt),lr=x.get(qt),mu=j(0,this._normalizer,0,At.keyframes,Xi,lr),Zl=this._buildPlayer(At,mu,rr);if(At.subTimeline&&u&&Te.add(qt),li){const za=new yf(n,S,qt);za.setRealPlayer(Zl),Z.push(za)}return Zl});Z.forEach(At=>{Pt(this.playersByQueriedElement,At.element,[]).push(At),At.onDone(()=>function dh(r,n,e){let s=r.get(n);if(s){if(s.length){const u=s.indexOf(e);s.splice(u,1)}0==s.length&&r.delete(n)}return s}(this.playersByQueriedElement,At.element,At))}),le.forEach(At=>Ss(At,Xn));const vt=X(We);return vt.onDestroy(()=>{le.forEach(At=>Qc(At,Xn)),Fr(B,e.toStyles)}),Te.forEach(At=>{Pt(u,At,[]).push(vt)}),vt}_buildPlayer(n,e,s){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,s):new Vt.ZN(n.duration,n.delay)}}class yf{constructor(n,e,s){this.namespaceId=n,this.triggerName=e,this.element=s,this._player=new Vt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,s)=>{e.forEach(u=>oe(n,s,void 0,u))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Pt(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function wu(r){return r&&1===r.nodeType}function Md(r,n){const e=r.style.display;return r.style.display=n??"none",e}function Eu(r,n,e,s,u){const p=[];e.forEach(B=>p.push(Md(B)));const x=[];s.forEach((B,Z)=>{const le=new Map;B.forEach(Te=>{const We=n.computeStyle(Z,Te,u);le.set(Te,We),(!We||0==We.length)&&(Z[No]=ga,x.push(Z))}),r.set(Z,le)});let S=0;return e.forEach(B=>Md(B,p[S++])),x}function Dm(r,n){const e=new Map;if(r.forEach(S=>e.set(S,[])),0==n.length)return e;const s=1,u=new Set(n),p=new Map;function x(S){if(!S)return s;let B=p.get(S);if(B)return B;const Z=S.parentNode;return B=e.has(Z)?Z:u.has(Z)?s:x(Z),p.set(S,B),B}return n.forEach(S=>{const B=x(S);B!==s&&e.get(B).push(S)}),e}function Ss(r,n){r.classList?.add(n)}function Qc(r,n){r.classList?.remove(n)}function Kp(r,n,e){X(e).onDone(()=>r.processLeaveNode(n))}function bf(r,n){for(let e=0;e<r.length;e++){const s=r[e];s instanceof Vt.ZE?bf(s.players,n):n.push(s)}}function Sc(r,n,e){const s=e.get(r);if(!s)return!1;let u=n.get(r);return u?s.forEach(p=>u.add(p)):n.set(r,s),e.delete(r),!0}class uh{constructor(n,e,s){this.bodyNode=n,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(u,p)=>{},this._transitionEngine=new Ad(n,e,s),this._timelineEngine=new pa(n,e,s),this._transitionEngine.onRemovalComplete=(u,p)=>this.onRemovalComplete(u,p)}registerTrigger(n,e,s,u,p){const x=n+"-"+u;let S=this._triggerCache[x];if(!S){const B=[],Z=[],le=ls(this._driver,p,B,Z);if(B.length)throw function _u(r,n){return new h.vHH(3404,!1)}();S=function Ni(r,n,e){return new Fn(r,n,e)}(u,le,this._normalizer),this._triggerCache[x]=S}this._transitionEngine.registerTrigger(e,u,S)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,s,u){this._transitionEngine.insertNode(n,e,s,u)}onRemove(n,e,s,u){this._transitionEngine.removeNode(n,e,u||!1,s)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,s,u){if("@"==s.charAt(0)){const[p,x]=Dn(s);this._timelineEngine.command(p,e,x,u)}else this._transitionEngine.trigger(n,e,s,u)}listen(n,e,s,u,p){if("@"==s.charAt(0)){const[x,S]=Dn(s);return this._timelineEngine.listen(x,e,S,p)}return this._transitionEngine.listen(n,e,s,u,p)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let kd=(()=>{class r{constructor(e,s,u){this._element=e,this._startStyles=s,this._endStyles=u,this._state=0;let p=r.initialStylesByElement.get(e);p||r.initialStylesByElement.set(e,p=new Map),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&Fr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fr(this._element,this._initialStyles),this._endStyles&&(Fr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(os(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(os(this._element,this._endStyles),this._endStyles=null),Fr(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function Im(r){let n=null;return r.forEach((e,s)=>{(function qp(r){return"display"===r||"position"===r})(s)&&(n=n||new Map,n.set(s,e))}),n}class ti{constructor(n,e,s,u){this.element=n,this.keyframes=e,this.options=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(s=>{e.push(Object.fromEntries(s))}),e}_triggerWebAnimation(n,e,s){return n.animate(this._convertKeyframesToObject(e),s)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((s,u)=>{"offset"!==u&&n.set(u,this._finished?s:Zo(this.element,u))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class ar{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return nr(n,e)}getParentElement(n){return zn(n)}query(n,e,s){return ko(n,e,s)}computeStyle(n,e,s){return window.getComputedStyle(n)[e]}animate(n,e,s,u,p,x=[]){const B={duration:s,delay:u,fill:0==u?"both":"forwards"};p&&(B.easing=p);const Z=new Map,le=x.filter(vt=>vt instanceof ti);(function nl(r,n){return 0===r||0===n})(s,u)&&le.forEach(vt=>{vt.currentSnapshot.forEach((At,qt)=>Z.set(qt,At))});let Te=function fr(r){return r.length?r[0]instanceof Map?r:r.map(n=>lh(n)):[]}(e).map(vt=>$r(vt));Te=function pt(r,n,e){if(e.size&&n.length){let s=n[0],u=[];if(e.forEach((p,x)=>{s.has(x)||u.push(x),s.set(x,p)}),u.length)for(let p=1;p<n.length;p++){let x=n[p];u.forEach(S=>x.set(S,Zo(r,S)))}}return n}(n,Te,Z);const We=function Yp(r,n){let e=null,s=null;return Array.isArray(n)&&n.length?(e=Im(n[0]),n.length>1&&(s=Im(n[n.length-1]))):n instanceof Map&&(e=Im(n)),e||s?new kd(r,e,s):null}(n,Te);return new ti(n,Te,B,We)}}let Rd=(()=>{class r extends Vt._j{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(e)?(0,Vt.vP)(e):e;return Od(this._renderer,null,s,"register",[u]),new hh(s,this._renderer)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(h.FYo),h.LFG(we.K0))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();class hh extends Vt.LC{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new ao(this._id,n,e||{},this._renderer)}}class ao{constructor(n,e,s,u){this.id=n,this.element=e,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return Od(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Od(r,n,e,s,u){return r.setProperty(n,`@@${e}:${s}`,u)}const wf="@.disabled";let Zp=(()=>{class r{constructor(e,s,u){this.delegate=e,this.engine=s,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(p,x)=>{const S=x?.parentNode(p);S&&x.removeChild(S,p)}}createRenderer(e,s){const p=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let le=this._rendererCache.get(p);return le||(le=new xf("",p,this.engine,()=>this._rendererCache.delete(p)),this._rendererCache.set(p,le)),le}const x=s.id,S=s.id+"-"+this._currentId;this._currentId++,this.engine.register(S,e);const B=le=>{Array.isArray(le)?le.forEach(B):this.engine.registerTrigger(x,S,e,le.name,le)};return s.data.animation.forEach(B),new A_(this,S,p,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,u){e>=0&&e<this._microtaskId?this._zone.run(()=>s(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(p=>{const[x,S]=p;x(S)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(h.FYo),h.LFG(uh),h.LFG(h.R0b))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();class xf{constructor(n,e,s,u){this.namespaceId=n,this.delegate=e,this.engine=s,this._onDestroy=u,this.destroyNode=this.delegate.destroyNode?p=>e.destroyNode(p):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,s,u=!0){this.delegate.insertBefore(n,e,s),this.engine.onInsert(this.namespaceId,e,n,u)}removeChild(n,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,s,u){this.delegate.setAttribute(n,e,s,u)}removeAttribute(n,e,s){this.delegate.removeAttribute(n,e,s)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,s,u){this.delegate.setStyle(n,e,s,u)}removeStyle(n,e,s){this.delegate.removeStyle(n,e,s)}setProperty(n,e,s){"@"==e.charAt(0)&&e==wf?this.disableAnimations(n,!!s):this.delegate.setProperty(n,e,s)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,s){return this.delegate.listen(n,e,s)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class A_ extends xf{constructor(n,e,s,u,p){super(e,s,u,p),this.factory=n,this.namespaceId=e}setProperty(n,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==wf?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,e.slice(1),s):this.delegate.setProperty(n,e,s)}listen(n,e,s){if("@"==e.charAt(0)){const u=function Qp(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let p=e.slice(1),x="";return"@"!=p.charAt(0)&&([p,x]=function Sm(r){const n=r.indexOf(".");return[r.substring(0,n),r.slice(n+1)]}(p)),this.engine.listen(this.namespaceId,u,p,x,S=>{this.factory.scheduleListenerCallback(S._data||-1,s,S)})}return this.delegate.listen(n,e,s)}}const Cf=[{provide:Vt._j,useClass:Rd},{provide:Yc,useFactory:function M_(){return new te}},{provide:uh,useClass:(()=>{class r extends uh{constructor(e,s,u,p){super(e.body,s,u)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(we.K0),h.LFG($c),h.LFG(Yc),h.LFG(h.z2F))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})()},{provide:h.FYo,useFactory:function Ef(r,n,e){return new Zp(r,n,e)},deps:[_.se,uh,h.R0b]}],Cu=[{provide:$c,useFactory:()=>new ar},{provide:h.QbO,useValue:"BrowserAnimations"},...Cf],Xp=[{provide:$c,useClass:Sd},{provide:h.QbO,useValue:"NoopAnimations"},...Cf];let Tc=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?Xp:Cu}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:Cu,imports:[_.b2]}),r})();var Fl=P(8996),Iu=P(1135);const sl=[[["caption"]],[["colgroup"],["col"]]],Am=["caption","colgroup, col"];function mh(r){return class extends r{get sticky(){return this._sticky}set sticky(n){const e=this._sticky;this._sticky=(0,Le.Ig)(n),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const n=this._hasStickyChanged;return this._hasStickyChanged=!1,n}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...n){super(...n),this._sticky=!1,this._hasStickyChanged=!1}}}const Ac=new h.OlP("CDK_TABLE");let ol=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkCellDef",""]]}),r})(),qs=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkHeaderCellDef",""]]}),r})(),al=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkFooterCellDef",""]]}),r})();class ph{}const Nd=mh(ph);let Oa=(()=>{class r extends Nd{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const s=this._stickyEnd;this._stickyEnd=(0,Le.Ig)(e),this._hasStickyChanged=s!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Ac,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,ol,5),h.Suo(u,qs,5),h.Suo(u,al,5)),2&e){let p;h.iGM(p=h.CRH())&&(s.cell=p.first),h.iGM(p=h.CRH())&&(s.headerCell=p.first),h.iGM(p=h.CRH())&&(s.footerCell=p.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[h._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),h.qOj]}),r})();class Fd{constructor(n,e){e.nativeElement.classList.add(...n._columnCssClassName)}}let Mc=(()=>{class r extends Fd{constructor(e,s){super(e,s)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Oa),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[h.qOj]}),r})(),gh=(()=>{class r extends Fd{constructor(e,s){if(super(e,s),1===e._table?._elementRef.nativeElement.nodeType){const u=e._table._elementRef.nativeElement.getAttribute("role");s.nativeElement.setAttribute("role","grid"===u||"treegrid"===u?"gridcell":"cell")}}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Oa),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[h.qOj]}),r})();class _h{constructor(){this.tasks=[],this.endTasks=[]}}const Fo=new h.OlP("_COALESCED_STYLE_SCHEDULER");let km=(()=>{class r{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ee.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new _h,this._getScheduleObservable().pipe((0,Un.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new _h;for(const s of e.tasks)s();for(const s of e.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Fl.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,rn.q)(1))}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(h.R0b))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),Sf=(()=>{class r{constructor(e,s){this.template=e,this._differs=s}ngOnChanges(e){if(!this._columnsDiffer){const s=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof _a?e.headerCell.template:this instanceof ed?e.footerCell.template:e.cell.template}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc),h.Y36(h.ZZ4))},r.\u0275dir=h.lG2({type:r,features:[h.TTD]}),r})();class Tf extends Sf{}const yh=mh(Tf);let _a=(()=>{class r extends yh{constructor(e,s,u){super(e,s),this._table=u}ngOnChanges(e){super.ngOnChanges(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(Ac,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[h.qOj,h.TTD]}),r})();class Rm extends Sf{}const Ld=mh(Rm);let ed=(()=>{class r extends Ld{constructor(e,s,u){super(e,s),this._table=u}ngOnChanges(e){super.ngOnChanges(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(Ac,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[h.qOj,h.TTD]}),r})(),Tu=(()=>{class r extends Sf{constructor(e,s,u){super(e,s),this._table=u}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(Ac,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[h.qOj]}),r})(),ii=(()=>{class r{constructor(e){this._viewContainer=e,r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}}return r.mostRecentCellOutlet=null,r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkCellOutlet",""]]}),r})(),td=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&h.GkF(0,0)},dependencies:[ii],encapsulation:2}),r})(),vh=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&h.GkF(0,0)},dependencies:[ii],encapsulation:2}),r})(),Bd=(()=>{class r{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Rgc))},r.\u0275dir=h.lG2({type:r,selectors:[["ng-template","cdkNoDataRow",""]]}),r})();const nd=["top","bottom","left","right"];class Au{constructor(n,e,s,u,p=!0,x=!0,S){this._isNativeHtmlTable=n,this._stickCellCss=e,this.direction=s,this._coalescedStyleScheduler=u,this._isBrowser=p,this._needsPositionStickyOnElement=x,this._positionListener=S,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(n,e){const s=[];for(const u of n)if(u.nodeType===u.ELEMENT_NODE){s.push(u);for(let p=0;p<u.children.length;p++)s.push(u.children[p])}this._coalescedStyleScheduler.schedule(()=>{for(const u of s)this._removeStickyStyle(u,e)})}updateStickyColumns(n,e,s,u=!0){if(!n.length||!this._isBrowser||!e.some(We=>We)&&!s.some(We=>We))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const p=n[0],x=p.children.length,S=this._getCellWidths(p,u),B=this._getStickyStartColumnPositions(S,e),Z=this._getStickyEndColumnPositions(S,s),le=e.lastIndexOf(!0),Te=s.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const We="rtl"===this.direction,vt=We?"right":"left",At=We?"left":"right";for(const qt of n)for(let un=0;un<x;un++){const li=qt.children[un];e[un]&&this._addStickyStyle(li,vt,B[un],un===le),s[un]&&this._addStickyStyle(li,At,Z[un],un===Te)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===le?[]:S.slice(0,le+1).map((qt,un)=>e[un]?qt:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Te?[]:S.slice(Te).map((qt,un)=>s[un+Te]?qt:null).reverse()}))})}stickRows(n,e,s){if(!this._isBrowser)return;const u="bottom"===s?n.slice().reverse():n,p="bottom"===s?e.slice().reverse():e,x=[],S=[],B=[];for(let le=0,Te=0;le<u.length;le++){if(!p[le])continue;x[le]=Te;const We=u[le];B[le]=this._isNativeHtmlTable?Array.from(We.children):[We];const vt=We.getBoundingClientRect().height;Te+=vt,S[le]=vt}const Z=p.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let le=0;le<u.length;le++){if(!p[le])continue;const Te=x[le],We=le===Z;for(const vt of B[le])this._addStickyStyle(vt,s,Te,We)}"top"===s?this._positionListener?.stickyHeaderRowsUpdated({sizes:S,offsets:x,elements:B}):this._positionListener?.stickyFooterRowsUpdated({sizes:S,offsets:x,elements:B})})}updateStickyFooterContainer(n,e){if(!this._isNativeHtmlTable)return;const s=n.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(u=>!u)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(n,e){for(const u of e)n.style[u]="",n.classList.remove(this._borderCellCss[u]);nd.some(u=>-1===e.indexOf(u)&&n.style[u])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,e,s,u){n.classList.add(this._stickCellCss),u&&n.classList.add(this._borderCellCss[e]),n.style[e]=`${s}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){const e={top:100,bottom:10,left:1,right:1};let s=0;for(const u of nd)n.style[u]&&(s+=e[u]);return s?`${s}`:""}_getCellWidths(n,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],u=n.children;for(let p=0;p<u.length;p++)s.push(u[p].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(n,e){const s=[];let u=0;for(let p=0;p<n.length;p++)e[p]&&(s[p]=u,u+=n[p]);return s}_getStickyEndColumnPositions(n,e){const s=[];let u=0;for(let p=n.length;p>0;p--)e[p]&&(s[p]=u,u+=n[p]);return s}}const Bl=new h.OlP("CDK_SPL");let uc=(()=>{class r{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","rowOutlet",""]]}),r})(),id=(()=>{class r{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","headerRowOutlet",""]]}),r})(),Mf=(()=>{class r{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","footerRowOutlet",""]]}),r})(),Pm=(()=>{class r{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","noDataRowOutlet",""]]}),r})(),kc=(()=>{class r{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=(0,Le.Ig)(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=(0,Le.Ig)(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,s,u,p,x,S,B,Z,le,Te,We,vt){this._differs=e,this._changeDetectorRef=s,this._elementRef=u,this._dir=x,this._platform=B,this._viewRepeater=Z,this._coalescedStyleScheduler=le,this._viewportRuler=Te,this._stickyPositioningListener=We,this._ngZone=vt,this._onDestroy=new Ee.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new h.vpe,this.viewChange=new Iu.X({start:0,end:Number.MAX_VALUE}),p||this._elementRef.nativeElement.setAttribute("role","table"),this._document=S,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler.change().pipe((0,Un.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),po(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const s=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,s,(u,p,x)=>this._getEmbeddedViewArgs(u.item,x),u=>u.item.data,u=>{1===u.operation&&u.context&&this._renderCellTemplateForItem(u.record.item.rowDef,u.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(u=>{s.get(u.currentIndex).context.$implicit=u.item.data}),this._updateNoDataRow(),this._ngZone&&h.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,rn.q)(1),(0,Un.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),u=this._elementRef.nativeElement.querySelector("thead");u&&(u.style.display=e.length?"":"none");const p=this._headerRowDefs.map(x=>x.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,p,"top"),this._headerRowDefs.forEach(x=>x.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),u=this._elementRef.nativeElement.querySelector("tfoot");u&&(u.style.display=e.length?"":"none");const p=this._footerRowDefs.map(x=>x.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,p,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,p),this._footerRowDefs.forEach(x=>x.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),u=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...s,...u],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((p,x)=>{this._addStickyColumnStyles([p],this._headerRowDefs[x])}),this._rowDefs.forEach(p=>{const x=[];for(let S=0;S<s.length;S++)this._renderRows[S].rowDef===p&&x.push(s[S]);this._addStickyColumnStyles(x,p)}),u.forEach((p,x)=>{this._addStickyColumnStyles([p],this._footerRowDefs[x])}),Array.from(this._columnDefsByName.values()).forEach(p=>p.resetStickyChanged())}_getAllRenderRows(){const e=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let u=0;u<this._data.length;u++){let p=this._data[u];const x=this._getRenderRowsForData(p,u,s.get(p));this._cachedRenderRowsMap.has(p)||this._cachedRenderRowsMap.set(p,new WeakMap);for(let S=0;S<x.length;S++){let B=x[S];const Z=this._cachedRenderRowsMap.get(B.data);Z.has(B.rowDef)?Z.get(B.rowDef).push(B):Z.set(B.rowDef,[B]),e.push(B)}}return e}_getRenderRowsForData(e,s,u){return this._getRowDefs(e,s).map(x=>{const S=u&&u.has(x)?u.get(x):[];if(S.length){const B=S.shift();return B.dataIndex=s,B}return{data:e,rowDef:x,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Hd(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=Hd(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Hd(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Hd(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(x,S)=>x||!!S.getColumnsDiff(),s=this._rowDefs.reduce(e,!1);s&&this._forceRenderDataRows();const u=this._headerRowDefs.reduce(e,!1);u&&this._forceRenderHeaderRows();const p=this._footerRowDefs.reduce(e,!1);return p&&this._forceRenderFooterRows(),s||u||p}_switchDataSource(e){this._data=[],po(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;po(this.dataSource)?e=this.dataSource.connect(this):function Jc(r){return!!r&&(r instanceof Ve.y||(0,Xe.m)(r.lift)&&(0,Xe.m)(r.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,Ct.of)(this.dataSource)),this._renderChangeSubscription=e.pipe((0,Un.R)(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,s)=>this._renderRow(this._headerRowOutlet,e,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,s)=>this._renderRow(this._footerRowOutlet,e,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,s){const u=Array.from(s.columns||[]).map(S=>this._columnDefsByName.get(S)),p=u.map(S=>S.sticky),x=u.map(S=>S.stickyEnd);this._stickyStyler.updateStickyColumns(e,p,x,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const s=[];for(let u=0;u<e.viewContainer.length;u++){const p=e.viewContainer.get(u);s.push(p.rootNodes[0])}return s}_getRowDefs(e,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let u=[];if(this.multiTemplateDataRows)u=this._rowDefs.filter(p=>!p.when||p.when(s,e));else{let p=this._rowDefs.find(x=>x.when&&x.when(s,e))||this._defaultRowDef;p&&u.push(p)}return u}_getEmbeddedViewArgs(e,s){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:s}}_renderRow(e,s,u,p={}){const x=e.viewContainer.createEmbeddedView(s.template,p,u);return this._renderCellTemplateForItem(s,p),x}_renderCellTemplateForItem(e,s){for(let u of this._getCellTemplates(e))ii.mostRecentCellOutlet&&ii.mostRecentCellOutlet._viewContainer.createEmbeddedView(u,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let s=0,u=e.length;s<u;s++){const x=e.get(s).context;x.count=u,x.first=0===s,x.last=s===u-1,x.even=s%2==0,x.odd=!x.even,this.multiTemplateDataRows?(x.dataIndex=this._renderRows[s].dataIndex,x.renderIndex=s):x.index=this._renderRows[s].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,s=>{const u=this._columnDefsByName.get(s);return e.extractCellTemplate(u)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const u of s){const p=this._document.createElement(u.tag);p.setAttribute("role","rowgroup");for(const x of u.outlets)p.appendChild(x.elementRef.nativeElement);e.appendChild(p)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(s,u)=>s||u.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Au(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Ct.of)()).pipe((0,Un.R)(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const s=0===this._rowOutlet.viewContainer.length;if(s===this._isShowingNoDataRow)return;const u=this._noDataRowOutlet.viewContainer;if(s){const p=u.createEmbeddedView(e.templateRef),x=p.rootNodes[0];1===p.rootNodes.length&&x?.nodeType===this._document.ELEMENT_NODE&&(x.setAttribute("role","row"),x.classList.add(e._contentClassName))}else u.clear();this._isShowingNoDataRow=s}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.ZZ4),h.Y36(h.sBO),h.Y36(h.SBq),h.$8M("role"),h.Y36(Yt.Is,8),h.Y36(we.K0),h.Y36(xe.t4),h.Y36(Xs),h.Y36(Fo),h.Y36(K),h.Y36(Bl,12),h.Y36(h.R0b,8))},r.\u0275cmp=h.Xpm({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,Bd,5),h.Suo(u,Oa,5),h.Suo(u,Tu,5),h.Suo(u,_a,5),h.Suo(u,ed,5)),2&e){let p;h.iGM(p=h.CRH())&&(s._noDataRow=p.first),h.iGM(p=h.CRH())&&(s._contentColumnDefs=p),h.iGM(p=h.CRH())&&(s._contentRowDefs=p),h.iGM(p=h.CRH())&&(s._contentHeaderRowDefs=p),h.iGM(p=h.CRH())&&(s._contentFooterRowDefs=p)}},viewQuery:function(e,s){if(1&e&&(h.Gf(uc,7),h.Gf(id,7),h.Gf(Mf,7),h.Gf(Pm,7)),2&e){let u;h.iGM(u=h.CRH())&&(s._rowOutlet=u.first),h.iGM(u=h.CRH())&&(s._headerRowOutlet=u.first),h.iGM(u=h.CRH())&&(s._footerRowOutlet=u.first),h.iGM(u=h.CRH())&&(s._noDataRowOutlet=u.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,s){2&e&&h.ekj("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[h._Bn([{provide:Ac,useExisting:r},{provide:Xs,useClass:ps},{provide:Fo,useClass:km},{provide:Bl,useValue:null}])],ngContentSelectors:Am,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(h.F$t(sl),h.Hsn(0),h.Hsn(1,1),h.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[uc,id,Mf,Pm],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),r})();function Hd(r,n){return r.concat(Array.from(n))}let Jp=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Ne]}),r})();const Jo=[[["caption"]],[["colgroup"],["col"]]],Ul=["caption","colgroup, col"];let Ru=(()=>{class r extends kc{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,s){2&e&&h.ekj("mdc-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[h._Bn([{provide:kc,useExisting:r},{provide:Ac,useExisting:r},{provide:Fo,useClass:km},{provide:Xs,useClass:ps},{provide:Bl,useValue:null}]),h.qOj],ngContentSelectors:Ul,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(h.F$t(Jo),h.Hsn(0),h.Hsn(1,1),h.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[uc,id,Mf,Pm],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),r})(),Rc=(()=>{class r extends ol{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matCellDef",""]],features:[h._Bn([{provide:ol,useExisting:r}]),h.qOj]}),r})(),jd=(()=>{class r extends qs{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matHeaderCellDef",""]],features:[h._Bn([{provide:qs,useExisting:r}]),h.qOj]}),r})(),lo=(()=>{class r extends Oa{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[h._Bn([{provide:Oa,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),h.qOj]}),r})(),zd=(()=>{class r extends Mc{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[h.qOj]}),r})(),Ou=(()=>{class r extends gh{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[h.qOj]}),r})(),Nm=(()=>{class r extends _a{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[h._Bn([{provide:_a,useExisting:r}]),h.qOj]}),r})(),Yi=(()=>{class r extends Tu{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[h._Bn([{provide:Tu,useExisting:r}]),h.qOj]}),r})(),Fi=(()=>{class r extends td{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[h._Bn([{provide:td,useExisting:r}]),h.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&h.GkF(0,0)},dependencies:[ii],encapsulation:2}),r})(),Of=(()=>{class r extends vh{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[h._Bn([{provide:vh,useExisting:r}]),h.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&h.GkF(0,0)},dependencies:[ii],encapsulation:2}),r})(),ya=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ce.BQ,Jp,ce.BQ]}),r})();var jl=P(2011),ld=P(3385),Eh=P(3900),C=P(2122),y=P(3942),b=P(5861),T=P(9681),M=P(2090),re=P(4859);const He="firebasestorage.googleapis.com",ct="storageBucket";class Qt extends M.ZR{constructor(n,e,s=0){super(vo(n),`Firebase Storage: ${e} (${vo(n)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(n){this.status_=n}_codeEquals(n){return vo(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Yn=(()=>{return(r=Yn||(Yn={})).UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Yn;var r})();function vo(r){return"storage/"+r}function Gd(){return new Qt(Yn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Lm(){return new Qt(Yn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $d(){return new Qt(Yn.CANCELED,"User canceled the upload/download.")}function Ih(){return new Qt(Yn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Sh(r){return new Qt(Yn.INVALID_ARGUMENT,r)}function P_(){return new Qt(Yn.APP_DELETED,"The Firebase app was deleted.")}function N_(r){return new Qt(Yn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hc(r,n){return new Qt(Yn.INVALID_FORMAT,"String does not match format '"+r+"': "+n)}function cd(r){throw new Qt(Yn.INTERNAL_ERROR,"Internal error: "+r)}class Uo{constructor(n,e){this.bucket=n,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,e){let s;try{s=Uo.makeFromUrl(n,e)}catch{return new Uo(n,"")}if(""===s.path)return s;throw function ig(r){return new Qt(Yn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}(n)}static makeFromUrl(n,e){let s=null;const u="([A-Za-z0-9.\\-_]+)",S=new RegExp("^gs://"+u+"(/(.*))?$","i");function Z(lr){lr.path_=decodeURIComponent(lr.path)}const Te=e.replace(/[.]/g,"\\."),Xi=[{regex:S,indices:{bucket:1,path:3},postModify:function p(lr){"/"===lr.path.charAt(lr.path.length-1)&&(lr.path_=lr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Te}/v[A-Za-z0-9_]+/b/${u}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Z},{regex:new RegExp(`^https?://${e===He?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${u}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Z}];for(let lr=0;lr<Xi.length;lr++){const mu=Xi[lr],Zl=mu.regex.exec(n);if(Zl){let Hc=Zl[mu.indices.path];Hc||(Hc=""),s=new Uo(Zl[mu.indices.bucket],Hc),mu.postModify(s);break}}if(null==s)throw function Dh(r){return new Qt(Yn.INVALID_URL,"Invalid URL '"+r+"'.")}(n);return s}}class pv{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function Pu(r){return"string"==typeof r||r instanceof String}function Wd(r){return Pa()&&r instanceof Blob}function Pa(){return typeof Blob<"u"&&!(0,M.UG)()}function Kd(r,n,e,s){if(s<n)throw Sh(`Invalid value for '${r}'. Expected ${n} or greater.`);if(s>e)throw Sh(`Invalid value for '${r}'. Expected ${e} or less.`)}function Na(r,n,e){let s=n;return null==e&&(s=`https://${n}`),`${e}://${s}/v0${r}`}function Lf(r){const n=encodeURIComponent;let e="?";for(const s in r)r.hasOwnProperty(s)&&(e=e+(n(s)+"=")+n(r[s])+"&");return e=e.slice(0,-1),e}var dd=(()=>{return(r=dd||(dd={}))[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",dd;var r})();function Bf(r,n){const e=r>=500&&r<600,u=-1!==[408,429].indexOf(r),p=-1!==n.indexOf(r);return e||u||p}class Vm{constructor(n,e,s,u,p,x,S,B,Z,le,Te,We=!0){this.url_=n,this.method_=e,this.headers_=s,this.body_=u,this.successCodes_=p,this.additionalRetryCodes_=x,this.callback_=S,this.errorCallback_=B,this.timeout_=Z,this.progressCallback_=le,this.connectionFactory_=Te,this.retry=We,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((vt,At)=>{this.resolve_=vt,this.reject_=At,this.start_()})}start_(){const e=(s,u)=>{const p=this.resolve_,x=this.reject_,S=u.connection;if(u.wasSuccessCode)try{const B=this.callback_(S,S.getResponse());!function og(r){return void 0!==r}(B)?p():p(B)}catch(B){x(B)}else if(null!==S){const B=Gd();B.serverResponse=S.getErrorText(),x(this.errorCallback_?this.errorCallback_(S,B):B)}else x(u.canceled?this.appDelete_?P_():$d():Lm())};this.canceled_?e(0,new Oc(!1,null,!0)):this.backoffId_=function sg(r,n,e){let s=1,u=null,p=null,x=!1,S=0;function B(){return 2===S}let Z=!1;function le(...un){Z||(Z=!0,n.apply(null,un))}function Te(un){u=setTimeout(()=>{u=null,r(vt,B())},un)}function We(){p&&clearTimeout(p)}function vt(un,...li){if(Z)return void We();if(un)return We(),void le.call(null,un,...li);if(B()||x)return We(),void le.call(null,un,...li);let Xi;s<64&&(s*=2),1===S?(S=2,Xi=0):Xi=1e3*(s+Math.random()),Te(Xi)}let At=!1;function qt(un){At||(At=!0,We(),!Z&&(null!==u?(un||(S=2),clearTimeout(u),Te(0)):un||(S=1)))}return Te(0),p=setTimeout(()=>{x=!0,qt(!0)},e),qt}((s,u)=>{if(u)return void s(!1,new Oc(!1,null,!0));const p=this.connectionFactory_();this.pendingConnection_=p;const x=S=>{null!==this.progressCallback_&&this.progressCallback_(S.loaded,S.lengthComputable?S.total:-1)};null!==this.progressCallback_&&p.addUploadProgressListener(x),p.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&p.removeUploadProgressListener(x),this.pendingConnection_=null;const S=p.getErrorCode()===dd.NO_ERROR,B=p.getStatus();if(!S||Bf(B,this.additionalRetryCodes_)&&this.retry){const le=p.getErrorCode()===dd.ABORT;return void s(!1,new Oc(!1,null,le))}const Z=-1!==this.successCodes_.indexOf(B);s(!0,new Oc(Z,p))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function Th(r){r(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Oc{constructor(n,e,s){this.wasSuccessCode=n,this.connection=e,this.canceled=!!s}}function $b(...r){const n=function fc(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==n){const e=new n;for(let s=0;s<r.length;s++)e.append(r[s]);return e.getBlob()}if(Pa())return new Blob(r);throw new Qt(Yn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Fa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class F_{constructor(n,e){this.data=n,this.contentType=e||null}}function Nu(r,n){switch(r){case Fa.RAW:return new F_(Fu(n));case Fa.BASE64:case Fa.BASE64URL:return new F_(vv(r,n));case Fa.DATA_URL:return new F_(function Vf(r){const n=new bv(r);return n.base64?vv(Fa.BASE64,n.rest):function Yd(r){let n;try{n=decodeURIComponent(r)}catch{throw hc(Fa.DATA_URL,"Malformed data URL.")}return Fu(n)}(n.rest)}(n),function Kb(r){return new bv(r).contentType}(n))}throw Gd()}function Fu(r){const n=[];for(let e=0;e<r.length;e++){let s=r.charCodeAt(e);s<=127?n.push(s):s<=2047?n.push(192|s>>6,128|63&s):55296==(64512&s)?e<r.length-1&&56320==(64512&r.charCodeAt(e+1))?(s=65536|(1023&s)<<10|1023&r.charCodeAt(++e),n.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):n.push(239,191,189):56320==(64512&s)?n.push(239,191,189):n.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(n)}function vv(r,n){switch(r){case Fa.BASE64:{const u=-1!==n.indexOf("-"),p=-1!==n.indexOf("_");if(u||p)throw hc(r,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case Fa.BASE64URL:{const u=-1!==n.indexOf("+"),p=-1!==n.indexOf("/");if(u||p)throw hc(r,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Wb(r){if(typeof atob>"u")throw function rg(r){return new Qt(Yn.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(r)}(n)}catch(u){throw u.message.includes("polyfill")?u:hc(r,"Invalid character found")}const s=new Uint8Array(e.length);for(let u=0;u<e.length;u++)s[u]=e.charCodeAt(u);return s}class bv{constructor(n){this.base64=!1,this.contentType=null;const e=n.match(/^data:([^,]+)?,/);if(null===e)throw hc(Fa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=e[1]||null;null!=s&&(this.base64=function Lu(r,n){return r.length>=n.length&&r.substring(r.length-n.length)===n}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=n.substring(n.indexOf(",")+1)}}class va{constructor(n,e){let s=0,u="";Wd(n)?(this.data_=n,s=n.size,u=n.type):n instanceof ArrayBuffer?(e?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),s=this.data_.length):n instanceof Uint8Array&&(e?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),s=n.length),this.size_=s,this.type_=u}size(){return this.size_}type(){return this.type_}slice(n,e){if(Wd(this.data_)){const u=function yv(r,n,e){return r.webkitSlice?r.webkitSlice(n,e):r.mozSlice?r.mozSlice(n,e):r.slice?r.slice(n,e):null}(this.data_,n,e);return null===u?null:new va(u)}{const s=new Uint8Array(this.data_.buffer,n,e-n);return new va(s,!0)}}static getBlob(...n){if(Pa()){const e=n.map(s=>s instanceof va?s.data_:s);return new va($b.apply(null,e))}{const e=n.map(x=>Pu(x)?Nu(Fa.RAW,x).data:x.data_);let s=0;e.forEach(x=>{s+=x.byteLength});const u=new Uint8Array(s);let p=0;return e.forEach(x=>{for(let S=0;S<x.length;S++)u[p++]=x[S]}),new va(u,!0)}}uploadData(){return this.data_}}function dg(r){let n;try{n=JSON.parse(r)}catch{return null}return function ag(r){return"object"==typeof r&&!Array.isArray(r)}(n)?n:null}function B_(r){const n=r.lastIndexOf("/",r.length-2);return-1===n?r:r.slice(n+1)}function hg(r,n){return n}class ba{constructor(n,e,s,u){this.server=n,this.local=e||n,this.writable=!!s,this.xform=u||hg}}let Ah=null;function Mh(){if(Ah)return Ah;const r=[];r.push(new ba("bucket")),r.push(new ba("generation")),r.push(new ba("metageneration")),r.push(new ba("name","fullPath",!0));const e=new ba("name");e.xform=function n(p,x){return function Hf(r){return!Pu(r)||r.length<2?r:B_(r)}(x)},r.push(e);const u=new ba("size");return u.xform=function s(p,x){return void 0!==x?Number(x):x},r.push(u),r.push(new ba("timeCreated")),r.push(new ba("updated")),r.push(new ba("md5Hash",null,!0)),r.push(new ba("cacheControl",null,!0)),r.push(new ba("contentDisposition",null,!0)),r.push(new ba("contentEncoding",null,!0)),r.push(new ba("contentLanguage",null,!0)),r.push(new ba("contentType",null,!0)),r.push(new ba("metadata","customMetadata",!0)),Ah=r,Ah}function qd(r,n,e){const s=dg(n);return null===s?null:function kh(r,n,e){const s={type:"file"},u=e.length;for(let p=0;p<u;p++){const x=e[p];s[x.local]=x.xform(s,n[x.server])}return function wv(r,n){Object.defineProperty(r,"ref",{get:function e(){const p=new Uo(r.bucket,r.fullPath);return n._makeStorageReference(p)}})}(s,r),s}(r,s,e)}function fg(r,n){const e={},s=n.length;for(let u=0;u<s;u++){const p=n[u];p.writable&&(e[p.server]=r[p.local])}return JSON.stringify(e)}const U_="prefixes",La="items";class zl{constructor(n,e,s,u){this.url=n,this.method=e,this.handler=s,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function wa(r){if(!r)throw Gd()}function bo(r,n){return function e(s,u){const p=qd(r,u,n);return wa(null!==p),p}}function Pc(r){return function n(e,s){let u;return u=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Ch(){return new Qt(Yn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Fm(){return new Qt(Yn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Nf(r){return new Qt(Yn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===e.getStatus()?function Ff(r){return new Qt(Yn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}(r.path):s,u.status=e.getStatus(),u.serverResponse=s.serverResponse,u}}function pg(r){const n=Pc(r);return function e(s,u){let p=n(s,u);return 404===s.getStatus()&&(p=function Lr(r){return new Qt(Yn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}(r.path)),p.serverResponse=u.serverResponse,p}}function Bu(r,n,e){const u=Na(n.fullServerUrl(),r.host,r._protocol),x=r.maxOperationRetryTime,S=new zl(u,"GET",bo(r,e),x);return S.errorHandler=pg(n),S}function Yb(r,n,e,s,u){const p={};p.prefix=n.isRoot?"":n.path+"/",e&&e.length>0&&(p.delimiter=e),s&&(p.pageToken=s),u&&(p.maxResults=u);const S=Na(n.bucketOnlyServerUrl(),r.host,r._protocol),Z=r.maxOperationRetryTime,le=new zl(S,"GET",function jf(r,n){return function e(s,u){const p=function mg(r,n,e){const s=dg(e);return null===s?null:function xv(r,n,e){const s={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[U_])for(const u of e[U_]){const p=u.replace(/\/$/,""),x=r._makeStorageReference(new Uo(n,p));s.prefixes.push(x)}if(e[La])for(const u of e[La]){const p=r._makeStorageReference(new Uo(n,u.name));s.items.push(p)}return s}(r,n,s)}(r,n,u);return wa(null!==p),p}}(r,n.bucket),Z);return le.urlParams=p,le.errorHandler=Pc(n),le}function Dv(r,n,e){const s=Object.assign({},e);return s.fullPath=r.path,s.size=n.size(),s.contentType||(s.contentType=function Zb(r,n){return r&&r.contentType||n&&n.type()||"application/octet-stream"}(null,n)),s}class jm{constructor(n,e,s,u){this.current=n,this.total=e,this.finalized=!!s,this.metadata=u||null}}function gg(r,n){let e=null;try{e=r.getResponseHeader("X-Goog-Upload-Status")}catch{wa(!1)}return wa(!!e&&-1!==(n||["active"]).indexOf(e)),e}const zf={STATE_CHANGED:"state_changed"},xa={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _g(r){switch(r){case"running":case"pausing":case"canceling":return xa.RUNNING;case"paused":return xa.PAUSED;case"success":return xa.SUCCESS;case"canceled":return xa.CANCELED;default:return xa.ERROR}}class Xb{constructor(n,e,s){if(function Gb(r){return"function"==typeof r}(n)||null!=e||null!=s)this.next=n,this.error=e??void 0,this.complete=s??void 0;else{const p=n;this.next=p.next,this.error=p.error,this.complete=p.complete}}}function ai(r){return(...n)=>{Promise.resolve().then(()=>r(...n))}}let j_=null;class Sv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dd.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dd.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dd.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,e,s,u){if(this.sent_)throw cd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,n,!0),void 0!==u)for(const p in u)u.hasOwnProperty(p)&&this.xhr_.setRequestHeader(p,u[p].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}class yg extends Sv{initXhr(){this.xhr_.responseType="text"}}function Br(){return j_?j_():new yg}class z_{constructor(n,e,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=e,this._metadata=s,this._mappings=Mh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=u=>{if(this._request=void 0,this._chunkMultiplier=1,u._codeEquals(Yn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const p=this.isExponentialBackoffExpired();if(Bf(u.status,[])){if(!p)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();u=Lm()}this._error=u,this._transition("error")}},this._metadataErrorHandler=u=>{this._request=void 0,u._codeEquals(Yn.CANCELED)?this.completeTransitions_():(this._error=u,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((u,p)=>{this._resolve=u,this._reject=p,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const n=this._transferred;return e=>this._updateProgress(n+e)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,s])=>{switch(this._state){case"running":n(e,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,e)=>{const s=function Iv(r,n,e,s,u){const p=n.bucketOnlyServerUrl(),x=Dv(n,s,u),S={name:x.fullPath},B=Na(p,r.host,r._protocol),le={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":x.contentType,"Content-Type":"application/json; charset=utf-8"},Te=fg(x,e),At=new zl(B,"POST",function vt(qt){let un;gg(qt);try{un=qt.getResponseHeader("X-Goog-Upload-URL")}catch{wa(!1)}return wa(Pu(un)),un},r.maxUploadRetryTime);return At.urlParams=S,At.headers=le,At.body=Te,At.errorHandler=Pc(n),At}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,Br,n,e);this._request=u,u.getPromise().then(p=>{this._request=void 0,this._uploadUrl=p,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((e,s)=>{const u=function Qb(r,n,e,s){const B=new zl(e,"POST",function p(Z){const le=gg(Z,["active","final"]);let Te=null;try{Te=Z.getResponseHeader("X-Goog-Upload-Size-Received")}catch{wa(!1)}Te||wa(!1);const We=Number(Te);return wa(!isNaN(We)),new jm(We,s.size(),"final"===le)},r.maxUploadRetryTime);return B.headers={"X-Goog-Upload-Command":"query"},B.errorHandler=Pc(n),B}(this._ref.storage,this._ref._location,n,this._blob),p=this._ref.storage._makeRequest(u,Br,e,s);this._request=p,p.getPromise().then(x=>{this._request=void 0,this._updateProgress(x.current),this._needToFetchStatus=!1,x.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,e=new jm(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((u,p)=>{let x;try{x=function Rh(r,n,e,s,u,p,x,S){const B=new jm(0,0);if(x?(B.current=x.current,B.total=x.total):(B.current=0,B.total=s.size()),s.size()!==B.total)throw function O_(){return new Qt(Yn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Z=B.total-B.current;let le=Z;u>0&&(le=Math.min(le,u));const Te=B.current;let vt="";vt=0===le?"finalize":Z===le?"upload, finalize":"upload";const At={"X-Goog-Upload-Command":vt,"X-Goog-Upload-Offset":`${B.current}`},qt=s.slice(Te,Te+le);if(null===qt)throw Ih();const Xi=new zl(e,"POST",function un(lr,mu){const Zl=gg(lr,["active","final"]),za=B.current+le,Hc=s.size();let pu;return pu="final"===Zl?bo(n,p)(lr,mu):null,new jm(za,Hc,"final"===Zl,pu)},n.maxUploadRetryTime);return Xi.headers=At,Xi.body=qt.uploadData(),Xi.progressCallback=S||null,Xi.errorHandler=Pc(r),Xi}(this._ref._location,this._ref.storage,s,this._blob,n,this._mappings,e,this._makeProgressCallback())}catch(B){return this._error=B,void this._transition("error")}const S=this._ref.storage._makeRequest(x,Br,u,p,!1);this._request=S,S.getPromise().then(B=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(B.current),B.finalized?(this._metadata=B.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,e)=>{const s=Bu(this._ref.storage,this._ref._location,this._mappings),u=this._ref.storage._makeRequest(s,Br,n,e);this._request=u,u.getPromise().then(p=>{this._request=void 0,this._metadata=p,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,e)=>{const s=function Ba(r,n,e,s,u){const p=n.bucketOnlyServerUrl(),x={"X-Goog-Upload-Protocol":"multipart"},B=function S(){let Xi="";for(let lr=0;lr<2;lr++)Xi+=Math.random().toString().slice(2);return Xi}();x["Content-Type"]="multipart/related; boundary="+B;const Z=Dv(n,s,u),le=fg(Z,e),vt=va.getBlob("--"+B+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+le+"\r\n--"+B+"\r\nContent-Type: "+Z.contentType+"\r\n\r\n",s,"\r\n--"+B+"--");if(null===vt)throw Ih();const At={name:Z.fullPath},qt=Na(p,r.host,r._protocol),li=r.maxUploadRetryTime,rr=new zl(qt,"POST",bo(r,e),li);return rr.urlParams=At,rr.headers=x,rr.body=vt.uploadData(),rr.errorHandler=Pc(n),rr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,Br,n,e);this._request=u,u.getPromise().then(p=>{this._request=void 0,this._metadata=p,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const e=this._transferred;this._transferred=n,this._transferred!==e&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=n,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=n,this._notifyObservers();break;case"canceled":this._error=$d(),this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=_g(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,e,s,u){const p=new Xb(e||void 0,s||void 0,u||void 0);return this._addObserver(p),()=>{this._removeObserver(p)}}then(n,e){return this._promise.then(n,e)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const e=this._observers.indexOf(n);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(_g(this._state)){case xa.SUCCESS:ai(this._resolve.bind(null,this.snapshot))();break;case xa.CANCELED:case xa.ERROR:ai(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(_g(this._state)){case xa.RUNNING:case xa.PAUSED:n.next&&ai(n.next.bind(n,this.snapshot))();break;case xa.SUCCESS:n.complete&&ai(n.complete.bind(n))();break;default:n.error&&ai(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class Oh{constructor(n,e){this._service=n,this._location=e instanceof Uo?e:Uo.makeFromUrl(e,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,e){return new Oh(n,e)}get root(){const n=new Uo(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B_(this._location.path)}get storage(){return this._service}get parent(){const n=function ug(r){if(0===r.length)return null;const n=r.lastIndexOf("/");return-1===n?"":r.slice(0,n)}(this._location.path);if(null===n)return null;const e=new Uo(this._location.bucket,n);return new Oh(this._service,e)}_throwIfRoot(n){if(""===this._location.path)throw N_(n)}}function Nh(r,n,e){return zm.apply(this,arguments)}function zm(){return(zm=(0,b.Z)(function*(r,n,e){const u=yield W_(r,{pageToken:e});n.prefixes.push(...u.prefixes),n.items.push(...u.items),null!=u.nextPageToken&&(yield Nh(r,n,u.nextPageToken))})).apply(this,arguments)}function W_(r,n){null!=n&&"number"==typeof n.maxResults&&Kd("options.maxResults",1,1e3,n.maxResults);const e=n||{},s=Yb(r.storage,r._location,"/",e.pageToken,e.maxResults);return r.storage.makeRequestWithTokens(s,Br)}function kv(r){r._throwIfRoot("getDownloadURL");const n=function V_(r,n,e){const u=Na(n.fullServerUrl(),r.host,r._protocol),x=r.maxOperationRetryTime,S=new zl(u,"GET",function Ev(r,n){return function e(s,u){const p=qd(r,u,n);return wa(null!==p),function Hm(r,n,e,s){const u=dg(n);if(null===u||!Pu(u.downloadTokens))return null;const p=u.downloadTokens;if(0===p.length)return null;const x=encodeURIComponent;return p.split(",").map(Z=>{const Te=r.fullPath;return Na("/b/"+x(r.bucket)+"/o/"+x(Te),e,s)+Lf({alt:"media",token:Z})})[0]}(p,u,r.host,r._protocol)}}(r,e),x);return S.errorHandler=pg(n),S}(r.storage,r._location,Mh());return r.storage.makeRequestWithTokens(n,Br).then(e=>{if(null===e)throw function Um(){return new Qt(Yn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function Y_(r,n){const e=function L_(r,n){const e=n.split("/").filter(s=>s.length>0).join("/");return 0===r.length?e:r+"/"+e}(r._location.path,n),s=new Uo(r._location.bucket,e);return new Oh(r.storage,s)}function Rv(r,n){if(r instanceof Qd){const e=r;if(null==e._bucket)throw function Bm(){return new Qt(Yn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ct+"' property when initializing the app?")}();const s=new Oh(e,e._bucket);return null!=n?Rv(s,n):s}return void 0!==n?Y_(r,n):r}function q_(r,n){if(n&&function n0(r){return/^[A-Za-z]+:\/\//.test(r)}(n)){if(r instanceof Qd)return function Fh(r,n){return new Oh(r,n)}(r,n);throw Sh("To use ref(service, url), the first argument must be a Storage instance.")}return Rv(r,n)}function Gm(r,n){const e=n?.[ct];return null==e?null:Uo.makeFromBucketSpec(e,r)}class Qd{constructor(n,e,s,u,p){this.app=n,this._authProvider=e,this._appCheckProvider=s,this._url=u,this._firebaseVersion=p,this._bucket=null,this._host=He,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?Uo.makeFromBucketSpec(u,this._host):Gm(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?Uo.makeFromBucketSpec(this._url,n):Gm(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){Kd("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){Kd("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,b.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const e=n._authProvider.getImmediate({optional:!0});if(e){const s=yield e.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,b.Z)(function*(){const e=n._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new Oh(this,n)}_makeRequest(n,e,s,u,p=!0){if(this._deleted)return new pv(P_());{const x=function Uf(r,n,e,s,u,p,x=!0){const S=Lf(r.urlParams),B=r.url+S,Z=Object.assign({},r.headers);return function _v(r,n){n&&(r["X-Firebase-GMPID"]=n)}(Z,n),function gv(r,n){null!==n&&n.length>0&&(r.Authorization="Firebase "+n)}(Z,e),function lg(r,n){r["X-Firebase-Storage-Version"]="webjs/"+(n??"AppManager")}(Z,p),function cg(r,n){null!==n&&(r["X-Firebase-AppCheck"]=n)}(Z,s),new Vm(B,r.method,Z,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,u,x)}(n,this._appId,s,u,e,this._firebaseVersion,p);return this._requests.add(x),x.getPromise().then(()=>this._requests.delete(x),()=>this._requests.delete(x)),x}}makeRequestWithTokens(n,e){var s=this;return(0,b.Z)(function*(){const[u,p]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(n,e,u,p).getPromise()})()}}const bg="@firebase/storage";function Km(r,n){return q_(r=(0,M.m9)(r),n)}function c0(r,{instanceIdentifier:n}){const e=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),u=r.getProvider("app-check-internal");return new Qd(e,s,u,n,T.SDK_VERSION)}!function Ym(){(0,T._registerComponent)(new re.wA("storage",c0,"PUBLIC").setMultipleInstances(!0)),(0,T.registerVersion)(bg,"0.11.2",""),(0,T.registerVersion)(bg,"0.11.2","esm2017")}();class mc{constructor(n,e,s){this._delegate=n,this.task=e,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class $f{constructor(n,e){this._delegate=n,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new mc(this._delegate.snapshot,this,this._ref)}then(n,e){return this._delegate.then(s=>{if(n)return n(new mc(s,this,this._ref))},e)}on(n,e,s,u){let p;return e&&(p="function"==typeof e?x=>e(new mc(x,this,this._ref)):{next:e.next?x=>e.next(new mc(x,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(n,p,s||void 0,u||void 0)}}class Wf{constructor(n,e){this._delegate=n,this._service=e}get prefixes(){return this._delegate.prefixes.map(n=>new Nc(n,this._service))}get items(){return this._delegate.items.map(n=>new Nc(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Nc{constructor(n,e){this._delegate=n,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const e=function Xd(r,n){return Y_(r,n)}(this._delegate,n);return new Nc(e,this.storage)}get root(){return new Nc(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new Nc(n,this.storage)}put(n,e){return this._throwIfRoot("put"),new $f(function Q_(r,n,e){return function Zd(r,n,e){return r._throwIfRoot("uploadBytesResumable"),new z_(r,new va(n),e)}(r=(0,M.m9)(r),n,e)}(this._delegate,n,e),this)}putString(n,e=Fa.RAW,s){this._throwIfRoot("putString");const u=Nu(e,n),p=Object.assign({},s);return null==p.contentType&&null!=u.contentType&&(p.contentType=u.contentType),new $f(new z_(this._delegate,new va(u.data,!0),p),this)}listAll(){return function a0(r){return function Ph(r){const n={prefixes:[],items:[]};return Nh(r,n).then(()=>n)}(r=(0,M.m9)(r))}(this._delegate).then(n=>new Wf(n,this.storage))}list(n){return function xg(r,n){return W_(r=(0,M.m9)(r),n)}(this._delegate,n||void 0).then(e=>new Wf(e,this.storage))}getMetadata(){return function Ov(r){return function t0(r){r._throwIfRoot("getMetadata");const n=Bu(r.storage,r._location,Mh());return r.storage.makeRequestWithTokens(n,Br)}(r=(0,M.m9)(r))}(this._delegate)}updateMetadata(n){return function wg(r,n){return function gw(r,n){r._throwIfRoot("updateMetadata");const e=function qb(r,n,e,s){const p=Na(n.fullServerUrl(),r.host,r._protocol),S=fg(e,s),Z=r.maxOperationRetryTime,le=new zl(p,"PATCH",bo(r,s),Z);return le.headers={"Content-Type":"application/json; charset=utf-8"},le.body=S,le.errorHandler=pg(n),le}(r.storage,r._location,n,Mh());return r.storage.makeRequestWithTokens(e,Br)}(r=(0,M.m9)(r),n)}(this._delegate,n)}getDownloadURL(){return function Wm(r){return kv(r=(0,M.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Eg(r){return function K_(r){r._throwIfRoot("deleteObject");const n=function Cv(r,n){const s=Na(n.fullServerUrl(),r.host,r._protocol),S=new zl(s,"DELETE",function x(B,Z){},r.maxOperationRetryTime);return S.successCodes=[200,204],S.errorHandler=pg(n),S}(r.storage,r._location);return r.storage.makeRequestWithTokens(n,Br)}(r=(0,M.m9)(r))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw N_(n)}}class co{constructor(n,e){this.app=n,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(ey(n))throw Sh("ref() expected a child path but got a URL, use refFromURL instead.");return new Nc(Km(this._delegate,n),this)}refFromURL(n){if(!ey(n))throw Sh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Uo.makeFromUrl(n,this._delegate.host)}catch{throw Sh("refFromUrl() expected a valid full URL but got an invalid one.")}return new Nc(Km(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,e,s={}){!function Cg(r,n,e,s={}){!function Gf(r,n,e,s={}){r.host=`${n}:${e}`,r._protocol="http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken="string"==typeof u?u:(0,M.Sg)(u,r.app.options.projectId))}(r,n,e,s)}(this._delegate,n,e,s)}}function ey(r){return/^[A-Za-z]+:\/\//.test(r)}function Ig(r,{instanceIdentifier:n}){const e=r.getProvider("app-compat").getImmediate(),s=r.getProvider("storage").getImmediate({identifier:n});return new co(e,s)}!function Sg(r){const n={TaskState:xa,TaskEvent:zf,StringFormat:Fa,Storage:co,Reference:Nc};r.INTERNAL.registerComponent(new re.wA("storage-compat",Ig,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.3.2")}(y.Z);var Pv=P(6217),Nv=P(9260);function Lv(r){const n=function Fv(r){return new Ve.y(n=>{const e=x=>n.next(x);e(r.snapshot);const p=r.on("state_changed",e);return r.then(x=>{e(x),n.complete()},x=>{e(r.snapshot),(x=>{n.error(x)})(x)}),function(){p()}}).pipe((0,Mn.b)(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,ve.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function Bh(r){return{getDownloadURL:()=>(0,Ct.of)(void 0).pipe(C.fc,(0,Eh.w)(()=>r.getDownloadURL()),C.iC),getMetadata:()=>(0,Ct.of)(void 0).pipe(C.fc,(0,Eh.w)(()=>r.getMetadata()),C.iC),delete:()=>(0,Fl.D)(r.delete()),child:n=>Bh(r.child(n)),updateMetadata:n=>(0,Fl.D)(r.updateMetadata(n)),put:(n,e)=>Lv(r.put(n,e)),putString:(n,e,s)=>Lv(r.putString(n,e,s)),list:n=>(0,Fl.D)(r.list(n)),listAll:()=>(0,Fl.D)(r.listAll())}}const Bv=new h.OlP("angularfire2.storageBucket"),d0=new h.OlP("angularfire2.storage.maxUploadRetryTime"),qm=new h.OlP("angularfire2.storage.maxOperationRetryTime"),Ua=new h.OlP("angularfire2.storage.use-emulator");let Uh=(()=>{class r{constructor(e,s,u,p,x,S,B,Z,le,Te){const We=(0,jl.on)(e,x,s);this.storage=(0,jl.cc)(`${We.name}.storage.${u}`,"AngularFireStorage",We.name,()=>{const vt=x.runOutsideAngular(()=>We.storage(u||void 0)),At=le;return At&&vt.useEmulator(...At),B&&vt.setMaxUploadRetryTime(B),Z&&vt.setMaxOperationRetryTime(Z),vt},[B,Z])}ref(e){return Bh(this.storage.ref(e))}refFromURL(e){return Bh(this.storage.refFromURL(e))}upload(e,s,u){return Bh(this.storage.ref(e)).put(s,u)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(jl.Dh),h.LFG(jl.xv,8),h.LFG(Bv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(C.HU),h.LFG(d0,8),h.LFG(qm,8),h.LFG(Ua,8),h.LFG(Pv.nm,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),ty=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})(),Vh=(()=>{class r{constructor(){Nv.Z.registerVersion("angularfire",C.q4.full,"gcs-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[Uh],imports:[ty]}),r})();var Tg=P(3101),ny=P(5026),iy=P(4671),ry=P(5032),Jd=P(3269);P(6689);var sy=P(1877);const Mg="@firebase/database";let Zm="";function Qm(r){Zm=r}class pc{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,M.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,M.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class kg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,M.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Hh=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const n=window[r];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new pc(n)}}catch{}return new kg},eu=Hh("localStorage"),Rg=Hh("sessionStorage"),Yf=new sy.Yd("@firebase/database"),oy=function(){let r=1;return function(){return r++}}(),ay=function(r){const n=(0,M.dS)(r),e=new M.gQ;e.update(n);const s=e.digest();return M.US.encodeByteArray(s)},jh=function(...r){let n="";for(let e=0;e<r.length;e++){const s=r[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?n+=jh.apply(null,s):n+="object"==typeof s?(0,M.Wl)(s):s,n+=" "}return n};let tu=null,jv=!0;const zh=function(r,n){(0,M.hu)(!n||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(Yf.logLevel=sy.in.VERBOSE,tu=Yf.log.bind(Yf),n&&Rg.set("logging_enabled",!0)):"function"==typeof r?tu=r:(tu=null,Rg.remove("logging_enabled"))},uo=function(...r){if(!0===jv&&(jv=!1,null===tu&&!0===Rg.get("logging_enabled")&&zh(!0)),tu){const n=jh.apply(null,r);tu(n)}},hd=function(r){return function(...n){uo(r,...n)}},zv=function(...r){const n="FIREBASE INTERNAL ERROR: "+jh(...r);Yf.error(n)},ll=function(...r){const n=`FIREBASE FATAL ERROR: ${jh(...r)}`;throw Yf.error(n),new Error(n)},Ea=function(...r){const n="FIREBASE WARNING: "+jh(...r);Yf.warn(n)},Gh=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},cl="[MIN_NAME]",Vo="[MAX_NAME]",ea=function(r,n){if(r===n)return 0;if(r===cl||n===Vo)return-1;if(n===cl||r===Vo)return 1;{const e=Ng(r),s=Ng(n);return null!==e?null!==s?e-s==0?r.length-n.length:e-s:-1:null!==s?1:r<n?-1:1}},nu=function(r,n){return r===n?0:r<n?-1:1},Gl=function(r,n){if(n&&r in n)return n[r];throw new Error("Missing required key ("+r+") in object: "+(0,M.Wl)(n))},Uu=function(r){if("object"!=typeof r||null===r)return(0,M.Wl)(r);const n=[];for(const s in r)n.push(s);n.sort();let e="{";for(let s=0;s<n.length;s++)0!==s&&(e+=","),e+=(0,M.Wl)(n[s]),e+=":",e+=Uu(r[n[s]]);return e+="}",e},$h=function(r,n){const e=r.length;if(e<=n)return[r];const s=[];for(let u=0;u<e;u+=n)s.push(r.substring(u,u+n>e?e:u+n));return s};function wo(r,n){for(const e in r)r.hasOwnProperty(e)&&n(e,r[e])}const ly=function(r){(0,M.hu)(!Gh(r),"Invalid JSON number");const s=1023;let u,p,x,S,B;0===r?(p=0,x=0,u=1/r==-1/0?1:0):(u=r<0,(r=Math.abs(r))>=Math.pow(2,1-s)?(S=Math.min(Math.floor(Math.log(r)/Math.LN2),s),p=S+s,x=Math.round(r*Math.pow(2,52-S)-Math.pow(2,52))):(p=0,x=Math.round(r/Math.pow(2,-1074))));const Z=[];for(B=52;B;B-=1)Z.push(x%2?1:0),x=Math.floor(x/2);for(B=11;B;B-=1)Z.push(p%2?1:0),p=Math.floor(p/2);Z.push(u?1:0),Z.reverse();const le=Z.join("");let Te="";for(B=0;B<64;B+=8){let We=parseInt(le.substr(B,8),2).toString(16);1===We.length&&(We="0"+We),Te+=We}return Te.toLowerCase()},uy=new RegExp("^-?(0*)\\d{1,10}$"),Ng=function(r){if(uy.test(r)){const n=Number(r);if(n>=-2147483648&&n<=2147483647)return n}return null},Vu=function(r){try{r()}catch(n){setTimeout(()=>{throw Ea("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},f0=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qf=function(r,n){const e=setTimeout(r,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class m0{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,s):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(n))}notifyForInvalidToken(){Ea(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Gv{constructor(n,e,s){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(uo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,s):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ea(n)}}let Kh=(()=>{class r{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return r.OWNER="owner",r})();const Kv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yv="websocket",Jm="long_polling";class Ug{constructor(n,e,s,u,p=!1,x="",S=!1,B=!1){this.secure=e,this.namespace=s,this.webSocketOnly=u,this.nodeAdmin=p,this.persistenceKey=x,this.includeNamespaceInQueryParams=S,this.isUsingEmulator=B,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eu.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&eu.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qv(r,n,e){let s;if((0,M.hu)("string"==typeof n,"typeof type must == string"),(0,M.hu)("object"==typeof e,"typeof params must == object"),n===Yv)s=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(n!==Jm)throw new Error("Unknown connection type: "+n);s=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function fy(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(e.ns=r.namespace);const u=[];return wo(e,(p,x)=>{u.push(p+"="+x)}),s+u.join("&")}class Vg{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,M.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,M.p$)(this.counters_)}}const my={},Zf={};function ep(r){const n=r.toString();return my[n]||(my[n]=new Vg),my[n]}class tp{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<s.length;++u)s[u]&&Vu(()=>{this.onMessage_(s[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Fc{constructor(n,e,s,u,p,x,S){this.connId=n,this.repoInfo=e,this.applicationId=s,this.appCheckToken=u,this.authToken=p,this.transportSessionId=x,this.lastSessionId=S,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hd(n),this.stats_=ep(e),this.urlFn=B=>(this.appCheckToken&&(B.ac=this.appCheckToken),qv(e,Jm,B))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new tp(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,M.Yr)()||"complete"===document.readyState)r();else{let n=!1;const e=function(){document.body?n||(n=!0,r()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jg((...p)=>{const[x,S,B,Z,le]=p;if(this.incrementIncomingBytes_(p),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===x)this.id=S,this.password=B;else{if("close"!==x)throw new Error("Unrecognized command received: "+x);S?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(S,()=>{this.onClosed_()})):this.onClosed_()}},(...p)=>{const[x,S]=p;this.incrementIncomingBytes_(p),this.myPacketOrderer.handleResponse(x,S)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Kv.test(location.hostname)&&(s.r="f");const u=this.urlFn(s);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fc.forceAllow_=!0}static forceDisallow(){Fc.forceDisallow_=!0}static isAvailable(){return!((0,M.Yr)()||!Fc.forceAllow_&&(Fc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,M.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,M.h$)(e),u=$h(s,1840);for(let p=0;p<u.length;p++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[p]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,M.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=n,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,M.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class jg{constructor(n,e,s,u){if(this.onDisconnect=s,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,M.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=oy(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=jg.createIFrame_();let p="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(p='<script>document.domain="'+document.domain+'";<\/script>');const x="<html><body>"+p+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(x),this.myIFrame.doc.close()}catch(S){uo("frame writing exception"),S.stack&&uo(S.stack),uo(S)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||uo("No IE domain setting required")}catch{const s=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),s="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const x=this.pendingSegs.shift();s=s+"&seg"+u+"="+x.seg+"&ts"+u+"="+x.ts+"&d"+u+"="+x.d,u++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,s){this.pendingSegs.push({seg:n,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},u=setTimeout(s,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(u),s()})}addTag(n,e){(0,M.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=n,s.onload=s.onreadystatechange=function(){const u=s.readyState;(!u||"loaded"===u||"complete"===u)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{uo("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let Qh=null;typeof MozWebSocket<"u"?Qh=MozWebSocket:typeof WebSocket<"u"&&(Qh=WebSocket);let Xh=(()=>{class r{constructor(e,s,u,p,x,S,B){this.connId=e,this.applicationId=u,this.appCheckToken=p,this.authToken=x,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hd(this.connId),this.stats_=ep(s),this.connURL=r.connectionURL_(s,S,B,p,u),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,u,p,x){const S={v:"5"};return!(0,M.Yr)()&&typeof location<"u"&&location.hostname&&Kv.test(location.hostname)&&(S.r="f"),s&&(S.s=s),u&&(S.ls=u),p&&(S.ac=p),x&&(S.p=x),qv(e,Yv,S)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eu.set("previous_websocket_failure",!0);try{let u;if((0,M.Yr)()){u={headers:{"User-Agent":`Firebase/5/${Zm}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const x=process.env,S=0===this.connURL.indexOf("wss://")?x.HTTPS_PROXY||x.https_proxy:x.HTTP_PROXY||x.http_proxy;S&&(u.proxy={origin:S})}this.mySock=new Qh(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const p=u.message||u.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const p=u.message||u.data;p&&this.log_(p),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(e=!0)}return!e&&null!==Qh&&!r.forceDisallow_}static previouslyFailed(){return eu.isInMemoryStorage||!0===eu.get("previous_websocket_failure")}markConnectionHealthy(){eu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const u=(0,M.cI)(s);this.onMessage(u)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,M.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const u=this.extractFrameCount_(s);null!==u&&this.appendFrame_(u)}}send(e){this.resetKeepAlive();const s=(0,M.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const u=$h(s,16384);u.length>1&&this.sendString_(String(u.length));for(let p=0;p<u.length;p++)this.sendString_(u[p])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})(),ip=(()=>{class r{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fc,Xh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=Xh&&Xh.isAvailable();let u=s&&!Xh.previouslyFailed();if(e.webSocketOnly&&(s||Ea("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[Xh];else{const p=this.transports_=[];for(const x of r.ALL_TRANSPORTS)x&&x.isAvailable()&&p.push(x);r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return r.globalTransportInitialized_=!1,r})();class md{constructor(n,e,s,u,p,x,S,B,Z,le){this.id=n,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=u,this.authToken_=p,this.onMessage_=x,this.onReady_=S,this.onDisconnect_=B,this.onKill_=Z,this.lastSessionId=le,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hd("c:"+this.id+":"),this.transportManager_=new ip(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=qf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Gl("t",n),s=Gl("d",n);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Gl("t",n),s=Gl("d",n);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Gl("t",n);if("d"in n){const s=n.d;if("h"===e){const u=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?zv("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zv("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,s=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Ea("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),qf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class nm{put(n,e,s,u){}merge(n,e,s,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,s){}onDisconnectMerge(n,e,s){}onDisconnectCancel(n,e){}reportStats(n){}}class Jh{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,M.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const s=[...this.listeners_[n]];for(let u=0;u<s.length;u++)s[u].callback.apply(s[u].context,e)}}on(n,e,s){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:s});const u=this.getInitialEvent(n);u&&e.apply(s,u)}off(n,e,s){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let p=0;p<u.length;p++)if(u[p].callback===e&&(!s||s===u[p].context))return void u.splice(p,1)}validateEventType_(n){(0,M.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class op extends Jh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,M.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new op}getInitialEvent(n){return(0,M.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const Yg=32,gy=768;class wr{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let s=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[s]=this.pieces_[u],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function qi(){return new wr("")}function Oi(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function pd(r){return r.pieces_.length-r.pieceNum_}function Ir(r){let n=r.pieceNum_;return n<r.pieces_.length&&n++,new wr(r.pieces_,n)}function ap(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function $u(r,n=0){return r.pieces_.slice(r.pieceNum_+n)}function lp(r){if(r.pieceNum_>=r.pieces_.length)return null;const n=[];for(let e=r.pieceNum_;e<r.pieces_.length-1;e++)n.push(r.pieces_[e]);return new wr(n,0)}function Kr(r,n){const e=[];for(let s=r.pieceNum_;s<r.pieces_.length;s++)e.push(r.pieces_[s]);if(n instanceof wr)for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);else{const s=n.split("/");for(let u=0;u<s.length;u++)s[u].length>0&&e.push(s[u])}return new wr(e,0)}function Li(r){return r.pieceNum_>=r.pieces_.length}function xo(r,n){const e=Oi(r),s=Oi(n);if(null===e)return n;if(e===s)return xo(Ir(r),Ir(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+r+")")}function cp(r,n){const e=$u(r,0),s=$u(n,0);for(let u=0;u<e.length&&u<s.length;u++){const p=ea(e[u],s[u]);if(0!==p)return p}return e.length===s.length?0:e.length<s.length?-1:1}function im(r,n){if(pd(r)!==pd(n))return!1;for(let e=r.pieceNum_,s=n.pieceNum_;e<=r.pieces_.length;e++,s++)if(r.pieces_[e]!==n.pieces_[s])return!1;return!0}function ul(r,n){let e=r.pieceNum_,s=n.pieceNum_;if(pd(r)>pd(n))return!1;for(;e<r.pieces_.length;){if(r.pieces_[e]!==n.pieces_[s])return!1;++e,++s}return!0}class ef{constructor(n,e){this.errorPrefix_=e,this.parts_=$u(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,M.ug)(this.parts_[s]);_y(this)}}function _y(r){if(r.byteLength_>gy)throw new Error(r.errorPrefix_+"has a key path longer than "+gy+" bytes ("+r.byteLength_+").");if(r.parts_.length>Yg)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yg+") or object contains a cycle "+Wu(r))}function Wu(r){return 0===r.parts_.length?"":"in property '"+r.parts_.join(".")+"'"}class dp extends Jh{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[n];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new dp}getInitialEvent(n){return(0,M.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Ku=1e3;let Xg,su=(()=>{class r extends nm{constructor(e,s,u,p,x,S,B,Z){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=u,this.onConnectStatus_=p,this.onServerInfoUpdate_=x,this.authTokenProvider_=S,this.appCheckTokenProvider_=B,this.authOverride_=Z,this.id=r.nextPersistentConnectionId_++,this.log_=hd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ku,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Z&&!(0,M.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dp.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&op.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,u){const p=++this.requestNumber_,x={r:p,a:e,b:s};this.log_((0,M.Wl)(x)),(0,M.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(x),u&&(this.requestCBHash_[p]=u)}get(e){this.initConnection_();const s=new M.BH,p={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:S=>{const B=S.d;"ok"===S.s?s.resolve(B):s.reject(B)}};return this.outstandingGets_.push(p),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,u,p){this.initConnection_();const x=e._queryIdentifier,S=e._path.toString();this.log_("Listen called for "+S+" "+x),this.listens.has(S)||this.listens.set(S,new Map),(0,M.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,M.hu)(!this.listens.get(S).has(x),"listen() called twice for same path/queryId.");const B={onComplete:p,hashFn:s,query:e,tag:u};this.listens.get(S).set(x,B),this.connected_&&this.sendListen_(B)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,u=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(u)})}sendListen_(e){const s=e.query,u=s._path.toString(),p=s._queryIdentifier;this.log_("Listen on "+u+" for "+p);const x={p:u};e.tag&&(x.q=s._queryObject,x.t=e.tag),x.h=e.hashFn(),this.sendRequest("q",x,B=>{const Z=B.d,le=B.s;r.warnOnListenWarnings_(Z,s),(this.listens.get(u)&&this.listens.get(u).get(p))===e&&(this.log_("listen response",B),"ok"!==le&&this.removeListen_(u,p),e.onComplete&&e.onComplete(le,Z))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,M.r3)(e,"w")){const u=(0,M.DV)(e,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const p='".indexOn": "'+s._queryParams.getIndex().toString()+'"',x=s._path.toString();Ea(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${p} at ${x} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,M.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,M.w9)(e)?"auth":"gauth",u={cred:e};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(s,u,p=>{const x=p.s,S=p.d||"error";this.authToken_===e&&("ok"===x?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(x,S))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,u=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,u)})}unlisten(e,s){const u=e._path.toString(),p=e._queryIdentifier;this.log_("Unlisten called for "+u+" "+p),(0,M.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,p)&&this.connected_&&this.sendUnlisten_(u,p,e._queryObject,s)}sendUnlisten_(e,s,u,p){this.log_("Unlisten on "+e+" for "+s);const x={p:e};p&&(x.q=u,x.t=p),this.sendRequest("n",x)}onDisconnectPut(e,s,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:u})}onDisconnectMerge(e,s,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:u})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,u,p){const x={p:s,d:u};this.log_("onDisconnect "+e,x),this.sendRequest(e,x,S=>{p&&setTimeout(()=>{p(S.s,S.d)},Math.floor(0))})}put(e,s,u,p){this.putInternal("p",e,s,u,p)}merge(e,s,u,p){this.putInternal("m",e,s,u,p)}putInternal(e,s,u,p,x){this.initConnection_();const S={p:s,d:u};void 0!==x&&(S.h=x),this.outstandingPuts_.push({action:e,request:S,onComplete:p}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,u=this.outstandingPuts_[e].request,p=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,u,x=>{this.log_(s+" response",x),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),p&&p(x.s,x.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,M.Wl)(e));const s=e.r,u=this.requestCBHash_[s];u&&(delete this.requestCBHash_[s],u(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):zv("Unrecognized action received from server: "+(0,M.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,M.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ku,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ku,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ku),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,b.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),u=e.onReady_.bind(e),p=e.onRealtimeDisconnect_.bind(e),x=e.id+":"+r.nextConnectionId_++,S=e.lastSessionId;let B=!1,Z=null;const le=function(){Z?Z.close():(B=!0,p())};e.realtime_={close:le,sendRequest:function(vt){(0,M.hu)(Z,"sendRequest call when we're not connected not allowed."),Z.sendRequest(vt)}};const We=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[vt,At]=yield Promise.all([e.authTokenProvider_.getToken(We),e.appCheckTokenProvider_.getToken(We)]);B?uo("getToken() completed but was canceled"):(uo("getToken() completed. Creating connection."),e.authToken_=vt&&vt.accessToken,e.appCheckToken_=At&&At.token,Z=new md(x,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,u,p,qt=>{Ea(qt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},S))}catch(vt){e.log_("Failed to get token: "+vt),B||(e.repoInfo_.nodeAdmin&&Ea(vt),le())}}})()}interrupt(e){uo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){uo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,M.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ku,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let u;u=s?s.map(x=>Uu(x)).join("$"):"default";const p=this.removeListen_(e,u);p&&p.onComplete&&p.onComplete("permission_denied")}removeListen_(e,s){const u=new wr(e).toString();let p;if(this.listens.has(u)){const x=this.listens.get(u);p=x.get(s),x.delete(s),0===x.size&&this.listens.delete(u)}else p=void 0;return p}onAuthRevoked_(e,s){uo("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){uo("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,M.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Zm.replace(/\./g,"-")]=1,(0,M.uI)()?e["framework.cordova"]=1:(0,M.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=op.getInstance().currentlyOnline();return(0,M.xb)(this.interruptReasons_)&&e}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class Bi{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new Bi(n,e)}}class Qg{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const s=new Bi(cl,n),u=new Bi(cl,e);return 0!==this.compare(s,u)}minPost(){return Bi.MIN}}class hp extends Qg{static get __EMPTY_NODE(){return Xg}static set __EMPTY_NODE(n){Xg=n}compare(n,e){return ea(n.name,e.name)}isDefinedOn(n){throw(0,M.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return Bi.MIN}maxPost(){return new Bi(Vo,Xg)}makePost(n,e){return(0,M.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new Bi(n,Xg)}toString(){return".key"}}const xi=new hp;class rm{constructor(n,e,s,u,p=null){this.isReverse_=u,this.resultGenerator_=p,this.nodeStack_=[];let x=1;for(;!n.isEmpty();)if(x=e?s(n.key,e):1,u&&(x*=-1),x<0)n=this.isReverse_?n.left:n.right;else{if(0===x){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let $l,_c=(()=>{class r{constructor(e,s,u,p,x){this.key=e,this.value=s,this.color=u??r.RED,this.left=p??Ca.EMPTY_NODE,this.right=x??Ca.EMPTY_NODE}copy(e,s,u,p,x){return new r(e??this.key,s??this.value,u??this.color,p??this.left,x??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,u){let p=this;const x=u(e,p.key);return p=x<0?p.copy(null,null,null,p.left.insert(e,s,u),null):0===x?p.copy(null,s,null,null,null):p.copy(null,null,null,null,p.right.insert(e,s,u)),p.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ca.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let u,p;if(u=this,s(e,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(e,s),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===s(e,u.key)){if(u.right.isEmpty())return Ca.EMPTY_NODE;p=u.right.min_(),u=u.copy(p.key,p.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(e,s))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class Ca{constructor(n,e=Ca.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new Ca(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,_c.BLACK,null,null))}remove(n){return new Ca(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,_c.BLACK,null,null))}get(n){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(n,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(n){let e,s=this.root_,u=null;for(;!s.isEmpty();){if(e=this.comparator_(n,s.key),0===e){if(s.left.isEmpty())return u?u.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(u=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new rm(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new rm(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new rm(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new rm(this.root_,null,this.comparator_,!0,n)}}function ds(r,n){return ea(r.name,n.name)}function Eo(r,n){return ea(r,n)}Ca.EMPTY_NODE=new class As{copy(n,e,s,u,p){return this}insert(n,e,s){return new _c(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const vy=function(r){return"number"==typeof r?"number:"+ly(r):"string:"+r},sm=function(r){if(r.isLeafNode()){const n=r.val();(0,M.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,M.r3)(n,".sv"),"Priority must be a string or number.")}else(0,M.hu)(r===$l||r.isEmpty(),"priority of unexpected type.");(0,M.hu)(r===$l||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Yu,rb,fp,qu=(()=>{class r{constructor(e,s=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,M.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),sm(this.priorityNode_)}static set __childrenNodeConstructor(e){Yu=e}static get __childrenNodeConstructor(){return Yu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new r(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Li(e)?this:".priority"===Oi(e)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const u=Oi(e);return null===u?s:s.isEmpty()&&".priority"!==u?this:((0,M.hu)(".priority"!==u||1===pd(e),".priority must be the last token in a path"),this.updateImmediateChild(u,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ir(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+vy(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?ly(this.value_):this.value_,this.lazyHash_=ay(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof r.__childrenNodeConstructor?-1:((0,M.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,u=typeof this.value_,p=r.VALUE_TYPE_ORDER.indexOf(s),x=r.VALUE_TYPE_ORDER.indexOf(u);return(0,M.hu)(p>=0,"Unknown leaf type: "+s),(0,M.hu)(x>=0,"Unknown leaf type: "+u),p===x?"object"===u?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:x-p}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();const Yr=new class vs extends Qg{compare(n,e){const s=n.node.getPriority(),u=e.node.getPriority(),p=s.compareTo(u);return 0===p?ea(n.name,e.name):p}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return Bi.MIN}maxPost(){return new Bi(Vo,new qu("[PRIORITY-POST]",fp))}makePost(n,e){const s=rb(n);return new Bi(e,new qu("[PRIORITY-POST]",s))}toString(){return".priority"}},ob=Math.log(2);class Sr{constructor(n){this.count=parseInt(Math.log(n+1)/ob,10),this.current_=this.count-1;const u=(p=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const mp=function(r,n,e,s){r.sort(n);const u=function(B,Z){const le=Z-B;let Te,We;if(0===le)return null;if(1===le)return Te=r[B],We=e?e(Te):Te,new _c(We,Te.node,_c.BLACK,null,null);{const vt=parseInt(le/2,10)+B,At=u(B,vt),qt=u(vt+1,Z);return Te=r[vt],We=e?e(Te):Te,new _c(We,Te.node,_c.BLACK,At,qt)}},S=function(B){let Z=null,le=null,Te=r.length;const We=function(At,qt){const un=Te-At,li=Te;Te-=At;const rr=u(un+1,li),Xi=r[un],lr=e?e(Xi):Xi;vt(new _c(lr,Xi.node,qt,null,rr))},vt=function(At){Z?(Z.left=At,Z=At):(le=At,Z=At)};for(let At=0;At<B.count;++At){const qt=B.nextBitIsOne(),un=Math.pow(2,B.count-(At+1));qt?We(un,_c.BLACK):(We(un,_c.BLACK),We(un,_c.RED))}return le}(new Sr(r.length));return new Ca(s||n,S)};let by;const Va={};class ho{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,M.hu)(Va&&Yr,"ChildrenNode.ts has not been loaded"),by=by||new ho({".priority":Va},{".priority":Yr}),by}get(n){const e=(0,M.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof Ca?e:null}hasIndex(n){return(0,M.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,M.hu)(n!==xi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let u=!1;const p=e.getIterator(Bi.Wrap);let S,x=p.getNext();for(;x;)u=u||n.isDefinedOn(x.node),s.push(x),x=p.getNext();S=u?mp(s,n.getCompare()):Va;const B=n.toString(),Z=Object.assign({},this.indexSet_);Z[B]=n;const le=Object.assign({},this.indexes_);return le[B]=S,new ho(le,Z)}addToIndexes(n,e){const s=(0,M.UI)(this.indexes_,(u,p)=>{const x=(0,M.DV)(this.indexSet_,p);if((0,M.hu)(x,"Missing index implementation for "+p),u===Va){if(x.isDefinedOn(n.node)){const S=[],B=e.getIterator(Bi.Wrap);let Z=B.getNext();for(;Z;)Z.name!==n.name&&S.push(Z),Z=B.getNext();return S.push(n),mp(S,x.getCompare())}return Va}{const S=e.get(n.name);let B=u;return S&&(B=B.remove(new Bi(n.name,S))),B.insert(n,n.node)}});return new ho(s,this.indexSet_)}removeFromIndexes(n,e){const s=(0,M.UI)(this.indexes_,u=>{if(u===Va)return u;{const p=e.get(n.name);return p?u.remove(new Bi(n.name,p)):u}});return new ho(s,this.indexSet_)}}let Ha,Ai=(()=>{class r{constructor(e,s,u){this.children_=e,this.priorityNode_=s,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&sm(this.priorityNode_),this.children_.isEmpty()&&(0,M.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ha||(Ha=new r(new Ca(Eo),null,ho.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ha}updatePriority(e){return this.children_.isEmpty()?this:new r(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?Ha:s}}getChild(e){const s=Oi(e);return null===s?this:this.getImmediateChild(s).getChild(Ir(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,M.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const u=new Bi(e,s);let p,x;s.isEmpty()?(p=this.children_.remove(e),x=this.indexMap_.removeFromIndexes(u,this.children_)):(p=this.children_.insert(e,s),x=this.indexMap_.addToIndexes(u,this.children_));const S=p.isEmpty()?Ha:this.priorityNode_;return new r(p,S,x)}}updateChild(e,s){const u=Oi(e);if(null===u)return s;{(0,M.hu)(".priority"!==Oi(e)||1===pd(e),".priority must be the last token in a path");const p=this.getImmediateChild(u).updateChild(Ir(e),s);return this.updateImmediateChild(u,p)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let u=0,p=0,x=!0;if(this.forEachChild(Yr,(S,B)=>{s[S]=B.val(e),u++,x&&r.INTEGER_REGEXP_.test(S)?p=Math.max(p,Number(S)):x=!1}),!e&&x&&p<2*u){const S=[];for(const B in s)S[B]=s[B];return S}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+vy(this.getPriority().val())+":"),this.forEachChild(Yr,(s,u)=>{const p=u.hash();""!==p&&(e+=":"+s+":"+p)}),this.lazyHash_=""===e?"":ay(e)}return this.lazyHash_}getPredecessorChildName(e,s,u){const p=this.resolveIndex_(u);if(p){const x=p.getPredecessorKey(new Bi(e,s));return x?x.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const u=s.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Bi(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const u=s.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Bi(s,this.children_.get(s)):null}forEachChild(e,s){const u=this.resolveIndex_(e);return u?u.inorderTraversal(p=>s(p.name,p.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const u=this.resolveIndex_(s);if(u)return u.getIteratorFrom(e,p=>p);{const p=this.children_.getIteratorFrom(e.name,Bi.Wrap);let x=p.peek();for(;null!=x&&s.compare(x,e)<0;)p.getNext(),x=p.peek();return p}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const u=this.resolveIndex_(s);if(u)return u.getReverseIteratorFrom(e,p=>p);{const p=this.children_.getReverseIteratorFrom(e.name,Bi.Wrap);let x=p.peek();for(;null!=x&&s.compare(x,e)>0;)p.getNext(),x=p.peek();return p}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pp?-1:0}withIndex(e){if(e===xi||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new r(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===xi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const u=this.getIterator(Yr),p=s.getIterator(Yr);let x=u.getNext(),S=p.getNext();for(;x&&S;){if(x.name!==S.name||!x.node.equals(S.node))return!1;x=u.getNext(),S=p.getNext()}return null===x&&null===S}return!1}return!1}}resolveIndex_(e){return e===xi?null:this.indexMap_.get(e.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();const pp=new class ab extends Ai{constructor(){super(new Ca(Eo),Ai.EMPTY_NODE,ho.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Ai.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Bi,{MIN:{value:new Bi(cl,Ai.EMPTY_NODE)},MAX:{value:new Bi(Vo,pp)}}),hp.__EMPTY_NODE=Ai.EMPTY_NODE,qu.__childrenNodeConstructor=Ai,function ib(r){$l=r}(pp),function sb(r){fp=r}(pp);const yw=!0;function Ms(r,n=null){if(null===r)return Ai.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(n=r[".priority"]),(0,M.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new qu(r,Ms(n));if(r instanceof Array||!yw){let e=Ai.EMPTY_NODE;return wo(r,(s,u)=>{if((0,M.r3)(r,s)&&"."!==s.substring(0,1)){const p=Ms(u);(p.isLeafNode()||!p.isEmpty())&&(e=e.updateImmediateChild(s,p))}}),e.updatePriority(Ms(n))}{const e=[];let s=!1;if(wo(r,(x,S)=>{if("."!==x.substring(0,1)){const B=Ms(S);B.isEmpty()||(s=s||!B.getPriority().isEmpty(),e.push(new Bi(x,B)))}}),0===e.length)return Ai.EMPTY_NODE;const p=mp(e,ds,x=>x.name,Eo);if(s){const x=mp(e,Yr.getCompare());return new Ai(p,Ms(n),new ho({".priority":x},{".priority":Yr}))}return new Ai(p,Ms(n),ho.Default)}}!function y0(r){rb=r}(Ms);class wy extends Qg{constructor(n){super(),this.indexPath_=n,(0,M.hu)(!Li(n)&&".priority"!==Oi(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const s=this.extractChild(n.node),u=this.extractChild(e.node),p=s.compareTo(u);return 0===p?ea(n.name,e.name):p}makePost(n,e){const s=Ms(n),u=Ai.EMPTY_NODE.updateChild(this.indexPath_,s);return new Bi(e,u)}maxPost(){const n=Ai.EMPTY_NODE.updateChild(this.indexPath_,pp);return new Bi(Vo,n)}toString(){return $u(this.indexPath_,0).join("/")}}const Lc=new class Jg extends Qg{compare(n,e){const s=n.node.compareTo(e.node);return 0===s?ea(n.name,e.name):s}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return Bi.MIN}maxPost(){return Bi.MAX}makePost(n,e){const s=Ms(n);return new Bi(e,s)}toString(){return".value"}};function lb(r){return{type:"value",snapshotNode:r}}function Da(r,n){return{type:"child_added",snapshotNode:n,childName:r}}function Wl(r,n){return{type:"child_removed",snapshotNode:n,childName:r}}function gp(r,n,e){return{type:"child_changed",snapshotNode:n,childName:r,oldSnap:e}}class ou{constructor(n){this.index_=n}updateChild(n,e,s,u,p,x){(0,M.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const S=n.getImmediateChild(e);return S.getChild(u).equals(s.getChild(u))&&S.isEmpty()===s.isEmpty()||(null!=x&&(s.isEmpty()?n.hasChild(e)?x.trackChildChange(Wl(e,S)):(0,M.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):S.isEmpty()?x.trackChildChange(Da(e,s)):x.trackChildChange(gp(e,s,S))),n.isLeafNode()&&s.isEmpty())?n:n.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(n,e,s){return null!=s&&(n.isLeafNode()||n.forEachChild(Yr,(u,p)=>{e.hasChild(u)||s.trackChildChange(Wl(u,p))}),e.isLeafNode()||e.forEachChild(Yr,(u,p)=>{if(n.hasChild(u)){const x=n.getImmediateChild(u);x.equals(p)||s.trackChildChange(gp(u,p,x))}else s.trackChildChange(Da(u,p))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?Ai.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class _p{constructor(n){this.indexedFilter_=new ou(n.getIndex()),this.index_=n.getIndex(),this.startPost_=_p.getStartPost_(n),this.endPost_=_p.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,s=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&s}updateChild(n,e,s,u,p,x){return this.matches(new Bi(e,s))||(s=Ai.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,s,u,p,x)}updateFullNode(n,e,s){e.isLeafNode()&&(e=Ai.EMPTY_NODE);let u=e.withIndex(this.index_);u=u.updatePriority(Ai.EMPTY_NODE);const p=this;return e.forEachChild(Yr,(x,S)=>{p.matches(new Bi(x,S))||(u=u.updateImmediateChild(x,Ai.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,s)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class cb{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new _p(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,s,u,p,x){return this.rangedFilter_.matches(new Bi(e,s))||(s=Ai.EMPTY_NODE),n.getImmediateChild(e).equals(s)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,s,u,p,x):this.fullLimitUpdateChild_(n,e,s,p,x)}updateFullNode(n,e,s){let u;if(e.isLeafNode()||e.isEmpty())u=Ai.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let p;u=Ai.EMPTY_NODE.withIndex(this.index_),p=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let x=0;for(;p.hasNext()&&x<this.limit_;){const S=p.getNext();if(this.withinDirectionalStart(S)){if(!this.withinDirectionalEnd(S))break;u=u.updateImmediateChild(S.name,S.node),x++}}}else{let p;u=e.withIndex(this.index_),u=u.updatePriority(Ai.EMPTY_NODE),p=this.reverse_?u.getReverseIterator(this.index_):u.getIterator(this.index_);let x=0;for(;p.hasNext();){const S=p.getNext();x<this.limit_&&this.withinDirectionalStart(S)&&this.withinDirectionalEnd(S)?x++:u=u.updateImmediateChild(S.name,Ai.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,s)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,s,u,p){let x;if(this.reverse_){const Te=this.index_.getCompare();x=(We,vt)=>Te(vt,We)}else x=this.index_.getCompare();const S=n;(0,M.hu)(S.numChildren()===this.limit_,"");const B=new Bi(e,s),Z=this.reverse_?S.getFirstChild(this.index_):S.getLastChild(this.index_),le=this.rangedFilter_.matches(B);if(S.hasChild(e)){const Te=S.getImmediateChild(e);let We=u.getChildAfterChild(this.index_,Z,this.reverse_);for(;null!=We&&(We.name===e||S.hasChild(We.name));)We=u.getChildAfterChild(this.index_,We,this.reverse_);const vt=null==We?1:x(We,B);if(le&&!s.isEmpty()&&vt>=0)return p?.trackChildChange(gp(e,s,Te)),S.updateImmediateChild(e,s);{p?.trackChildChange(Wl(e,Te));const qt=S.updateImmediateChild(e,Ai.EMPTY_NODE);return null!=We&&this.rangedFilter_.matches(We)?(p?.trackChildChange(Da(We.name,We.node)),qt.updateImmediateChild(We.name,We.node)):qt}}return s.isEmpty()?n:le&&x(Z,B)>=0?(null!=p&&(p.trackChildChange(Wl(Z.name,Z.node)),p.trackChildChange(Da(e,s))),S.updateImmediateChild(e,s).updateImmediateChild(Z.name,Ai.EMPTY_NODE)):n}}class om{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Yr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,M.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,M.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,M.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Yr}copy(){const n=new om;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function gd(r,n,e){const s=r.copy();return s.startSet_=!0,void 0===n&&(n=null),s.indexStartValue_=n,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Qu(r,n,e){const s=r.copy();return s.endSet_=!0,void 0===n&&(n=null),s.indexEndValue_=n,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function rf(r,n){const e=r.copy();return e.index_=n,e}function Ey(r){const n={};if(r.isDefault())return n;let e;if(r.index_===Yr?e="$priority":r.index_===Lc?e="$value":r.index_===xi?e="$key":((0,M.hu)(r.index_ instanceof wy,"Unrecognized index type!"),e=r.index_.toString()),n.orderBy=(0,M.Wl)(e),r.startSet_){const s=r.startAfterSet_?"startAfter":"startAt";n[s]=(0,M.Wl)(r.indexStartValue_),r.startNameSet_&&(n[s]+=","+(0,M.Wl)(r.indexStartName_))}if(r.endSet_){const s=r.endBeforeSet_?"endBefore":"endAt";n[s]=(0,M.Wl)(r.indexEndValue_),r.endNameSet_&&(n[s]+=","+(0,M.Wl)(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?n.limitToFirst=r.limit_:n.limitToLast=r.limit_),n}function Cy(r){const n={};if(r.startSet_&&(n.sp=r.indexStartValue_,r.startNameSet_&&(n.sn=r.indexStartName_),n.sin=!r.startAfterSet_),r.endSet_&&(n.ep=r.indexEndValue_,r.endNameSet_&&(n.en=r.indexEndName_),n.ein=!r.endBeforeSet_),r.limitSet_){n.l=r.limit_;let e=r.viewFrom_;""===e&&(e=r.isViewFromLeft()?"l":"r"),n.vf=e}return r.index_!==Yr&&(n.i=r.index_.toString()),n}class vp extends nm{constructor(n,e,s,u){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=u,this.log_=hd("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,M.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,s,u){const p=n._path.toString();this.log_("Listen called for "+p+" "+n._queryIdentifier);const x=vp.getListenId_(n,s),S={};this.listens_[x]=S;const B=Ey(n._queryParams);this.restRequest_(p+".json",B,(Z,le)=>{let Te=le;if(404===Z&&(Te=null,Z=null),null===Z&&this.onDataUpdate_(p,Te,!1,s),(0,M.DV)(this.listens_,x)===S){let We;We=Z?401===Z?"permission_denied":"rest_error:"+Z:"ok",u(We,null)}})}unlisten(n,e){const s=vp.getListenId_(n,e);delete this.listens_[s]}get(n){const e=Ey(n._queryParams),s=n._path.toString(),u=new M.BH;return this.restRequest_(s+".json",e,(p,x)=>{let S=x;404===p&&(S=null,p=null),null===p?(this.onDataUpdate_(s,S,!1,null),u.resolve(S)):u.reject(new Error(S))}),u.promise}refreshAuthToken(n){}restRequest_(n,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,p])=>{u&&u.accessToken&&(e.auth=u.accessToken),p&&p.token&&(e.ac=p.token);const x=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,M.xO)(e);this.log_("Sending REST request for "+x);const S=new XMLHttpRequest;S.onreadystatechange=()=>{if(s&&4===S.readyState){this.log_("REST Response for "+x+" received. status:",S.status,"response:",S.responseText);let B=null;if(S.status>=200&&S.status<300){try{B=(0,M.cI)(S.responseText)}catch{Ea("Failed to parse JSON response for "+x+": "+S.responseText)}s(null,B)}else 401!==S.status&&404!==S.status&&Ea("Got unsuccessful REST response for "+x+" Status: "+S.status),s(S.status);s=null}},S.open("GET",x,!0),S.send()})}}class Dy{constructor(){this.rootNode_=Ai.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function am(){return{value:null,children:new Map}}function sf(r,n,e){if(Li(n))r.value=e,r.children.clear();else if(null!==r.value)r.value=r.value.updateChild(n,e);else{const s=Oi(n);r.children.has(s)||r.children.set(s,am()),sf(r.children.get(s),n=Ir(n),e)}}function au(r,n){if(Li(n))return r.value=null,r.children.clear(),!0;if(null!==r.value){if(r.value.isLeafNode())return!1;{const e=r.value;return r.value=null,e.forEachChild(Yr,(s,u)=>{sf(r,new wr(s),u)}),au(r,n)}}if(r.children.size>0){const e=Oi(n);return n=Ir(n),r.children.has(e)&&au(r.children.get(e),n)&&r.children.delete(e),0===r.children.size}return!0}function t_(r,n,e){null!==r.value?e(n,r.value):function ub(r,n){r.children.forEach((e,s)=>{n(s,e)})}(r,(s,u)=>{t_(u,new wr(n.toString()+"/"+s),e)})}class Iy{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&wo(this.last_,(s,u)=>{e[s]=e[s]-u}),this.last_=n,e}}class i_{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Iy(n);const s=1e4+2e4*Math.random();qf(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const n=this.statsListener_.get(),e={};let s=!1;wo(n,(u,p)=>{p>0&&(0,M.r3)(this.statsToReport_,u)&&(e[u]=p,s=!0)}),s&&this.server_.reportStats(e),qf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Kl=(()=>{return(r=Kl||(Kl={}))[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Kl;var r})();function cm(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class bp{constructor(n,e,s){this.path=n,this.affectedTree=e,this.revert=s,this.type=Kl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(Li(this.path)){if(null!=this.affectedTree.value)return(0,M.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new wr(n));return new bp(qi(),e,this.revert)}}return(0,M.hu)(Oi(this.path)===n,"operationForChild called for unrelated child."),new bp(Ir(this.path),this.affectedTree,this.revert)}}class lf{constructor(n,e){this.source=n,this.path=e,this.type=Kl.LISTEN_COMPLETE}operationForChild(n){return Li(this.path)?new lf(this.source,qi()):new lf(this.source,Ir(this.path))}}class yc{constructor(n,e,s){this.source=n,this.path=e,this.snap=s,this.type=Kl.OVERWRITE}operationForChild(n){return Li(this.path)?new yc(this.source,qi(),this.snap.getImmediateChild(n)):new yc(this.source,Ir(this.path),this.snap)}}class hl{constructor(n,e,s){this.source=n,this.path=e,this.children=s,this.type=Kl.MERGE}operationForChild(n){if(Li(this.path)){const e=this.children.subtree(new wr(n));return e.isEmpty()?null:e.value?new yc(this.source,qi(),e.value):new hl(this.source,qi(),e)}return(0,M.hu)(Oi(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new hl(this.source,Ir(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Yl{constructor(n,e,s){this.node_=n,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Li(n))return this.isFullyInitialized()&&!this.filtered_;const e=Oi(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class hb{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function wp(r,n,e,s,u,p){const x=s.filter(S=>S.type===e);x.sort((S,B)=>function r_(r,n,e){if(null==n.childName||null==e.childName)throw(0,M.g5)("Should only compare child_ events.");const s=new Bi(n.childName,n.snapshotNode),u=new Bi(e.childName,e.snapshotNode);return r.index_.compare(s,u)}(r,S,B)),x.forEach(S=>{const B=function b0(r,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,r.index_)),n}(r,S,p);u.forEach(Z=>{Z.respondsTo(S.type)&&n.push(Z.createEvent(B,r.query_))})})}function xp(r,n){return{eventCache:r,serverCache:n}}function _d(r,n,e,s){return xp(new Yl(n,e,s),r.serverCache)}function s_(r,n,e,s){return xp(r.eventCache,new Yl(n,e,s))}function yd(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function vd(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let Ty;class Ur{constructor(n,e=(()=>(Ty||(Ty=new Ca(nu)),Ty))()){this.value=n,this.children=e}static fromObject(n){let e=new Ur(null);return wo(n,(s,u)=>{e=e.set(new wr(s),u)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:qi(),value:this.value};if(Li(n))return null;{const s=Oi(n),u=this.children.get(s);if(null!==u){const p=u.findRootMostMatchingPathAndValue(Ir(n),e);return null!=p?{path:Kr(new wr(s),p.path),value:p.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Li(n))return this;{const e=Oi(n),s=this.children.get(e);return null!==s?s.subtree(Ir(n)):new Ur(null)}}set(n,e){if(Li(n))return new Ur(e,this.children);{const s=Oi(n),p=(this.children.get(s)||new Ur(null)).set(Ir(n),e),x=this.children.insert(s,p);return new Ur(this.value,x)}}remove(n){if(Li(n))return this.children.isEmpty()?new Ur(null):new Ur(null,this.children);{const e=Oi(n),s=this.children.get(e);if(s){const u=s.remove(Ir(n));let p;return p=u.isEmpty()?this.children.remove(e):this.children.insert(e,u),null===this.value&&p.isEmpty()?new Ur(null):new Ur(this.value,p)}return this}}get(n){if(Li(n))return this.value;{const e=Oi(n),s=this.children.get(e);return s?s.get(Ir(n)):null}}setTree(n,e){if(Li(n))return e;{const s=Oi(n),p=(this.children.get(s)||new Ur(null)).setTree(Ir(n),e);let x;return x=p.isEmpty()?this.children.remove(s):this.children.insert(s,p),new Ur(this.value,x)}}fold(n){return this.fold_(qi(),n)}fold_(n,e){const s={};return this.children.inorderTraversal((u,p)=>{s[u]=p.fold_(Kr(n,u),e)}),e(n,this.value,s)}findOnPath(n,e){return this.findOnPath_(n,qi(),e)}findOnPath_(n,e,s){const u=!!this.value&&s(e,this.value);if(u)return u;if(Li(n))return null;{const p=Oi(n),x=this.children.get(p);return x?x.findOnPath_(Ir(n),Kr(e,p),s):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,qi(),e)}foreachOnPath_(n,e,s){if(Li(n))return this;{this.value&&s(e,this.value);const u=Oi(n),p=this.children.get(u);return p?p.foreachOnPath_(Ir(n),Kr(e,u),s):new Ur(null)}}foreach(n){this.foreach_(qi(),n)}foreach_(n,e){this.children.inorderTraversal((s,u)=>{u.foreach_(Kr(n,s),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,s)=>{s.value&&n(e,s.value)})}}class ql{constructor(n){this.writeTree_=n}static empty(){return new ql(new Ur(null))}}function o_(r,n,e){if(Li(n))return new ql(new Ur(e));{const s=r.writeTree_.findRootMostValueAndPath(n);if(null!=s){const u=s.path;let p=s.value;const x=xo(u,n);return p=p.updateChild(x,e),new ql(r.writeTree_.set(u,p))}{const u=new Ur(e),p=r.writeTree_.setTree(n,u);return new ql(p)}}}function Ep(r,n,e){let s=r;return wo(e,(u,p)=>{s=o_(s,Kr(n,u),p)}),s}function a_(r,n){if(Li(n))return ql.empty();{const e=r.writeTree_.setTree(n,new Ur(null));return new ql(e)}}function Ay(r,n){return null!=Qn(r,n)}function Qn(r,n){const e=r.writeTree_.findRootMostValueAndPath(n);return null!=e?r.writeTree_.get(e.path).getChild(xo(e.path,n)):null}function My(r){const n=[],e=r.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Yr,(s,u)=>{n.push(new Bi(s,u))}):r.writeTree_.children.inorderTraversal((s,u)=>{null!=u.value&&n.push(new Bi(s,u.value))}),n}function lu(r,n){if(Li(n))return r;{const e=Qn(r,n);return new ql(null!=e?new Ur(e):r.writeTree_.subtree(n))}}function Cp(r){return r.writeTree_.isEmpty()}function fl(r,n){return fb(qi(),r.writeTree_,n)}function fb(r,n,e){if(null!=n.value)return e.updateChild(r,n.value);{let s=null;return n.children.inorderTraversal((u,p)=>{".priority"===u?((0,M.hu)(null!==p.value,"Priority writes must always be leaf nodes"),s=p.value):e=fb(Kr(r,u),p,e)}),!e.getChild(r).isEmpty()&&null!==s&&(e=e.updateChild(Kr(r,".priority"),s)),e}}function um(r,n){return pm(n,r)}function Xu(r,n){if(r.snap)return ul(r.path,n);for(const e in r.children)if(r.children.hasOwnProperty(e)&&ul(Kr(r.path,e),n))return!0;return!1}function hm(r){return r.visible}function bd(r,n,e){let s=ql.empty();for(let u=0;u<r.length;++u){const p=r[u];if(n(p)){const x=p.path;let S;if(p.snap)ul(e,x)?(S=xo(e,x),s=o_(s,S,p.snap)):ul(x,e)&&(S=xo(x,e),s=o_(s,qi(),p.snap.getChild(S)));else{if(!p.children)throw(0,M.g5)("WriteRecord should have .snap or .children");if(ul(e,x))S=xo(e,x),s=Ep(s,S,p.children);else if(ul(x,e))if(S=xo(x,e),Li(S))s=Ep(s,qi(),p.children);else{const B=(0,M.DV)(p.children,Oi(S));if(B){const Z=B.getChild(Ir(S));s=o_(s,qi(),Z)}}}}}return s}function Ry(r,n,e,s,u){if(s||u){const p=lu(r.visibleWrites,n);return!u&&Cp(p)?e:u||null!=e||Ay(p,qi())?fl(bd(r.allWrites,function(Z){return(Z.visible||u)&&(!s||!~s.indexOf(Z.writeId))&&(ul(Z.path,n)||ul(n,Z.path))},n),e||Ai.EMPTY_NODE):null}{const p=Qn(r.visibleWrites,n);if(null!=p)return p;{const x=lu(r.visibleWrites,n);return Cp(x)?e:null!=e||Ay(x,qi())?fl(x,e||Ai.EMPTY_NODE):null}}}function l_(r,n,e,s){return Ry(r.writeTree,r.treePath,n,e,s)}function Py(r,n){return function Oy(r,n,e){let s=Ai.EMPTY_NODE;const u=Qn(r.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(Yr,(p,x)=>{s=s.updateImmediateChild(p,x)}),s;if(e){const p=lu(r.visibleWrites,n);return e.forEachChild(Yr,(x,S)=>{const B=fl(lu(p,new wr(x)),S);s=s.updateImmediateChild(x,B)}),My(p).forEach(x=>{s=s.updateImmediateChild(x.name,x.node)}),s}return My(lu(r.visibleWrites,n)).forEach(x=>{s=s.updateImmediateChild(x.name,x.node)}),s}(r.writeTree,r.treePath,n)}function fm(r,n,e,s){return function x0(r,n,e,s,u){(0,M.hu)(s||u,"Either existingEventSnap or existingServerSnap must exist");const p=Kr(n,e);if(Ay(r.visibleWrites,p))return null;{const x=lu(r.visibleWrites,p);return Cp(x)?u.getChild(e):fl(x,u.getChild(e))}}(r.writeTree,r.treePath,n,e,s)}function mm(r,n){return function E0(r,n){return Qn(r.visibleWrites,n)}(r.writeTree,Kr(r.treePath,n))}function c_(r,n,e){return function Ju(r,n,e,s){const u=Kr(n,e),p=Qn(r.visibleWrites,u);return null!=p?p:s.isCompleteForChild(e)?fl(lu(r.visibleWrites,u),s.getNode().getImmediateChild(e)):null}(r.writeTree,r.treePath,n,e)}function Ny(r,n){return pm(Kr(r.treePath,n),r.writeTree)}function pm(r,n){return{treePath:r,writeTree:n}}class wd{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,s=n.childName;(0,M.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,M.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(s);if(u){const p=u.type;if("child_added"===e&&"child_removed"===p)this.changeMap.set(s,gp(s,n.snapshotNode,u.snapshotNode));else if("child_removed"===e&&"child_added"===p)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===p)this.changeMap.set(s,Wl(s,u.oldSnap));else if("child_changed"===e&&"child_added"===p)this.changeMap.set(s,Da(s,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==p)throw(0,M.g5)("Illegal combination of changes: "+n+" occurred after "+u);this.changeMap.set(s,gp(s,n.snapshotNode,u.oldSnap))}}else this.changeMap.set(s,n)}getChanges(){return Array.from(this.changeMap.values())}}const D0=new class Fy{getCompleteChild(n){return null}getChildAfterChild(n,e,s){return null}};class Ly{constructor(n,e,s=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const s=null!=this.optCompleteServerCache_?new Yl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return c_(this.writes_,n,s)}}getChildAfterChild(n,e,s){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vd(this.viewCache_),p=function mb(r,n,e,s,u,p){return function Dp(r,n,e,s,u,p,x){let S;const B=lu(r.visibleWrites,n),Z=Qn(B,qi());if(null!=Z)S=Z;else{if(null==e)return[];S=fl(B,e)}if(S=S.withIndex(x),S.isEmpty()||S.isLeafNode())return[];{const le=[],Te=x.getCompare(),We=p?S.getReverseIteratorFrom(s,x):S.getIteratorFrom(s,x);let vt=We.getNext();for(;vt&&le.length<u;)0!==Te(vt,s)&&le.push(vt),vt=We.getNext();return le}}(r.writeTree,r.treePath,n,e,s,u,p)}(this.writes_,u,e,1,s,n);return 0===p.length?null:p[0]}}function By(r,n,e,s,u,p){const x=n.eventCache;if(null!=mm(s,e))return n;{let S,B;if(Li(e))if((0,M.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const Z=vd(n),Te=Py(s,Z instanceof Ai?Z:Ai.EMPTY_NODE);S=r.filter.updateFullNode(n.eventCache.getNode(),Te,p)}else{const Z=l_(s,vd(n));S=r.filter.updateFullNode(n.eventCache.getNode(),Z,p)}else{const Z=Oi(e);if(".priority"===Z){(0,M.hu)(1===pd(e),"Can't have a priority with additional path components");const le=x.getNode();B=n.serverCache.getNode();const Te=fm(s,e,le,B);S=null!=Te?r.filter.updatePriority(le,Te):x.getNode()}else{const le=Ir(e);let Te;if(x.isCompleteForChild(Z)){B=n.serverCache.getNode();const We=fm(s,e,x.getNode(),B);Te=null!=We?x.getNode().getImmediateChild(Z).updateChild(le,We):x.getNode().getImmediateChild(Z)}else Te=c_(s,Z,n.serverCache);S=null!=Te?r.filter.updateChild(x.getNode(),Z,Te,le,u,p):x.getNode()}}return _d(n,S,x.isFullyInitialized()||Li(e),r.filter.filtersNodes())}}function d_(r,n,e,s,u,p,x,S){const B=n.serverCache;let Z;const le=x?r.filter:r.filter.getIndexedFilter();if(Li(e))Z=le.updateFullNode(B.getNode(),s,null);else if(le.filtersNodes()&&!B.isFiltered()){const vt=B.getNode().updateChild(e,s);Z=le.updateFullNode(B.getNode(),vt,null)}else{const vt=Oi(e);if(!B.isCompleteForPath(e)&&pd(e)>1)return n;const At=Ir(e),un=B.getNode().getImmediateChild(vt).updateChild(At,s);Z=".priority"===vt?le.updatePriority(B.getNode(),un):le.updateChild(B.getNode(),vt,un,At,D0,null)}const Te=s_(n,Z,B.isFullyInitialized()||Li(e),le.filtersNodes());return By(r,Te,e,u,new Ly(u,Te,p),S)}function Uy(r,n,e,s,u,p,x){const S=n.eventCache;let B,Z;const le=new Ly(u,n,p);if(Li(e))Z=r.filter.updateFullNode(n.eventCache.getNode(),s,x),B=_d(n,Z,!0,r.filter.filtersNodes());else{const Te=Oi(e);if(".priority"===Te)Z=r.filter.updatePriority(n.eventCache.getNode(),s),B=_d(n,Z,S.isFullyInitialized(),S.isFiltered());else{const We=Ir(e),vt=S.getNode().getImmediateChild(Te);let At;if(Li(We))At=s;else{const qt=le.getCompleteChild(Te);At=null!=qt?".priority"===ap(We)&&qt.getChild(lp(We)).isEmpty()?qt:qt.updateChild(We,s):Ai.EMPTY_NODE}B=vt.equals(At)?n:_d(n,r.filter.updateChild(S.getNode(),Te,At,We,le,x),S.isFullyInitialized(),r.filter.filtersNodes())}}return B}function bw(r,n){return r.eventCache.isCompleteForChild(n)}function _b(r,n,e){return e.foreach((s,u)=>{n=n.updateChild(s,u)}),n}function du(r,n,e,s,u,p,x,S){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let Z,B=n;Z=Li(e)?s:new Ur(null).setTree(e,s);const le=n.serverCache.getNode();return Z.children.inorderTraversal((Te,We)=>{if(le.hasChild(Te)){const At=_b(0,n.serverCache.getNode().getImmediateChild(Te),We);B=d_(r,B,new wr(Te),At,u,p,x,S)}}),Z.children.inorderTraversal((Te,We)=>{const vt=!n.serverCache.isCompleteForChild(Te)&&null===We.value;if(!le.hasChild(Te)&&!vt){const qt=_b(0,n.serverCache.getNode().getImmediateChild(Te),We);B=d_(r,B,new wr(Te),qt,u,p,x,S)}}),B}class T0{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const s=this.query_._queryParams,u=new ou(s.getIndex()),p=function e_(r){return r.loadsAllData()?new ou(r.getIndex()):r.hasLimit()?new cb(r):new _p(r)}(s);this.processor_=function pb(r){return{filter:r}}(p);const x=e.serverCache,S=e.eventCache,B=u.updateFullNode(Ai.EMPTY_NODE,x.getNode(),null),Z=p.updateFullNode(Ai.EMPTY_NODE,S.getNode(),null),le=new Yl(B,x.isFullyInitialized(),u.filtersNodes()),Te=new Yl(Z,S.isFullyInitialized(),p.filtersNodes());this.viewCache_=xp(Te,le),this.eventGenerator_=new hb(this.query_)}get query(){return this.query_}}function A0(r,n){const e=vd(r.viewCache_);return e&&(r.query._queryParams.loadsAllData()||!Li(n)&&!e.getImmediateChild(Oi(n)).isEmpty())?e.getChild(n):null}function M0(r){return 0===r.eventRegistrations_.length}function Vy(r,n,e){const s=[];if(e){(0,M.hu)(null==n,"A cancel should cancel all event registrations.");const u=r.query._path;r.eventRegistrations_.forEach(p=>{const x=p.createCancelEvent(e,u);x&&s.push(x)})}if(n){let u=[];for(let p=0;p<r.eventRegistrations_.length;++p){const x=r.eventRegistrations_[p];if(x.matches(n)){if(n.hasAnyCallback()){u=u.concat(r.eventRegistrations_.slice(p+1));break}}else u.push(x)}r.eventRegistrations_=u}else r.eventRegistrations_=[];return s}function k0(r,n,e,s){n.type===Kl.MERGE&&null!==n.source.queryId&&((0,M.hu)(vd(r.viewCache_),"We should always have a full cache before handling merges"),(0,M.hu)(yd(r.viewCache_),"Missing event cache, even though we have a server cache"));const u=r.viewCache_,p=function I0(r,n,e,s,u){const p=new wd;let x,S;if(e.type===Kl.OVERWRITE){const Z=e;Z.source.fromUser?x=Uy(r,n,Z.path,Z.snap,s,u,p):((0,M.hu)(Z.source.fromServer,"Unknown source."),S=Z.source.tagged||n.serverCache.isFiltered()&&!Li(Z.path),x=d_(r,n,Z.path,Z.snap,s,u,S,p))}else if(e.type===Kl.MERGE){const Z=e;Z.source.fromUser?x=function ww(r,n,e,s,u,p,x){let S=n;return s.foreach((B,Z)=>{const le=Kr(e,B);bw(n,Oi(le))&&(S=Uy(r,S,le,Z,u,p,x))}),s.foreach((B,Z)=>{const le=Kr(e,B);bw(n,Oi(le))||(S=Uy(r,S,le,Z,u,p,x))}),S}(r,n,Z.path,Z.children,s,u,p):((0,M.hu)(Z.source.fromServer,"Unknown source."),S=Z.source.tagged||n.serverCache.isFiltered(),x=du(r,n,Z.path,Z.children,s,u,S,p))}else if(e.type===Kl.ACK_USER_WRITE){const Z=e;x=Z.revert?function S0(r,n,e,s,u,p){let x;if(null!=mm(s,e))return n;{const S=new Ly(s,n,u),B=n.eventCache.getNode();let Z;if(Li(e)||".priority"===Oi(e)){let le;if(n.serverCache.isFullyInitialized())le=l_(s,vd(n));else{const Te=n.serverCache.getNode();(0,M.hu)(Te instanceof Ai,"serverChildren would be complete if leaf node"),le=Py(s,Te)}Z=r.filter.updateFullNode(B,le,p)}else{const le=Oi(e);let Te=c_(s,le,n.serverCache);null==Te&&n.serverCache.isCompleteForChild(le)&&(Te=B.getImmediateChild(le)),Z=null!=Te?r.filter.updateChild(B,le,Te,Ir(e),S,p):n.eventCache.getNode().hasChild(le)?r.filter.updateChild(B,le,Ai.EMPTY_NODE,Ir(e),S,p):B,Z.isEmpty()&&n.serverCache.isFullyInitialized()&&(x=l_(s,vd(n)),x.isLeafNode()&&(Z=r.filter.updateFullNode(Z,x,p)))}return x=n.serverCache.isFullyInitialized()||null!=mm(s,qi()),_d(n,Z,x,r.filter.filtersNodes())}}(r,n,Z.path,s,u,p):function yb(r,n,e,s,u,p,x){if(null!=mm(u,e))return n;const S=n.serverCache.isFiltered(),B=n.serverCache;if(null!=s.value){if(Li(e)&&B.isFullyInitialized()||B.isCompleteForPath(e))return d_(r,n,e,B.getNode().getChild(e),u,p,S,x);if(Li(e)){let Z=new Ur(null);return B.getNode().forEachChild(xi,(le,Te)=>{Z=Z.set(new wr(le),Te)}),du(r,n,e,Z,u,p,S,x)}return n}{let Z=new Ur(null);return s.foreach((le,Te)=>{const We=Kr(e,le);B.isCompleteForPath(We)&&(Z=Z.set(le,B.getNode().getChild(We)))}),du(r,n,e,Z,u,p,S,x)}}(r,n,Z.path,Z.affectedTree,s,u,p)}else{if(e.type!==Kl.LISTEN_COMPLETE)throw(0,M.g5)("Unknown operation type: "+e.type);x=function u_(r,n,e,s,u){const p=n.serverCache;return By(r,s_(n,p.getNode(),p.isFullyInitialized()||Li(e),p.isFiltered()),e,s,D0,u)}(r,n,e.path,s,p)}const B=p.getChanges();return function vw(r,n,e){const s=n.eventCache;if(s.isFullyInitialized()){const u=s.getNode().isLeafNode()||s.getNode().isEmpty(),p=yd(r);(e.length>0||!r.eventCache.isFullyInitialized()||u&&!s.getNode().equals(p)||!s.getNode().getPriority().equals(p.getPriority()))&&e.push(lb(yd(n)))}}(n,x,B),{viewCache:x,changes:B}}(r.processor_,u,n,e,s);return function gb(r,n){(0,M.hu)(n.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,M.hu)(n.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}(r.processor_,p.viewCache),(0,M.hu)(p.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=p.viewCache,Sp(r,p.changes,p.viewCache.eventCache.getNode(),null)}function Sp(r,n,e,s){return function cf(r,n,e,s){const u=[],p=[];return n.forEach(x=>{"child_changed"===x.type&&r.index_.indexedValueChanged(x.oldSnap,x.snapshotNode)&&p.push(function Zu(r,n){return{type:"child_moved",snapshotNode:n,childName:r}}(x.childName,x.snapshotNode))}),wp(r,u,"child_removed",n,s,e),wp(r,u,"child_added",n,s,e),wp(r,u,"child_moved",p,s,e),wp(r,u,"child_changed",n,s,e),wp(r,u,"value",n,s,e),u}(r.eventGenerator_,n,e,s?[s]:r.eventRegistrations_)}let Tp,Mp;class Hy{constructor(){this.views=new Map}}function zy(r,n,e,s){const u=n.source.queryId;if(null!==u){const p=r.views.get(u);return(0,M.hu)(null!=p,"SyncTree gave us an op for an invalid query."),k0(p,n,e,s)}{let p=[];for(const x of r.views.values())p=p.concat(k0(x,n,e,s));return p}}function h_(r,n,e,s,u){const x=r.views.get(n._queryIdentifier);if(!x){let S=l_(e,u?s:null),B=!1;S?B=!0:s instanceof Ai?(S=Py(e,s),B=!1):(S=Ai.EMPTY_NODE,B=!1);const Z=xp(new Yl(S,B,!1),new Yl(s,u,!1));return new T0(n,Z)}return x}function Gy(r){const n=[];for(const e of r.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function Bc(r,n){let e=null;for(const s of r.views.values())e=e||A0(s,n);return e}function eh(r,n){return n._queryParams.loadsAllData()?Ap(r):r.views.get(n._queryIdentifier)}function ml(r,n){return null!=eh(r,n)}function ks(r){return null!=Ap(r)}function Ap(r){for(const n of r.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let ja=1;class $y{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ur(null),this.pendingWriteTree_=function C0(){return{visibleWrites:ql.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Rp(r,n,e,s,u){return function ky(r,n,e,s,u){(0,M.hu)(s>r.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),r.allWrites.push({path:n,snap:e,writeId:s,visible:u}),u&&(r.visibleWrites=o_(r.visibleWrites,n,e)),r.lastWriteId=s}(r.pendingWriteTree_,n,e,s,u),u?_m(r,new yc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function pl(r,n,e=!1){const s=function Mx(r,n){for(let e=0;e<r.allWrites.length;e++){const s=r.allWrites[e];if(s.writeId===n)return s}return null}(r.pendingWriteTree_,n);if(function w0(r,n){const e=r.allWrites.findIndex(S=>S.writeId===n);(0,M.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=r.allWrites[e];r.allWrites.splice(e,1);let u=s.visible,p=!1,x=r.allWrites.length-1;for(;u&&x>=0;){const S=r.allWrites[x];S.visible&&(x>=e&&Xu(S,s.path)?u=!1:ul(s.path,S.path)&&(p=!0)),x--}return!!u&&(p?(function cu(r){r.visibleWrites=bd(r.allWrites,hm,qi()),r.lastWriteId=r.allWrites.length>0?r.allWrites[r.allWrites.length-1].writeId:-1}(r),!0):(s.snap?r.visibleWrites=a_(r.visibleWrites,s.path):wo(s.children,B=>{r.visibleWrites=a_(r.visibleWrites,Kr(s.path,B))}),!0))}(r.pendingWriteTree_,n)){let p=new Ur(null);return null!=s.snap?p=p.set(qi(),!0):wo(s.children,x=>{p=p.set(new wr(x),!0)}),_m(r,new bp(s.path,p,e))}return[]}function uf(r,n,e){return _m(r,new yc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function m_(r,n,e,s,u=!1){const p=n._path,x=r.syncPointTree_.get(p);let S=[];if(x&&("default"===n._queryIdentifier||ml(x,n))){const B=function wb(r,n,e,s){const u=n._queryIdentifier,p=[];let x=[];const S=ks(r);if("default"===u)for(const[B,Z]of r.views.entries())x=x.concat(Vy(Z,e,s)),M0(Z)&&(r.views.delete(B),Z.query._queryParams.loadsAllData()||p.push(Z.query));else{const B=r.views.get(u);B&&(x=x.concat(Vy(B,e,s)),M0(B)&&(r.views.delete(u),B.query._queryParams.loadsAllData()||p.push(B.query)))}return S&&!ks(r)&&p.push(new(function jy(){return(0,M.hu)(Tp,"Reference.ts has not been loaded"),Tp}())(n._repo,n._path)),{removed:p,events:x}}(x,n,e,s);(function bb(r){return 0===r.views.size})(x)&&(r.syncPointTree_=r.syncPointTree_.remove(p));const Z=B.removed;if(S=B.events,!u){const le=-1!==Z.findIndex(We=>We._queryParams.loadsAllData()),Te=r.syncPointTree_.findOnPath(p,(We,vt)=>ks(vt));if(le&&!Te){const We=r.syncPointTree_.subtree(p);if(!We.isEmpty()){const vt=function v_(r){return r.fold((n,e,s)=>{if(e&&ks(e))return[Ap(e)];{let u=[];return e&&(u=Gy(e)),wo(s,(p,x)=>{u=u.concat(x)}),u}})}(We);for(let At=0;At<vt.length;++At){const qt=vt[At],un=qt.query,li=Pp(r,qt);r.listenProvider_.startListening(Fp(un),ff(r,un),li.hashFn,li.onComplete)}}}!Te&&Z.length>0&&!s&&(le?r.listenProvider_.stopListening(Fp(n),null):Z.forEach(We=>{const vt=r.queryToTagMap.get(mf(We));r.listenProvider_.stopListening(Fp(We),vt)}))}!function Yy(r,n){for(let e=0;e<n.length;++e){const s=n[e];if(!s._queryParams.loadsAllData()){const u=mf(s),p=r.queryToTagMap.get(u);r.queryToTagMap.delete(u),r.tagToQueryMap.delete(p)}}}(r,Z)}return S}function xd(r,n,e,s){const u=Np(r,s);if(null!=u){const p=__(u),x=p.path,S=p.queryId,B=xo(x,n);return y_(r,x,new yc(cm(S),B,e))}return[]}function Wy(r,n,e,s=!1){const u=n._path;let p=null,x=!1;r.syncPointTree_.foreachOnPath(u,(We,vt)=>{const At=xo(We,u);p=p||Bc(vt,At),x=x||ks(vt)});let B,S=r.syncPointTree_.get(u);S?(x=x||ks(S),p=p||Bc(S,qi())):(S=new Hy,r.syncPointTree_=r.syncPointTree_.set(u,S)),null!=p?B=!0:(B=!1,p=Ai.EMPTY_NODE,r.syncPointTree_.subtree(u).foreachChild((vt,At)=>{const qt=Bc(At,qi());qt&&(p=p.updateImmediateChild(vt,qt))}));const Z=ml(S,n);if(!Z&&!n._queryParams.loadsAllData()){const We=mf(n);(0,M.hu)(!r.queryToTagMap.has(We),"View does not exist, but we have a tag");const vt=function pf(){return ja++}();r.queryToTagMap.set(We,vt),r.tagToQueryMap.set(vt,We)}let Te=function f_(r,n,e,s,u,p){const x=h_(r,n,s,u,p);return r.views.has(n._queryIdentifier)||r.views.set(n._queryIdentifier,x),function xw(r,n){r.eventRegistrations_.push(n)}(x,e),function R0(r,n){const e=r.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Yr,(p,x)=>{s.push(Da(p,x))}),e.isFullyInitialized()&&s.push(lb(e.getNode())),Sp(r,s,e.getNode(),n)}(x,e)}(S,n,e,um(r.pendingWriteTree_,u),p,B);if(!Z&&!x&&!s){const We=eh(S,n);Te=Te.concat(function Eb(r,n,e){const s=n._path,u=ff(r,n),p=Pp(r,e),x=r.listenProvider_.startListening(Fp(n),u,p.hashFn,p.onComplete),S=r.syncPointTree_.subtree(s);if(u)(0,M.hu)(!ks(S.value),"If we're adding a query, it shouldn't be shadowed");else{const B=S.fold((Z,le,Te)=>{if(!Li(Z)&&le&&ks(le))return[Ap(le).query];{let We=[];return le&&(We=We.concat(Gy(le).map(vt=>vt.query))),wo(Te,(vt,At)=>{We=We.concat(At)}),We}});for(let Z=0;Z<B.length;++Z){const le=B[Z];r.listenProvider_.stopListening(Fp(le),ff(r,le))}}return x}(r,n,We))}return Te}function p_(r,n,e){const u=r.pendingWriteTree_,p=r.syncPointTree_.findOnPath(n,(x,S)=>{const Z=Bc(S,xo(x,n));if(Z)return Z});return Ry(u,n,p,e,!0)}function _m(r,n){return g_(n,r.syncPointTree_,null,um(r.pendingWriteTree_,qi()))}function g_(r,n,e,s){if(Li(r.path))return Op(r,n,e,s);{const u=n.get(qi());null==e&&null!=u&&(e=Bc(u,qi()));let p=[];const x=Oi(r.path),S=r.operationForChild(x),B=n.children.get(x);if(B&&S){const Z=e?e.getImmediateChild(x):null,le=Ny(s,x);p=p.concat(g_(S,B,Z,le))}return u&&(p=p.concat(zy(u,r,s,e))),p}}function Op(r,n,e,s){const u=n.get(qi());null==e&&null!=u&&(e=Bc(u,qi()));let p=[];return n.children.inorderTraversal((x,S)=>{const B=e?e.getImmediateChild(x):null,Z=Ny(s,x),le=r.operationForChild(x);le&&(p=p.concat(Op(le,S,B,Z)))}),u&&(p=p.concat(zy(u,r,s,e))),p}function Pp(r,n){const e=n.query,s=ff(r,e);return{hashFn:()=>(function vb(r){return r.viewCache_.serverCache.getNode()}(n)||Ai.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return s?function P0(r,n,e){const s=Np(r,e);if(s){const u=__(s),p=u.path,x=u.queryId,S=xo(p,n);return y_(r,p,new lf(cm(x),S))}return[]}(r,e._path,s):function O0(r,n){return _m(r,new lf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(r,e._path);{const p=function Wh(r,n){let e="Unknown Error";"too_big"===r?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===r?e="Client doesn't have permission to access the desired data.":"unavailable"===r&&(e="The service is unavailable");const s=new Error(r+" at "+n._path.toString()+": "+e);return s.code=r.toUpperCase(),s}(u,e);return m_(r,e,null,p)}}}}function ff(r,n){const e=mf(n);return r.queryToTagMap.get(e)}function mf(r){return r._path.toString()+"$"+r._queryIdentifier}function Np(r,n){return r.tagToQueryMap.get(n)}function __(r){const n=r.indexOf("$");return(0,M.hu)(-1!==n&&n<r.length-1,"Bad queryKey."),{queryId:r.substr(n+1),path:new wr(r.substr(0,n))}}function y_(r,n,e){const s=r.syncPointTree_.get(n);return(0,M.hu)(s,"Missing sync point for query tag that we're tracking"),zy(s,e,um(r.pendingWriteTree_,n),null)}function Fp(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(function df(){return(0,M.hu)(Mp,"Reference.ts has not been loaded"),Mp}())(r._repo,r._path):r}class qy{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new qy(e)}node(){return this.node_}}class Zy{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=Kr(this.path_,n);return new Zy(this.syncTree_,e)}node(){return p_(this.syncTree_,this.path_)}}const Qy=function(r){return(r=r||{}).timestamp=r.timestamp||(new Date).getTime(),r},b_=function(r,n,e){return r&&"object"==typeof r?((0,M.hu)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?a(r[".sv"],n,e):"object"==typeof r[".sv"]?t(r[".sv"],n):void(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},a=function(r,n,e){if("timestamp"===r)return e.timestamp;(0,M.hu)(!1,"Unexpected server value: "+r)},t=function(r,n,e){r.hasOwnProperty("increment")||(0,M.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const s=r.increment;"number"!=typeof s&&(0,M.hu)(!1,"Unexpected increment value: "+s);const u=n.node();if((0,M.hu)(null!==u&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return s;const x=u.getValue();return"number"!=typeof x?s:x+s},i=function(r,n,e,s){return m(n,new Zy(e,r),s)},c=function(r,n,e){return m(r,new qy(n),e)};function m(r,n,e){const s=r.getPriority().val(),u=b_(s,n.getImmediateChild(".priority"),e);let p;if(r.isLeafNode()){const x=r,S=b_(x.getValue(),n,e);return S!==x.getValue()||u!==x.getPriority().val()?new qu(S,Ms(u)):r}{const x=r;return p=x,u!==x.getPriority().val()&&(p=p.updatePriority(new qu(u))),x.forEachChild(Yr,(S,B)=>{const Z=m(B,n.getImmediateChild(S),e);Z!==B&&(p=p.updateImmediateChild(S,Z))}),p}}class v{constructor(n="",e=null,s={children:{},childCount:0}){this.name=n,this.parent=e,this.node=s}}function E(r,n){let e=n instanceof wr?n:new wr(n),s=r,u=Oi(e);for(;null!==u;){const p=(0,M.DV)(s.node.children,u)||{children:{},childCount:0};s=new v(u,s,p),e=Ir(e),u=Oi(e)}return s}function R(r){return r.node.value}function $(r,n){r.node.value=n,vn(r)}function ee(r){return r.node.childCount>0}function Ue(r,n){wo(r.node.children,(e,s)=>{n(new v(e,r,s))})}function ut(r,n,e,s){e&&!s&&n(r),Ue(r,u=>{ut(u,n,!0,s)}),e&&s&&n(r)}function en(r){return new wr(null===r.parent?r.name:en(r.parent)+"/"+r.name)}function vn(r){null!==r.parent&&function $n(r,n,e){const s=function fe(r){return void 0===R(r)&&!ee(r)}(e),u=(0,M.r3)(r.node.children,n);s&&u?(delete r.node.children[n],r.node.childCount--,vn(r)):!s&&!u&&(r.node.children[n]=e.node,r.node.childCount++,vn(r))}(r.parent,r.name,r)}const ir=/[\[\].#$\/\u0000-\u001F\u007F]/,bs=/[\[\].#$\u0000-\u001F\u007F]/,Ui=10485760,Zs=function(r){return"string"==typeof r&&0!==r.length&&!ir.test(r)},Vr=function(r){return"string"==typeof r&&0!==r.length&&!bs.test(r)},fo=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!Gh(r)||r&&"object"==typeof r&&(0,M.r3)(r,".sv")},ta=function(r,n,e,s){s&&void 0===n||Xy((0,M.gK)(r,"value"),n,e)},Xy=function(r,n,e){const s=e instanceof wr?new ef(e,r):e;if(void 0===n)throw new Error(r+"contains undefined "+Wu(s));if("function"==typeof n)throw new Error(r+"contains a function "+Wu(s)+" with contents = "+n.toString());if(Gh(n))throw new Error(r+"contains "+n.toString()+" "+Wu(s));if("string"==typeof n&&n.length>Ui/3&&(0,M.ug)(n)>Ui)throw new Error(r+"contains a string greater than "+Ui+" utf8 bytes "+Wu(s)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let u=!1,p=!1;if(wo(n,(x,S)=>{if(".value"===x)u=!0;else if(".priority"!==x&&".sv"!==x&&(p=!0,!Zs(x)))throw new Error(r+" contains an invalid key ("+x+") "+Wu(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Zg(r,n){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(n),r.byteLength_+=(0,M.ug)(n),_y(r)})(s,x),Xy(r,S,s),function tb(r){const n=r.parts_.pop();r.byteLength_-=(0,M.ug)(n),r.parts_.length>0&&(r.byteLength_-=1)}(s)}),u&&p)throw new Error(r+' contains ".value" child '+Wu(s)+" in addition to actual children.")}},Ew=function(r,n,e,s){if(s&&void 0===n)return;const u=(0,M.gK)(r,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(u+" must be an object containing the children to replace.");const p=[];wo(n,(x,S)=>{const B=new wr(x);if(Xy(u,S,Kr(e,B)),".priority"===ap(B)&&!fo(S))throw new Error(u+"contains an invalid value for '"+B.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");p.push(B)}),function(r,n){let e,s;for(e=0;e<n.length;e++){s=n[e];const p=$u(s);for(let x=0;x<p.length;x++)if((".priority"!==p[x]||x!==p.length-1)&&!Zs(p[x]))throw new Error(r+"contains an invalid key ("+p[x]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(cp);let u=null;for(e=0;e<n.length;e++){if(s=n[e],null!==u&&ul(u,s))throw new Error(r+"contains a path "+u.toString()+" that is ancestor of another path "+s.toString());u=s}}(u,p)},N0=function(r,n,e){if(!e||void 0!==n){if(Gh(n))throw new Error((0,M.gK)(r,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fo(n))throw new Error((0,M.gK)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Jy=function(r,n,e,s){if(!(s&&void 0===e||Zs(e)))throw new Error((0,M.gK)(r,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ev=function(r,n,e,s){if(!(s&&void 0===e||Vr(e)))throw new Error((0,M.gK)(r,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},tv=function(r,n,e,s){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ev(r,n,e,s)},Uc=function(r,n){if(".info"===Oi(n))throw new Error(r+" failed = Can't modify data under /.info/")},F0=function(r,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Zs(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Vr(r)}(e))throw new Error((0,M.gK)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Cw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nv(r,n){let e=null;for(let s=0;s<n.length;s++){const u=n[s],p=u.getPath();null!==e&&!im(p,e.path)&&(r.eventLists_.push(e),e=null),null===e&&(e={events:[],path:p}),e.events.push(u)}e&&r.eventLists_.push(e)}function L0(r,n,e){nv(r,e),Dw(r,s=>im(s,n))}function vc(r,n,e){nv(r,e),Dw(r,s=>ul(s,n)||ul(n,s))}function Dw(r,n){r.recursionDepth_++;let e=!0;for(let s=0;s<r.eventLists_.length;s++){const u=r.eventLists_[s];u&&(n(u.path)?(FE(r.eventLists_[s]),r.eventLists_[s]=null):e=!1)}e&&(r.eventLists_=[]),r.recursionDepth_--}function FE(r){for(let n=0;n<r.events.length;n++){const e=r.events[n];if(null!==e){r.events[n]=null;const s=e.getEventRunner();tu&&uo("event: "+e.toString()),Vu(s)}}}const B0="repo_interrupt",Iw=25;class Rx{constructor(n,e,s,u){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Cw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=am(),this.transactionQueueTree_=new v,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Sw(r){const e=r.infoData_.getNode(new wr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function gf(r){return Qy({timestamp:Sw(r)})}function Tw(r,n,e,s,u){r.dataUpdateCount++;const p=new wr(n);e=r.interceptServerDataCallback_?r.interceptServerDataCallback_(n,e):e;let x=[];if(u)if(s){const B=(0,M.UI)(e,Z=>Ms(Z));x=function xb(r,n,e,s){const u=Np(r,s);if(u){const p=__(u),x=p.path,S=p.queryId,B=xo(x,n),Z=Ur.fromObject(e);return y_(r,x,new hl(cm(S),B,Z))}return[]}(r.serverSyncTree_,p,B,u)}else{const B=Ms(e);x=xd(r.serverSyncTree_,p,B,u)}else if(s){const B=(0,M.UI)(e,Z=>Ms(Z));x=function hf(r,n,e){const s=Ur.fromObject(e);return _m(r,new hl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,s))}(r.serverSyncTree_,p,B)}else{const B=Ms(e);x=uf(r.serverSyncTree_,p,B)}let S=p;x.length>0&&(S=x_(r,p)),vc(r.eventQueue_,S,x)}function Cb(r,n){U0(r,"connected",n),!1===n&&function Nx(r){ym(r,"onDisconnectEvents");const n=gf(r),e=am();t_(r.onDisconnect_,qi(),(u,p)=>{const x=i(u,p,r.serverSyncTree_,n);sf(e,u,x)});let s=[];t_(e,qi(),(u,p)=>{s=s.concat(uf(r.serverSyncTree_,u,p));const x=Ab(r,u);x_(r,x)}),r.onDisconnect_=am(),vc(r.eventQueue_,qi(),s)}(r)}function U0(r,n,e){const s=new wr("/.info/"+n),u=Ms(e);r.infoData_.updateSnapshot(s,u);const p=uf(r.infoSyncTree_,s,u);vc(r.eventQueue_,s,p)}function Lp(r){return r.nextWriteId_++}function V0(r,n,e,s,u){ym(r,"set",{path:n.toString(),value:e,priority:s});const p=gf(r),x=Ms(e,s),S=p_(r.serverSyncTree_,n),B=c(x,S,p),Z=Lp(r),le=Rp(r.serverSyncTree_,n,B,Z,!0);nv(r.eventQueue_,le),r.server_.put(n.toString(),x.val(!0),(We,vt)=>{const At="ok"===We;At||Ea("set at "+n+" failed: "+We);const qt=pl(r.serverSyncTree_,Z,!At);vc(r.eventQueue_,n,qt),nh(0,u,We,vt)});const Te=Ab(r,n);x_(r,Te),vc(r.eventQueue_,Te,[])}function Db(r,n,e){r.server_.onDisconnectCancel(n.toString(),(s,u)=>{"ok"===s&&au(r.onDisconnect_,n),nh(0,e,s,u)})}function rv(r,n,e,s){const u=Ms(e);r.server_.onDisconnectPut(n.toString(),u.val(!0),(p,x)=>{"ok"===p&&sf(r.onDisconnect_,n,u),nh(0,s,p,x)})}function Ib(r,n,e){let s;s=".info"===Oi(n._path)?m_(r.infoSyncTree_,n,e):m_(r.serverSyncTree_,n,e),L0(r.eventQueue_,n._path,s)}function Sb(r){r.persistentConnection_&&r.persistentConnection_.interrupt(B0)}function ym(r,...n){let e="";r.persistentConnection_&&(e=r.persistentConnection_.id+":"),uo(e,...n)}function nh(r,n,e,s){n&&Vu(()=>{if("ok"===e)n(null);else{const u=(e||"error").toUpperCase();let p=u;s&&(p+=": "+s);const x=new Error(p);x.code=u,n(x)}})}function sv(r,n,e){return p_(r.serverSyncTree_,n,e)||Ai.EMPTY_NODE}function w_(r,n=r.transactionQueueTree_){if(n||ov(r,n),R(n)){const e=H0(r,n);(0,M.hu)(e.length>0,"Sending zero length transaction queue"),e.every(u=>0===u.status)&&function Bx(r,n,e){const s=e.map(Z=>Z.currentWriteId),u=sv(r,n,s);let p=u;const x=u.hash();for(let Z=0;Z<e.length;Z++){const le=e[Z];(0,M.hu)(0===le.status,"tryToSendTransactionQueue_: items in queue should all be run."),le.status=1,le.retryCount++;const Te=xo(n,le.path);p=p.updateChild(Te,le.currentOutputSnapshotRaw)}const S=p.val(!0),B=n;r.server_.put(B.toString(),S,Z=>{ym(r,"transaction put response",{path:B.toString(),status:Z});let le=[];if("ok"===Z){const Te=[];for(let We=0;We<e.length;We++)e[We].status=2,le=le.concat(pl(r.serverSyncTree_,e[We].currentWriteId)),e[We].onComplete&&Te.push(()=>e[We].onComplete(null,!0,e[We].currentOutputSnapshotResolved)),e[We].unwatcher();ov(r,E(r.transactionQueueTree_,n)),w_(r,r.transactionQueueTree_),vc(r.eventQueue_,n,le);for(let We=0;We<Te.length;We++)Vu(Te[We])}else{if("datastale"===Z)for(let Te=0;Te<e.length;Te++)e[Te].status=3===e[Te].status?4:0;else{Ea("transaction at "+B.toString()+" failed: "+Z);for(let Te=0;Te<e.length;Te++)e[Te].status=4,e[Te].abortReason=Z}x_(r,n)}},x)}(r,en(n),e)}else ee(n)&&Ue(n,e=>{w_(r,e)})}function x_(r,n){const e=Rw(r,n),s=en(e);return function Ux(r,n,e){if(0===n.length)return;const s=[];let u=[];const x=n.filter(S=>0===S.status).map(S=>S.currentWriteId);for(let S=0;S<n.length;S++){const B=n[S],Z=xo(e,B.path);let Te,le=!1;if((0,M.hu)(null!==Z,"rerunTransactionsUnderNode_: relativePath should not be null."),4===B.status)le=!0,Te=B.abortReason,u=u.concat(pl(r.serverSyncTree_,B.currentWriteId,!0));else if(0===B.status)if(B.retryCount>=Iw)le=!0,Te="maxretry",u=u.concat(pl(r.serverSyncTree_,B.currentWriteId,!0));else{const We=sv(r,B.path,x);B.currentInputSnapshot=We;const vt=n[S].update(We.val());if(void 0!==vt){Xy("transaction failed: Data returned ",vt,B.path);let At=Ms(vt);"object"==typeof vt&&null!=vt&&(0,M.r3)(vt,".priority")||(At=At.updatePriority(We.getPriority()));const un=B.currentWriteId,li=gf(r),rr=c(At,We,li);B.currentOutputSnapshotRaw=At,B.currentOutputSnapshotResolved=rr,B.currentWriteId=Lp(r),x.splice(x.indexOf(un),1),u=u.concat(Rp(r.serverSyncTree_,B.path,rr,B.currentWriteId,B.applyLocally)),u=u.concat(pl(r.serverSyncTree_,un,!0))}else le=!0,Te="nodata",u=u.concat(pl(r.serverSyncTree_,B.currentWriteId,!0))}vc(r.eventQueue_,e,u),u=[],le&&(n[S].status=2,setTimeout(n[S].unwatcher,Math.floor(0)),n[S].onComplete&&s.push("nodata"===Te?()=>n[S].onComplete(null,!1,n[S].currentInputSnapshot):()=>n[S].onComplete(new Error(Te),!1,null)))}ov(r,r.transactionQueueTree_);for(let S=0;S<s.length;S++)Vu(s[S]);w_(r,r.transactionQueueTree_)}(r,H0(r,e),s),s}function Rw(r,n){let e,s=r.transactionQueueTree_;for(e=Oi(n);null!==e&&void 0===R(s);)s=E(s,e),e=Oi(n=Ir(n));return s}function H0(r,n){const e=[];return Tb(r,n,e),e.sort((s,u)=>s.order-u.order),e}function Tb(r,n,e){const s=R(n);if(s)for(let u=0;u<s.length;u++)e.push(s[u]);Ue(n,u=>{Tb(r,u,e)})}function ov(r,n){const e=R(n);if(e){let s=0;for(let u=0;u<e.length;u++)2!==e[u].status&&(e[s]=e[u],s++);e.length=s,$(n,e.length>0?e:void 0)}Ue(n,s=>{ov(r,s)})}function Ab(r,n){const e=en(Rw(r,n)),s=E(r.transactionQueueTree_,n);return function Bt(r,n,e){let s=e?r:r.parent;for(;null!==s;){if(n(s))return!0;s=s.parent}}(s,u=>{Mb(r,u)}),Mb(r,s),ut(s,u=>{Mb(r,u)}),e}function Mb(r,n){const e=R(n);if(e){const s=[];let u=[],p=-1;for(let x=0;x<e.length;x++)3===e[x].status||(1===e[x].status?((0,M.hu)(p===x-1,"All SENT items should be at beginning of queue."),p=x,e[x].status=3,e[x].abortReason="set"):((0,M.hu)(0===e[x].status,"Unexpected transaction status in abort"),e[x].unwatcher(),u=u.concat(pl(r.serverSyncTree_,e[x].currentWriteId,!0)),e[x].onComplete&&s.push(e[x].onComplete.bind(null,new Error("set"),!1,null))));-1===p?$(n,void 0):e.length=p+1,vc(r.eventQueue_,en(n),u);for(let x=0;x<s.length;x++)Vu(s[x])}}const kb=function(r,n){const e=Pw(r),s=e.namespace;return"firebase.com"===e.domain&&ll(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&ll("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ea("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ug(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,n,"",s!==e.subdomain),path:new wr(e.pathString)}},Pw=function(r){let n="",e="",s="",u="",p="",x=!0,S="https",B=443;if("string"==typeof r){let Z=r.indexOf("//");Z>=0&&(S=r.substring(0,Z-1),r=r.substring(Z+2));let le=r.indexOf("/");-1===le&&(le=r.length);let Te=r.indexOf("?");-1===Te&&(Te=r.length),n=r.substring(0,Math.min(le,Te)),le<Te&&(u=function Ow(r){let n="";const e=r.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let u=e[s];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}(r.substring(le,Te)));const We=function Vx(r){const n={};"?"===r.charAt(0)&&(r=r.substring(1));for(const e of r.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?n[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ea(`Invalid query segment '${e}' in query '${r}'`)}return n}(r.substring(Math.min(r.length,Te)));Z=n.indexOf(":"),Z>=0?(x="https"===S||"wss"===S,B=parseInt(n.substring(Z+1),10)):Z=n.length;const vt=n.slice(0,Z);if("localhost"===vt.toLowerCase())e="localhost";else if(vt.split(".").length<=2)e=vt;else{const At=n.indexOf(".");s=n.substring(0,At).toLowerCase(),e=n.substring(At+1),p=s}"ns"in We&&(p=We.ns)}return{host:n,port:B,domain:e,subdomain:s,secure:x,scheme:S,pathString:u,namespace:p}},Nw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fw=function(){let r=0;const n=[];return function(e){const s=e===r;let u;r=e;const p=new Array(8);for(u=7;u>=0;u--)p[u]=Nw.charAt(e%64),e=Math.floor(e/64);(0,M.hu)(0===e,"Cannot push at time == 0");let x=p.join("");if(s){for(u=11;u>=0&&63===n[u];u--)n[u]=0;n[u]++}else for(u=0;u<12;u++)n[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)x+=Nw.charAt(n[u]);return(0,M.hu)(20===x.length,"nextPushId: Length should be 20."),x}}();class j0{constructor(n,e,s,u){this.eventType=n,this.eventRegistration=e,this.snapshot=s,this.prevName=u}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,M.Wl)(this.snapshot.exportVal())}}class gl{constructor(n,e,s){this.eventRegistration=n,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vm{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,M.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Lw{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new M.BH;return Db(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Uc("OnDisconnect.remove",this._path);const n=new M.BH;return rv(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Uc("OnDisconnect.set",this._path),ta("OnDisconnect.set",n,this._path,!1);const e=new M.BH;return rv(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){Uc("OnDisconnect.setWithPriority",this._path),ta("OnDisconnect.setWithPriority",n,this._path,!1),N0("OnDisconnect.setWithPriority",e,!1);const s=new M.BH;return function Fx(r,n,e,s,u){const p=Ms(e,s);r.server_.onDisconnectPut(n.toString(),p.val(!0),(x,S)=>{"ok"===x&&sf(r.onDisconnect_,n,p),nh(0,u,x,S)})}(this._repo,this._path,n,e,s.wrapCallback(()=>{})),s.promise}update(n){Uc("OnDisconnect.update",this._path),Ew("OnDisconnect.update",n,this._path,!1);const e=new M.BH;return function Lx(r,n,e,s){if((0,M.xb)(e))return uo("onDisconnect().update() called with empty data.  Don't do anything."),void nh(0,s,"ok",void 0);r.server_.onDisconnectMerge(n.toString(),e,(u,p)=>{"ok"===u&&wo(e,(x,S)=>{const B=Ms(S);sf(r.onDisconnect_,Kr(n,x),B)}),nh(0,s,u,p)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class bc{constructor(n,e,s,u){this._repo=n,this._path=e,this._queryParams=s,this._orderByCalled=u}get key(){return Li(this._path)?null:ap(this._path)}get ref(){return new wc(this._repo,this._path)}get _queryIdentifier(){const n=Cy(this._queryParams),e=Uu(n);return"{}"===e?"default":e}get _queryObject(){return Cy(this._queryParams)}isEqual(n){if(!((n=(0,M.m9)(n))instanceof bc))return!1;const e=this._repo===n._repo,s=im(this._path,n._path);return e&&s&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function qg(r){let n="";for(let e=r.pieceNum_;e<r.pieces_.length;e++)""!==r.pieces_[e]&&(n+="/"+encodeURIComponent(String(r.pieces_[e])));return n||"/"}(this._path)}}function z0(r,n){if(!0===r._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function Bp(r){let n=null,e=null;if(r.hasStart()&&(n=r.getIndexStartValue()),r.hasEnd()&&(e=r.getIndexEndValue()),r.getIndex()===xi){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==cl)throw new Error(s);if("string"!=typeof n)throw new Error(u)}if(r.hasEnd()){if(r.getIndexEndName()!==Vo)throw new Error(s);if("string"!=typeof e)throw new Error(u)}}else if(r.getIndex()===Yr){if(null!=n&&!fo(n)||null!=e&&!fo(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,M.hu)(r.getIndex()instanceof wy||r.getIndex()===Lc,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function av(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class wc extends bc{constructor(n,e){super(n,e,new om,!1)}get parent(){const n=lp(this._path);return null===n?null:new wc(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class hu{constructor(n,e,s){this._node=n,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new wr(n),s=Up(this.ref,n);return new hu(this._node.getChild(e),s,Yr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,u)=>n(new hu(u,Up(this.ref,s),Yr)))}hasChild(n){const e=new wr(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Bw(r,n){return(r=(0,M.m9)(r))._checkNotDeleted("ref"),void 0!==n?Up(r._root,n):r._root}function Rb(r,n){(r=(0,M.m9)(r))._checkNotDeleted("refFromURL");const e=kb(n,r._repo.repoInfo_.nodeAdmin);F0("refFromURL",e);const s=e.repoInfo;return!r._repo.repoInfo_.isCustomHost()&&s.host!==r._repo.repoInfo_.host&&ll("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+r._repo.repoInfo_.host+")"),Bw(r,e.path.toString())}function Up(r,n){return null===Oi((r=(0,M.m9)(r))._path)?tv("child","path",n,!1):ev("child","path",n,!1),new wc(r._repo,Kr(r._path,n))}function G0(r,n){r=(0,M.m9)(r),Uc("set",r._path),ta("set",n,r._path,!1);const e=new M.BH;return V0(r._repo,r._path,n,null,e.wrapCallback(()=>{})),e.promise}function Vw(r,n){Ew("update",n,r._path,!1);const e=new M.BH;return function Px(r,n,e,s){ym(r,"update",{path:n.toString(),value:e});let u=!0;const p=gf(r),x={};if(wo(e,(S,B)=>{u=!1,x[S]=i(Kr(n,S),Ms(B),r.serverSyncTree_,p)}),u)uo("update() called with empty data.  Don't do anything."),nh(0,s,"ok",void 0);else{const S=Lp(r),B=function gm(r,n,e,s){!function Vs(r,n,e,s){(0,M.hu)(s>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:n,children:e,writeId:s,visible:!0}),r.visibleWrites=Ep(r.visibleWrites,n,e),r.lastWriteId=s}(r.pendingWriteTree_,n,e,s);const u=Ur.fromObject(e);return _m(r,new hl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,u))}(r.serverSyncTree_,n,x,S);nv(r.eventQueue_,B),r.server_.merge(n.toString(),e,(Z,le)=>{const Te="ok"===Z;Te||Ea("update at "+n+" failed: "+Z);const We=pl(r.serverSyncTree_,S,!Te),vt=We.length>0?x_(r,n):n;vc(r.eventQueue_,vt,We),nh(0,s,Z,le)}),wo(e,Z=>{const le=Ab(r,Kr(n,Z));x_(r,le)}),vc(r.eventQueue_,n,[])}}(r._repo,r._path,n,e.wrapCallback(()=>{})),e.promise}function Ob(r){r=(0,M.m9)(r);const n=new vm(()=>{}),e=new Vp(n);return function iv(r,n,e){const s=function Ky(r,n){const e=n._path;let s=null;r.syncPointTree_.foreachOnPath(e,(Z,le)=>{const Te=xo(Z,e);s=s||Bc(le,Te)});let u=r.syncPointTree_.get(e);u?s=s||Bc(u,qi()):(u=new Hy,r.syncPointTree_=r.syncPointTree_.set(e,u));const p=null!=s,x=p?new Yl(s,!0,!1):null;return function Ip(r){return yd(r.viewCache_)}(h_(u,n,um(r.pendingWriteTree_,n._path),p?x.getNode():Ai.EMPTY_NODE,p))}(r.serverSyncTree_,n);return null!=s?Promise.resolve(s):r.server_.get(n).then(u=>{const p=Ms(u).withIndex(n._queryParams.getIndex());let x;if(Wy(r.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())x=uf(r.serverSyncTree_,n._path,p);else{const S=ff(r.serverSyncTree_,n);x=xd(r.serverSyncTree_,n._path,p,S)}return vc(r.eventQueue_,n._path,x),m_(r.serverSyncTree_,n,e,null,!0),p},u=>(ym(r,"get for query "+(0,M.Wl)(n)+" failed: "+u),Promise.reject(new Error(u))))}(r._repo,r,e).then(s=>new hu(s,new wc(r._repo,r._path),r._queryParams.getIndex()))}class Vp{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const s=e._queryParams.getIndex();return new j0("value",this,new hu(n.snapshotNode,new wc(e._repo,e._path),s))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new gl(this,n,e):null}matches(n){return n instanceof Vp&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class W0{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new gl(this,n,e):null}createEvent(n,e){(0,M.hu)(null!=n.childName,"Child events should have a childName.");const s=Up(new wc(e._repo,e._path),n.childName),u=e._queryParams.getIndex();return new j0(n.type,this,new hu(n.snapshotNode,s,u),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof W0&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function E_(r,n,e,s,u){let p;if("object"==typeof s&&(p=void 0,u=s),"function"==typeof s&&(p=s),u&&u.onlyOnce){const B=e,Z=(le,Te)=>{Ib(r._repo,r,S),B(le,Te)};Z.userCallback=e.userCallback,Z.context=e.context,e=Z}const x=new vm(e,p||void 0),S="value"===n?new Vp(x):new W0(n,x);return function Aw(r,n,e){let s;s=".info"===Oi(n._path)?Wy(r.infoSyncTree_,n,e):Wy(r.serverSyncTree_,n,e),L0(r.eventQueue_,n._path,s)}(r._repo,r,S),()=>Ib(r._repo,r,S)}function K0(r,n,e,s){return E_(r,"value",n,e,s)}function Y0(r,n,e,s){return E_(r,"child_added",n,e,s)}function Hp(r,n,e,s){return E_(r,"child_changed",n,e,s)}function Hw(r,n,e,s){return E_(r,"child_moved",n,e,s)}function q0(r,n,e,s){return E_(r,"child_removed",n,e,s)}function Pb(r,n,e){let s=null;const u=e?new vm(e):null;"value"===n?s=new Vp(u):n&&(s=new W0(n,u)),Ib(r._repo,r,s)}class ih{}class jw extends ih{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){ta("endAt",this._value,n._path,!0);const e=Qu(n._queryParams,this._value,this._key);if(av(e),Bp(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bc(n._repo,n._path,e,n._orderByCalled)}}class Gx extends ih{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){ta("endBefore",this._value,n._path,!1);const e=function xy(r,n,e){let s;return s=Qu(r,n,r.index_===xi||e?e:cl),s.endBeforeSet_=!0,s}(n._queryParams,this._value,this._key);if(av(e),Bp(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bc(n._repo,n._path,e,n._orderByCalled)}}class zw extends ih{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){ta("startAt",this._value,n._path,!0);const e=gd(n._queryParams,this._value,this._key);if(av(e),Bp(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new bc(n._repo,n._path,e,n._orderByCalled)}}class $w extends ih{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){ta("startAfter",this._value,n._path,!1);const e=function yp(r,n,e){let s;return s=gd(r,n,r.index_===xi||e?e:Vo),s.startAfterSet_=!0,s}(n._queryParams,this._value,this._key);if(av(e),Bp(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new bc(n._repo,n._path,e,n._orderByCalled)}}class Ww extends ih{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new bc(n._repo,n._path,function nf(r,n){const e=r.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class Kx extends ih{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new bc(n._repo,n._path,function db(r,n){const e=r.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class Yw extends ih{constructor(n){super(),this._path=n}_apply(n){z0(n,"orderByChild");const e=new wr(this._path);if(Li(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new wy(e),u=rf(n._queryParams,s);return Bp(u),new bc(n._repo,n._path,u,!0)}}class qw extends ih{_apply(n){z0(n,"orderByKey");const e=rf(n._queryParams,xi);return Bp(e),new bc(n._repo,n._path,e,!0)}}class Qw extends ih{_apply(n){z0(n,"orderByPriority");const e=rf(n._queryParams,Yr);return Bp(e),new bc(n._repo,n._path,e,!0)}}class Zx extends ih{_apply(n){z0(n,"orderByValue");const e=rf(n._queryParams,Lc);return Bp(e),new bc(n._repo,n._path,e,!0)}}class BE extends ih{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(ta("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new jw(this._value,this._key)._apply(new zw(this._value,this._key)._apply(n))}}function rh(r,...n){let e=(0,M.m9)(r);for(const s of n)e=s._apply(e);return e}(function uu(r){(0,M.hu)(!Tp,"__referenceConstructor has already been defined"),Tp=r})(wc),function kp(r){(0,M.hu)(!Mp,"__referenceConstructor has already been defined"),Mp=r}(wc);const UE="FIREBASE_DATABASE_EMULATOR_HOST",ex={};let Xx=!1;function Jx(r,n,e,s,u){let p=s||r.options.databaseURL;void 0===p&&(r.options.projectId||ll("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),uo("Using default host for project ",r.options.projectId),p=`${r.options.projectId}-default-rtdb.firebaseio.com`);let B,Z,x=kb(p,u),S=x.repoInfo;typeof process<"u"&&process.env&&(Z=process.env[UE]),Z?(B=!0,p=`http://${Z}?ns=${S.namespace}`,x=kb(p,u),S=x.repoInfo):B=!x.repoInfo.secure;const le=u&&B?new Kh(Kh.OWNER):new Gv(r.name,r.options,n);F0("Invalid Firebase Database URL",x),Li(x.path)||ll("Database URL must point to the root of a Firebase Database (not including a child path).");const Te=function jE(r,n,e,s){let u=ex[n.name];u||(u={},ex[n.name]=u);let p=u[r.toURLString()];return p&&ll("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),p=new Rx(r,Xx,e,s),u[r.toURLString()]=p,p}(S,r,le,new m0(r.name,e));return new zE(Te,r)}class zE{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ox(r,n,e){if(r.stats_=ep(r.repoInfo_),r.forceRestClient_||f0())r.server_=new vp(r.repoInfo_,(s,u,p,x)=>{Tw(r,s,u,p,x)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>Cb(r,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,M.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}r.persistentConnection_=new su(r.repoInfo_,n,(s,u,p,x)=>{Tw(r,s,u,p,x)},s=>{Cb(r,s)},s=>{!function th(r,n){wo(n,(e,s)=>{U0(r,e,s)})}(r,s)},r.authTokenProvider_,r.appCheckProvider_,e),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(s=>{r.server_.refreshAuthToken(s)}),r.appCheckProvider_.addTokenChangeListener(s=>{r.server_.refreshAppCheckToken(s.token)}),r.statsReporter_=function p0(r,n){const e=r.toString();return Zf[e]||(Zf[e]=n()),Zf[e]}(r.repoInfo_,()=>new i_(r.stats_,r.server_)),r.infoData_=new Dy,r.infoSyncTree_=new $y({startListening:(s,u,p,x)=>{let S=[];const B=r.infoData_.getNode(s._path);return B.isEmpty()||(S=uf(r.infoSyncTree_,s._path,B),setTimeout(()=>{x("ok")},0)),S},stopListening:()=>{}}),U0(r,"connected",!1),r.serverSyncTree_=new $y({startListening:(s,u,p,x)=>(r.server_.listen(s,p,u,(S,B)=>{const Z=x(S,B);vc(r.eventQueue_,s._path,Z)}),[]),stopListening:(s,u)=>{r.server_.unlisten(s,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wc(this._repo,qi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function HE(r,n){const e=ex[n];(!e||e[r.key]!==r)&&ll(`Database ${n}(${r.repoInfo_}) has already been deleted.`),Sb(r),delete e[r.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&ll("Cannot call "+n+" on a deleted database.")}}function Z0(){ip.IS_TRANSPORT_INITIALIZED&&Ea("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Fb(){Z0(),Fc.forceDisallow()}function tx(){Z0(),Xh.forceDisallow(),Fc.forceAllow()}function nE(r,n){zh(r,n)}const iE={".sv":"timestamp"};class Lb{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}su.prototype.simpleListen=function(r,n){this.sendRequest("q",{p:r},n)},su.prototype.echo=function(r,n){this.sendRequest("echo",{d:r},n)},function GE(r){Qm(T.SDK_VERSION),(0,T._registerComponent)(new re.wA("database",(n,{instanceIdentifier:e})=>Jx(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,T.registerVersion)(Mg,"0.14.4",r),(0,T.registerVersion)(Mg,"0.14.4","esm2017")}();const lE=new sy.Yd("@firebase/database-compat"),ix=function(r){lE.warn("FIREBASE WARNING: "+r)};class rx{constructor(n){this._delegate=n}cancel(n){(0,M.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,M.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),s=>n(s)),e}remove(n){(0,M.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,M.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),s=>n(s)),e}set(n,e){(0,M.Dv)("OnDisconnect.set",1,2,arguments.length),(0,M.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(n);return e&&s.then(()=>e(null),u=>e(u)),s}setWithPriority(n,e,s){(0,M.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,M.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const u=this._delegate.setWithPriority(n,e);return s&&u.then(()=>s(null),p=>s(p)),u}update(n,e){if((0,M.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const u={};for(let p=0;p<n.length;++p)u[""+p]=n[p];n=u,ix("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,M.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(n);return e&&s.then(()=>e(null),u=>e(u)),s}}class sx{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,M.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class jp{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,M.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,M.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,M.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,M.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,M.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),ev("DataSnapshot.child","path",n,!1),new jp(this._database,this._delegate.child(n))}hasChild(n){return(0,M.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ev("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,M.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,M.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,M.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new jp(this._database,e)))}hasChildren(){return(0,M.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,M.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,M.Dv)("DataSnapshot.ref",0,0,arguments.length),new Vc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class us{constructor(n,e){this.database=n,this._delegate=e}on(n,e,s,u){var p;(0,M.Dv)("Query.on",2,4,arguments.length),(0,M.Wj)("Query.on","callback",e,!1);const x=us.getCancelAndContextArgs_("Query.on",s,u),S=(Z,le)=>{e.call(x.context,new jp(this.database,Z),le)};S.userCallback=e,S.context=x.context;const B=null===(p=x.cancel)||void 0===p?void 0:p.bind(x.context);switch(n){case"value":return K0(this._delegate,S,B),e;case"child_added":return Y0(this._delegate,S,B),e;case"child_removed":return q0(this._delegate,S,B),e;case"child_changed":return Hp(this._delegate,S,B),e;case"child_moved":return Hw(this._delegate,S,B),e;default:throw new Error((0,M.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,s){if((0,M.Dv)("Query.off",0,3,arguments.length),function(r,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,M.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,M.Wj)("Query.off","callback",e,!0),(0,M.lb)("Query.off","context",s,!0),e){const u=()=>{};u.userCallback=e,u.context=s,Pb(this._delegate,n,u)}else Pb(this._delegate,n)}get(){return Ob(this._delegate).then(n=>new jp(this.database,n))}once(n,e,s,u){(0,M.Dv)("Query.once",1,4,arguments.length),(0,M.Wj)("Query.once","callback",e,!0);const p=us.getCancelAndContextArgs_("Query.once",s,u),x=new M.BH,S=(Z,le)=>{const Te=new jp(this.database,Z);e&&e.call(p.context,Te,le),x.resolve(Te)};S.userCallback=e,S.context=p.context;const B=Z=>{p.cancel&&p.cancel.call(p.context,Z),x.reject(Z)};switch(n){case"value":K0(this._delegate,S,B,{onlyOnce:!0});break;case"child_added":Y0(this._delegate,S,B,{onlyOnce:!0});break;case"child_removed":q0(this._delegate,S,B,{onlyOnce:!0});break;case"child_changed":Hp(this._delegate,S,B,{onlyOnce:!0});break;case"child_moved":Hw(this._delegate,S,B,{onlyOnce:!0});break;default:throw new Error((0,M.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return x.promise}limitToFirst(n){return(0,M.Dv)("Query.limitToFirst",1,1,arguments.length),new us(this.database,rh(this._delegate,function Kw(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ww(r)}(n)))}limitToLast(n){return(0,M.Dv)("Query.limitToLast",1,1,arguments.length),new us(this.database,rh(this._delegate,function Yx(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Kx(r)}(n)))}orderByChild(n){return(0,M.Dv)("Query.orderByChild",1,1,arguments.length),new us(this.database,rh(this._delegate,function qx(r){if("$key"===r)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===r)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===r)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ev("orderByChild","path",r,!1),new Yw(r)}(n)))}orderByKey(){return(0,M.Dv)("Query.orderByKey",0,0,arguments.length),new us(this.database,rh(this._delegate,function Zw(){return new qw}()))}orderByPriority(){return(0,M.Dv)("Query.orderByPriority",0,0,arguments.length),new us(this.database,rh(this._delegate,function Xw(){return new Qw}()))}orderByValue(){return(0,M.Dv)("Query.orderByValue",0,0,arguments.length),new us(this.database,rh(this._delegate,function Qx(){return new Zx}()))}startAt(n=null,e){return(0,M.Dv)("Query.startAt",0,2,arguments.length),new us(this.database,rh(this._delegate,function Gw(r=null,n){return Jy("startAt","key",n,!0),new zw(r,n)}(n,e)))}startAfter(n=null,e){return(0,M.Dv)("Query.startAfter",0,2,arguments.length),new us(this.database,rh(this._delegate,function Wx(r,n){return Jy("startAfter","key",n,!0),new $w(r,n)}(n,e)))}endAt(n=null,e){return(0,M.Dv)("Query.endAt",0,2,arguments.length),new us(this.database,rh(this._delegate,function LE(r,n){return Jy("endAt","key",n,!0),new jw(r,n)}(n,e)))}endBefore(n=null,e){return(0,M.Dv)("Query.endBefore",0,2,arguments.length),new us(this.database,rh(this._delegate,function $x(r,n){return Jy("endBefore","key",n,!0),new Gx(r,n)}(n,e)))}equalTo(n,e){return(0,M.Dv)("Query.equalTo",1,2,arguments.length),new us(this.database,rh(this._delegate,function Jw(r,n){return Jy("equalTo","key",n,!0),new BE(r,n)}(n,e)))}toString(){return(0,M.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,M.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,M.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof us))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,s){const u={cancel:void 0,context:void 0};if(e&&s)u.cancel=e,(0,M.Wj)(n,"cancel",u.cancel,!0),u.context=s,(0,M.lb)(n,"context",u.context,!0);else if(e)if("object"==typeof e&&null!==e)u.context=e;else{if("function"!=typeof e)throw new Error((0,M.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=e}return u}get ref(){return new Vc(this.database,new wc(this._delegate._repo,this._delegate._path))}}class Vc extends us{constructor(n,e){super(n,new bc(e._repo,e._path,new om,!1)),this.database=n,this._delegate=e}getKey(){return(0,M.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,M.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Vc(this.database,Up(this._delegate,n))}getParent(){(0,M.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Vc(this.database,n):null}getRoot(){return(0,M.Dv)("Reference.root",0,0,arguments.length),new Vc(this.database,this._delegate.root)}set(n,e){(0,M.Dv)("Reference.set",1,2,arguments.length),(0,M.Wj)("Reference.set","onComplete",e,!0);const s=G0(this._delegate,n);return e&&s.then(()=>e(null),u=>e(u)),s}update(n,e){if((0,M.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const u={};for(let p=0;p<n.length;++p)u[""+p]=n[p];n=u,ix("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Uc("Reference.update",this._delegate._path),(0,M.Wj)("Reference.update","onComplete",e,!0);const s=Vw(this._delegate,n);return e&&s.then(()=>e(null),u=>e(u)),s}setWithPriority(n,e,s){(0,M.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,M.Wj)("Reference.setWithPriority","onComplete",s,!0);const u=function Uw(r,n,e){if(Uc("setWithPriority",r._path),ta("setWithPriority",n,r._path,!1),N0("setWithPriority",e,!1),".length"===r.key||".keys"===r.key)throw"setWithPriority failed: "+r.key+" is a read-only object.";const s=new M.BH;return V0(r._repo,r._path,n,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,n,e);return s&&u.then(()=>s(null),p=>s(p)),u}remove(n){(0,M.Dv)("Reference.remove",0,1,arguments.length),(0,M.Wj)("Reference.remove","onComplete",n,!0);const e=function zx(r){return Uc("remove",r._path),G0(r,null)}(this._delegate);return n&&e.then(()=>n(null),s=>n(s)),e}transaction(n,e,s){(0,M.Dv)("Reference.transaction",1,3,arguments.length),(0,M.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,M.Wj)("Reference.transaction","onComplete",e,!0),function(r,n,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,M.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const u=function oE(r,n,e){var s;if(r=(0,M.m9)(r),Uc("Reference.transaction",r._path),".length"===r.key||".keys"===r.key)throw"Reference.transaction failed: "+r.key+" is a read-only object.";const u=null===(s=e?.applyLocally)||void 0===s||s,p=new M.BH,S=K0(r,()=>{});return function kw(r,n,e,s,u,p){ym(r,"transaction on "+n);const x={path:n,update:e,onComplete:s,status:null,order:oy(),applyLocally:p,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},S=sv(r,n,void 0);x.currentInputSnapshot=S;const B=x.update(S.val());if(void 0===B)x.unwatcher(),x.currentOutputSnapshotRaw=null,x.currentOutputSnapshotResolved=null,x.onComplete&&x.onComplete(null,!1,x.currentInputSnapshot);else{Xy("transaction failed: Data returned ",B,x.path),x.status=0;const Z=E(r.transactionQueueTree_,n),le=R(Z)||[];let Te;le.push(x),$(Z,le),"object"==typeof B&&null!==B&&(0,M.r3)(B,".priority")?(Te=(0,M.DV)(B,".priority"),(0,M.hu)(fo(Te),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Te=(p_(r.serverSyncTree_,n)||Ai.EMPTY_NODE).getPriority().val();const We=gf(r),vt=Ms(B,Te),At=c(vt,S,We);x.currentOutputSnapshotRaw=vt,x.currentOutputSnapshotResolved=At,x.currentWriteId=Lp(r);const qt=Rp(r.serverSyncTree_,n,At,x.currentWriteId,x.applyLocally);vc(r.eventQueue_,n,qt),w_(r,r.transactionQueueTree_)}}(r._repo,r._path,n,(B,Z,le)=>{let Te=null;B?p.reject(B):(Te=new hu(le,new wc(r._repo,r._path),Yr),p.resolve(new Lb(Z,Te)))},S,u),p.promise}(this._delegate,n,{applyLocally:s}).then(p=>new sx(p.committed,new jp(this.database,p.snapshot)));return e&&u.then(p=>e(null,p.committed,p.snapshot),p=>e(p,!1,null)),u}setPriority(n,e){(0,M.Dv)("Reference.setPriority",1,2,arguments.length),(0,M.Wj)("Reference.setPriority","onComplete",e,!0);const s=function $0(r,n){r=(0,M.m9)(r),Uc("setPriority",r._path),N0("setPriority",n,!1);const e=new M.BH;return V0(r._repo,Kr(r._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&s.then(()=>e(null),u=>e(u)),s}push(n,e){(0,M.Dv)("Reference.push",0,2,arguments.length),(0,M.Wj)("Reference.push","onComplete",e,!0);const s=function jx(r,n){r=(0,M.m9)(r),Uc("push",r._path),ta("push",n,r._path,!0);const e=Sw(r._repo),s=Fw(e),u=Up(r,s),p=Up(r,s);let x;return x=null!=n?G0(p,n).then(()=>p):Promise.resolve(p),u.then=x.then.bind(x),u.catch=x.then.bind(x,void 0),u}(this._delegate,n),u=s.then(x=>new Vc(this.database,x));e&&u.then(()=>e(null),x=>e(x));const p=new Vc(this.database,s);return p.then=u.then.bind(u),p.catch=u.catch.bind(u,void 0),p}onDisconnect(){return Uc("Reference.onDisconnect",this._delegate._path),new rx(new Lw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class zp{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Fb,forceLongPolling:tx}}useEmulator(n,e,s={}){!function tE(r,n,e,s={}){(r=(0,M.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&ll("Cannot call useEmulator() after instance has already been initialized.");const u=r._repoInternal;let p;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&ll('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new Kh(Kh.OWNER);else if(s.mockUserToken){const x="string"==typeof s.mockUserToken?s.mockUserToken:(0,M.Sg)(s.mockUserToken,r.app.options.projectId);p=new Kh(x)}!function VE(r,n,e,s){r.repoInfo_=new Ug(`${n}:${e}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),s&&(r.authTokenProvider_=s)}(u,n,e,p)}(this._delegate,n,e,s)}ref(n){if((0,M.Dv)("database.ref",0,1,arguments.length),n instanceof Vc){const e=Rb(this._delegate,n.toString());return new Vc(this,e)}{const e=Bw(this._delegate,n);return new Vc(this,e)}}refFromURL(n){(0,M.Dv)("database.refFromURL",1,1,arguments.length);const s=Rb(this._delegate,n);return new Vc(this,s)}goOffline(){return(0,M.Dv)("database.goOffline",0,0,arguments.length),function Q0(r){(r=(0,M.m9)(r))._checkNotDeleted("goOffline"),Sb(r._repo)}(this._delegate)}goOnline(){return(0,M.Dv)("database.goOnline",0,0,arguments.length),function nx(r){(r=(0,M.m9)(r))._checkNotDeleted("goOnline"),function Mw(r){r.persistentConnection_&&r.persistentConnection_.resume(B0)}(r._repo)}(this._delegate)}}zp.ServerValue={TIMESTAMP:function rE(){return iE}(),increment:r=>function sE(r){return{".sv":{increment:r}}}(r)};var KE=Object.freeze({__proto__:null,initStandalone:function dE({app:r,url:n,version:e,customAuthImpl:s,namespace:u,nodeAdmin:p=!1}){Qm(e);const x=new re.zt("auth-internal",new re.H0("database-standalone"));return x.setComponent(new re.wA("auth-internal",()=>s,"PRIVATE")),{instance:new zp(Jx(r,x,void 0,n,p),r),namespace:u}}});const Ed=zp.ServerValue;function ox(r){return null==r}function Bb(r){return"function"==typeof r.set}function J0(r,n){return Bb(n)?n:r.ref(n)}function ew(r,n){if(function X0(r){return"string"==typeof r}(r))return n.stringCase();if(Bb(r))return n.firebaseCase();if(function hE(r){return"function"==typeof r.exportVal}(r))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function lv(r,n,e="on",s=fn.z){return new Ve.y(u=>{let p=null;return p=r[e](n,(x,S)=>{s.schedule(()=>{u.next({snapshot:x,prevKey:S})}),"once"===e&&s.schedule(()=>u.complete())},x=>{s.schedule(()=>u.error(x))}),"on"===e?{unsubscribe(){null!=p&&r.off(n,p)}}:{unsubscribe(){}}}).pipe((0,ve.U)(u=>{const{snapshot:p,prevKey:x}=u;let S=null;return p.exists()&&(S=p.key),{type:n,payload:p,prevKey:x,key:S}}),(0,Cr.B)())}function tw(r,n){const e=r.length;for(let s=0;s<e;s++)if(r[s].payload.key===n)return s;return-1}function lx(r,n){const{payload:e,prevKey:s,key:u}=n,p=tw(r,u),x=function fE(r,n){if(ox(n))return 0;{const e=tw(r,n);return-1===e?r.length:e+1}}(r,s);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let S=null;n.payload.forEach(B=>{const Z={payload:B,type:"value",prevKey:S,key:B.key};return S=B.key,r=[...r,Z],!1})}return r;case"child_added":if(p>-1){const S=r[p-1];(S&&S.key||null)!==s&&(r=r.filter(B=>B.payload.key!==e.key)).splice(x,0,n)}else{if(null==s)return[n,...r];(r=r.slice()).splice(x,0,n)}return r;case"child_removed":return r.filter(S=>S.payload.key!==e.key);case"child_changed":return r.map(S=>S.payload.key===u?n:S);case"child_moved":if(p>-1){const S=r.splice(p,1)[0];return(r=r.slice()).splice(x,0,S),r}return r;default:return r}}function cx(r){return(ox(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function Ub(r,n,e){return function ax(r,n,e){return lv(r,"value","once",e).pipe((0,Eh.w)(s=>{const u=[(0,Ct.of)(s)];return n.forEach(p=>u.push(lv(r,p,"on",e))),(0,Be.T)(...u).pipe((0,ny.R)(lx,[]))}),(0,Lt.x)())}(r,n=cx(n),e)}function sh(r,n,e){const s=(n=cx(n)).map(u=>lv(r,u,"on",e));return(0,Be.T)(...s)}function iw(r,n){return function(s,u){return ew(s,{stringCase:()=>r.child(s)[n](u),firebaseCase:()=>s[n](u),snapshotCase:()=>s.ref[n](u)})}}function mE(r){return function(e){return e?ew(e,{stringCase:()=>r.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):r.remove()}}function ux(r,n){return function(){return lv(r,"value","on",n)}}!function uE(r){r.INTERNAL.registerComponent(new re.wA("database-compat",(n,{instanceIdentifier:e})=>{const s=n.getProvider("app-compat").getImmediate(),u=n.getProvider("database").getImmediate({identifier:e});return new zp(u,s)},"PUBLIC").setServiceProps({Reference:Vc,Query:us,Database:zp,DataSnapshot:jp,enableLogging:nE,INTERNAL:KE,ServerValue:Ed}).setMultipleInstances(!0)),r.registerVersion("@firebase/database-compat","0.3.4")}(y.Z);const gE=new h.OlP("angularfire2.realtimeDatabaseURL"),_E=new h.OlP("angularfire2.database.use-emulator");let hx=(()=>{class r{constructor(e,s,u,p,x,S,B,Z,le,Te,We,vt,At,qt,un){this.schedulers=S;const li=B,rr=(0,jl.on)(e,x,s);Z&&(0,ld.nw)(rr,x,le,We,vt,At,Te,qt),this.database=(0,jl.cc)(`${rr.name}.database.${u}`,"AngularFireDatabase",rr.name,()=>{const Xi=x.runOutsideAngular(()=>rr.database(u||void 0));return li&&Xi.useEmulator(...li),Xi},[li])}list(e,s){const u=this.schedulers.ngZone.runOutsideAngular(()=>J0(this.database,e));let p=u;return s&&(p=s(u)),function YE(r,n){const e=n.schedulers.outsideAngular,s=n.schedulers.ngZone.run(()=>r.ref);return{query:r,update:iw(s,"update"),set:iw(s,"set"),push:u=>s.push(u),remove:mE(s),snapshotChanges:u=>Ub(r,u,e).pipe(C.iC),stateChanges:u=>sh(r,u,e).pipe(C.iC),auditTrail:u=>function bm(r,n,e){return function nw(r,n,e){return function dx(r,n){return lv(r,"value","on",n).pipe((0,ve.U)(e=>{let s;return e.payload.forEach(u=>(s=u.key,!1)),{data:e,lastKeyToLoad:s}}))}(r,e).pipe(function Vv(...r){const n=(0,Jd.jO)(r);return(0,vi.e)((e,s)=>{const u=r.length,p=new Array(u);let x=r.map(()=>!1),S=!1;for(let B=0;B<u;B++)(0,De.Xf)(r[B]).subscribe((0,Gi.x)(s,Z=>{p[B]=Z,!S&&!x[B]&&(x[B]=!0,(S=x.every(iy.y))&&(x=null))},ry.Z));e.subscribe((0,Gi.x)(s,B=>{if(S){const Z=[B,...p];s.next(n?n(...Z):Z)}}))})}(n),(0,ve.U)(([u,p])=>{const x=u.lastKeyToLoad,S=p.map(B=>B.key);return{actions:p,lastKeyToLoad:x,loadedKeys:S}}),function u0(r){return(0,vi.e)((n,e)=>{let s=!1,u=0;n.subscribe((0,Gi.x)(e,p=>(s||(s=!r(p,u++)))&&e.next(p)))})}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,ve.U)(u=>u.actions))}(r,sh(r,n).pipe((0,ny.R)((u,p)=>[...u,p],[])),e)}(r,u,e).pipe(C.iC),valueChanges:(u,p)=>Ub(r,u,e).pipe((0,ve.U)(S=>S.map(B=>p&&p.idField?Object.assign(Object.assign({},B.payload.val()),{[p.idField]:B.key}):B.payload.val())),C.iC)}}(p,this)}object(e){return function pE(r,n){return{query:r,snapshotChanges:()=>ux(r,n.schedulers.outsideAngular)().pipe(C.iC),update:e=>r.ref.update(e),set:e=>r.ref.set(e),remove:()=>r.ref.remove(),valueChanges:()=>ux(r,n.schedulers.outsideAngular)().pipe(C.iC,(0,ve.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>J0(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(jl.Dh),h.LFG(jl.xv,8),h.LFG(gE,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(C.HU),h.LFG(_E,8),h.LFG(ld.zQ,8),h.LFG(ld.Qv,8),h.LFG(ld.L6,8),h.LFG(ld._Q,8),h.LFG(ld.rT,8),h.LFG(ld.lh,8),h.LFG(ld.f7,8),h.LFG(Pv.nm,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),qE=(()=>{class r{constructor(){Nv.Z.registerVersion("angularfire",C.q4.full,"rtdb-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[hx]}),r})();const fx_firebase={apiKey:"AIzaSyBgtosirNT1jMu_uGkWy-RPHjq_eTsBkB8",authDomain:"drinkservice-11fde.firebaseapp.com",databaseURL:"https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app",projectId:"drinkservice-11fde",storageBucket:"drinkservice-11fde.appspot.com",messagingSenderId:"613068979993",appId:"1:613068979993:web:f7fe5309efb9c1b6c54f88"};class yE{constructor(n,e,s,u,p,x){this.drinkId=n,this.name=e,this.consumationCount=s,this.bookingCount=u,this.imageUrl=p,this.imageSize=x}}function mx(r,n){if(1&r&&(h.TgZ(0,"div",1)(1,"div",2),h._UZ(2,"img",10),h.TgZ(3,"div",4)(4,"h5",5),h._uU(5),h.qZA(),h.TgZ(6,"p",6)(7,"b"),h._uU(8),h.qZA(),h._uU(9," konsumiert"),h._UZ(10,"br"),h.TgZ(11,"b"),h._uU(12),h.qZA(),h._uU(13," Buchungen"),h.qZA()()()()),2&r){const e=n.$implicit,s=h.oxw();h.xp6(2),h.Udp("width",s.calculateWidth(e.imageSize),"px")("height",s.calculateWidth(e.imageSize),"px"),h.MGl("src","assets/",e.imageUrl,"",h.LSH),h.xp6(3),h.hij("",e.name," "),h.xp6(3),h.Oqu(e.consumationCount),h.xp6(4),h.Oqu(e.bookingCount)}}let ZE=(()=>{class r{ngOnInit(){}constructor(e){this.globalService=e,this.drinkBookings=[],this.overallDrinkCount=0,this.overallBookingsCount=0,this.overallCost=0,this.drinkConsumationData=[],this.prepareDashboardData()}prepareDashboardData(){this.globalService.drinkBookings&&(console.log("Dashboard constructor drinkBookings=",this.drinkBookings.length," // drinksData=",this.globalService.drinksData.length),this.drinkBookings=this.globalService.drinkBookings,this.overallBookingsCount=this.drinkBookings.length,this.overallDrinkCount=0,this.globalService.drinksData.forEach(e=>{let s=this.drinkBookings.filter(x=>x.drinkId===e.drinkId),u=0;s.forEach(x=>{u+=x.count,this.overallCost+=x.count*e.price}),this.overallDrinkCount+=u;let p=new yE(e.drinkId,e.name,u,s.length,e.imageUrl,e.imageSize);this.drinkConsumationData.push(p),console.log("allBookingsForSingleDrink drinkId=",e.drinkId," // drinkConsumationCount=",u," // bookingCount=",s.length," // this.overallDrinkCount=",this.overallDrinkCount)}))}calculateWidth(e){return 60*e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Se.U))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-dashboard"]],decls:31,vars:4,consts:[[1,"row"],[1,"col-12","col-md-4","col-lg-4"],[1,"card"],["src","assets/overallBookingCount.png",1,"card-img-top-icon"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text","text-center"],["src","assets/overallDrinkCount.png",1,"card-img-top-icon"],["src","assets/overallCost.png",1,"card-img-top-icon"],["class","col-12 col-md-4 col-lg-4",4,"ngFor","ngForOf"],[1,"card-img-top",3,"src"]],template:function(e,s){1&e&&(h.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),h._UZ(4,"img",3),h.TgZ(5,"div",4)(6,"h5",5),h._uU(7,"Anzahl Buchungen gesamt "),h.qZA(),h.TgZ(8,"p",6)(9,"b"),h._uU(10),h.qZA()()()()(),h.TgZ(11,"div",1)(12,"div",2),h._UZ(13,"img",7),h.TgZ(14,"div",4)(15,"h5",5),h._uU(16,"Konsumierte Getr\xe4nke Gesamt "),h.qZA(),h.TgZ(17,"p",6)(18,"b"),h._uU(19),h.qZA()()()()(),h.TgZ(20,"div",1)(21,"div",2),h._UZ(22,"img",8),h.TgZ(23,"div",4)(24,"h5",5),h._uU(25,"\u20ac versoffen"),h.qZA(),h.TgZ(26,"p",6)(27,"b"),h._uU(28),h.qZA()()()()()()(),h.TgZ(29,"div",0),h.YNc(30,mx,14,8,"div",9),h.qZA()),2&e&&(h.xp6(10),h.Oqu(s.overallBookingsCount),h.xp6(9),h.Oqu(s.overallDrinkCount),h.xp6(9),h.Oqu(s.overallCost),h.xp6(2),h.Q6J("ngForOf",s.drinkConsumationData))},dependencies:[we.sg],styles:[".card-img-top-icon[_ngcontent-%COMP%]{width:50px;height:50px;display:block;margin-left:auto;margin-right:auto}.card[_ngcontent-%COMP%]{margin:40px;padding:20px}.card-img-top[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:40%}.main-card[_ngcontent-%COMP%]{max-width:500px}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:20px}"]}),r})();class C_{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class wm extends C_{constructor(n,e,s,u,p){super(),this.component=n,this.viewContainerRef=e,this.injector=s,this.componentFactoryResolver=u,this.projectableNodes=p}}class cv extends C_{constructor(n,e,s,u){super(),this.templateRef=n,this.viewContainerRef=e,this.context=s,this.injector=u}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class CE extends C_{constructor(n){super(),this.element=n instanceof h.SBq?n.nativeElement:n}}class Vb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof wm?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof cv?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof CE?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class QE extends Vb{constructor(n,e,s,u,p){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=s,this._defaultInjector=u,this.attachDomPortal=x=>{const S=x.element,B=this._document.createComment("dom-portal");S.parentNode.insertBefore(B,S),this.outletElement.appendChild(S),this._attachedPortal=x,super.setDisposeFn(()=>{B.parentNode&&B.parentNode.replaceChild(S,B)})},this._document=p}attachComponentPortal(n){const s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let u;return n.viewContainerRef?(u=n.viewContainerRef.createComponent(s,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>u.destroy())):(u=s.create(n.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(u.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(u.hostView),u.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(u)),this._attachedPortal=n,u}attachTemplatePortal(n){let e=n.viewContainerRef,s=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return s.rootNodes.forEach(u=>this.outletElement.appendChild(u)),s.detectChanges(),this.setDisposeFn(()=>{let u=e.indexOf(s);-1!==u&&e.remove(u)}),this._attachedPortal=n,s}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let dv=(()=>{class r extends Vb{constructor(e,s,u){super(),this._componentFactoryResolver=e,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=p=>{const x=p.element,S=this._document.createComment("dom-portal");p.setAttachedHost(this),x.parentNode.insertBefore(S,x),this._getRootNode().appendChild(x),this._attachedPortal=p,super.setDisposeFn(()=>{S.parentNode&&S.parentNode.replaceChild(x,S)})},this._document=u}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const s=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,p=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),x=s.createComponent(p,s.length,e.injector||s.injector,e.projectableNodes||void 0);return s!==this._viewContainerRef&&this._getRootNode().appendChild(x.hostView.rootNodes[0]),super.setDisposeFn(()=>x.destroy()),this._attachedPortal=e,this._attachedRef=x,this.attached.emit(x),x}attachTemplatePortal(e){e.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(we.K0))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.qOj]}),r})(),Hb=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})();var eC=P(2529);const IE=(0,xe.Mq)();class tC{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=(0,Le.HM)(-this._previousScrollPosition.left),n.style.top=(0,Le.HM)(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,s=n.style,u=this._document.body.style,p=s.scrollBehavior||"",x=u.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),IE&&(s.scrollBehavior=u.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),IE&&(s.scrollBehavior=p,u.scrollBehavior=x)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,s=this._viewportRuler.getViewportSize();return e.scrollHeight>s.height||e.scrollWidth>s.width}}class jb{constructor(n,e,s,u){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=s,this._config=u,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gx{enable(){}disable(){}attach(){}}function rw(r,n){return n.some(e=>r.bottom<e.top||r.top>e.bottom||r.right<e.left||r.left>e.right)}function sw(r,n){return n.some(e=>r.top<e.top||r.bottom>e.bottom||r.left<e.left||r.right>e.right)}class Gp{constructor(n,e,s,u){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=s,this._config=u,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:u}=this._viewportRuler.getViewportSize();rw(e,[{width:s,height:u,bottom:u,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let _x=(()=>{class r{constructor(e,s,u,p){this._scrollDispatcher=e,this._viewportRuler=s,this._ngZone=u,this.noop=()=>new gx,this.close=x=>new jb(this._scrollDispatcher,this._ngZone,this._viewportRuler,x),this.block=()=>new tC(this._viewportRuler,this._document),this.reposition=x=>new Gp(this._scrollDispatcher,this._viewportRuler,this._ngZone,x),this._document=p}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(si),h.LFG(K),h.LFG(h.R0b),h.LFG(we.K0))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class D_{constructor(n){if(this.scrollStrategy=new gx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const s of e)void 0!==n[s]&&(this[s]=n[s])}}}class ow{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let SE=(()=>{class r{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const s=this._attachedOverlays.indexOf(e);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(we.K0))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rC=(()=>{class r extends SE{constructor(e,s){super(e),this._ngZone=s,this._keydownListener=u=>{const p=this._attachedOverlays;for(let x=p.length-1;x>-1;x--)if(p[x]._keydownEvents.observers.length>0){const S=p[x]._keydownEvents;this._ngZone?this._ngZone.run(()=>S.next(u)):S.next(u);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(we.K0),h.LFG(h.R0b,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),sC=(()=>{class r extends SE{constructor(e,s,u){super(e),this._platform=s,this._ngZone=u,this._cursorStyleIsSet=!1,this._pointerDownListener=p=>{this._pointerDownEventTarget=(0,xe.sA)(p)},this._clickListener=p=>{const x=(0,xe.sA)(p),S="click"===p.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:x;this._pointerDownEventTarget=null;const B=this._attachedOverlays.slice();for(let Z=B.length-1;Z>-1;Z--){const le=B[Z];if(le._outsidePointerEvents.observers.length<1||!le.hasAttached())continue;if(le.overlayElement.contains(x)||le.overlayElement.contains(S))break;const Te=le._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Te.next(p)):Te.next(p)}}}add(e){if(super.add(e),!this._isAttached){const s=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(s)):this._addEventListeners(s),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(we.K0),h.LFG(xe.t4),h.LFG(h.R0b,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),lw=(()=>{class r{constructor(e,s){this._platform=s,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||(0,xe.Oy)()){const u=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let p=0;p<u.length;p++)u[p].remove()}const s=this._document.createElement("div");s.classList.add(e),(0,xe.Oy)()?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(we.K0),h.LFG(xe.t4))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class I_{constructor(n,e,s,u,p,x,S,B,Z,le=!1){this._portalOutlet=n,this._host=e,this._pane=s,this._config=u,this._ngZone=p,this._keyboardDispatcher=x,this._document=S,this._location=B,this._outsideClickDispatcher=Z,this._animationsDisabled=le,this._backdropElement=null,this._backdropClick=new Ee.x,this._attachments=new Ee.x,this._detachments=new Ee.x,this._locationChanges=It.w0.EMPTY,this._backdropClickHandler=Te=>this._backdropClick.next(Te),this._backdropTransitionendHandler=Te=>{this._disposeBackdrop(Te.target)},this._keydownEvents=new Ee.x,this._outsidePointerEvents=new Ee.x,u.scrollStrategy&&(this._scrollStrategy=u.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=u.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,rn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=(0,Le.HM)(this._config.width),n.height=(0,Le.HM)(this._config.height),n.minWidth=(0,Le.HM)(this._config.minWidth),n.minHeight=(0,Le.HM)(this._config.minHeight),n.maxWidth=(0,Le.HM)(this._config.maxWidth),n.maxHeight=(0,Le.HM)(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,s){const u=(0,Le.Eq)(e||[]).filter(p=>!!p);u.length&&(s?n.classList.add(...u):n.classList.remove(...u))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe((0,Un.R)((0,Be.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const bx="cdk-overlay-connected-position-bounding-box",TE=/([A-Za-z%]+)$/;class AE{get positions(){return this._preferredPositions}constructor(n,e,s,u,p){this._viewportRuler=e,this._document=s,this._platform=u,this._overlayContainer=p,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ee.x,this._resizeSubscription=It.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(bx),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,s=this._viewportRect,u=this._containerRect,p=[];let x;for(let S of this._preferredPositions){let B=this._getOriginPoint(n,u,S),Z=this._getOverlayPoint(B,e,S),le=this._getOverlayFit(Z,e,s,S);if(le.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(S,B);this._canFitWithFlexibleDimensions(le,Z,s)?p.push({position:S,origin:B,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(B,S)}):(!x||x.overlayFit.visibleArea<le.visibleArea)&&(x={overlayFit:le,overlayPoint:Z,originPoint:B,position:S,overlayRect:e})}if(p.length){let S=null,B=-1;for(const Z of p){const le=Z.boundingBoxRect.width*Z.boundingBoxRect.height*(Z.position.weight||1);le>B&&(B=le,S=Z)}return this._isPushed=!1,void this._applyPosition(S.position,S.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(x.position,x.originPoint);this._applyPosition(x.position,x.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$p(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,s){let u,p;if("center"==s.originX)u=n.left+n.width/2;else{const x=this._isRtl()?n.right:n.left,S=this._isRtl()?n.left:n.right;u="start"==s.originX?x:S}return e.left<0&&(u-=e.left),p="center"==s.originY?n.top+n.height/2:"top"==s.originY?n.top:n.bottom,e.top<0&&(p-=e.top),{x:u,y:p}}_getOverlayPoint(n,e,s){let u,p;return u="center"==s.overlayX?-e.width/2:"start"===s.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,p="center"==s.overlayY?-e.height/2:"top"==s.overlayY?0:-e.height,{x:n.x+u,y:n.y+p}}_getOverlayFit(n,e,s,u){const p=dw(e);let{x,y:S}=n,B=this._getOffset(u,"x"),Z=this._getOffset(u,"y");B&&(x+=B),Z&&(S+=Z);let We=0-S,vt=S+p.height-s.height,At=this._subtractOverflows(p.width,0-x,x+p.width-s.width),qt=this._subtractOverflows(p.height,We,vt),un=At*qt;return{visibleArea:un,isCompletelyWithinViewport:p.width*p.height===un,fitsInViewportVertically:qt===p.height,fitsInViewportHorizontally:At==p.width}}_canFitWithFlexibleDimensions(n,e,s){if(this._hasFlexibleDimensions){const u=s.bottom-e.y,p=s.right-e.x,x=cw(this._overlayRef.getConfig().minHeight),S=cw(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=x&&x<=u)&&(n.fitsInViewportHorizontally||null!=S&&S<=p)}return!1}_pushOverlayOnScreen(n,e,s){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const u=dw(e),p=this._viewportRect,x=Math.max(n.x+u.width-p.width,0),S=Math.max(n.y+u.height-p.height,0),B=Math.max(p.top-s.top-n.y,0),Z=Math.max(p.left-s.left-n.x,0);let le=0,Te=0;return le=u.width<=p.width?Z||-x:n.x<this._viewportMargin?p.left-s.left-n.x:0,Te=u.height<=p.height?B||-S:n.y<this._viewportMargin?p.top-s.top-n.y:0,this._previousPushAmount={x:le,y:Te},{x:n.x+le,y:n.y+Te}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const s=this._getScrollVisibility(),u=new ow(n,s);this._positionChanges.next(u)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,u=n.overlayY;s="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let p=0;p<e.length;p++)e[p].style.transformOrigin=`${s} ${u}`}_calculateBoundingBoxRect(n,e){const s=this._viewportRect,u=this._isRtl();let p,x,S,le,Te,We;if("top"===e.overlayY)x=n.y,p=s.height-x+this._viewportMargin;else if("bottom"===e.overlayY)S=s.height-n.y+2*this._viewportMargin,p=s.height-S+this._viewportMargin;else{const vt=Math.min(s.bottom-n.y+s.top,n.y),At=this._lastBoundingBoxSize.height;p=2*vt,x=n.y-vt,p>At&&!this._isInitialRender&&!this._growAfterOpen&&(x=n.y-At/2)}if("end"===e.overlayX&&!u||"start"===e.overlayX&&u)We=s.width-n.x+this._viewportMargin,le=n.x-this._viewportMargin;else if("start"===e.overlayX&&!u||"end"===e.overlayX&&u)Te=n.x,le=s.right-n.x;else{const vt=Math.min(s.right-n.x+s.left,n.x),At=this._lastBoundingBoxSize.width;le=2*vt,Te=n.x-vt,le>At&&!this._isInitialRender&&!this._growAfterOpen&&(Te=n.x-At/2)}return{top:x,left:Te,bottom:S,right:We,width:le,height:p}}_setBoundingBoxStyles(n,e){const s=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const u={};if(this._hasExactPosition())u.top=u.left="0",u.bottom=u.right=u.maxHeight=u.maxWidth="",u.width=u.height="100%";else{const p=this._overlayRef.getConfig().maxHeight,x=this._overlayRef.getConfig().maxWidth;u.height=(0,Le.HM)(s.height),u.top=(0,Le.HM)(s.top),u.bottom=(0,Le.HM)(s.bottom),u.width=(0,Le.HM)(s.width),u.left=(0,Le.HM)(s.left),u.right=(0,Le.HM)(s.right),u.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",u.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",p&&(u.maxHeight=(0,Le.HM)(p)),x&&(u.maxWidth=(0,Le.HM)(x))}this._lastBoundingBoxSize=s,$p(this._boundingBox.style,u)}_resetBoundingBoxStyles(){$p(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$p(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const s={},u=this._hasExactPosition(),p=this._hasFlexibleDimensions,x=this._overlayRef.getConfig();if(u){const le=this._viewportRuler.getViewportScrollPosition();$p(s,this._getExactOverlayY(e,n,le)),$p(s,this._getExactOverlayX(e,n,le))}else s.position="static";let S="",B=this._getOffset(e,"x"),Z=this._getOffset(e,"y");B&&(S+=`translateX(${B}px) `),Z&&(S+=`translateY(${Z}px)`),s.transform=S.trim(),x.maxHeight&&(u?s.maxHeight=(0,Le.HM)(x.maxHeight):p&&(s.maxHeight="")),x.maxWidth&&(u?s.maxWidth=(0,Le.HM)(x.maxWidth):p&&(s.maxWidth="")),$p(this._pane.style,s)}_getExactOverlayY(n,e,s){let u={top:"",bottom:""},p=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(p=this._pushOverlayOnScreen(p,this._overlayRect,s)),"bottom"===n.overlayY?u.bottom=this._document.documentElement.clientHeight-(p.y+this._overlayRect.height)+"px":u.top=(0,Le.HM)(p.y),u}_getExactOverlayX(n,e,s){let x,u={left:"",right:""},p=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(p=this._pushOverlayOnScreen(p,this._overlayRect,s)),x=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===x?u.right=this._document.documentElement.clientWidth-(p.x+this._overlayRect.width)+"px":u.left=(0,Le.HM)(p.x),u}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),s=this._scrollables.map(u=>u.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:sw(n,s),isOriginOutsideView:rw(n,s),isOverlayClipped:sw(e,s),isOverlayOutsideView:rw(e,s)}}_subtractOverflows(n,...e){return e.reduce((s,u)=>s-Math.max(u,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+n-this._viewportMargin,bottom:s.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&(0,Le.Eq)(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof h.SBq)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,s=n.height||0;return{top:n.y,bottom:n.y+s,left:n.x,right:n.x+e,height:s,width:e}}}function $p(r,n){for(let e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r}function cw(r){if("number"!=typeof r&&null!=r){const[n,e]=r.split(TE);return e&&"px"!==e?null:parseFloat(n)}return r||null}function dw(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const wx="cdk-global-overlay-wrapper";class xx{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(wx),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:u,height:p,maxWidth:x,maxHeight:S}=s,B=!("100%"!==u&&"100vw"!==u||x&&"100%"!==x&&"100vw"!==x),Z=!("100%"!==p&&"100vh"!==p||S&&"100%"!==S&&"100vh"!==S),le=this._xPosition,Te=this._xOffset,We="rtl"===this._overlayRef.getConfig().direction;let vt="",At="",qt="";B?qt="flex-start":"center"===le?(qt="center",We?At=Te:vt=Te):We?"left"===le||"end"===le?(qt="flex-end",vt=Te):("right"===le||"start"===le)&&(qt="flex-start",At=Te):"left"===le||"start"===le?(qt="flex-start",vt=Te):("right"===le||"end"===le)&&(qt="flex-end",At=Te),n.position=this._cssPosition,n.marginLeft=B?"0":vt,n.marginTop=Z?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=B?"0":At,e.justifyContent=qt,e.alignItems=Z?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,s=e.style;e.classList.remove(wx),s.justifyContent=s.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let uw=(()=>{class r{constructor(e,s,u,p){this._viewportRuler=e,this._document=s,this._platform=u,this._overlayContainer=p}global(){return new xx}flexibleConnectedTo(e){return new AE(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(K),h.LFG(we.K0),h.LFG(xe.t4),h.LFG(lw))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),aC=0,fu=(()=>{class r{constructor(e,s,u,p,x,S,B,Z,le,Te,We,vt){this.scrollStrategies=e,this._overlayContainer=s,this._componentFactoryResolver=u,this._positionBuilder=p,this._keyboardDispatcher=x,this._injector=S,this._ngZone=B,this._document=Z,this._directionality=le,this._location=Te,this._outsideClickDispatcher=We,this._animationsModuleType=vt}create(e){const s=this._createHostElement(),u=this._createPaneElement(s),p=this._createPortalOutlet(u),x=new D_(e);return x.direction=x.direction||this._directionality.value,new I_(p,s,u,x,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const s=this._document.createElement("div");return s.id="cdk-overlay-"+aC++,s.classList.add("cdk-overlay-pane"),e.appendChild(s),s}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new QE(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(_x),h.LFG(lw),h.LFG(h._Vd),h.LFG(uw),h.LFG(rC),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(we.K0),h.LFG(Yt.Is),h.LFG(we.Ye),h.LFG(sC),h.LFG(h.QbO,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const hw=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Ex=new h.OlP("cdk-connected-overlay-scroll-strategy");let fw=(()=>{class r{constructor(e){this.elementRef=e}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),r})(),kE=(()=>{class r{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=(0,Le.Ig)(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=(0,Le.Ig)(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=(0,Le.Ig)(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=(0,Le.Ig)(e)}get push(){return this._push}set push(e){this._push=(0,Le.Ig)(e)}constructor(e,s,u,p,x){this._overlay=e,this._dir=x,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=It.w0.EMPTY,this._attachSubscription=It.w0.EMPTY,this._detachSubscription=It.w0.EMPTY,this._positionSubscription=It.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new h.vpe,this.positionChange=new h.vpe,this.attach=new h.vpe,this.detach=new h.vpe,this.overlayKeydown=new h.vpe,this.overlayOutsideClick=new h.vpe,this._templatePortal=new cv(s,u),this._scrollStrategyFactory=p,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=hw);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),s.keyCode===de.hY&&!this.disableClose&&!(0,de.Vb)(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),s=new D_({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(e){const s=this.positions.map(u=>({originX:u.originX,originY:u.originY,overlayX:u.overlayX,overlayY:u.overlayY,offsetX:u.offsetX||this.offsetX,offsetY:u.offsetY||this.offsetY,panelClass:u.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof fw?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,eC.o)(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(fu),h.Y36(h.Rgc),h.Y36(h.s_b),h.Y36(Ex),h.Y36(Yt.Is,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[h.TTD]}),r})();const RE={provide:Ex,deps:[fu],useFactory:function lC(r){return()=>r.scrollStrategies.reposition()}};let zb=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[fu,RE],imports:[Yt.vT,Hb,Ne,Ne]}),r})();var Cx=P(9770);function dC(r,n){}class mw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Dx=(()=>{class r extends Vb{constructor(e,s,u,p,x,S,B,Z){super(),this._elementRef=e,this._focusTrapFactory=s,this._config=p,this._interactivityChecker=x,this._ngZone=S,this._overlayRef=B,this._focusMonitor=Z,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=le=>{this._portalOutlet.hasAttached();const Te=this._portalOutlet.attachDomPortal(le);return this._contentAttached(),Te},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=u}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const s=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),s}attachTemplatePortal(e){this._portalOutlet.hasAttached();const s=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),s}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,s){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const u=()=>{e.removeEventListener("blur",u),e.removeEventListener("mousedown",u),e.removeAttribute("tabindex")};e.addEventListener("blur",u),e.addEventListener("mousedown",u)})),e.focus(s)}_focusByCssSelector(e,s){let u=this._elementRef.nativeElement.querySelector(e);u&&this._forceFocus(u,s)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(s=>{s||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let s=null;if("string"==typeof e?s=this._document.querySelector(e):"boolean"==typeof e?s=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(s=e),this._config.restoreFocus&&s&&"function"==typeof s.focus){const u=(0,xe.ht)(),p=this._elementRef.nativeElement;(!u||u===this._document.body||u===p||p.contains(u))&&(this._focusMonitor?(this._focusMonitor.focusVia(s,this._closeInteractionType),this._closeInteractionType=null):s.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,s=(0,xe.ht)();return e===s||e.contains(s)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,xe.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(Oe.qV),h.Y36(we.K0,8),h.Y36(mw),h.Y36(Oe.ic),h.Y36(h.R0b),h.Y36(I_),h.Y36(Oe.tE))},r.\u0275cmp=h.Xpm({type:r,selectors:[["cdk-dialog-container"]],viewQuery:function(e,s){if(1&e&&h.Gf(dv,7),2&e){let u;h.iGM(u=h.CRH())&&(s._portalOutlet=u.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,s){2&e&&h.uIk("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},features:[h.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,s){1&e&&h.YNc(0,dC,0,0,"ng-template",0)},dependencies:[dv],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),r})();class Ix{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new Ee.x,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(s=>{s.keyCode===de.hY&&!this.disableClose&&!(0,de.Vb)(s)&&(s.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(n,e){if(this.containerInstance){const s=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),s.next(n),s.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}}const OE=new h.OlP("DialogScrollStrategy"),uC=new h.OlP("DialogData"),hC=new h.OlP("DefaultDialogConfig"),mC={provide:OE,deps:[fu],useFactory:function fC(r){return()=>r.scrollStrategies.block()}};let o=0,l=(()=>{class r{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,s,u,p,x,S){this._overlay=e,this._injector=s,this._defaultOptions=u,this._parentDialog=p,this._overlayContainer=x,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ee.x,this._afterOpenedAtThisLevel=new Ee.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Cx.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Ot.O)(void 0))),this._scrollStrategy=S}open(e,s){(s={...this._defaultOptions||new mw,...s}).id=s.id||"cdk-dialog-"+o++,s.id&&this.getDialogById(s.id);const p=this._getOverlayConfig(s),x=this._overlay.create(p),S=new Ix(x,s),B=this._attachContainer(x,S,s);return S.containerInstance=B,this._attachDialogContent(e,S,B,s),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(S),S.closed.subscribe(()=>this._removeOpenDialog(S,!0)),this.afterOpened.next(S),S}closeAll(){d(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(s=>s.id===e)}ngOnDestroy(){d(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),d(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const s=new D_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(s.backdropClass=e.backdropClass),s}_attachContainer(e,s,u){const p=u.injector||u.viewContainerRef?.injector,x=[{provide:mw,useValue:u},{provide:Ix,useValue:s},{provide:I_,useValue:e}];let S;u.container?"function"==typeof u.container?S=u.container:(S=u.container.type,x.push(...u.container.providers(u))):S=Dx;const B=new wm(S,u.viewContainerRef,h.zs3.create({parent:p||this._injector,providers:x}),u.componentFactoryResolver);return e.attach(B).instance}_attachDialogContent(e,s,u,p){if(e instanceof h.Rgc){const x=this._createInjector(p,s,u,void 0);let S={$implicit:p.data,dialogRef:s};p.templateContext&&(S={...S,..."function"==typeof p.templateContext?p.templateContext():p.templateContext}),u.attachTemplatePortal(new cv(e,null,S,x))}else{const x=this._createInjector(p,s,u,this._injector),S=u.attachComponentPortal(new wm(e,p.viewContainerRef,x,p.componentFactoryResolver));s.componentInstance=S.instance}}_createInjector(e,s,u,p){const x=e.injector||e.viewContainerRef?.injector,S=[{provide:uC,useValue:e.data},{provide:Ix,useValue:s}];return e.providers&&("function"==typeof e.providers?S.push(...e.providers(s,e,u)):S.push(...e.providers)),e.direction&&(!x||!x.get(Yt.Is,null,{optional:!0}))&&S.push({provide:Yt.Is,useValue:{value:e.direction,change:(0,Ct.of)()}}),h.zs3.create({parent:x||p,providers:S})}_removeOpenDialog(e,s){const u=this.openDialogs.indexOf(e);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((p,x)=>{p?x.setAttribute("aria-hidden",p):x.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),s&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const s=e.parentElement.children;for(let u=s.length-1;u>-1;u--){const p=s[u];p!==e&&"SCRIPT"!==p.nodeName&&"STYLE"!==p.nodeName&&!p.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(p,p.getAttribute("aria-hidden")),p.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(fu),h.LFG(h.zs3),h.LFG(hC,8),h.LFG(r,12),h.LFG(lw),h.LFG(OE))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();function d(r,n){let e=r.length;for(;e--;)n(r[e])}let f=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[l,mC],imports:[zb,Hb,Oe.rt,Hb]}),r})();function g(r,n){}class w{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const I="mdc-dialog--open",O="mdc-dialog--opening",U="mdc-dialog--closing";let Me=(()=>{class r extends Dx{constructor(e,s,u,p,x,S,B,Z){super(e,s,u,p,x,S,B,Z),this._animationStateChanged=new h.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(Oe.qV),h.Y36(we.K0,8),h.Y36(w),h.Y36(Oe.ic),h.Y36(h.R0b),h.Y36(I_),h.Y36(Oe.tE))},r.\u0275cmp=h.Xpm({type:r,selectors:[["ng-component"]],features:[h.qOj],decls:0,vars:0,template:function(e,s){},encapsulation:2}),r})();const Je="--mat-dialog-transition-duration";function gt(r){return null==r?null:"number"==typeof r?r:r.endsWith("ms")?(0,Le.su)(r.substring(0,r.length-2)):r.endsWith("s")?1e3*(0,Le.su)(r.substring(0,r.length-1)):"0"===r?0:null}let Gt=(()=>{class r extends Me{constructor(e,s,u,p,x,S,B,Z,le){super(e,s,u,p,x,S,B,le),this._animationMode=Z,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?gt(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?gt(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Je,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(O),this._hostElement.classList.add(I),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(I),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(I),this._animationsEnabled?(this._hostElement.style.setProperty(Je,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(U),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(O),this._hostElement.classList.remove(U)}_waitForAnimationToComplete(e,s){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(s,e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(Oe.qV),h.Y36(we.K0,8),h.Y36(w),h.Y36(Oe.ic),h.Y36(h.R0b),h.Y36(I_),h.Y36(h.QbO,8),h.Y36(Oe.tE))},r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,s){2&e&&(h.Ikx("id",s._config.id),h.uIk("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),h.ekj("_mat-animation-noopable",!s._animationsEnabled))},features:[h.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,s){1&e&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,g,0,0,"ng-template",2),h.qZA()())},dependencies:[dv],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),r})();class hn{constructor(n,e,s){this._ref=n,this._containerInstance=s,this._afterOpened=new Ee.x,this._beforeClosed=new Ee.x,this._state=0,this.disableClose=e.disableClose,this.id=n.id,s._animationStateChanged.pipe((0,Dt.h)(u=>"opened"===u.state),(0,rn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),s._animationStateChanged.pipe((0,Dt.h)(u=>"closed"===u.state),(0,rn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Be.T)(this.backdropClick(),this.keydownEvents().pipe((0,Dt.h)(u=>u.keyCode===de.hY&&!this.disableClose&&!(0,de.Vb)(u)))).subscribe(u=>{this.disableClose||(u.preventDefault(),function Cn(r,n,e){r._closeInteractionType=n,r.close(e)}(this,"keydown"===u.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe((0,Dt.h)(e=>"closing"===e.state),(0,rn.q)(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Vn=new h.OlP("MatMdcDialogData"),di=new h.OlP("mat-mdc-dialog-default-options"),Xt=new h.OlP("mat-mdc-dialog-scroll-strategy"),Hs={provide:Xt,deps:[fu],useFactory:function Pi(r){return()=>r.scrollStrategies.block()}};let pC=0,FC=(()=>{class r{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,s,u,p,x,S,B,Z,le,Te){this._overlay=e,this._defaultOptions=u,this._parentDialog=p,this._dialogRefConstructor=B,this._dialogContainerType=Z,this._dialogDataToken=le,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ee.x,this._afterOpenedAtThisLevel=new Ee.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=w,this.afterAllClosed=(0,Cx.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Ot.O)(void 0))),this._scrollStrategy=S,this._dialog=s.get(l)}open(e,s){let u;(s={...this._defaultOptions||new w,...s}).id=s.id||`${this._idPrefix}${pC++}`,s.scrollStrategy=s.scrollStrategy||this._scrollStrategy();const p=this._dialog.open(e,{...s,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:s},{provide:mw,useValue:s}]},templateContext:()=>({dialogRef:u}),providers:(x,S,B)=>(u=new this._dialogRefConstructor(x,s,B),u.updatePosition(s?.position),[{provide:this._dialogContainerType,useValue:B},{provide:this._dialogDataToken,useValue:S.data},{provide:this._dialogRefConstructor,useValue:u}])});return u.componentInstance=p.componentInstance,this.openDialogs.push(u),this.afterOpened.next(u),u.afterClosed().subscribe(()=>{const x=this.openDialogs.indexOf(u);x>-1&&(this.openDialogs.splice(x,1),this.openDialogs.length||this._getAfterAllClosed().next())}),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(s=>s.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let s=e.length;for(;s--;)e[s].close()}}return r.\u0275fac=function(e){h.$Z()},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),gC=(()=>{class r extends FC{constructor(e,s,u,p,x,S,B,Z){super(e,s,p,S,B,x,hn,Gt,Vn,Z),this._idPrefix="mat-mdc-dialog-"}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(fu),h.LFG(h.zs3),h.LFG(we.Ye,8),h.LFG(di,8),h.LFG(Xt),h.LFG(r,12),h.LFG(lw),h.LFG(h.QbO,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),LC=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[gC,Hs],imports:[f,zb,Hb,ce.BQ,ce.BQ]}),r})();class BC{constructor(n,e,s,u,p){this.loggedInUserName=n,this.consumerUserName=e,this.count=s,this.drinkId=u,this.timestamp=p}}var S_=P(9549);const UC=["trigger"],VC=["panel"];function HC(r,n){if(1&r&&(h.TgZ(0,"span",10),h._uU(1),h.qZA()),2&r){const e=h.oxw();h.xp6(1),h.Oqu(e.placeholder)}}function jC(r,n){if(1&r&&(h.TgZ(0,"span",14),h._uU(1),h.qZA()),2&r){const e=h.oxw(2);h.xp6(1),h.Oqu(e.triggerValue)}}function zC(r,n){1&r&&h.Hsn(0,0,["*ngSwitchCase","true"])}function GC(r,n){if(1&r&&(h.TgZ(0,"span",11),h.YNc(1,jC,2,1,"span",12),h.YNc(2,zC,1,0,"ng-content",13),h.qZA()),2&r){const e=h.oxw();h.Q6J("ngSwitch",!!e.customTrigger),h.xp6(2),h.Q6J("ngSwitchCase",!0)}}function $C(r,n){if(1&r){const e=h.EpF();h.O4$(),h.kcU(),h.TgZ(0,"div",15,16),h.NdJ("@transformPanel.done",function(u){h.CHM(e);const p=h.oxw();return h.KtG(p._panelDoneAnimatingStream.next(u.toState))})("keydown",function(u){h.CHM(e);const p=h.oxw();return h.KtG(p._handleKeydown(u))}),h.Hsn(2,1),h.qZA()}if(2&r){const e=h.oxw();h.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),h.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),h.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const WC=[[["mat-select-trigger"]],"*"],KC=["mat-select-trigger","*"],YC={transformPanelWrap:(0,Vt.X$)("transformPanelWrap",[(0,Vt.eR)("* => void",(0,Vt.IO)("@transformPanel",[(0,Vt.pV)()],{optional:!0}))]),transformPanel:(0,Vt.X$)("transformPanel",[(0,Vt.SB)("void",(0,Vt.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,Vt.eR)("void => showing",(0,Vt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Vt.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,Vt.eR)("* => void",(0,Vt.jt)("100ms linear",(0,Vt.oB)({opacity:0})))])};let yC=0;const vC=new h.OlP("mat-select-scroll-strategy"),ZC=new h.OlP("MAT_SELECT_CONFIG"),QC={provide:vC,deps:[fu],useFactory:function qC(r){return()=>r.scrollStrategies.reposition()}},XC=new h.OlP("MatSelectTrigger");class JC{constructor(n,e){this.source=n,this.value=e}}const eD=(0,ce.Kr)((0,ce.sb)((0,ce.Id)((0,ce.FD)(class{constructor(r,n,e,s,u){this._elementRef=r,this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=s,this.ngControl=u,this.stateChanges=new Ee.x}}))));let tD=(()=>{class r extends eD{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(er.kI.required)??!1}set required(e){this._required=(0,Le.Ig)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,Le.Ig)(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=(0,Le.Ig)(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=(0,Le.su)(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,s,u,p,x,S,B,Z,le,Te,We,vt,At,qt){super(x,p,B,Z,Te),this._viewportRuler=e,this._changeDetectorRef=s,this._ngZone=u,this._dir=S,this._parentFormField=le,this._liveAnnouncer=At,this._defaultOptions=qt,this._panelOpen=!1,this._compareWith=(un,li)=>un===li,this._uid="mat-select-"+yC++,this._triggerAriaLabelledBy=null,this._destroy=new Ee.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+yC++,this._panelDoneAnimatingStream=new Ee.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,Cx.P)(()=>{const un=this.options;return un?un.changes.pipe((0,Ot.O)(un),(0,Eh.w)(()=>(0,Be.T)(...un.map(li=>li.onSelectionChange)))):this._ngZone.onStable.pipe((0,rn.q)(1),(0,Eh.w)(()=>this.optionSelectionChanges))}),this.openedChange=new h.vpe,this._openedStream=this.openedChange.pipe((0,Dt.h)(un=>un),(0,ve.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Dt.h)(un=>!un),(0,ve.U)(()=>{})),this.selectionChange=new h.vpe,this.valueChange=new h.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=qt?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=qt.typeaheadDebounceInterval),this._scrollStrategyFactory=vt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(We)||0,this.id=this.id}ngOnInit(){this._selectionModel=new go(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Lt.x)(),(0,Un.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Un.R)(this._destroy)).subscribe(e=>{e.added.forEach(s=>s.select()),e.removed.forEach(s=>s.deselect())}),this.options.changes.pipe((0,Ot.O)(null),(0,Un.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),s=this.ngControl;if(e!==this._triggerAriaLabelledBy){const u=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?u.setAttribute("aria-labelledby",e):u.removeAttribute("aria-labelledby")}s&&(this._previousControl!==s.control&&(void 0!==this._previousControl&&null!==s.disabled&&s.disabled!==this.disabled&&(this.disabled=s.disabled),this._previousControl=s.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const s=e.keyCode,u=s===de.JH||s===de.LH||s===de.oh||s===de.SV,p=s===de.K5||s===de.L_,x=this._keyManager;if(!x.isTyping()&&p&&!(0,de.Vb)(e)||(this.multiple||e.altKey)&&u)e.preventDefault(),this.open();else if(!this.multiple){const S=this.selected;x.onKeydown(e);const B=this.selected;B&&S!==B&&this._liveAnnouncer.announce(B.viewValue,1e4)}}_handleOpenKeydown(e){const s=this._keyManager,u=e.keyCode,p=u===de.JH||u===de.LH,x=s.isTyping();if(p&&e.altKey)e.preventDefault(),this.close();else if(x||u!==de.K5&&u!==de.L_||!s.activeItem||(0,de.Vb)(e))if(!x&&this._multiple&&u===de.A&&e.ctrlKey){e.preventDefault();const S=this.options.some(B=>!B.disabled&&!B.selected);this.options.forEach(B=>{B.disabled||(S?B.select():B.deselect())})}else{const S=s.activeItemIndex;s.onKeydown(e),this._multiple&&p&&e.shiftKey&&s.activeItem&&s.activeItemIndex!==S&&s.activeItem._selectViaInteraction()}else e.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,rn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(s=>this._selectOptionByValue(s)),this._sortValues();else{const s=this._selectOptionByValue(e);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const s=this.options.find(u=>{if(this._selectionModel.isSelected(u))return!1;try{return null!=u.value&&this._compareWith(u.value,e)}catch{return!1}});return s&&this._selectionModel.select(s),s}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Oe.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Be.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Un.R)(e)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Be.T)(...this.options.map(s=>s._stateChanges)).pipe((0,Un.R)(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,s){const u=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(u!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),s&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),s&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),u!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((s,u)=>this.sortComparator?this.sortComparator(s,u,e):e.indexOf(s)-e.indexOf(u)),this.stateChanges.next()}}_propagateChanges(e){let s=null;s=this.multiple?this.selected.map(u=>u.value):this.selected?this.selected.value:e,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let s=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(K),h.Y36(h.sBO),h.Y36(h.R0b),h.Y36(ce.rD),h.Y36(h.SBq),h.Y36(Yt.Is,8),h.Y36(er.F,8),h.Y36(er.sg,8),h.Y36(S_.G_,8),h.Y36(er.a5,10),h.$8M("tabindex"),h.Y36(vC),h.Y36(Oe.Kd),h.Y36(ZC,8))},r.\u0275dir=h.lG2({type:r,viewQuery:function(e,s){if(1&e&&(h.Gf(UC,5),h.Gf(VC,5),h.Gf(kE,5)),2&e){let u;h.iGM(u=h.CRH())&&(s.trigger=u.first),h.iGM(u=h.CRH())&&(s.panel=u.first),h.iGM(u=h.CRH())&&(s._overlayDir=u.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[h.qOj,h.TTD]}),r})(),bC=(()=>{class r extends tD{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Un.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const s=this.options.toArray()[e];if(s){const u=this.panel.nativeElement,p=(0,ce.CB)(e,this.options,this.optionGroups),x=s._getHostElement();u.scrollTop=0===e&&1===p?0:(0,ce.jH)(x.offsetTop,x.offsetHeight,u.scrollTop,u.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new JC(this,e)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof fw?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=(0,Le.Ig)(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-select"]],contentQueries:function(e,s,u){if(1&e&&(h.Suo(u,XC,5),h.Suo(u,ce.ey,5),h.Suo(u,ce.K7,5)),2&e){let p;h.iGM(p=h.CRH())&&(s.customTrigger=p.first),h.iGM(p=h.CRH())&&(s.options=p),h.iGM(p=h.CRH())&&(s.optionGroups=p)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,s){1&e&&h.NdJ("keydown",function(p){return s._handleKeydown(p)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&e&&(h.uIk("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-activedescendant",s._getAriaActiveDescendant()),h.ekj("mat-mdc-select-disabled",s.disabled)("mat-mdc-select-invalid",s.errorState)("mat-mdc-select-required",s.required)("mat-mdc-select-empty",s.empty)("mat-mdc-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[h._Bn([{provide:S_.Eo,useExisting:r},{provide:ce.HF,useExisting:r}]),h.qOj],ngContentSelectors:KC,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,s){if(1&e&&(h.F$t(WC),h.TgZ(0,"div",0,1),h.NdJ("click",function(){return s.toggle()}),h.TgZ(3,"div",2),h.YNc(4,HC,2,1,"span",3),h.YNc(5,GC,3,2,"span",4),h.qZA(),h.TgZ(6,"div",5)(7,"div",6),h.O4$(),h.TgZ(8,"svg",7),h._UZ(9,"path",8),h.qZA()()()(),h.YNc(10,$C,3,9,"ng-template",9),h.NdJ("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&e){const u=h.MAs(1);h.uIk("aria-owns",s.panelOpen?s.id+"-panel":null),h.xp6(3),h.Q6J("ngSwitch",s.empty),h.uIk("id",s._valueId),h.xp6(1),h.Q6J("ngSwitchCase",!0),h.xp6(1),h.Q6J("ngSwitchCase",!1),h.xp6(5),h.Q6J("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",s._preferredOverlayOrigin||u)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayWidth",s._overlayWidth)}},dependencies:[we.mk,we.RF,we.n9,we.ED,kE,fw],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[YC.transformPanel]},changeDetection:0}),r})(),nD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[QC],imports:[we.ez,zb,ce.Ng,ce.BQ,on,S_.lN,ce.Ng,ce.BQ]}),r})();function iD(r,n){1&r&&(h.TgZ(0,"th",11),h._uU(1," Bild "),h.qZA())}function rD(r,n){if(1&r&&(h.TgZ(0,"td",12),h._UZ(1,"img",13),h.qZA()),2&r){const e=n.$implicit,s=h.oxw();h.xp6(1),h.Udp("width",s.calculateWidth(e.imageSize),"px"),h.MGl("src","assets/",e.imageUrl?e.imageUrl:"","",h.LSH)}}function sD(r,n){1&r&&(h.TgZ(0,"th",11),h._uU(1," Name "),h.qZA())}function oD(r,n){if(1&r&&(h.TgZ(0,"td",14),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",e.name," ")}}function aD(r,n){1&r&&(h.TgZ(0,"th",11),h._uU(1," Preis "),h.qZA())}function lD(r,n){if(1&r&&(h.TgZ(0,"td",14),h._uU(1),h.ALo(2,"currency"),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",h.xi3(2,1,e.price,"EUR")," ")}}function cD(r,n){1&r&&(h.TgZ(0,"th",11),h._uU(1," Buchen "),h.qZA())}function dD(r,n){if(1&r){const e=h.EpF();h.TgZ(0,"td",15)(1,"button",16),h.NdJ("click",function(){const p=h.CHM(e).$implicit,x=h.oxw();return h.KtG(x.openDialog("0ms","0ms",p))}),h.TgZ(2,"mat-icon"),h._uU(3,"plus_one"),h.qZA(),h._uU(4," Buchen "),h.qZA()()}}function uD(r,n){1&r&&h._UZ(0,"tr",17)}function hD(r,n){1&r&&h._UZ(0,"tr",18)}function fD(r,n){if(1&r&&(h.TgZ(0,"mat-option",10),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.Q6J("value",e),h.xp6(1),h.Oqu(e)}}function mD(r,n){if(1&r&&(h.TgZ(0,"mat-option",10),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.Q6J("value",e),h.xp6(1),h.Oqu(e.firstName)}}let pD=(()=>{class r{get drinksData(){return this._drinksData}set drinksData(e){this._drinksData=e}constructor(e,s){this.globalService=e,this.dialog=s,this._drinksData=[],this.displayedColumns=["imageUrl","name","price","book"]}ngOnInit(){this._drinksData=this.globalService.drinksData}calculateWidth(e){return 50*e}openDialog(e,s,u){this.dialog.open(gD,{width:"400px",enterAnimationDuration:e,exitAnimationDuration:s,data:u})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Se.U),h.Y36(gC))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-list-of-drinks"]],decls:15,vars:3,consts:[["mat-table","",3,"dataSource"],["matColumnDef","imageUrl"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col-1 text-center",4,"matCellDef"],["matColumnDef","name"],["mat-cell","","class","col-2",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","book"],["mat-cell","","class","col-12","height","60",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"col-1","text-center"],[3,"src"],["mat-cell","",1,"col-2"],["mat-cell","","height","60",1,"col-12"],["mat-fab","","extended","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,s){1&e&&(h.TgZ(0,"table",0),h.ynx(1,1),h.YNc(2,iD,2,0,"th",2),h.YNc(3,rD,2,3,"td",3),h.BQk(),h.ynx(4,4),h.YNc(5,sD,2,0,"th",2),h.YNc(6,oD,2,1,"td",5),h.BQk(),h.ynx(7,6),h.YNc(8,aD,2,0,"th",2),h.YNc(9,lD,3,4,"td",5),h.BQk(),h.ynx(10,7),h.YNc(11,cD,2,0,"th",2),h.YNc(12,dD,5,0,"td",8),h.BQk(),h.YNc(13,uD,1,0,"tr",9),h.YNc(14,hD,1,0,"tr",10),h.qZA()),2&e&&(h.Q6J("dataSource",s.drinksData),h.xp6(13),h.Q6J("matHeaderRowDef",s.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",s.displayedColumns))},dependencies:[Ze.cs,ts,Ru,jd,Nm,lo,Rc,Yi,zd,Ou,Fi,Of,we.H9]}),r})(),gD=(()=>{class r{constructor(e,s,u,p){this.dialogRef=e,this.data=s,this.httpClient=u,this.globalService=p,this.drinkName="",this.drinkCountList=[1,2,3,4,5,6,7,8],this.personList=[],this.personList=p.userListBooking}performBooking(e,s){console.log("performBooking() bookingForm.value=",e.value," // drink=",s);let u=e.value.drinkCount,x=s.drinkId;e.value.persons.forEach(S=>{let B=new BC("phil",S.userName,u,x,Date.now());this.httpClient.post("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/bookings.json",B).subscribe({next:Z=>console.log("HttpClient DrinkBooking subscribe next:",Z),error:Z=>{console.error(Z)},complete:()=>{console.log("DrinkBooking success"),this.dialogRef.close()}})})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(hn),h.Y36(Vn),h.Y36(Ji.eN),h.Y36(Se.U))},r.\u0275cmp=h.Xpm({type:r,selectors:[["book-drink-dialog"]],decls:24,vars:3,consts:[[1,"main"],[1,"mt-3",3,"ngSubmit"],["bookingForm","ngForm"],["appearance","fill","width","400"],["matInput","","ngModel","","name","drinkCount"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill"],["matInput","","multiple","","ngModel","","name","persons"],[1,"drink-count-hint"],["type","submit","mat-fab","","extended","","color","primary"],[3,"value"]],template:function(e,s){if(1&e){const u=h.EpF();h.TgZ(0,"div",0)(1,"p"),h._uU(2),h.qZA(),h.TgZ(3,"form",1,2),h.NdJ("ngSubmit",function(){h.CHM(u);const x=h.MAs(4);return h.KtG(s.performBooking(x,s.data))}),h.TgZ(5,"mat-form-field",3)(6,"mat-label"),h._uU(7,"Getr\xe4nkeanzahl ausw\xe4hlen"),h.qZA(),h.TgZ(8,"mat-select",4),h.YNc(9,fD,2,2,"mat-option",5),h.qZA()(),h.TgZ(10,"p"),h._uU(11," Auf wen darf gebucht werden? "),h.qZA(),h.TgZ(12,"mat-form-field",6)(13,"mat-label"),h._uU(14,"Ein oder mehrere Personen ausw\xe4hlen"),h.qZA(),h.TgZ(15,"mat-select",7),h.YNc(16,mD,2,2,"mat-option",5),h.qZA()(),h.TgZ(17,"span",8),h._uU(18," Die ausgew\xe4hlte Getr\xe4nkeanzahl wird auf alle angegebenen Personen gebucht! "),h.qZA(),h.TgZ(19,"p")(20,"button",9)(21,"mat-icon"),h._uU(22,"done_outline"),h.qZA(),h._uU(23," Buchung abschlie\xdfen "),h.qZA()()()()}2&e&&(h.xp6(2),h.hij(" Wieviele Getr\xe4nke von ",s.data.name,"? "),h.xp6(7),h.Q6J("ngForOf",s.drinkCountList),h.xp6(7),h.Q6J("ngForOf",s.personList))},dependencies:[we.sg,Ze.cs,ts,S_.KE,S_.hX,er._Y,er.JJ,er.JL,er.On,er.F,bC,ce.ey],styles:[".main[_ngcontent-%COMP%]{margin:20px}mat-form-field[_ngcontent-%COMP%]{width:100%}.drink-count-hint[_ngcontent-%COMP%]{font-size:small;color:red}button[_ngcontent-%COMP%]{margin-top:10px}"]}),r})();var _D=P(3546);let bD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[ce.uc,ce.BQ,ce.uc,ce.BQ]}),r})();class wD{constructor(n,e,s,u){this.userName=n,this.bookedByUserName=e,this.amount=s,this.timestamp=u}}class xD{constructor(n,e,s,u,p){this.userName=n,this.bookingCount=e,this.currentBalanceAmount=s,this.overallBookingAmount=u,this.numberOfDrinksConsumed=p}}function ED(r,n){if(1&r){const e=h.EpF();h.TgZ(0,"div",2)(1,"button",3),h.NdJ("click",function(){h.CHM(e);const u=h.oxw();return h.KtG(u.action())}),h._uU(2),h.qZA()()}if(2&r){const e=h.oxw();h.xp6(2),h.hij(" ",e.data.action," ")}}const CD=["label"];function DD(r,n){}const ID=Math.pow(2,31)-1;class Sx{constructor(n,e){this._overlayRef=e,this._afterDismissed=new Ee.x,this._afterOpened=new Ee.x,this._onAction=new Ee.x,this._dismissedByAction=!1,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,ID))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const xC=new h.OlP("MatSnackBarData");class Tx{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let SD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),r})(),TD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),r})(),AD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),r})(),MD=(()=>{class r{constructor(e,s){this.snackBarRef=e,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Sx),h.Y36(xC))},r.\u0275cmp=h.Xpm({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,s){1&e&&(h.TgZ(0,"div",0),h._uU(1),h.qZA(),h.YNc(2,ED,3,1,"div",1)),2&e&&(h.xp6(1),h.hij(" ",s.data.message,"\n"),h.xp6(1),h.Q6J("ngIf",s.hasAction))},dependencies:[we.O5,Ze.lW,SD,TD,AD],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),r})();const kD={snackBarState:(0,Vt.X$)("state",[(0,Vt.SB)("void, hidden",(0,Vt.oB)({transform:"scale(0.8)",opacity:0})),(0,Vt.SB)("visible",(0,Vt.oB)({transform:"scale(1)",opacity:1})),(0,Vt.eR)("* => visible",(0,Vt.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,Vt.eR)("* => void, * => hidden",(0,Vt.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,Vt.oB)({opacity:0})))])};let RD=0,OD=(()=>{class r extends Vb{constructor(e,s,u,p,x){super(),this._ngZone=e,this._elementRef=s,this._changeDetectorRef=u,this._platform=p,this.snackBarConfig=x,this._document=(0,h.f3M)(we.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ee.x,this._onExit=new Ee.x,this._onEnter=new Ee.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+RD++,this.attachDomPortal=S=>{this._assertNotAttached();const B=this._portalOutlet.attachDomPortal(S);return this._afterPortalAttached(),B},this._live="assertive"!==x.politeness||x.announcementMessage?"off"===x.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const s=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),s}attachTemplatePortal(e){this._assertNotAttached();const s=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),s}onAnimationEnd(e){const{fromState:s,toState:u}=e;if(("void"===u&&"void"!==s||"hidden"===u)&&this._completeExit(),"visible"===u){const p=this._onEnter;this._ngZone.run(()=>{p.next(),p.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,rn.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(u=>e.classList.add(u)):e.classList.add(s)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,s=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let u=0;u<s.length;u++){const p=s[u],x=p.getAttribute("aria-owns");this._trackedModals.add(p),x?-1===x.indexOf(e)&&p.setAttribute("aria-owns",x+" "+e):p.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const s=e.getAttribute("aria-owns");if(s){const u=s.replace(this._liveElementId,"").trim();u.length>0?e.setAttribute("aria-owns",u):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&s){let u=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(u=document.activeElement),e.removeAttribute("aria-hidden"),s.appendChild(e),u?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.R0b),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(xe.t4),h.Y36(Tx))},r.\u0275dir=h.lG2({type:r,viewQuery:function(e,s){if(1&e&&h.Gf(dv,7),2&e){let u;h.iGM(u=h.CRH())&&(s._portalOutlet=u.first)}},features:[h.qOj]}),r})(),PD=(()=>{class r extends OD{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,s="mdc-snackbar__label";e.classList.toggle(s,!e.querySelector(`.${s}`))}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(r)))(s||r)}}(),r.\u0275cmp=h.Xpm({type:r,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,s){if(1&e&&h.Gf(CD,7),2&e){let u;h.iGM(u=h.CRH())&&(s._label=u.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,s){1&e&&h.WFA("@state.done",function(p){return s.onAnimationEnd(p)}),2&e&&h.d8E("@state",s._animationState)},features:[h.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,s){1&e&&(h.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),h.YNc(4,DD,0,0,"ng-template",4),h.qZA(),h._UZ(5,"div"),h.qZA()()),2&e&&(h.xp6(5),h.uIk("aria-live",s._live)("role",s._role)("id",s._liveElementId))},dependencies:[dv],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[kD.snackBarState]}}),r})(),ND=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[zb,Hb,we.ez,Ze.ot,ce.BQ,ce.BQ]}),r})();const EC=new h.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function FD(){return new Tx}});let LD=(()=>{class r{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,s,u,p,x,S){this._overlay=e,this._live=s,this._injector=u,this._breakpointObserver=p,this._parentSnackBar=x,this._defaultConfig=S,this._snackBarRefAtThisLevel=null}openFromComponent(e,s){return this._attach(e,s)}openFromTemplate(e,s){return this._attach(e,s)}open(e,s="",u){const p={...this._defaultConfig,...u};return p.data={message:e,action:s},p.announcementMessage===e&&(p.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,p)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,s){const p=h.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:Tx,useValue:s}]}),x=new wm(this.snackBarContainerComponent,s.viewContainerRef,p),S=e.attach(x);return S.instance.snackBarConfig=s,S.instance}_attach(e,s){const u={...new Tx,...this._defaultConfig,...s},p=this._createOverlay(u),x=this._attachSnackBarContainer(p,u),S=new Sx(x,p);if(e instanceof h.Rgc){const B=new cv(e,null,{$implicit:u.data,snackBarRef:S});S.instance=x.attachTemplatePortal(B)}else{const B=this._createInjector(u,S),Z=new wm(e,void 0,B),le=x.attachComponentPortal(Z);S.instance=le.instance}return this._breakpointObserver.observe(Q.u3.HandsetPortrait).pipe((0,Un.R)(p.detachments())).subscribe(B=>{p.overlayElement.classList.toggle(this.handsetCssClass,B.matches)}),u.announcementMessage&&x._onAnnounce.subscribe(()=>{this._live.announce(u.announcementMessage,u.politeness)}),this._animateSnackBar(S,u),this._openedSnackBarRef=S,this._openedSnackBarRef}_animateSnackBar(e,s){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),s.duration&&s.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(s.duration))}_createOverlay(e){const s=new D_;s.direction=e.direction;let u=this._overlay.position().global();const p="rtl"===e.direction,x="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!p||"end"===e.horizontalPosition&&p,S=!x&&"center"!==e.horizontalPosition;return x?u.left("0"):S?u.right("0"):u.centerHorizontally(),"top"===e.verticalPosition?u.top("0"):u.bottom("0"),s.positionStrategy=u,this._overlay.create(s)}_createInjector(e,s){return h.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Sx,useValue:s},{provide:xC,useValue:e.data}]})}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(fu),h.LFG(Oe.Kd),h.LFG(h.zs3),h.LFG(Q.Yg),h.LFG(r,12),h.LFG(EC))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),CC=(()=>{class r extends LD{constructor(e,s,u,p,x,S){super(e,s,u,p,x,S),this.simpleSnackBarComponent=MD,this.snackBarContainerComponent=PD,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(fu),h.LFG(Oe.Kd),h.LFG(h.zs3),h.LFG(Q.Yg),h.LFG(r,12),h.LFG(EC))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:ND}),r})();var DC=P(4144);let BD=(()=>{class r{constructor(e,s){this.elementRef=e,this.renderer=s,this.onChange=()=>{},this.onTouched=()=>{},this.value=""}onInputChange(e){const s=function UD(r){return r.replace(/[^0-9]*/g,"")}(e);this.updateTextInput(s,this.value!==s)}onBlur(){this.onTouched()}updateTextInput(e,s){this.renderer.setProperty(this.elementRef.nativeElement,"value",e),s&&this.onChange(e),this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}writeValue(e){e=e?String(e):"",this.updateTextInput(e,!1)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.Qsj))},r.\u0275dir=h.lG2({type:r,selectors:[["","onlyNumber",""]],hostBindings:function(e,s){1&e&&h.NdJ("input",function(p){return s.onInputChange(p.target.value)})("blur",function(){return s.onBlur()})},features:[h._Bn([{provide:er.JU,useExisting:(0,h.Gpc)(()=>r),multi:!0}])]}),r})();function VD(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Bild "),h.qZA())}function HD(r,n){1&r&&(h.TgZ(0,"mat-icon"),h._uU(1," money_off"),h.qZA())}function jD(r,n){1&r&&(h.TgZ(0,"mat-icon"),h._uU(1,"attach_money"),h.qZA())}function zD(r,n){if(1&r&&(h.TgZ(0,"td",27),h.YNc(1,HD,2,0,"mat-icon",28),h.YNc(2,jD,2,0,"mat-icon",28),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.Q6J("ngIf",e.currentBalanceAmount<0),h.xp6(1),h.Q6J("ngIf",e.currentBalanceAmount>=0)}}function GD(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Name "),h.qZA())}function $D(r,n){if(1&r&&(h.TgZ(0,"td",29),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",e.userName," ")}}function WD(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Aktuelles Guthaben "),h.qZA())}const KD=function(r,n){return{positive:r,negative:n}};function YD(r,n){if(1&r&&(h.TgZ(0,"td",30),h._uU(1),h.ALo(2,"currency"),h.qZA()),2&r){const e=n.$implicit;h.Q6J("ngClass",h.WLB(5,KD,e.currentBalanceAmount>=0,e.currentBalanceAmount<0)),h.xp6(1),h.hij(" ",h.xi3(2,2,e.currentBalanceAmount,"EUR")," ")}}function qD(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Summe aller Aufladungen "),h.qZA())}function ZD(r,n){if(1&r&&(h.TgZ(0,"td",31),h._uU(1),h.ALo(2,"currency"),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",h.xi3(2,1,e.overallBookingAmount,"EUR")," ")}}function QD(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Anzahl aller Buchungen "),h.qZA())}function XD(r,n){if(1&r&&(h.TgZ(0,"td",31),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",e.bookingCount," ")}}function JD(r,n){1&r&&(h.TgZ(0,"th",26),h._uU(1," Anzahl konsumierte Getr\xe4nke "),h.qZA())}function eI(r,n){if(1&r&&(h.TgZ(0,"td",31),h._uU(1),h.qZA()),2&r){const e=n.$implicit;h.xp6(1),h.hij(" ",e.numberOfDrinksConsumed," ")}}function tI(r,n){1&r&&h._UZ(0,"tr",32)}function nI(r,n){1&r&&h._UZ(0,"tr",33)}function iI(r,n){if(1&r&&(h.TgZ(0,"mat-option",34),h._uU(1),h.qZA()),2&r){const e=n.$implicit,s=h.oxw();h.Q6J("value",e.userName)("disabled",!s.bookingAllowed),h.xp6(1),h.Oqu(e.firstName)}}const rI=function(r){return{disabledBooking:r}};let sI=(()=>{class r{get globalService(){return this._globalService}ngOnInit(){this.updateBalances()}updateBalances(){this.httpClient.get("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/balances.json?auth="+this.globalService.firebaseUserIdToken).subscribe({next:e=>{console.log("Firebase Balances:",e," // user length:",this.globalService.userList.length),this.balanceData=Object.values(e);let s=[];this.globalService.userList.forEach(u=>{let p=0,x=this.balanceData.filter(Te=>Te.userName===u.userName);x.forEach(Te=>p+=Number(Te.amount));let S=0,B=0;this.globalService.drinkBookings.filter(Te=>Te.consumerUserName===u.userName).forEach(Te=>{let We=this.globalService.drinksData.filter(vt=>vt.drinkId)[0];S+=Number(Te.count*We.price),B+=Number(Te.count)});let Z=p-S;console.log("user=",u.userName," // currentBalance=",Z," // overallBookingAmountSum=",p,"// amountConsumed=",S);let le=new xD(u.userName,x.length,Z,p,B);s.push(le),this.balanceDataGrouped=s}),console.log("balanceDataGrouped: ",this.balanceDataGrouped)},error:e=>{console.error(e)},complete:()=>{}})}performBalanceBooking(e){console.log("performBalanceBooking() bookingForm.value=",e.value);let s=new wD(e.value.userName,"phil",e.value.amount,Date.now());this.httpClient.post("https://drinkservice-11fde-default-rtdb.europe-west1.firebasedatabase.app/balances.json",s).subscribe({next:u=>console.log("HttpClient performBalanceBooking subscribe next:",u),error:u=>{console.error(u)},complete:()=>{console.log("performBalanceBooking success"),e.reset(),e.resetForm(),this.updateBalances(),this.openSnackBar()}})}openSnackBar(){this._snackBar.openFromComponent(oI,{duration:5e3})}constructor(e,s,u){this.httpClient=e,this._globalService=s,this._snackBar=u,this.userList=[],this.balanceData=[],this.balanceDataGrouped=[],this.displayedColumns=["image","userName","currentBalanceAmount","overallBookingAmount","bookingCount","numberOfDrinksConsumed"],this.bookingAllowed=this.globalService.loggedInUser.email.startsWith("philipp.r@"),console.log("user count:",s.userList.length),this.userList=this._globalService.userList}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Ji.eN),h.Y36(Se.U),h.Y36(CC))},r.\u0275cmp=h.Xpm({type:r,selectors:[["balances"]],decls:45,vars:9,consts:[["mat-table","",3,"dataSource"],["matColumnDef","image"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","col-1 text-center",4,"matCellDef"],["matColumnDef","userName"],["mat-cell","","class","col-2",4,"matCellDef"],["matColumnDef","currentBalanceAmount"],["mat-cell","","class","col-2 text-end",3,"ngClass",4,"matCellDef"],["matColumnDef","overallBookingAmount"],["mat-cell","","class","col-2 text-end",4,"matCellDef"],["matColumnDef","bookingCount"],["matColumnDef","numberOfDrinksConsumed"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"balance-booking-headline"],[1,"balance-booking-content",3,"ngClass"],[3,"ngSubmit"],["balanceBookingForm","ngForm"],[1,"row"],["appearance","outline",1,"col-12","col-md-4","col-lg-4"],["ngModel","","required","","matInput","","minlength","1","maxlength","5","onlyNumber","","name","amount","type","text","autocomplete","apds_amount",3,"disabled"],["amount","ngModel"],[1,"col-12","col-md-4","col-lg-4"],["matInput","","required","","ngModel","","name","userName"],[3,"value","disabled",4,"ngFor","ngForOf"],["type","submit","mat-fab","","extended","","color","primary",1,"col-12",3,"disabled"],["mat-header-cell",""],["mat-cell","",1,"col-1","text-center"],[4,"ngIf"],["mat-cell","",1,"col-2"],["mat-cell","",1,"col-2","text-end",3,"ngClass"],["mat-cell","",1,"col-2","text-end"],["mat-header-row",""],["mat-row",""],[3,"value","disabled"]],template:function(e,s){if(1&e){const u=h.EpF();h.TgZ(0,"table",0),h.ynx(1,1),h.YNc(2,VD,2,0,"th",2),h.YNc(3,zD,3,2,"td",3),h.BQk(),h.ynx(4,4),h.YNc(5,GD,2,0,"th",2),h.YNc(6,$D,2,1,"td",5),h.BQk(),h.ynx(7,6),h.YNc(8,WD,2,0,"th",2),h.YNc(9,YD,3,8,"td",7),h.BQk(),h.ynx(10,8),h.YNc(11,qD,2,0,"th",2),h.YNc(12,ZD,3,4,"td",9),h.BQk(),h.ynx(13,10),h.YNc(14,QD,2,0,"th",2),h.YNc(15,XD,2,1,"td",9),h.BQk(),h.ynx(16,11),h.YNc(17,JD,2,0,"th",2),h.YNc(18,eI,2,1,"td",9),h.BQk(),h.YNc(19,tI,1,0,"tr",12),h.YNc(20,nI,1,0,"tr",13),h.qZA(),h.TgZ(21,"p",14),h._uU(22," Guthaben aufladen (nur Philipp)\n"),h.qZA(),h.TgZ(23,"div",15)(24,"form",16,17),h.NdJ("ngSubmit",function(){h.CHM(u);const x=h.MAs(25);return h.KtG(s.performBalanceBooking(x))}),h.TgZ(26,"div",18)(27,"mat-form-field",19)(28,"mat-label"),h._uU(29,"Wieviel "),h.TgZ(30,"mat-icon"),h._uU(31,"euro_symbol"),h.qZA(),h.TgZ(32,"mat-icon"),h._uU(33,"question_mark"),h.qZA()(),h._UZ(34,"input",20,21),h.qZA(),h.TgZ(36,"mat-form-field",22)(37,"mat-label"),h._uU(38,"Wer kriegt's auf's Konto?"),h.qZA(),h.TgZ(39,"mat-select",23),h.YNc(40,iI,2,3,"mat-option",24),h.qZA()()(),h.TgZ(41,"button",25)(42,"mat-icon"),h._uU(43,"done_outline"),h.qZA(),h._uU(44," Buchung abschlie\xdfen "),h.qZA()()()}if(2&e){const u=h.MAs(25);h.Q6J("dataSource",s.balanceDataGrouped),h.xp6(19),h.Q6J("matHeaderRowDef",s.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",s.displayedColumns),h.xp6(3),h.Q6J("ngClass",h.VKq(7,rI,!s.bookingAllowed)),h.xp6(11),h.Q6J("disabled",!s.bookingAllowed),h.xp6(6),h.Q6J("ngForOf",s.globalService.userListBooking),h.xp6(1),h.Q6J("disabled",u.invalid)}},dependencies:[we.mk,we.sg,we.O5,Ze.cs,ts,Ru,jd,Nm,lo,Rc,Yi,zd,Ou,Fi,Of,S_.KE,S_.hX,er._Y,er.Fj,er.JJ,er.JL,er.Q7,er.wO,er.nD,er.On,er.F,DC.Nt,bC,ce.ey,BD,we.H9],styles:[".positive[_ngcontent-%COMP%]{color:green}.negative[_ngcontent-%COMP%]{color:red}.row[_ngcontent-%COMP%]{padding:20}.balance-booking-headline[_ngcontent-%COMP%]{margin-top:50px;margin-left:20px}.balance-booking-content[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.disabledBooking[_ngcontent-%COMP%]{pointer-events:none;opacity:2}"]}),r})(),oI=(()=>{class r{constructor(){this.snackBarRef=(0,h.f3M)(Sx)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["snack-bar-global"]],decls:5,vars:0,consts:[[1,"snack-bar-global"],["matSnackBarActions","",1,"snack-bar-global-button"],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,s){1&e&&(h.TgZ(0,"span",0),h._uU(1," Anfrage erfolgreich "),h.qZA(),h.TgZ(2,"span",1)(3,"button",2),h.NdJ("click",function(){return s.snackBarRef.dismissWithAction()}),h._uU(4,"Okay"),h.qZA()())},styles:["[_nghost-%COMP%]{display:flex}.snack-bar-global[_ngcontent-%COMP%]{color:#fff;font-weight:700;width:75%}.snack-bar-global-button[_ngcontent-%COMP%]{text-align:right;width:25%}"]}),r})();var aI=P(8146);let PE=(()=>{class r{constructor(e,s){this.globalService=e,this.router=s}canActivate(e,s){return!0===this.globalService.loggedIn||(this.router.navigate(["auth/login"]),!1)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Se.U),h.LFG(Ds.F0))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const lI=[{path:"dashboard",component:ZE,canActivate:[PE]},{path:"list-of-drinks",component:pD,canActivate:[PE]},{path:"balances",component:sI,canActivate:[PE]},{path:"auth",loadChildren:()=>P.e(374).then(P.bind(P,4374)).then(r=>r.AuthModule)},{path:"**",component:aI.G}];let cI=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r,bootstrap:[xl]}),r.\u0275inj=h.cJS({providers:[Se.U,CC],imports:[_.b2,Tc,Q.xu,Ji.JF,ht,Ze.ot,xr,Io,Ko,ya,LC,S_.lN,er.u5,DC.c,er.UX,nD,_.b2,_D.QW,bD,jl.hO.initializeApp(fx_firebase),ld.ww,Tg.yb,Vh,qE,Ds.Bz.forRoot(lI)]}),r})();_.q6().bootstrapModule(cI).catch(r=>console.error(r))},1135:(Wt,Ge,P)=>{P.d(Ge,{X:()=>h});var _=P(7579);class h extends _.x{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const Ae=super._subscribe(ve);return!Ae.closed&&ve.next(this._value),Ae}getValue(){const{hasError:ve,thrownError:Ae,_value:Se}=this;if(ve)throw Ae;return this._throwIfClosed(),Se}next(ve){super.next(this._value=ve)}}},9751:(Wt,Ge,P)=>{P.d(Ge,{y:()=>ce});var _=P(930),h=P(727),Q=P(8822),ve=P(9635),Ae=P(2416),Se=P(576),we=P(2806);let ce=(()=>{class pe{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const xt=new pe;return xt.source=this,xt.operator=Ke,xt}subscribe(Ke,xt,ht){const Ze=function _e(pe){return pe&&pe instanceof _.Lv||function ne(pe){return pe&&(0,Se.m)(pe.next)&&(0,Se.m)(pe.error)&&(0,Se.m)(pe.complete)}(pe)&&(0,h.Nn)(pe)}(Ke)?Ke:new _.Hp(Ke,xt,ht);return(0,we.x)(()=>{const{operator:Le,source:Ee}=this;Ze.add(Le?Le.call(Ze,Ee):Ee?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(xt){Ke.error(xt)}}forEach(Ke,xt){return new(xt=xe(xt))((ht,Ze)=>{const Le=new _.Hp({next:Ee=>{try{Ke(Ee)}catch(Ct){Ze(Ct),Le.unsubscribe()}},error:Ze,complete:ht});this.subscribe(Le)})}_subscribe(Ke){var xt;return null===(xt=this.source)||void 0===xt?void 0:xt.subscribe(Ke)}[Q.L](){return this}pipe(...Ke){return(0,ve.U)(Ke)(this)}toPromise(Ke){return new(Ke=xe(Ke))((xt,ht)=>{let Ze;this.subscribe(Le=>Ze=Le,Le=>ht(Le),()=>xt(Ze))})}}return pe.create=nt=>new pe(nt),pe})();function xe(pe){var nt;return null!==(nt=pe??Ae.v.Promise)&&void 0!==nt?nt:Promise}},7579:(Wt,Ge,P)=>{P.d(Ge,{x:()=>we});var _=P(9751),h=P(727);const ve=(0,P(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=P(8737),Se=P(2806);let we=(()=>{class xe extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_e){const pe=new ce(this,this);return pe.operator=_e,pe}_throwIfClosed(){if(this.closed)throw new ve}next(_e){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(_e)}})}error(_e){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_e;const{observers:pe}=this;for(;pe.length;)pe.shift().error(_e)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_e}=this;for(;_e.length;)_e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var _e;return(null===(_e=this.observers)||void 0===_e?void 0:_e.length)>0}_trySubscribe(_e){return this._throwIfClosed(),super._trySubscribe(_e)}_subscribe(_e){return this._throwIfClosed(),this._checkFinalizedStatuses(_e),this._innerSubscribe(_e)}_innerSubscribe(_e){const{hasError:pe,isStopped:nt,observers:Ke}=this;return pe||nt?h.Lc:(this.currentObservers=null,Ke.push(_e),new h.w0(()=>{this.currentObservers=null,(0,Ae.P)(Ke,_e)}))}_checkFinalizedStatuses(_e){const{hasError:pe,thrownError:nt,isStopped:Ke}=this;pe?_e.error(nt):Ke&&_e.complete()}asObservable(){const _e=new _.y;return _e.source=this,_e}}return xe.create=(ne,_e)=>new ce(ne,_e),xe})();class ce extends we{constructor(ne,_e){super(),this.destination=ne,this.source=_e}next(ne){var _e,pe;null===(pe=null===(_e=this.destination)||void 0===_e?void 0:_e.next)||void 0===pe||pe.call(_e,ne)}error(ne){var _e,pe;null===(pe=null===(_e=this.destination)||void 0===_e?void 0:_e.error)||void 0===pe||pe.call(_e,ne)}complete(){var ne,_e;null===(_e=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===_e||_e.call(ne)}_subscribe(ne){var _e,pe;return null!==(pe=null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(ne))&&void 0!==pe?pe:h.Lc}}},930:(Wt,Ge,P)=>{P.d(Ge,{Hp:()=>ht,Lv:()=>pe});var _=P(576),h=P(727),Q=P(2416),ve=P(7849),Ae=P(5032);const Se=xe("C",void 0,void 0);function xe(Ve,De,me){return{kind:Ve,value:De,error:me}}var ne=P(3410),_e=P(2806);class pe extends h.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,h.Nn)(De)&&De.add(this)):this.destination=Ct}static create(De,me,ze){return new ht(De,me,ze)}next(De){this.isStopped?Ee(function ce(Ve){return xe("N",Ve,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Ee(function we(Ve){return xe("E",void 0,Ve)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Ee(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function Ke(Ve,De){return nt.call(Ve,De)}class xt{constructor(De){this.partialObserver=De}next(De){const{partialObserver:me}=this;if(me.next)try{me.next(De)}catch(ze){Ze(ze)}}error(De){const{partialObserver:me}=this;if(me.error)try{me.error(De)}catch(ze){Ze(ze)}else Ze(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(me){Ze(me)}}}class ht extends pe{constructor(De,me,ze){let Xe;if(super(),(0,_.m)(De)||!De)Xe={next:De??void 0,error:me??void 0,complete:ze??void 0};else{let ge;this&&Q.v.useDeprecatedNextContext?(ge=Object.create(De),ge.unsubscribe=()=>this.unsubscribe(),Xe={next:De.next&&Ke(De.next,ge),error:De.error&&Ke(De.error,ge),complete:De.complete&&Ke(De.complete,ge)}):Xe=De}this.destination=new xt(Xe)}}function Ze(Ve){Q.v.useDeprecatedSynchronousErrorHandling?(0,_e.O)(Ve):(0,ve.h)(Ve)}function Ee(Ve,De){const{onStoppedNotification:me}=Q.v;me&&ne.z.setTimeout(()=>me(Ve,De))}const Ct={closed:!0,next:Ae.Z,error:function Le(Ve){throw Ve},complete:Ae.Z}},727:(Wt,Ge,P)=>{P.d(Ge,{Lc:()=>Se,w0:()=>Ae,Nn:()=>we});var _=P(576);const Q=(0,P(3888).d)(xe=>function(_e){xe(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((pe,nt)=>`${nt+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e});var ve=P(8737);class Ae{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:_e}=this;if(_e)if(this._parentage=null,Array.isArray(_e))for(const Ke of _e)Ke.remove(this);else _e.remove(this);const{initialTeardown:pe}=this;if((0,_.m)(pe))try{pe()}catch(Ke){ne=Ke instanceof Q?Ke.errors:[Ke]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const Ke of nt)try{ce(Ke)}catch(xt){ne=ne??[],xt instanceof Q?ne=[...ne,...xt.errors]:ne.push(xt)}}if(ne)throw new Q(ne)}}add(ne){var _e;if(ne&&ne!==this)if(this.closed)ce(ne);else{if(ne instanceof Ae){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(_e=this._finalizers)&&void 0!==_e?_e:[]).push(ne)}}_hasParent(ne){const{_parentage:_e}=this;return _e===ne||Array.isArray(_e)&&_e.includes(ne)}_addParent(ne){const{_parentage:_e}=this;this._parentage=Array.isArray(_e)?(_e.push(ne),_e):_e?[_e,ne]:ne}_removeParent(ne){const{_parentage:_e}=this;_e===ne?this._parentage=null:Array.isArray(_e)&&(0,ve.P)(_e,ne)}remove(ne){const{_finalizers:_e}=this;_e&&(0,ve.P)(_e,ne),ne instanceof Ae&&ne._removeParent(this)}}Ae.EMPTY=(()=>{const xe=new Ae;return xe.closed=!0,xe})();const Se=Ae.EMPTY;function we(xe){return xe instanceof Ae||xe&&"closed"in xe&&(0,_.m)(xe.remove)&&(0,_.m)(xe.add)&&(0,_.m)(xe.unsubscribe)}function ce(xe){(0,_.m)(xe)?xe():xe.unsubscribe()}},2416:(Wt,Ge,P)=>{P.d(Ge,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Wt,Ge,P)=>{P.d(Ge,{c:()=>Se});var _=P(9751),h=P(727),Q=P(8343),ve=P(5403),Ae=P(4482);class Se extends _.y{constructor(ce,xe){super(),this.source=ce,this.subjectFactory=xe,this._subject=null,this._refCount=0,this._connection=null,(0,Ae.A)(ce)&&(this.lift=ce.lift)}_subscribe(ce){return this.getSubject().subscribe(ce)}getSubject(){const ce=this._subject;return(!ce||ce.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ce}=this;this._subject=this._connection=null,ce?.unsubscribe()}connect(){let ce=this._connection;if(!ce){ce=this._connection=new h.w0;const xe=this.getSubject();ce.add(this.source.subscribe((0,ve.x)(xe,void 0,()=>{this._teardown(),xe.complete()},ne=>{this._teardown(),xe.error(ne)},()=>this._teardown()))),ce.closed&&(this._connection=null,ce=h.w0.EMPTY)}return ce}refCount(){return(0,Q.x)()(this)}}},9841:(Wt,Ge,P)=>{P.d(Ge,{a:()=>ne});var _=P(9751),h=P(4742),Q=P(8996),ve=P(4671),Ae=P(3268),Se=P(3269),we=P(1810),ce=P(5403),xe=P(9672);function ne(...nt){const Ke=(0,Se.yG)(nt),xt=(0,Se.jO)(nt),{args:ht,keys:Ze}=(0,h.D)(nt);if(0===ht.length)return(0,Q.D)([],Ke);const Le=new _.y(function _e(nt,Ke,xt=ve.y){return ht=>{pe(Ke,()=>{const{length:Ze}=nt,Le=new Array(Ze);let Ee=Ze,Ct=Ze;for(let Ve=0;Ve<Ze;Ve++)pe(Ke,()=>{const De=(0,Q.D)(nt[Ve],Ke);let me=!1;De.subscribe((0,ce.x)(ht,ze=>{Le[Ve]=ze,me||(me=!0,Ct--),Ct||ht.next(xt(Le.slice()))},()=>{--Ee||ht.complete()}))},ht)},ht)}}(ht,Ke,Ze?Ee=>(0,we.n)(Ze,Ee):ve.y));return xt?Le.pipe((0,Ae.Z)(xt)):Le}function pe(nt,Ke,xt){nt?(0,xe.f)(xt,nt,Ke):Ke()}},7272:(Wt,Ge,P)=>{P.d(Ge,{z:()=>Ae});var _=P(8189),Q=P(3269),ve=P(8996);function Ae(...Se){return function h(){return(0,_.J)(1)}()((0,ve.D)(Se,(0,Q.yG)(Se)))}},9770:(Wt,Ge,P)=>{P.d(Ge,{P:()=>Q});var _=P(9751),h=P(8421);function Q(ve){return new _.y(Ae=>{(0,h.Xf)(ve()).subscribe(Ae)})}},515:(Wt,Ge,P)=>{P.d(Ge,{E:()=>h});const h=new(P(9751).y)(Ae=>Ae.complete())},4128:(Wt,Ge,P)=>{P.d(Ge,{D:()=>ce});var _=P(9751),h=P(4742),Q=P(8421),ve=P(3269),Ae=P(5403),Se=P(3268),we=P(1810);function ce(...xe){const ne=(0,ve.jO)(xe),{args:_e,keys:pe}=(0,h.D)(xe),nt=new _.y(Ke=>{const{length:xt}=_e;if(!xt)return void Ke.complete();const ht=new Array(xt);let Ze=xt,Le=xt;for(let Ee=0;Ee<xt;Ee++){let Ct=!1;(0,Q.Xf)(_e[Ee]).subscribe((0,Ae.x)(Ke,Ve=>{Ct||(Ct=!0,Le--),ht[Ee]=Ve},()=>Ze--,void 0,()=>{(!Ze||!Ct)&&(Le||Ke.next(pe?(0,we.n)(pe,ht):ht),Ke.complete())}))}});return ne?nt.pipe((0,Se.Z)(ne)):nt}},8996:(Wt,Ge,P)=>{P.d(Ge,{D:()=>De});var _=P(8421),h=P(5363),Q=P(9468),Se=P(9751),ce=P(2202),xe=P(576),ne=P(9672);function pe(me,ze){if(!me)throw new Error("Iterable cannot be null");return new Se.y(Xe=>{(0,ne.f)(Xe,ze,()=>{const ge=me[Symbol.asyncIterator]();(0,ne.f)(Xe,ze,()=>{ge.next().then(Ce=>{Ce.done?Xe.complete():Xe.next(Ce.value)})},0,!0)})})}var nt=P(3670),Ke=P(8239),xt=P(1144),ht=P(6495),Ze=P(2206),Le=P(4532),Ee=P(3260);function De(me,ze){return ze?function Ve(me,ze){if(null!=me){if((0,nt.c)(me))return function ve(me,ze){return(0,_.Xf)(me).pipe((0,Q.R)(ze),(0,h.Q)(ze))}(me,ze);if((0,xt.z)(me))return function we(me,ze){return new Se.y(Xe=>{let ge=0;return ze.schedule(function(){ge===me.length?Xe.complete():(Xe.next(me[ge++]),Xe.closed||this.schedule())})})}(me,ze);if((0,Ke.t)(me))return function Ae(me,ze){return(0,_.Xf)(me).pipe((0,Q.R)(ze),(0,h.Q)(ze))}(me,ze);if((0,Ze.D)(me))return pe(me,ze);if((0,ht.T)(me))return function _e(me,ze){return new Se.y(Xe=>{let ge;return(0,ne.f)(Xe,ze,()=>{ge=me[ce.h](),(0,ne.f)(Xe,ze,()=>{let Ce,$e;try{({value:Ce,done:$e}=ge.next())}catch(mt){return void Xe.error(mt)}$e?Xe.complete():Xe.next(Ce)},0,!0)}),()=>(0,xe.m)(ge?.return)&&ge.return()})}(me,ze);if((0,Ee.L)(me))return function Ct(me,ze){return pe((0,Ee.Q)(me),ze)}(me,ze)}throw(0,Le.z)(me)}(me,ze):(0,_.Xf)(me)}},8421:(Wt,Ge,P)=>{P.d(Ge,{Xf:()=>nt});var _=P(655),h=P(1144),Q=P(8239),ve=P(9751),Ae=P(3670),Se=P(2206),we=P(4532),ce=P(6495),xe=P(3260),ne=P(576),_e=P(7849),pe=P(8822);function nt(Ve){if(Ve instanceof ve.y)return Ve;if(null!=Ve){if((0,Ae.c)(Ve))return function Ke(Ve){return new ve.y(De=>{const me=Ve[pe.L]();if((0,ne.m)(me.subscribe))return me.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,h.z)(Ve))return function xt(Ve){return new ve.y(De=>{for(let me=0;me<Ve.length&&!De.closed;me++)De.next(Ve[me]);De.complete()})}(Ve);if((0,Q.t)(Ve))return function ht(Ve){return new ve.y(De=>{Ve.then(me=>{De.closed||(De.next(me),De.complete())},me=>De.error(me)).then(null,_e.h)})}(Ve);if((0,Se.D)(Ve))return Le(Ve);if((0,ce.T)(Ve))return function Ze(Ve){return new ve.y(De=>{for(const me of Ve)if(De.next(me),De.closed)return;De.complete()})}(Ve);if((0,xe.L)(Ve))return function Ee(Ve){return Le((0,xe.Q)(Ve))}(Ve)}throw(0,we.z)(Ve)}function Le(Ve){return new ve.y(De=>{(function Ct(Ve,De){var me,ze,Xe,ge;return(0,_.mG)(this,void 0,void 0,function*(){try{for(me=(0,_.KL)(Ve);!(ze=yield me.next()).done;)if(De.next(ze.value),De.closed)return}catch(Ce){Xe={error:Ce}}finally{try{ze&&!ze.done&&(ge=me.return)&&(yield ge.call(me))}finally{if(Xe)throw Xe.error}}De.complete()})})(Ve,De).catch(me=>De.error(me))})}},6451:(Wt,Ge,P)=>{P.d(Ge,{T:()=>Se});var _=P(8189),h=P(8421),Q=P(515),ve=P(3269),Ae=P(8996);function Se(...we){const ce=(0,ve.yG)(we),xe=(0,ve._6)(we,1/0),ne=we;return ne.length?1===ne.length?(0,h.Xf)(ne[0]):(0,_.J)(xe)((0,Ae.D)(ne,ce)):Q.E}},9646:(Wt,Ge,P)=>{P.d(Ge,{of:()=>Q});var _=P(3269),h=P(8996);function Q(...ve){const Ae=(0,_.yG)(ve);return(0,h.D)(ve,Ae)}},2843:(Wt,Ge,P)=>{P.d(Ge,{_:()=>Q});var _=P(9751),h=P(576);function Q(ve,Ae){const Se=(0,h.m)(ve)?ve:()=>ve,we=ce=>ce.error(Se());return new _.y(Ae?ce=>Ae.schedule(we,0,ce):we)}},5403:(Wt,Ge,P)=>{P.d(Ge,{x:()=>h});var _=P(930);function h(ve,Ae,Se,we,ce){return new Q(ve,Ae,Se,we,ce)}class Q extends _.Lv{constructor(Ae,Se,we,ce,xe,ne){super(Ae),this.onFinalize=xe,this.shouldUnsubscribe=ne,this._next=Se?function(_e){try{Se(_e)}catch(pe){Ae.error(pe)}}:super._next,this._error=ce?function(_e){try{ce(_e)}catch(pe){Ae.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(_e){Ae.error(_e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},262:(Wt,Ge,P)=>{P.d(Ge,{K:()=>ve});var _=P(8421),h=P(5403),Q=P(4482);function ve(Ae){return(0,Q.e)((Se,we)=>{let ne,ce=null,xe=!1;ce=Se.subscribe((0,h.x)(we,void 0,void 0,_e=>{ne=(0,_.Xf)(Ae(_e,ve(Ae)(Se))),ce?(ce.unsubscribe(),ce=null,ne.subscribe(we)):xe=!0})),xe&&(ce.unsubscribe(),ce=null,ne.subscribe(we))})}},4351:(Wt,Ge,P)=>{P.d(Ge,{b:()=>Q});var _=P(5577),h=P(576);function Q(ve,Ae){return(0,h.m)(Ae)?(0,_.z)(ve,Ae,1):(0,_.z)(ve,1)}},8372:(Wt,Ge,P)=>{P.d(Ge,{b:()=>ve});var _=P(4986),h=P(4482),Q=P(5403);function ve(Ae,Se=_.z){return(0,h.e)((we,ce)=>{let xe=null,ne=null,_e=null;const pe=()=>{if(xe){xe.unsubscribe(),xe=null;const Ke=ne;ne=null,ce.next(Ke)}};function nt(){const Ke=_e+Ae,xt=Se.now();if(xt<Ke)return xe=this.schedule(void 0,Ke-xt),void ce.add(xe);pe()}we.subscribe((0,Q.x)(ce,Ke=>{ne=Ke,_e=Se.now(),xe||(xe=Se.schedule(nt,Ae),ce.add(xe))},()=>{pe(),ce.complete()},void 0,()=>{ne=xe=null}))})}},6590:(Wt,Ge,P)=>{P.d(Ge,{d:()=>Q});var _=P(4482),h=P(5403);function Q(ve){return(0,_.e)((Ae,Se)=>{let we=!1;Ae.subscribe((0,h.x)(Se,ce=>{we=!0,Se.next(ce)},()=>{we||Se.next(ve),Se.complete()}))})}},1884:(Wt,Ge,P)=>{P.d(Ge,{x:()=>ve});var _=P(4671),h=P(4482),Q=P(5403);function ve(Se,we=_.y){return Se=Se??Ae,(0,h.e)((ce,xe)=>{let ne,_e=!0;ce.subscribe((0,Q.x)(xe,pe=>{const nt=we(pe);(_e||!Se(ne,nt))&&(_e=!1,ne=nt,xe.next(pe))}))})}function Ae(Se,we){return Se===we}},9300:(Wt,Ge,P)=>{P.d(Ge,{h:()=>Q});var _=P(4482),h=P(5403);function Q(ve,Ae){return(0,_.e)((Se,we)=>{let ce=0;Se.subscribe((0,h.x)(we,xe=>ve.call(Ae,xe,ce++)&&we.next(xe)))})}},8746:(Wt,Ge,P)=>{P.d(Ge,{x:()=>h});var _=P(4482);function h(Q){return(0,_.e)((ve,Ae)=>{try{ve.subscribe(Ae)}finally{Ae.add(Q)}})}},590:(Wt,Ge,P)=>{P.d(Ge,{P:()=>we});var _=P(6805),h=P(9300),Q=P(5698),ve=P(6590),Ae=P(8068),Se=P(4671);function we(ce,xe){const ne=arguments.length>=2;return _e=>_e.pipe(ce?(0,h.h)((pe,nt)=>ce(pe,nt,_e)):Se.y,(0,Q.q)(1),ne?(0,ve.d)(xe):(0,Ae.T)(()=>new _.K))}},4004:(Wt,Ge,P)=>{P.d(Ge,{U:()=>Q});var _=P(4482),h=P(5403);function Q(ve,Ae){return(0,_.e)((Se,we)=>{let ce=0;Se.subscribe((0,h.x)(we,xe=>{we.next(ve.call(Ae,xe,ce++))}))})}},9718:(Wt,Ge,P)=>{P.d(Ge,{h:()=>h});var _=P(4004);function h(Q){return(0,_.U)(()=>Q)}},8189:(Wt,Ge,P)=>{P.d(Ge,{J:()=>Q});var _=P(5577),h=P(4671);function Q(ve=1/0){return(0,_.z)(h.y,ve)}},5577:(Wt,Ge,P)=>{P.d(Ge,{z:()=>ce});var _=P(4004),h=P(8421),Q=P(4482),ve=P(9672),Ae=P(5403),we=P(576);function ce(xe,ne,_e=1/0){return(0,we.m)(ne)?ce((pe,nt)=>(0,_.U)((Ke,xt)=>ne(pe,Ke,nt,xt))((0,h.Xf)(xe(pe,nt))),_e):("number"==typeof ne&&(_e=ne),(0,Q.e)((pe,nt)=>function Se(xe,ne,_e,pe,nt,Ke,xt,ht){const Ze=[];let Le=0,Ee=0,Ct=!1;const Ve=()=>{Ct&&!Ze.length&&!Le&&ne.complete()},De=ze=>Le<pe?me(ze):Ze.push(ze),me=ze=>{Ke&&ne.next(ze),Le++;let Xe=!1;(0,h.Xf)(_e(ze,Ee++)).subscribe((0,Ae.x)(ne,ge=>{nt?.(ge),Ke?De(ge):ne.next(ge)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(Le--;Ze.length&&Le<pe;){const ge=Ze.shift();xt?(0,ve.f)(ne,xt,()=>me(ge)):me(ge)}Ve()}catch(ge){ne.error(ge)}}))};return xe.subscribe((0,Ae.x)(ne,De,()=>{Ct=!0,Ve()})),()=>{ht?.()}}(pe,nt,xe,_e)))}},5363:(Wt,Ge,P)=>{P.d(Ge,{Q:()=>ve});var _=P(9672),h=P(4482),Q=P(5403);function ve(Ae,Se=0){return(0,h.e)((we,ce)=>{we.subscribe((0,Q.x)(ce,xe=>(0,_.f)(ce,Ae,()=>ce.next(xe),Se),()=>(0,_.f)(ce,Ae,()=>ce.complete(),Se),xe=>(0,_.f)(ce,Ae,()=>ce.error(xe),Se)))})}},8343:(Wt,Ge,P)=>{P.d(Ge,{x:()=>Q});var _=P(4482),h=P(5403);function Q(){return(0,_.e)((ve,Ae)=>{let Se=null;ve._refCount++;const we=(0,h.x)(Ae,void 0,void 0,void 0,()=>{if(!ve||ve._refCount<=0||0<--ve._refCount)return void(Se=null);const ce=ve._connection,xe=Se;Se=null,ce&&(!xe||ce===xe)&&ce.unsubscribe(),Ae.unsubscribe()});ve.subscribe(we),we.closed||(Se=ve.connect())})}},5026:(Wt,Ge,P)=>{P.d(Ge,{R:()=>ve});var _=P(4482),h=P(5403);function ve(Ae,Se){return(0,_.e)(function Q(Ae,Se,we,ce,xe){return(ne,_e)=>{let pe=we,nt=Se,Ke=0;ne.subscribe((0,h.x)(_e,xt=>{const ht=Ke++;nt=pe?Ae(nt,xt,ht):(pe=!0,xt),ce&&_e.next(nt)},xe&&(()=>{pe&&_e.next(nt),_e.complete()})))}}(Ae,Se,arguments.length>=2,!0))}},3099:(Wt,Ge,P)=>{P.d(Ge,{B:()=>Ae});var _=P(8421),h=P(7579),Q=P(930),ve=P(4482);function Ae(we={}){const{connector:ce=(()=>new h.x),resetOnError:xe=!0,resetOnComplete:ne=!0,resetOnRefCountZero:_e=!0}=we;return pe=>{let nt,Ke,xt,ht=0,Ze=!1,Le=!1;const Ee=()=>{Ke?.unsubscribe(),Ke=void 0},Ct=()=>{Ee(),nt=xt=void 0,Ze=Le=!1},Ve=()=>{const De=nt;Ct(),De?.unsubscribe()};return(0,ve.e)((De,me)=>{ht++,!Le&&!Ze&&Ee();const ze=xt=xt??ce();me.add(()=>{ht--,0===ht&&!Le&&!Ze&&(Ke=Se(Ve,_e))}),ze.subscribe(me),!nt&&ht>0&&(nt=new Q.Hp({next:Xe=>ze.next(Xe),error:Xe=>{Le=!0,Ee(),Ke=Se(Ct,xe,Xe),ze.error(Xe)},complete:()=>{Ze=!0,Ee(),Ke=Se(Ct,ne),ze.complete()}}),(0,_.Xf)(De).subscribe(nt))})(pe)}}function Se(we,ce,...xe){if(!0===ce)return void we();if(!1===ce)return;const ne=new Q.Hp({next:()=>{ne.unsubscribe(),we()}});return(0,_.Xf)(ce(...xe)).subscribe(ne)}},3151:(Wt,Ge,P)=>{P.d(Ge,{d:()=>Ae});var _=P(7579),h=P(6063);class Q extends _.x{constructor(we=1/0,ce=1/0,xe=h.l){super(),this._bufferSize=we,this._windowTime=ce,this._timestampProvider=xe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ce===1/0,this._bufferSize=Math.max(1,we),this._windowTime=Math.max(1,ce)}next(we){const{isStopped:ce,_buffer:xe,_infiniteTimeWindow:ne,_timestampProvider:_e,_windowTime:pe}=this;ce||(xe.push(we),!ne&&xe.push(_e.now()+pe)),this._trimBuffer(),super.next(we)}_subscribe(we){this._throwIfClosed(),this._trimBuffer();const ce=this._innerSubscribe(we),{_infiniteTimeWindow:xe,_buffer:ne}=this,_e=ne.slice();for(let pe=0;pe<_e.length&&!we.closed;pe+=xe?1:2)we.next(_e[pe]);return this._checkFinalizedStatuses(we),ce}_trimBuffer(){const{_bufferSize:we,_timestampProvider:ce,_buffer:xe,_infiniteTimeWindow:ne}=this,_e=(ne?1:2)*we;if(we<1/0&&_e<xe.length&&xe.splice(0,xe.length-_e),!ne){const pe=ce.now();let nt=0;for(let Ke=1;Ke<xe.length&&xe[Ke]<=pe;Ke+=2)nt=Ke;nt&&xe.splice(0,nt+1)}}}var ve=P(3099);function Ae(Se,we,ce){let xe,ne=!1;return Se&&"object"==typeof Se?({bufferSize:xe=1/0,windowTime:we=1/0,refCount:ne=!1,scheduler:ce}=Se):xe=Se??1/0,(0,ve.B)({connector:()=>new Q(xe,we,ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ne})}},5684:(Wt,Ge,P)=>{P.d(Ge,{T:()=>h});var _=P(9300);function h(Q){return(0,_.h)((ve,Ae)=>Q<=Ae)}},8675:(Wt,Ge,P)=>{P.d(Ge,{O:()=>ve});var _=P(7272),h=P(3269),Q=P(4482);function ve(...Ae){const Se=(0,h.yG)(Ae);return(0,Q.e)((we,ce)=>{(Se?(0,_.z)(Ae,we,Se):(0,_.z)(Ae,we)).subscribe(ce)})}},9468:(Wt,Ge,P)=>{P.d(Ge,{R:()=>h});var _=P(4482);function h(Q,ve=0){return(0,_.e)((Ae,Se)=>{Se.add(Q.schedule(()=>Ae.subscribe(Se),ve))})}},3900:(Wt,Ge,P)=>{P.d(Ge,{w:()=>ve});var _=P(8421),h=P(4482),Q=P(5403);function ve(Ae,Se){return(0,h.e)((we,ce)=>{let xe=null,ne=0,_e=!1;const pe=()=>_e&&!xe&&ce.complete();we.subscribe((0,Q.x)(ce,nt=>{xe?.unsubscribe();let Ke=0;const xt=ne++;(0,_.Xf)(Ae(nt,xt)).subscribe(xe=(0,Q.x)(ce,ht=>ce.next(Se?Se(nt,ht,xt,Ke++):ht),()=>{xe=null,pe()}))},()=>{_e=!0,pe()}))})}},5698:(Wt,Ge,P)=>{P.d(Ge,{q:()=>ve});var _=P(515),h=P(4482),Q=P(5403);function ve(Ae){return Ae<=0?()=>_.E:(0,h.e)((Se,we)=>{let ce=0;Se.subscribe((0,Q.x)(we,xe=>{++ce<=Ae&&(we.next(xe),Ae<=ce&&we.complete())}))})}},2722:(Wt,Ge,P)=>{P.d(Ge,{R:()=>Ae});var _=P(4482),h=P(5403),Q=P(8421),ve=P(5032);function Ae(Se){return(0,_.e)((we,ce)=>{(0,Q.Xf)(Se).subscribe((0,h.x)(ce,()=>ce.complete(),ve.Z)),!ce.closed&&we.subscribe(ce)})}},2529:(Wt,Ge,P)=>{P.d(Ge,{o:()=>Q});var _=P(4482),h=P(5403);function Q(ve,Ae=!1){return(0,_.e)((Se,we)=>{let ce=0;Se.subscribe((0,h.x)(we,xe=>{const ne=ve(xe,ce++);(ne||Ae)&&we.next(xe),!ne&&we.complete()}))})}},8505:(Wt,Ge,P)=>{P.d(Ge,{b:()=>Ae});var _=P(576),h=P(4482),Q=P(5403),ve=P(4671);function Ae(Se,we,ce){const xe=(0,_.m)(Se)||we||ce?{next:Se,error:we,complete:ce}:Se;return xe?(0,h.e)((ne,_e)=>{var pe;null===(pe=xe.subscribe)||void 0===pe||pe.call(xe);let nt=!0;ne.subscribe((0,Q.x)(_e,Ke=>{var xt;null===(xt=xe.next)||void 0===xt||xt.call(xe,Ke),_e.next(Ke)},()=>{var Ke;nt=!1,null===(Ke=xe.complete)||void 0===Ke||Ke.call(xe),_e.complete()},Ke=>{var xt;nt=!1,null===(xt=xe.error)||void 0===xt||xt.call(xe,Ke),_e.error(Ke)},()=>{var Ke,xt;nt&&(null===(Ke=xe.unsubscribe)||void 0===Ke||Ke.call(xe)),null===(xt=xe.finalize)||void 0===xt||xt.call(xe)}))}):ve.y}},8068:(Wt,Ge,P)=>{P.d(Ge,{T:()=>ve});var _=P(6805),h=P(4482),Q=P(5403);function ve(Se=Ae){return(0,h.e)((we,ce)=>{let xe=!1;we.subscribe((0,Q.x)(ce,ne=>{xe=!0,ce.next(ne)},()=>xe?ce.complete():ce.error(Se())))})}function Ae(){return new _.K}},4408:(Wt,Ge,P)=>{P.d(Ge,{o:()=>Ae});var _=P(727);class h extends _.w0{constructor(we,ce){super()}schedule(we,ce=0){return this}}const Q={setInterval(Se,we,...ce){const{delegate:xe}=Q;return xe?.setInterval?xe.setInterval(Se,we,...ce):setInterval(Se,we,...ce)},clearInterval(Se){const{delegate:we}=Q;return(we?.clearInterval||clearInterval)(Se)},delegate:void 0};var ve=P(8737);class Ae extends h{constructor(we,ce){super(we,ce),this.scheduler=we,this.work=ce,this.pending=!1}schedule(we,ce=0){var xe;if(this.closed)return this;this.state=we;const ne=this.id,_e=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(_e,ne,ce)),this.pending=!0,this.delay=ce,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(_e,this.id,ce),this}requestAsyncId(we,ce,xe=0){return Q.setInterval(we.flush.bind(we,this),xe)}recycleAsyncId(we,ce,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return ce;null!=ce&&Q.clearInterval(ce)}execute(we,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(we,ce);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,ce){let ne,xe=!1;try{this.work(we)}catch(_e){xe=!0,ne=_e||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:we,scheduler:ce}=this,{actions:xe}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(xe,this),null!=we&&(this.id=this.recycleAsyncId(ce,we,null)),this.delay=null,super.unsubscribe()}}}},7565:(Wt,Ge,P)=>{P.d(Ge,{v:()=>Q});var _=P(6063);class h{constructor(Ae,Se=h.now){this.schedulerActionCtor=Ae,this.now=Se}schedule(Ae,Se=0,we){return new this.schedulerActionCtor(this,Ae).schedule(we,Se)}}h.now=_.l.now;class Q extends h{constructor(Ae,Se=h.now){super(Ae,Se),this.actions=[],this._active=!1}flush(Ae){const{actions:Se}=this;if(this._active)return void Se.push(Ae);let we;this._active=!0;do{if(we=Ae.execute(Ae.state,Ae.delay))break}while(Ae=Se.shift());if(this._active=!1,we){for(;Ae=Se.shift();)Ae.unsubscribe();throw we}}}},4986:(Wt,Ge,P)=>{P.d(Ge,{P:()=>ve,z:()=>Q});var _=P(4408);const Q=new(P(7565).v)(_.o),ve=Q},6063:(Wt,Ge,P)=>{P.d(Ge,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(Wt,Ge,P)=>{P.d(Ge,{z:()=>_});const _={setTimeout(h,Q,...ve){const{delegate:Ae}=_;return Ae?.setTimeout?Ae.setTimeout(h,Q,...ve):setTimeout(h,Q,...ve)},clearTimeout(h){const{delegate:Q}=_;return(Q?.clearTimeout||clearTimeout)(h)},delegate:void 0}},2202:(Wt,Ge,P)=>{P.d(Ge,{h:()=>h});const h=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Wt,Ge,P)=>{P.d(Ge,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Wt,Ge,P)=>{P.d(Ge,{K:()=>h});const h=(0,P(3888).d)(Q=>function(){Q(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Wt,Ge,P)=>{P.d(Ge,{_6:()=>Se,jO:()=>ve,yG:()=>Ae});var _=P(576),h=P(3532);function Q(we){return we[we.length-1]}function ve(we){return(0,_.m)(Q(we))?we.pop():void 0}function Ae(we){return(0,h.K)(Q(we))?we.pop():void 0}function Se(we,ce){return"number"==typeof Q(we)?we.pop():ce}},4742:(Wt,Ge,P)=>{P.d(Ge,{D:()=>Ae});const{isArray:_}=Array,{getPrototypeOf:h,prototype:Q,keys:ve}=Object;function Ae(we){if(1===we.length){const ce=we[0];if(_(ce))return{args:ce,keys:null};if(function Se(we){return we&&"object"==typeof we&&h(we)===Q}(ce)){const xe=ve(ce);return{args:xe.map(ne=>ce[ne]),keys:xe}}}return{args:we,keys:null}}},8737:(Wt,Ge,P)=>{function _(h,Q){if(h){const ve=h.indexOf(Q);0<=ve&&h.splice(ve,1)}}P.d(Ge,{P:()=>_})},3888:(Wt,Ge,P)=>{function _(h){const ve=h(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}P.d(Ge,{d:()=>_})},1810:(Wt,Ge,P)=>{function _(h,Q){return h.reduce((ve,Ae,Se)=>(ve[Ae]=Q[Se],ve),{})}P.d(Ge,{n:()=>_})},2806:(Wt,Ge,P)=>{P.d(Ge,{O:()=>ve,x:()=>Q});var _=P(2416);let h=null;function Q(Ae){if(_.v.useDeprecatedSynchronousErrorHandling){const Se=!h;if(Se&&(h={errorThrown:!1,error:null}),Ae(),Se){const{errorThrown:we,error:ce}=h;if(h=null,we)throw ce}}else Ae()}function ve(Ae){_.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=Ae)}},9672:(Wt,Ge,P)=>{function _(h,Q,ve,Ae=0,Se=!1){const we=Q.schedule(function(){ve(),Se?h.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(h.add(we),!Se)return we}P.d(Ge,{f:()=>_})},4671:(Wt,Ge,P)=>{function _(h){return h}P.d(Ge,{y:()=>_})},1144:(Wt,Ge,P)=>{P.d(Ge,{z:()=>_});const _=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(Wt,Ge,P)=>{P.d(Ge,{D:()=>h});var _=P(576);function h(Q){return Symbol.asyncIterator&&(0,_.m)(Q?.[Symbol.asyncIterator])}},576:(Wt,Ge,P)=>{function _(h){return"function"==typeof h}P.d(Ge,{m:()=>_})},3670:(Wt,Ge,P)=>{P.d(Ge,{c:()=>Q});var _=P(8822),h=P(576);function Q(ve){return(0,h.m)(ve[_.L])}},6495:(Wt,Ge,P)=>{P.d(Ge,{T:()=>Q});var _=P(2202),h=P(576);function Q(ve){return(0,h.m)(ve?.[_.h])}},8239:(Wt,Ge,P)=>{P.d(Ge,{t:()=>h});var _=P(576);function h(Q){return(0,_.m)(Q?.then)}},3260:(Wt,Ge,P)=>{P.d(Ge,{L:()=>ve,Q:()=>Q});var _=P(655),h=P(576);function Q(Ae){return(0,_.FC)(this,arguments,function*(){const we=Ae.getReader();try{for(;;){const{value:ce,done:xe}=yield(0,_.qq)(we.read());if(xe)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(ce)}}finally{we.releaseLock()}})}function ve(Ae){return(0,h.m)(Ae?.getReader)}},3532:(Wt,Ge,P)=>{P.d(Ge,{K:()=>h});var _=P(576);function h(Q){return Q&&(0,_.m)(Q.schedule)}},4482:(Wt,Ge,P)=>{P.d(Ge,{A:()=>h,e:()=>Q});var _=P(576);function h(ve){return(0,_.m)(ve?.lift)}function Q(ve){return Ae=>{if(h(Ae))return Ae.lift(function(Se){try{return ve(Se,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Wt,Ge,P)=>{P.d(Ge,{Z:()=>ve});var _=P(4004);const{isArray:h}=Array;function ve(Ae){return(0,_.U)(Se=>function Q(Ae,Se){return h(Se)?Ae(...Se):Ae(Se)}(Ae,Se))}},5032:(Wt,Ge,P)=>{function _(){}P.d(Ge,{Z:()=>_})},9635:(Wt,Ge,P)=>{P.d(Ge,{U:()=>Q,z:()=>h});var _=P(4671);function h(...ve){return Q(ve)}function Q(ve){return 0===ve.length?_.y:1===ve.length?ve[0]:function(Se){return ve.reduce((we,ce)=>ce(we),Se)}}},7849:(Wt,Ge,P)=>{P.d(Ge,{h:()=>Q});var _=P(2416),h=P(3410);function Q(ve){h.z.setTimeout(()=>{const{onUnhandledError:Ae}=_.v;if(!Ae)throw ve;Ae(ve)})}},4532:(Wt,Ge,P)=>{function _(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ge,{z:()=>_})},655:(Wt,Ge,P)=>{function ve(rt,ft){var Et={};for(var Mt in rt)Object.prototype.hasOwnProperty.call(rt,Mt)&&ft.indexOf(Mt)<0&&(Et[Mt]=rt[Mt]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var It=0;for(Mt=Object.getOwnPropertySymbols(rt);It<Mt.length;It++)ft.indexOf(Mt[It])<0&&Object.prototype.propertyIsEnumerable.call(rt,Mt[It])&&(Et[Mt[It]]=rt[Mt[It]])}return Et}function pe(rt,ft,Et,Mt){return new(Et||(Et=Promise))(function(kt,St){function bt(bn){try{at(Mt.next(bn))}catch(sn){St(sn)}}function et(bn){try{at(Mt.throw(bn))}catch(sn){St(sn)}}function at(bn){bn.done?kt(bn.value):function It(kt){return kt instanceof Et?kt:new Et(function(St){St(kt)})}(bn.value).then(bt,et)}at((Mt=Mt.apply(rt,ft||[])).next())})}function Ve(rt){return this instanceof Ve?(this.v=rt,this):new Ve(rt)}function De(rt,ft,Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,Mt=Et.apply(rt,ft||[]),kt=[];return It={},St("next"),St("throw"),St("return"),It[Symbol.asyncIterator]=function(){return this},It;function St(Tn){Mt[Tn]&&(It[Tn]=function(wn){return new Promise(function(On,Hn){kt.push([Tn,wn,On,Hn])>1||bt(Tn,wn)})})}function bt(Tn,wn){try{!function et(Tn){Tn.value instanceof Ve?Promise.resolve(Tn.value.v).then(at,bn):sn(kt[0][2],Tn)}(Mt[Tn](wn))}catch(On){sn(kt[0][3],On)}}function at(Tn){bt("next",Tn)}function bn(Tn){bt("throw",Tn)}function sn(Tn,wn){Tn(wn),kt.shift(),kt.length&&bt(kt[0][0],kt[0][1])}}function ze(rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,ft=rt[Symbol.asyncIterator];return ft?ft.call(rt):(rt=function ht(rt){var ft="function"==typeof Symbol&&Symbol.iterator,Et=ft&&rt[ft],Mt=0;if(Et)return Et.call(rt);if(rt&&"number"==typeof rt.length)return{next:function(){return rt&&Mt>=rt.length&&(rt=void 0),{value:rt&&rt[Mt++],done:!rt}}};throw new TypeError(ft?"Object is not iterable.":"Symbol.iterator is not defined.")}(rt),Et={},Mt("next"),Mt("throw"),Mt("return"),Et[Symbol.asyncIterator]=function(){return this},Et);function Mt(kt){Et[kt]=rt[kt]&&function(St){return new Promise(function(bt,et){!function It(kt,St,bt,et){Promise.resolve(et).then(function(at){kt({value:at,done:bt})},St)}(bt,et,(St=rt[kt](St)).done,St.value)})}}}P.d(Ge,{FC:()=>De,KL:()=>ze,_T:()=>ve,mG:()=>pe,qq:()=>Ve})},7340:(Wt,Ge,P)=>{P.d(Ge,{IO:()=>xt,LC:()=>h,SB:()=>xe,X$:()=>ve,ZE:()=>Ee,ZN:()=>Le,_j:()=>_,eR:()=>_e,jt:()=>Ae,k1:()=>Ct,l3:()=>Q,oB:()=>ce,pV:()=>nt,ru:()=>Se,vP:()=>we});class _{}class h{}const Q="*";function ve(Ve,De){return{type:7,name:Ve,definitions:De,options:{}}}function Ae(Ve,De=null){return{type:4,styles:De,timings:Ve}}function Se(Ve,De=null){return{type:3,steps:Ve,options:De}}function we(Ve,De=null){return{type:2,steps:Ve,options:De}}function ce(Ve){return{type:6,styles:Ve,offset:null}}function xe(Ve,De,me){return{type:0,name:Ve,styles:De,options:me}}function _e(Ve,De,me=null){return{type:1,expr:Ve,animation:De,options:me}}function nt(Ve=null){return{type:9,options:Ve}}function xt(Ve,De,me=null){return{type:11,selector:Ve,animation:De,options:me}}function Ze(Ve){Promise.resolve().then(Ve)}class Le{constructor(De=0,me=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+me}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._originalOnStartFns.push(De),this._onStartFns.push(De)}onDone(De){this._originalOnDoneFns.push(De),this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ze(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const me="start"==De?this._onStartFns:this._onDoneFns;me.forEach(ze=>ze()),me.length=0}}class Ee{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let me=0,ze=0,Xe=0;const ge=this.players.length;0==ge?Ze(()=>this._onFinish()):this.players.forEach(Ce=>{Ce.onDone(()=>{++me==ge&&this._onFinish()}),Ce.onDestroy(()=>{++ze==ge&&this._onDestroy()}),Ce.onStart(()=>{++Xe==ge&&this._onStart()})}),this.totalTime=this.players.reduce((Ce,$e)=>Math.max(Ce,$e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const me=De*this.totalTime;this.players.forEach(ze=>{const Xe=ze.totalTime?Math.min(1,me/ze.totalTime):1;ze.setPosition(Xe)})}getPosition(){const De=this.players.reduce((me,ze)=>null===me||ze.totalTime>me.totalTime?ze:me,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const me="start"==De?this._onStartFns:this._onDoneFns;me.forEach(ze=>ze()),me.length=0}}const Ct="!"},2687:(Wt,Ge,P)=>{P.d(Ge,{Em:()=>ft,Kd:()=>Yt,X6:()=>fn,ic:()=>Mt,qV:()=>jn,qm:()=>$t,rt:()=>Re,s1:()=>rt,tE:()=>xn,yG:()=>vi});var _=P(6895),h=P(4650),Q=P(3353),ve=P(7579),Ae=P(727),Se=P(1135),we=P(9646),ce=P(9521),xe=P(8505),ne=P(8372),_e=P(9300),pe=P(4004),nt=P(5698),Ke=P(5684),xt=P(1884),ht=P(2722),Ze=P(1281),Le=P(9643),Ee=P(2289);class Nt{constructor(N){this._items=N,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ve.x,this._typeaheadSubscription=Ae.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=H=>H.disabled,this._pressedLetters=[],this.tabOut=new ve.x,this.change=new ve.x,N instanceof h.n_E&&(this._itemChangesSubscription=N.changes.subscribe(H=>{if(this._activeItem){const Ie=H.toArray().indexOf(this._activeItem);Ie>-1&&Ie!==this._activeItemIndex&&(this._activeItemIndex=Ie)}}))}skipPredicate(N){return this._skipPredicateFn=N,this}withWrap(N=!0){return this._wrap=N,this}withVerticalOrientation(N=!0){return this._vertical=N,this}withHorizontalOrientation(N){return this._horizontal=N,this}withAllowedModifierKeys(N){return this._allowedModifierKeys=N,this}withTypeAhead(N=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,xe.b)(H=>this._pressedLetters.push(H)),(0,ne.b)(N),(0,_e.h)(()=>this._pressedLetters.length>0),(0,pe.U)(()=>this._pressedLetters.join(""))).subscribe(H=>{const ue=this._getItemsArray();for(let Ie=1;Ie<ue.length+1;Ie++){const se=(this._activeItemIndex+Ie)%ue.length,be=ue[se];if(!this._skipPredicateFn(be)&&0===be.getLabel().toUpperCase().trim().indexOf(H)){this.setActiveItem(se);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(N=!0){return this._homeAndEnd=N,this}withPageUpDown(N=!0,H=10){return this._pageUpAndDown={enabled:N,delta:H},this}setActiveItem(N){const H=this._activeItem;this.updateActiveItem(N),this._activeItem!==H&&this.change.next(this._activeItemIndex)}onKeydown(N){const H=N.keyCode,Ie=["altKey","ctrlKey","metaKey","shiftKey"].every(se=>!N[se]||this._allowedModifierKeys.indexOf(se)>-1);switch(H){case ce.Mf:return void this.tabOut.next();case ce.JH:if(this._vertical&&Ie){this.setNextItemActive();break}return;case ce.LH:if(this._vertical&&Ie){this.setPreviousItemActive();break}return;case ce.SV:if(this._horizontal&&Ie){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ce.oh:if(this._horizontal&&Ie){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ce.Sd:if(this._homeAndEnd&&Ie){this.setFirstItemActive();break}return;case ce.uR:if(this._homeAndEnd&&Ie){this.setLastItemActive();break}return;case ce.Ku:if(this._pageUpAndDown.enabled&&Ie){const se=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(se>0?se:0,1);break}return;case ce.VM:if(this._pageUpAndDown.enabled&&Ie){const se=this._activeItemIndex+this._pageUpAndDown.delta,be=this._getItemsArray().length;this._setActiveItemByIndex(se<be?se:be-1,-1);break}return;default:return void((Ie||(0,ce.Vb)(N,"shiftKey"))&&(N.key&&1===N.key.length?this._letterKeyStream.next(N.key.toLocaleUpperCase()):(H>=ce.A&&H<=ce.Z||H>=ce.xE&&H<=ce.aO)&&this._letterKeyStream.next(String.fromCharCode(H))))}this._pressedLetters=[],N.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(N){const H=this._getItemsArray(),ue="number"==typeof N?N:H.indexOf(N);this._activeItem=H[ue]??null,this._activeItemIndex=ue}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(N){this._wrap?this._setActiveInWrapMode(N):this._setActiveInDefaultMode(N)}_setActiveInWrapMode(N){const H=this._getItemsArray();for(let ue=1;ue<=H.length;ue++){const Ie=(this._activeItemIndex+N*ue+H.length)%H.length;if(!this._skipPredicateFn(H[Ie]))return void this.setActiveItem(Ie)}}_setActiveInDefaultMode(N){this._setActiveItemByIndex(this._activeItemIndex+N,N)}_setActiveItemByIndex(N,H){const ue=this._getItemsArray();if(ue[N]){for(;this._skipPredicateFn(ue[N]);)if(!ue[N+=H])return;this.setActiveItem(N)}}_getItemsArray(){return this._items instanceof h.n_E?this._items.toArray():this._items}}class rt extends Nt{setActiveItem(N){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(N),this.activeItem&&this.activeItem.setActiveStyles()}}class ft extends Nt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(N){return this._origin=N,this}setActiveItem(N){super.setActiveItem(N),this.activeItem&&this.activeItem.focus(this._origin)}}let Mt=(()=>{class K{constructor(H){this._platform=H}isDisabled(H){return H.hasAttribute("disabled")}isVisible(H){return function kt(K){return!!(K.offsetWidth||K.offsetHeight||"function"==typeof K.getClientRects&&K.getClientRects().length)}(H)&&"visible"===getComputedStyle(H).visibility}isTabbable(H){if(!this._platform.isBrowser)return!1;const ue=function It(K){try{return K.frameElement}catch{return null}}(function Hn(K){return K.ownerDocument&&K.ownerDocument.defaultView||window}(H));if(ue&&(-1===Tn(ue)||!this.isVisible(ue)))return!1;let Ie=H.nodeName.toLowerCase(),se=Tn(H);return H.hasAttribute("contenteditable")?-1!==se:!("iframe"===Ie||"object"===Ie||this._platform.WEBKIT&&this._platform.IOS&&!function wn(K){let N=K.nodeName.toLowerCase(),H="input"===N&&K.type;return"text"===H||"password"===H||"select"===N||"textarea"===N}(H))&&("audio"===Ie?!!H.hasAttribute("controls")&&-1!==se:"video"===Ie?-1!==se&&(null!==se||this._platform.FIREFOX||H.hasAttribute("controls")):H.tabIndex>=0)}isFocusable(H,ue){return function On(K){return!function bt(K){return function at(K){return"input"==K.nodeName.toLowerCase()}(K)&&"hidden"==K.type}(K)&&(function St(K){let N=K.nodeName.toLowerCase();return"input"===N||"select"===N||"button"===N||"textarea"===N}(K)||function et(K){return function bn(K){return"a"==K.nodeName.toLowerCase()}(K)&&K.hasAttribute("href")}(K)||K.hasAttribute("contenteditable")||sn(K))}(H)&&!this.isDisabled(H)&&(ue?.ignoreVisibility||this.isVisible(H))}}return K.\u0275fac=function(H){return new(H||K)(h.LFG(Q.t4))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function sn(K){if(!K.hasAttribute("tabindex")||void 0===K.tabIndex)return!1;let N=K.getAttribute("tabindex");return!(!N||isNaN(parseInt(N,10)))}function Tn(K){if(!sn(K))return null;const N=parseInt(K.getAttribute("tabindex")||"",10);return isNaN(N)?-1:N}class Ci{get enabled(){return this._enabled}set enabled(N){this._enabled=N,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(N,this._startAnchor),this._toggleAnchorTabIndex(N,this._endAnchor))}constructor(N,H,ue,Ie,se=!1){this._element=N,this._checker=H,this._ngZone=ue,this._document=Ie,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,se||this.attachAnchors()}destroy(){const N=this._startAnchor,H=this._endAnchor;N&&(N.removeEventListener("focus",this.startAnchorListener),N.remove()),H&&(H.removeEventListener("focus",this.endAnchorListener),H.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(N){return new Promise(H=>{this._executeOnStable(()=>H(this.focusInitialElement(N)))})}focusFirstTabbableElementWhenReady(N){return new Promise(H=>{this._executeOnStable(()=>H(this.focusFirstTabbableElement(N)))})}focusLastTabbableElementWhenReady(N){return new Promise(H=>{this._executeOnStable(()=>H(this.focusLastTabbableElement(N)))})}_getRegionBoundary(N){const H=this._element.querySelectorAll(`[cdk-focus-region-${N}], [cdkFocusRegion${N}], [cdk-focus-${N}]`);return"start"==N?H.length?H[0]:this._getFirstTabbableElement(this._element):H.length?H[H.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(N){const H=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(H){if(!this._checker.isFocusable(H)){const ue=this._getFirstTabbableElement(H);return ue?.focus(N),!!ue}return H.focus(N),!0}return this.focusFirstTabbableElement(N)}focusFirstTabbableElement(N){const H=this._getRegionBoundary("start");return H&&H.focus(N),!!H}focusLastTabbableElement(N){const H=this._getRegionBoundary("end");return H&&H.focus(N),!!H}hasAttached(){return this._hasAttached}_getFirstTabbableElement(N){if(this._checker.isFocusable(N)&&this._checker.isTabbable(N))return N;const H=N.children;for(let ue=0;ue<H.length;ue++){const Ie=H[ue].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(H[ue]):null;if(Ie)return Ie}return null}_getLastTabbableElement(N){if(this._checker.isFocusable(N)&&this._checker.isTabbable(N))return N;const H=N.children;for(let ue=H.length-1;ue>=0;ue--){const Ie=H[ue].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(H[ue]):null;if(Ie)return Ie}return null}_createAnchor(){const N=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,N),N.classList.add("cdk-visually-hidden"),N.classList.add("cdk-focus-trap-anchor"),N.setAttribute("aria-hidden","true"),N}_toggleAnchorTabIndex(N,H){N?H.setAttribute("tabindex","0"):H.removeAttribute("tabindex")}toggleAnchors(N){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(N,this._startAnchor),this._toggleAnchorTabIndex(N,this._endAnchor))}_executeOnStable(N){this._ngZone.isStable?N():this._ngZone.onStable.pipe((0,nt.q)(1)).subscribe(N)}}let jn=(()=>{class K{constructor(H,ue,Ie){this._checker=H,this._ngZone=ue,this._document=Ie}create(H,ue=!1){return new Ci(H,this._checker,this._ngZone,this._document,ue)}}return K.\u0275fac=function(H){return new(H||K)(h.LFG(Mt),h.LFG(h.R0b),h.LFG(_.K0))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function fn(K){return 0===K.buttons||0===K.offsetX&&0===K.offsetY}function vi(K){const N=K.touches&&K.touches[0]||K.changedTouches&&K.changedTouches[0];return!(!N||-1!==N.identifier||null!=N.radiusX&&1!==N.radiusX||null!=N.radiusY&&1!==N.radiusY)}const Gi=new h.OlP("cdk-input-modality-detector-options"),fi={ignoreKeys:[ce.zL,ce.jx,ce.b2,ce.MW,ce.JU]},Di=(0,Q.i$)({passive:!0,capture:!0});let Sn=(()=>{class K{get mostRecentModality(){return this._modality.value}constructor(H,ue,Ie,se){this._platform=H,this._mostRecentTarget=null,this._modality=new Se.X(null),this._lastTouchMs=0,this._onKeydown=be=>{this._options?.ignoreKeys?.some(Fe=>Fe===be.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,Q.sA)(be))},this._onMousedown=be=>{Date.now()-this._lastTouchMs<650||(this._modality.next(fn(be)?"keyboard":"mouse"),this._mostRecentTarget=(0,Q.sA)(be))},this._onTouchstart=be=>{vi(be)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,Q.sA)(be))},this._options={...fi,...se},this.modalityDetected=this._modality.pipe((0,Ke.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,xt.x)()),H.isBrowser&&ue.runOutsideAngular(()=>{Ie.addEventListener("keydown",this._onKeydown,Di),Ie.addEventListener("mousedown",this._onMousedown,Di),Ie.addEventListener("touchstart",this._onTouchstart,Di)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Di),document.removeEventListener("mousedown",this._onMousedown,Di),document.removeEventListener("touchstart",this._onTouchstart,Di))}}return K.\u0275fac=function(H){return new(H||K)(h.LFG(Q.t4),h.LFG(h.R0b),h.LFG(_.K0),h.LFG(Gi,8))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const an=new h.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Dt(){return null}}),Un=new h.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ot=0,Yt=(()=>{class K{constructor(H,ue,Ie,se){this._ngZone=ue,this._defaultOptions=se,this._document=Ie,this._liveElement=H||this._createLiveElement()}announce(H,...ue){const Ie=this._defaultOptions;let se,be;return 1===ue.length&&"number"==typeof ue[0]?be=ue[0]:[se,be]=ue,this.clear(),clearTimeout(this._previousTimeout),se||(se=Ie&&Ie.politeness?Ie.politeness:"polite"),null==be&&Ie&&(be=Ie.duration),this._liveElement.setAttribute("aria-live",se),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Fe=>this._currentResolve=Fe)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=H,"number"==typeof be&&(this._previousTimeout=setTimeout(()=>this.clear(),be)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const H="cdk-live-announcer-element",ue=this._document.getElementsByClassName(H),Ie=this._document.createElement("div");for(let se=0;se<ue.length;se++)ue[se].remove();return Ie.classList.add(H),Ie.classList.add("cdk-visually-hidden"),Ie.setAttribute("aria-atomic","true"),Ie.setAttribute("aria-live","polite"),Ie.id="cdk-live-announcer-"+Ot++,this._document.body.appendChild(Ie),Ie}_exposeAnnouncerToModals(H){const ue=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ie=0;Ie<ue.length;Ie++){const se=ue[Ie],be=se.getAttribute("aria-owns");be?-1===be.indexOf(H)&&se.setAttribute("aria-owns",be+" "+H):se.setAttribute("aria-owns",H)}}}return K.\u0275fac=function(H){return new(H||K)(h.LFG(an,8),h.LFG(h.R0b),h.LFG(_.K0),h.LFG(Un,8))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const Ft=new h.OlP("cdk-focus-monitor-default-options"),Pn=(0,Q.i$)({passive:!0,capture:!0});let xn=(()=>{class K{constructor(H,ue,Ie,se,be){this._ngZone=H,this._platform=ue,this._inputModalityDetector=Ie,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ve.x,this._rootNodeFocusAndBlurListener=Fe=>{for(let Ye=(0,Q.sA)(Fe);Ye;Ye=Ye.parentElement)"focus"===Fe.type?this._onFocus(Fe,Ye):this._onBlur(Fe,Ye)},this._document=se,this._detectionMode=be?.detectionMode||0}monitor(H,ue=!1){const Ie=(0,Ze.fI)(H);if(!this._platform.isBrowser||1!==Ie.nodeType)return(0,we.of)(null);const se=(0,Q.kV)(Ie)||this._getDocument(),be=this._elementInfo.get(Ie);if(be)return ue&&(be.checkChildren=!0),be.subject;const Fe={checkChildren:ue,subject:new ve.x,rootNode:se};return this._elementInfo.set(Ie,Fe),this._registerGlobalListeners(Fe),Fe.subject}stopMonitoring(H){const ue=(0,Ze.fI)(H),Ie=this._elementInfo.get(ue);Ie&&(Ie.subject.complete(),this._setClasses(ue),this._elementInfo.delete(ue),this._removeGlobalListeners(Ie))}focusVia(H,ue,Ie){const se=(0,Ze.fI)(H);se===this._getDocument().activeElement?this._getClosestElementsInfo(se).forEach(([Fe,ot])=>this._originChanged(Fe,ue,ot)):(this._setOrigin(ue),"function"==typeof se.focus&&se.focus(Ie))}ngOnDestroy(){this._elementInfo.forEach((H,ue)=>this.stopMonitoring(ue))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(H){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(H)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:H&&this._isLastInteractionFromInputLabel(H)?"mouse":"program"}_shouldBeAttributedToTouch(H){return 1===this._detectionMode||!!H?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(H,ue){H.classList.toggle("cdk-focused",!!ue),H.classList.toggle("cdk-touch-focused","touch"===ue),H.classList.toggle("cdk-keyboard-focused","keyboard"===ue),H.classList.toggle("cdk-mouse-focused","mouse"===ue),H.classList.toggle("cdk-program-focused","program"===ue)}_setOrigin(H,ue=!1){this._ngZone.runOutsideAngular(()=>{this._origin=H,this._originFromTouchInteraction="touch"===H&&ue,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(H,ue){const Ie=this._elementInfo.get(ue),se=(0,Q.sA)(H);!Ie||!Ie.checkChildren&&ue!==se||this._originChanged(ue,this._getFocusOrigin(se),Ie)}_onBlur(H,ue){const Ie=this._elementInfo.get(ue);!Ie||Ie.checkChildren&&H.relatedTarget instanceof Node&&ue.contains(H.relatedTarget)||(this._setClasses(ue),this._emitOrigin(Ie,null))}_emitOrigin(H,ue){H.subject.observers.length&&this._ngZone.run(()=>H.subject.next(ue))}_registerGlobalListeners(H){if(!this._platform.isBrowser)return;const ue=H.rootNode,Ie=this._rootNodeFocusListenerCount.get(ue)||0;Ie||this._ngZone.runOutsideAngular(()=>{ue.addEventListener("focus",this._rootNodeFocusAndBlurListener,Pn),ue.addEventListener("blur",this._rootNodeFocusAndBlurListener,Pn)}),this._rootNodeFocusListenerCount.set(ue,Ie+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ht.R)(this._stopInputModalityDetector)).subscribe(se=>{this._setOrigin(se,!0)}))}_removeGlobalListeners(H){const ue=H.rootNode;if(this._rootNodeFocusListenerCount.has(ue)){const Ie=this._rootNodeFocusListenerCount.get(ue);Ie>1?this._rootNodeFocusListenerCount.set(ue,Ie-1):(ue.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Pn),ue.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Pn),this._rootNodeFocusListenerCount.delete(ue))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(H,ue,Ie){this._setClasses(H,ue),this._emitOrigin(Ie,ue),this._lastFocusOrigin=ue}_getClosestElementsInfo(H){const ue=[];return this._elementInfo.forEach((Ie,se)=>{(se===H||Ie.checkChildren&&se.contains(H))&&ue.push([se,Ie])}),ue}_isLastInteractionFromInputLabel(H){const{_mostRecentTarget:ue,mostRecentModality:Ie}=this._inputModalityDetector;if("mouse"!==Ie||!ue||ue===H||"INPUT"!==H.nodeName&&"TEXTAREA"!==H.nodeName||H.disabled)return!1;const se=H.labels;if(se)for(let be=0;be<se.length;be++)if(se[be].contains(ue))return!0;return!1}}return K.\u0275fac=function(H){return new(H||K)(h.LFG(h.R0b),h.LFG(Q.t4),h.LFG(Sn),h.LFG(_.K0,8),h.LFG(Ft,8))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const Rn="cdk-high-contrast-black-on-white",Mi="cdk-high-contrast-white-on-black",si="cdk-high-contrast-active";let $t=(()=>{class K{constructor(H,ue){this._platform=H,this._document=ue,this._breakpointSubscription=(0,h.f3M)(Ee.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const H=this._document.createElement("div");H.style.backgroundColor="rgb(1,2,3)",H.style.position="absolute",this._document.body.appendChild(H);const ue=this._document.defaultView||window,Ie=ue&&ue.getComputedStyle?ue.getComputedStyle(H):null,se=(Ie&&Ie.backgroundColor||"").replace(/ /g,"");switch(H.remove(),se){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const H=this._document.body.classList;H.remove(si,Rn,Mi),this._hasCheckedHighContrastMode=!0;const ue=this.getHighContrastMode();1===ue?H.add(si,Rn):2===ue&&H.add(si,Mi)}}}return K.\u0275fac=function(H){return new(H||K)(h.LFG(Q.t4),h.LFG(_.K0))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),Re=(()=>{class K{constructor(H){H._applyBodyHighContrastModeCssClasses()}}return K.\u0275fac=function(H){return new(H||K)(h.LFG($t))},K.\u0275mod=h.oAB({type:K}),K.\u0275inj=h.cJS({imports:[Le.Q8]}),K})()},445:(Wt,Ge,P)=>{P.d(Ge,{Is:()=>we,vT:()=>xe});var _=P(4650),h=P(6895);const Q=new _.OlP("cdk-dir-doc",{providedIn:"root",factory:function ve(){return(0,_.f3M)(h.K0)}}),Ae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let we=(()=>{class ne{constructor(pe){this.value="ltr",this.change=new _.vpe,pe&&(this.value=function Se(ne){const _e=ne?.toLowerCase()||"";return"auto"===_e&&typeof navigator<"u"&&navigator?.language?Ae.test(navigator.language)?"rtl":"ltr":"rtl"===_e?"rtl":"ltr"}((pe.body?pe.body.dir:null)||(pe.documentElement?pe.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return ne.\u0275fac=function(pe){return new(pe||ne)(_.LFG(Q,8))},ne.\u0275prov=_.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),xe=(()=>{class ne{}return ne.\u0275fac=function(pe){return new(pe||ne)},ne.\u0275mod=_.oAB({type:ne}),ne.\u0275inj=_.cJS({}),ne})()},1281:(Wt,Ge,P)=>{P.d(Ge,{Eq:()=>Ae,HM:()=>Se,Ig:()=>h,fI:()=>we,su:()=>Q});var _=P(4650);function h(xe){return null!=xe&&"false"!=`${xe}`}function Q(xe,ne=0){return function ve(xe){return!isNaN(parseFloat(xe))&&!isNaN(Number(xe))}(xe)?Number(xe):ne}function Ae(xe){return Array.isArray(xe)?xe:[xe]}function Se(xe){return null==xe?"":"string"==typeof xe?xe:`${xe}px`}function we(xe){return xe instanceof _.SBq?xe.nativeElement:xe}},9521:(Wt,Ge,P)=>{P.d(Ge,{A:()=>bt,JH:()=>Ct,JU:()=>Se,K5:()=>Ae,Ku:()=>nt,LH:()=>Le,L_:()=>pe,MW:()=>Un,Mf:()=>Q,SV:()=>Ee,Sd:()=>ht,VM:()=>Ke,Vb:()=>xr,Z:()=>Dt,aO:()=>Et,b2:()=>Ri,hY:()=>_e,jx:()=>we,oh:()=>Ze,uR:()=>xt,xE:()=>Xe,zL:()=>ce});const Q=9,Ae=13,Se=16,we=17,ce=18,_e=27,pe=32,nt=33,Ke=34,xt=35,ht=36,Ze=37,Le=38,Ee=39,Ct=40,Xe=48,Et=57,bt=65,Dt=90,Un=91,Ri=224;function xr(Er,...qn){return qn.length?qn.some(Nr=>Er[Nr]):Er.altKey||Er.shiftKey||Er.ctrlKey||Er.metaKey}},2289:(Wt,Ge,P)=>{P.d(Ge,{Yg:()=>Ct,u3:()=>De,xu:()=>Ke});var _=P(4650),h=P(1281),Q=P(7579),ve=P(9841),Ae=P(7272),Se=P(9751),we=P(5698),ce=P(5684),xe=P(8372),ne=P(4004),_e=P(8675),pe=P(2722),nt=P(3353);let Ke=(()=>{class me{}return me.\u0275fac=function(Xe){return new(Xe||me)},me.\u0275mod=_.oAB({type:me}),me.\u0275inj=_.cJS({}),me})();const xt=new Set;let ht,Ze=(()=>{class me{constructor(Xe){this._platform=Xe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ee}matchMedia(Xe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Le(me){if(!xt.has(me))try{ht||(ht=document.createElement("style"),ht.setAttribute("type","text/css"),document.head.appendChild(ht)),ht.sheet&&(ht.sheet.insertRule(`@media ${me} {body{ }}`,0),xt.add(me))}catch(ze){console.error(ze)}}(Xe),this._matchMedia(Xe)}}return me.\u0275fac=function(Xe){return new(Xe||me)(_.LFG(nt.t4))},me.\u0275prov=_.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();function Ee(me){return{matches:"all"===me||""===me,media:me,addListener:()=>{},removeListener:()=>{}}}let Ct=(()=>{class me{constructor(Xe,ge){this._mediaMatcher=Xe,this._zone=ge,this._queries=new Map,this._destroySubject=new Q.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Xe){return Ve((0,h.Eq)(Xe)).some(Ce=>this._registerQuery(Ce).mql.matches)}observe(Xe){const Ce=Ve((0,h.Eq)(Xe)).map(mt=>this._registerQuery(mt).observable);let $e=(0,ve.a)(Ce);return $e=(0,Ae.z)($e.pipe((0,we.q)(1)),$e.pipe((0,ce.T)(1),(0,xe.b)(0))),$e.pipe((0,ne.U)(mt=>{const nn={matches:!1,breakpoints:{}};return mt.forEach(({matches:Nt,query:rt})=>{nn.matches=nn.matches||Nt,nn.breakpoints[rt]=Nt}),nn}))}_registerQuery(Xe){if(this._queries.has(Xe))return this._queries.get(Xe);const ge=this._mediaMatcher.matchMedia(Xe),$e={observable:new Se.y(mt=>{const nn=Nt=>this._zone.run(()=>mt.next(Nt));return ge.addListener(nn),()=>{ge.removeListener(nn)}}).pipe((0,_e.O)(ge),(0,ne.U)(({matches:mt})=>({query:Xe,matches:mt})),(0,pe.R)(this._destroySubject)),mql:ge};return this._queries.set(Xe,$e),$e}}return me.\u0275fac=function(Xe){return new(Xe||me)(_.LFG(Ze),_.LFG(_.R0b))},me.\u0275prov=_.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();function Ve(me){return me.map(ze=>ze.split(",")).reduce((ze,Xe)=>ze.concat(Xe)).map(ze=>ze.trim())}const De={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(Wt,Ge,P)=>{P.d(Ge,{Q8:()=>xe,wD:()=>ce});var _=P(1281),h=P(4650),Q=P(9751),ve=P(7579),Ae=P(8372);let Se=(()=>{class ne{create(pe){return typeof MutationObserver>"u"?null:new MutationObserver(pe)}}return ne.\u0275fac=function(pe){return new(pe||ne)},ne.\u0275prov=h.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),we=(()=>{class ne{constructor(pe){this._mutationObserverFactory=pe,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((pe,nt)=>this._cleanupObserver(nt))}observe(pe){const nt=(0,_.fI)(pe);return new Q.y(Ke=>{const ht=this._observeElement(nt).subscribe(Ke);return()=>{ht.unsubscribe(),this._unobserveElement(nt)}})}_observeElement(pe){if(this._observedElements.has(pe))this._observedElements.get(pe).count++;else{const nt=new ve.x,Ke=this._mutationObserverFactory.create(xt=>nt.next(xt));Ke&&Ke.observe(pe,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(pe,{observer:Ke,stream:nt,count:1})}return this._observedElements.get(pe).stream}_unobserveElement(pe){this._observedElements.has(pe)&&(this._observedElements.get(pe).count--,this._observedElements.get(pe).count||this._cleanupObserver(pe))}_cleanupObserver(pe){if(this._observedElements.has(pe)){const{observer:nt,stream:Ke}=this._observedElements.get(pe);nt&&nt.disconnect(),Ke.complete(),this._observedElements.delete(pe)}}}return ne.\u0275fac=function(pe){return new(pe||ne)(h.LFG(Se))},ne.\u0275prov=h.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),ce=(()=>{class ne{get disabled(){return this._disabled}set disabled(pe){this._disabled=(0,_.Ig)(pe),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(pe){this._debounce=(0,_.su)(pe),this._subscribe()}constructor(pe,nt,Ke){this._contentObserver=pe,this._elementRef=nt,this._ngZone=Ke,this.event=new h.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const pe=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?pe.pipe((0,Ae.b)(this.debounce)):pe).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return ne.\u0275fac=function(pe){return new(pe||ne)(h.Y36(we),h.Y36(h.SBq),h.Y36(h.R0b))},ne.\u0275dir=h.lG2({type:ne,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),ne})(),xe=(()=>{class ne{}return ne.\u0275fac=function(pe){return new(pe||ne)},ne.\u0275mod=h.oAB({type:ne}),ne.\u0275inj=h.cJS({providers:[Se]}),ne})()},3353:(Wt,Ge,P)=>{P.d(Ge,{Mq:()=>Ke,Oy:()=>Ve,_i:()=>xt,ht:()=>Ee,i$:()=>_e,kV:()=>Le,qK:()=>ce,sA:()=>Ct,t4:()=>ve});var _=P(4650),h=P(6895);let Q;try{Q=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Q=!1}let Se,ve=(()=>{class De{constructor(ze){this._platformId=ze,this.isBrowser=this._platformId?(0,h.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Q)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return De.\u0275fac=function(ze){return new(ze||De)(_.LFG(_.Lbi))},De.\u0275prov=_.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();const we=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ce(){if(Se)return Se;if("object"!=typeof document||!document)return Se=new Set(we),Se;let De=document.createElement("input");return Se=new Set(we.filter(me=>(De.setAttribute("type",me),De.type===me))),Se}let xe,pe,nt,ht;function _e(De){return function ne(){if(null==xe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xe=!0}))}finally{xe=xe||!1}return xe}()?De:!!De.capture}function Ke(){if(null==nt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return nt=!1,nt;if("scrollBehavior"in document.documentElement.style)nt=!0;else{const De=Element.prototype.scrollTo;nt=!!De&&!/\{\s*\[native code\]\s*\}/.test(De.toString())}}return nt}function xt(){if("object"!=typeof document||!document)return 0;if(null==pe){const De=document.createElement("div"),me=De.style;De.dir="rtl",me.width="1px",me.overflow="auto",me.visibility="hidden",me.pointerEvents="none",me.position="absolute";const ze=document.createElement("div"),Xe=ze.style;Xe.width="2px",Xe.height="1px",De.appendChild(ze),document.body.appendChild(De),pe=0,0===De.scrollLeft&&(De.scrollLeft=1,pe=0===De.scrollLeft?1:2),De.remove()}return pe}function Le(De){if(function Ze(){if(null==ht){const De=typeof document<"u"?document.head:null;ht=!(!De||!De.createShadowRoot&&!De.attachShadow)}return ht}()){const me=De.getRootNode?De.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&me instanceof ShadowRoot)return me}return null}function Ee(){let De=typeof document<"u"&&document?document.activeElement:null;for(;De&&De.shadowRoot;){const me=De.shadowRoot.activeElement;if(me===De)break;De=me}return De}function Ct(De){return De.composedPath?De.composedPath()[0]:De.target}function Ve(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6895:(Wt,Ge,P)=>{P.d(Ge,{Do:()=>Ee,ED:()=>Rs,EM:()=>Js,H9:()=>ps,HT:()=>ve,JF:()=>Ka,K0:()=>Se,Mx:()=>mn,NF:()=>dr,O5:()=>Nr,Ov:()=>ei,PM:()=>is,RF:()=>Ji,S$:()=>ht,V_:()=>xe,Ye:()=>Ct,b0:()=>Le,bD:()=>er,ez:()=>Xs,mk:()=>Tr,n9:()=>fs,q:()=>Q,sg:()=>xr,tP:()=>Gs,w_:()=>Ae});var _=P(4650);let h=null;function Q(){return h}function ve(F){h||(h=F)}class Ae{}const Se=new _.OlP("DocumentToken");let we=(()=>{class F{historyGo(j){throw new Error("Not implemented")}}return F.\u0275fac=function(j){return new(j||F)},F.\u0275prov=_.Yz7({token:F,factory:function(){return function ce(){return(0,_.LFG)(ne)}()},providedIn:"platform"}),F})();const xe=new _.OlP("Location Initialized");let ne=(()=>{class F extends we{constructor(j){super(),this._doc=j,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(j){const oe=Q().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("popstate",j,!1),()=>oe.removeEventListener("popstate",j)}onHashChange(j){const oe=Q().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("hashchange",j,!1),()=>oe.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,oe,ke){_e()?this._history.pushState(j,oe,ke):this._location.hash=ke}replaceState(j,oe,ke){_e()?this._history.replaceState(j,oe,ke):this._location.hash=ke}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return F.\u0275fac=function(j){return new(j||F)(_.LFG(Se))},F.\u0275prov=_.Yz7({token:F,factory:function(){return function pe(){return new ne((0,_.LFG)(Se))}()},providedIn:"platform"}),F})();function _e(){return!!window.history.pushState}function nt(F,X){if(0==F.length)return X;if(0==X.length)return F;let j=0;return F.endsWith("/")&&j++,X.startsWith("/")&&j++,2==j?F+X.substring(1):1==j?F+X:F+"/"+X}function Ke(F){const X=F.match(/#|\?|$/),j=X&&X.index||F.length;return F.slice(0,j-("/"===F[j-1]?1:0))+F.slice(j)}function xt(F){return F&&"?"!==F[0]?"?"+F:F}let ht=(()=>{class F{historyGo(j){throw new Error("Not implemented")}}return F.\u0275fac=function(j){return new(j||F)},F.\u0275prov=_.Yz7({token:F,factory:function(){return(0,_.f3M)(Le)},providedIn:"root"}),F})();const Ze=new _.OlP("appBaseHref");let Le=(()=>{class F extends ht{constructor(j,oe){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=oe??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return nt(this._baseHref,j)}path(j=!1){const oe=this._platformLocation.pathname+xt(this._platformLocation.search),ke=this._platformLocation.hash;return ke&&j?`${oe}${ke}`:oe}pushState(j,oe,ke,wt){const Pt=this.prepareExternalUrl(ke+xt(wt));this._platformLocation.pushState(j,oe,Pt)}replaceState(j,oe,ke,wt){const Pt=this.prepareExternalUrl(ke+xt(wt));this._platformLocation.replaceState(j,oe,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return F.\u0275fac=function(j){return new(j||F)(_.LFG(we),_.LFG(Ze,8))},F.\u0275prov=_.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Ee=(()=>{class F extends ht{constructor(j,oe){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=oe&&(this._baseHref=oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let oe=this._platformLocation.hash;return null==oe&&(oe="#"),oe.length>0?oe.substring(1):oe}prepareExternalUrl(j){const oe=nt(this._baseHref,j);return oe.length>0?"#"+oe:oe}pushState(j,oe,ke,wt){let Pt=this.prepareExternalUrl(ke+xt(wt));0==Pt.length&&(Pt=this._platformLocation.pathname),this._platformLocation.pushState(j,oe,Pt)}replaceState(j,oe,ke,wt){let Pt=this.prepareExternalUrl(ke+xt(wt));0==Pt.length&&(Pt=this._platformLocation.pathname),this._platformLocation.replaceState(j,oe,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return F.\u0275fac=function(j){return new(j||F)(_.LFG(we),_.LFG(Ze,8))},F.\u0275prov=_.Yz7({token:F,factory:F.\u0275fac}),F})(),Ct=(()=>{class F{constructor(j){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const oe=this._locationStrategy.getBaseHref();this._basePath=function ze(F){if(new RegExp("^(https?:)?//").test(F)){const[,j]=F.split(/\/\/[^\/]+/);return j}return F}(Ke(me(oe))),this._locationStrategy.onPopState(ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:ke.state,type:ke.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,oe=""){return this.path()==this.normalize(j+xt(oe))}normalize(j){return F.stripTrailingSlash(function De(F,X){if(!F||!X.startsWith(F))return X;const j=X.substring(F.length);return""===j||["/",";","?","#"].includes(j[0])?j:X}(this._basePath,me(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,oe="",ke=null){this._locationStrategy.pushState(ke,"",j,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+xt(oe)),ke)}replaceState(j,oe="",ke=null){this._locationStrategy.replaceState(ke,"",j,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+xt(oe)),ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(oe=>{this._notifyUrlChangeListeners(oe.url,oe.state)})),()=>{const oe=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(oe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",oe){this._urlChangeListeners.forEach(ke=>ke(j,oe))}subscribe(j,oe,ke){return this._subject.subscribe({next:j,error:oe,complete:ke})}}return F.normalizeQueryParams=xt,F.joinWithSlash=nt,F.stripTrailingSlash=Ke,F.\u0275fac=function(j){return new(j||F)(_.LFG(ht))},F.\u0275prov=_.Yz7({token:F,factory:function(){return function Ve(){return new Ct((0,_.LFG)(ht))}()},providedIn:"root"}),F})();function me(F){return F.replace(/\/index.html$/,"")}const Xe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Percent=1]="Percent",ge[ge.Currency=2]="Currency",ge[ge.Scientific=3]="Scientific",ge))(),Nt=(()=>((Nt=Nt||{})[Nt.Decimal=0]="Decimal",Nt[Nt.Group=1]="Group",Nt[Nt.List=2]="List",Nt[Nt.PercentSign=3]="PercentSign",Nt[Nt.PlusSign=4]="PlusSign",Nt[Nt.MinusSign=5]="MinusSign",Nt[Nt.Exponential=6]="Exponential",Nt[Nt.SuperscriptingExponent=7]="SuperscriptingExponent",Nt[Nt.PerMille=8]="PerMille",Nt[Nt.Infinity=9]="Infinity",Nt[Nt.NaN=10]="NaN",Nt[Nt.TimeSeparator=11]="TimeSeparator",Nt[Nt.CurrencyDecimal=12]="CurrencyDecimal",Nt[Nt.CurrencyGroup=13]="CurrencyGroup",Nt))();function sn(F,X){const j=(0,_.cg1)(F),oe=j[_.wAp.NumberSymbols][X];if(typeof oe>"u"){if(X===Nt.CurrencyDecimal)return j[_.wAp.NumberSymbols][Nt.Decimal];if(X===Nt.CurrencyGroup)return j[_.wAp.NumberSymbols][Nt.Group]}return oe}const vi=2,Oe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,de=22,Be=".",yt="0",Lt=";",rn=",",Mn="#",Vt="\xa4";function js(F,X,j,oe,ke){const Pt=function zs(F,X="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},oe=F.split(Lt),ke=oe[0],wt=oe[1],Pt=-1!==ke.indexOf(Be)?ke.split(Be):[ke.substring(0,ke.lastIndexOf(yt)+1),ke.substring(ke.lastIndexOf(yt)+1)],Dn=Pt[0],Ti=Pt[1]||"";j.posPre=Dn.substring(0,Dn.indexOf(Mn));for(let Kn=0;Kn<Ti.length;Kn++){const zn=Ti.charAt(Kn);zn===yt?j.minFrac=j.maxFrac=Kn+1:zn===Mn?j.maxFrac=Kn+1:j.posSuf+=zn}const Rt=Dn.split(rn);if(j.gSize=Rt[1]?Rt[1].length:0,j.lgSize=Rt[2]||Rt[1]?(Rt[2]||Rt[1]).length:0,wt){const Kn=ke.length-j.posPre.length-j.posSuf.length,zn=wt.indexOf(Mn);j.negPre=wt.substring(0,zn).replace(/'/g,""),j.negSuf=wt.slice(zn+Kn).replace(/'/g,"")}else j.negPre=X+j.posPre,j.negSuf=j.posSuf;return j}(function Tn(F,X){return(0,_.cg1)(F)[_.wAp.NumberFormats][X]}(X,ge.Currency),sn(X,Nt.MinusSign));return Pt.minFrac=function Gi(F){let X;const j=Xe[F];return j&&(X=j[2]),"number"==typeof X?X:vi}(oe),Pt.maxFrac=Pt.minFrac,function cr(F,X,j,oe,ke,wt,Pt=!1){let Dn="",Ti=!1;if(isFinite(F)){let Rt=function ws(F){let oe,ke,wt,Pt,Dn,X=Math.abs(F)+"",j=0;for((ke=X.indexOf(Be))>-1&&(X=X.replace(Be,"")),(wt=X.search(/e/i))>0?(ke<0&&(ke=wt),ke+=+X.slice(wt+1),X=X.substring(0,wt)):ke<0&&(ke=X.length),wt=0;X.charAt(wt)===yt;wt++);if(wt===(Dn=X.length))oe=[0],ke=1;else{for(Dn--;X.charAt(Dn)===yt;)Dn--;for(ke-=wt,oe=[],Pt=0;wt<=Dn;wt++,Pt++)oe[Pt]=Number(X.charAt(wt))}return ke>de&&(oe=oe.splice(0,de-1),j=ke-1,ke=1),{digits:oe,exponent:j,integerLen:ke}}(F);Pt&&(Rt=function mo(F){if(0===F.digits[0])return F;const X=F.digits.length-F.integerLen;return F.exponent?F.exponent+=2:(0===X?F.digits.push(0,0):1===X&&F.digits.push(0),F.integerLen+=2),F}(Rt));let Kn=X.minInt,zn=X.minFrac,yr=X.maxFrac;if(wt){const Ht=wt.match(Oe);if(null===Ht)throw new Error(`${wt} is not a valid digit info`);const nr=Ht[1],ko=Ht[3],Sl=Ht[5];null!=nr&&(Kn=sr(nr)),null!=ko&&(zn=sr(ko)),null!=Sl?yr=sr(Sl):null!=ko&&zn>yr&&(yr=zn)}!function mi(F,X,j){if(X>j)throw new Error(`The minimum number of digits after fraction (${X}) is higher than the maximum (${j}).`);let oe=F.digits,ke=oe.length-F.integerLen;const wt=Math.min(Math.max(X,ke),j);let Pt=wt+F.integerLen,Dn=oe[Pt];if(Pt>0){oe.splice(Math.max(F.integerLen,Pt));for(let zn=Pt;zn<oe.length;zn++)oe[zn]=0}else{ke=Math.max(0,ke),F.integerLen=1,oe.length=Math.max(1,Pt=wt+1),oe[0]=0;for(let zn=1;zn<Pt;zn++)oe[zn]=0}if(Dn>=5)if(Pt-1<0){for(let zn=0;zn>Pt;zn--)oe.unshift(0),F.integerLen++;oe.unshift(1),F.integerLen++}else oe[Pt-1]++;for(;ke<Math.max(0,wt);ke++)oe.push(0);let Ti=0!==wt;const Rt=X+F.integerLen,Kn=oe.reduceRight(function(zn,yr,Jt,ln){return ln[Jt]=(yr+=zn)<10?yr:yr-10,Ti&&(0===ln[Jt]&&Jt>=Rt?ln.pop():Ti=!1),yr>=10?1:0},0);Kn&&(oe.unshift(Kn),F.integerLen++)}(Rt,zn,yr);let Jt=Rt.digits,ln=Rt.integerLen;const io=Rt.exponent;let tn=[];for(Ti=Jt.every(Ht=>!Ht);ln<Kn;ln++)Jt.unshift(0);for(;ln<0;ln++)Jt.unshift(0);ln>0?tn=Jt.splice(ln,Jt.length):(tn=Jt,Jt=[0]);const _t=[];for(Jt.length>=X.lgSize&&_t.unshift(Jt.splice(-X.lgSize,Jt.length).join(""));Jt.length>X.gSize;)_t.unshift(Jt.splice(-X.gSize,Jt.length).join(""));Jt.length&&_t.unshift(Jt.join("")),Dn=_t.join(sn(j,oe)),tn.length&&(Dn+=sn(j,ke)+tn.join("")),io&&(Dn+=sn(j,Nt.Exponential)+"+"+io)}else Dn=sn(j,Nt.Infinity);return Dn=F<0&&!Ti?X.negPre+Dn+X.negSuf:X.posPre+Dn+X.posSuf,Dn}(F,Pt,X,Nt.CurrencyGroup,Nt.CurrencyDecimal,ke).replace(Vt,j).replace(Vt,"").trim()}function sr(F){const X=parseInt(F);if(isNaN(X))throw new Error("Invalid integer literal when parsing "+F);return X}function mn(F,X){X=encodeURIComponent(X);for(const j of F.split(";")){const oe=j.indexOf("="),[ke,wt]=-1==oe?[j,""]:[j.slice(0,oe),j.slice(oe+1)];if(ke.trim()===X)return decodeURIComponent(wt)}return null}const Nn=/\s+/,Ii=[];let Tr=(()=>{class F{constructor(j,oe,ke,wt){this._iterableDiffers=j,this._keyValueDiffers=oe,this._ngEl=ke,this._renderer=wt,this.initialClasses=Ii,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Nn):Ii}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Nn):j}ngDoCheck(){for(const oe of this.initialClasses)this._updateState(oe,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const oe of j)this._updateState(oe,!0);else if(null!=j)for(const oe of Object.keys(j))this._updateState(oe,Boolean(j[oe]));this._applyStateDiff()}_updateState(j,oe){const ke=this.stateMap.get(j);void 0!==ke?(ke.enabled!==oe&&(ke.changed=!0,ke.enabled=oe),ke.touched=!0):this.stateMap.set(j,{enabled:oe,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const oe=j[0],ke=j[1];ke.changed?(this._toggleClass(oe,ke.enabled),ke.changed=!1):ke.touched||(ke.enabled&&this._toggleClass(oe,!1),this.stateMap.delete(oe)),ke.touched=!1}}_toggleClass(j,oe){(j=j.trim()).length>0&&j.split(Nn).forEach(ke=>{oe?this._renderer.addClass(this._ngEl.nativeElement,ke):this._renderer.removeClass(this._ngEl.nativeElement,ke)})}}return F.\u0275fac=function(j){return new(j||F)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},F.\u0275dir=_.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),F})();class Ri{constructor(X,j,oe,ke){this.$implicit=X,this.ngForOf=j,this.index=oe,this.count=ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xr=(()=>{class F{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,oe,ke){this._viewContainer=j,this._template=oe,this._differs=ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const oe=this._viewContainer;j.forEachOperation((ke,wt,Pt)=>{if(null==ke.previousIndex)oe.createEmbeddedView(this._template,new Ri(ke.item,this._ngForOf,-1,-1),null===Pt?void 0:Pt);else if(null==Pt)oe.remove(null===wt?void 0:wt);else if(null!==wt){const Dn=oe.get(wt);oe.move(Dn,Pt),Er(Dn,ke)}});for(let ke=0,wt=oe.length;ke<wt;ke++){const Dn=oe.get(ke).context;Dn.index=ke,Dn.count=wt,Dn.ngForOf=this._ngForOf}j.forEachIdentityChange(ke=>{Er(oe.get(ke.currentIndex),ke)})}static ngTemplateContextGuard(j,oe){return!0}}return F.\u0275fac=function(j){return new(j||F)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},F.\u0275dir=_.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),F})();function Er(F,X){F.context.$implicit=X.item}let Nr=(()=>{class F{constructor(j,oe){this._viewContainer=j,this._context=new na,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=oe}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Ia("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Ia("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,oe){return!0}}return F.\u0275fac=function(j){return new(j||F)(_.Y36(_.s_b),_.Y36(_.Rgc))},F.\u0275dir=_.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class na{constructor(){this.$implicit=null,this.ngIf=null}}function Ia(F,X){if(X&&!X.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,_.AaK)(X)}'.`)}class Cr{constructor(X,j){this._viewContainerRef=X,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(X){X&&!this._created?this.create():!X&&this._created&&this.destroy()}}let Ji=(()=>{class F{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const oe=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||oe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),oe}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const oe of this._defaultViews)oe.enforceState(j)}}}return F.\u0275fac=function(j){return new(j||F)},F.\u0275dir=_.lG2({type:F,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),F})(),fs=(()=>{class F{constructor(j,oe,ke){this.ngSwitch=ke,ke._addCase(),this._view=new Cr(j,oe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return F.\u0275fac=function(j){return new(j||F)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(Ji,9))},F.\u0275dir=_.lG2({type:F,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),F})(),Rs=(()=>{class F{constructor(j,oe,ke){ke._addDefault(new Cr(j,oe))}}return F.\u0275fac=function(j){return new(j||F)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(Ji,9))},F.\u0275dir=_.lG2({type:F,selectors:[["","ngSwitchDefault",""]],standalone:!0}),F})(),Gs=(()=>{class F{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(j.ngTemplateOutlet||j.ngTemplateOutletInjector){const oe=this._viewContainerRef;if(this._viewRef&&oe.remove(oe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ke,ngTemplateOutletContext:wt,ngTemplateOutletInjector:Pt}=this;this._viewRef=oe.createEmbeddedView(ke,wt,Pt?{injector:Pt}:void 0)}else this._viewRef=null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(j){return new(j||F)(_.Y36(_.s_b))},F.\u0275dir=_.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_.TTD]}),F})();function je(F,X){return new _.vHH(2100,!1)}class lt{createSubscription(X,j){return X.subscribe({next:j,error:oe=>{throw oe}})}dispose(X){X.unsubscribe()}}class Ut{createSubscription(X,j){return X.then(j,oe=>{throw oe})}dispose(X){}}const Zt=new Ut,pn=new lt;let ei=(()=>{class F{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,oe=>this._updateLatestValue(j,oe))}_selectStrategy(j){if((0,_.QGY)(j))return Zt;if((0,_.F4k)(j))return pn;throw je()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,oe){j===this._obj&&(this._latestValue=oe,this._ref.markForCheck())}}return F.\u0275fac=function(j){return new(j||F)(_.Y36(_.sBO,16))},F.\u0275pipe=_.Yjl({name:"async",type:F,pure:!1,standalone:!0}),F})(),ps=(()=>{class F{constructor(j,oe="USD"){this._locale=j,this._defaultCurrencyCode=oe}transform(j,oe=this._defaultCurrencyCode,ke="symbol",wt,Pt){if(!function ra(F){return!(null==F||""===F||F!=F)}(j))return null;Pt=Pt||this._locale,"boolean"==typeof ke&&(ke=ke?"symbol":"code");let Dn=oe||this._defaultCurrencyCode;"code"!==ke&&(Dn="symbol"===ke||"symbol-narrow"===ke?function fn(F,X,j="en"){const oe=function Ci(F){return(0,_.cg1)(F)[_.wAp.Currencies]}(j)[F]||Xe[F]||[],ke=oe[1];return"narrow"===X&&"string"==typeof ke?ke:oe[0]||F}(Dn,"symbol"===ke?"wide":"narrow",Pt):ke);try{return js(function go(F){if("string"==typeof F&&!isNaN(Number(F)-parseFloat(F)))return Number(F);if("number"!=typeof F)throw new Error(`${F} is not a number`);return F}(j),Pt,Dn,oe,wt)}catch(Ti){throw je()}}}return F.\u0275fac=function(j){return new(j||F)(_.Y36(_.soG,16),_.Y36(_.EJc,16))},F.\u0275pipe=_.Yjl({name:"currency",type:F,pure:!0,standalone:!0}),F})();let Xs=(()=>{class F{}return F.\u0275fac=function(j){return new(j||F)},F.\u0275mod=_.oAB({type:F}),F.\u0275inj=_.cJS({}),F})();const er="browser",ns="server";function dr(F){return F===er}function is(F){return F===ns}let Js=(()=>{class F{}return F.\u0275prov=(0,_.Yz7)({token:F,providedIn:"root",factory:()=>new Ql((0,_.LFG)(Se),window)}),F})();class Ql{constructor(X,j){this.document=X,this.window=j,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const j=function Ta(F,X){const j=F.getElementById(X)||F.getElementsByName(X)[0];if(j)return j;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const oe=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let ke=oe.currentNode;for(;ke;){const wt=ke.shadowRoot;if(wt){const Pt=wt.getElementById(X)||wt.querySelector(`[name="${X}"]`);if(Pt)return Pt}ke=oe.nextNode()}}return null}(this.document,X);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(X){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=X)}}scrollToElement(X){const j=X.getBoundingClientRect(),oe=j.left+this.window.pageXOffset,ke=j.top+this.window.pageYOffset,wt=this.offset();this.window.scrollTo(oe-wt[0],ke-wt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const X=eo(this.window.history)||eo(Object.getPrototypeOf(this.window.history));return!(!X||!X.writable&&!X.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function eo(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class Ka{}},529:(Wt,Ge,P)=>{P.d(Ge,{JF:()=>si,eN:()=>ft});var _=P(6895),h=P(4650),Q=P(9646),ve=P(9751),Ae=P(4351),Se=P(9300),we=P(4004);class ce{}class xe{}class ne{constructor(N){this.normalizedNames=new Map,this.lazyUpdate=null,N?this.lazyInit="string"==typeof N?()=>{this.headers=new Map,N.split("\n").forEach(H=>{const ue=H.indexOf(":");if(ue>0){const Ie=H.slice(0,ue),se=Ie.toLowerCase(),be=H.slice(ue+1).trim();this.maybeSetNormalizedName(Ie,se),this.headers.has(se)?this.headers.get(se).push(be):this.headers.set(se,[be])}})}:()=>{this.headers=new Map,Object.keys(N).forEach(H=>{let ue=N[H];const Ie=H.toLowerCase();"string"==typeof ue&&(ue=[ue]),ue.length>0&&(this.headers.set(Ie,ue),this.maybeSetNormalizedName(H,Ie))})}:this.headers=new Map}has(N){return this.init(),this.headers.has(N.toLowerCase())}get(N){this.init();const H=this.headers.get(N.toLowerCase());return H&&H.length>0?H[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(N){return this.init(),this.headers.get(N.toLowerCase())||null}append(N,H){return this.clone({name:N,value:H,op:"a"})}set(N,H){return this.clone({name:N,value:H,op:"s"})}delete(N,H){return this.clone({name:N,value:H,op:"d"})}maybeSetNormalizedName(N,H){this.normalizedNames.has(H)||this.normalizedNames.set(H,N)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(N=>this.applyUpdate(N)),this.lazyUpdate=null))}copyFrom(N){N.init(),Array.from(N.headers.keys()).forEach(H=>{this.headers.set(H,N.headers.get(H)),this.normalizedNames.set(H,N.normalizedNames.get(H))})}clone(N){const H=new ne;return H.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,H.lazyUpdate=(this.lazyUpdate||[]).concat([N]),H}applyUpdate(N){const H=N.name.toLowerCase();switch(N.op){case"a":case"s":let ue=N.value;if("string"==typeof ue&&(ue=[ue]),0===ue.length)return;this.maybeSetNormalizedName(N.name,H);const Ie=("a"===N.op?this.headers.get(H):void 0)||[];Ie.push(...ue),this.headers.set(H,Ie);break;case"d":const se=N.value;if(se){let be=this.headers.get(H);if(!be)return;be=be.filter(Fe=>-1===se.indexOf(Fe)),0===be.length?(this.headers.delete(H),this.normalizedNames.delete(H)):this.headers.set(H,be)}else this.headers.delete(H),this.normalizedNames.delete(H)}}forEach(N){this.init(),Array.from(this.normalizedNames.keys()).forEach(H=>N(this.normalizedNames.get(H),this.headers.get(H)))}}class pe{encodeKey(N){return ht(N)}encodeValue(N){return ht(N)}decodeKey(N){return decodeURIComponent(N)}decodeValue(N){return decodeURIComponent(N)}}const Ke=/%(\d[a-f0-9])/gi,xt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ht(K){return encodeURIComponent(K).replace(Ke,(N,H)=>xt[H]??N)}function Ze(K){return`${K}`}class Le{constructor(N={}){if(this.updates=null,this.cloneFrom=null,this.encoder=N.encoder||new pe,N.fromString){if(N.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nt(K,N){const H=new Map;return K.length>0&&K.replace(/^\?/,"").split("&").forEach(Ie=>{const se=Ie.indexOf("="),[be,Fe]=-1==se?[N.decodeKey(Ie),""]:[N.decodeKey(Ie.slice(0,se)),N.decodeValue(Ie.slice(se+1))],ot=H.get(be)||[];ot.push(Fe),H.set(be,ot)}),H}(N.fromString,this.encoder)}else N.fromObject?(this.map=new Map,Object.keys(N.fromObject).forEach(H=>{const ue=N.fromObject[H],Ie=Array.isArray(ue)?ue.map(Ze):[Ze(ue)];this.map.set(H,Ie)})):this.map=null}has(N){return this.init(),this.map.has(N)}get(N){this.init();const H=this.map.get(N);return H?H[0]:null}getAll(N){return this.init(),this.map.get(N)||null}keys(){return this.init(),Array.from(this.map.keys())}append(N,H){return this.clone({param:N,value:H,op:"a"})}appendAll(N){const H=[];return Object.keys(N).forEach(ue=>{const Ie=N[ue];Array.isArray(Ie)?Ie.forEach(se=>{H.push({param:ue,value:se,op:"a"})}):H.push({param:ue,value:Ie,op:"a"})}),this.clone(H)}set(N,H){return this.clone({param:N,value:H,op:"s"})}delete(N,H){return this.clone({param:N,value:H,op:"d"})}toString(){return this.init(),this.keys().map(N=>{const H=this.encoder.encodeKey(N);return this.map.get(N).map(ue=>H+"="+this.encoder.encodeValue(ue)).join("&")}).filter(N=>""!==N).join("&")}clone(N){const H=new Le({encoder:this.encoder});return H.cloneFrom=this.cloneFrom||this,H.updates=(this.updates||[]).concat(N),H}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(N=>this.map.set(N,this.cloneFrom.map.get(N))),this.updates.forEach(N=>{switch(N.op){case"a":case"s":const H=("a"===N.op?this.map.get(N.param):void 0)||[];H.push(Ze(N.value)),this.map.set(N.param,H);break;case"d":if(void 0===N.value){this.map.delete(N.param);break}{let ue=this.map.get(N.param)||[];const Ie=ue.indexOf(Ze(N.value));-1!==Ie&&ue.splice(Ie,1),ue.length>0?this.map.set(N.param,ue):this.map.delete(N.param)}}}),this.cloneFrom=this.updates=null)}}class Ct{constructor(){this.map=new Map}set(N,H){return this.map.set(N,H),this}get(N){return this.map.has(N)||this.map.set(N,N.defaultValue()),this.map.get(N)}delete(N){return this.map.delete(N),this}has(N){return this.map.has(N)}keys(){return this.map.keys()}}function De(K){return typeof ArrayBuffer<"u"&&K instanceof ArrayBuffer}function me(K){return typeof Blob<"u"&&K instanceof Blob}function ze(K){return typeof FormData<"u"&&K instanceof FormData}class ge{constructor(N,H,ue,Ie){let se;if(this.url=H,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=N.toUpperCase(),function Ve(K){switch(K){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ie?(this.body=void 0!==ue?ue:null,se=Ie):se=ue,se&&(this.reportProgress=!!se.reportProgress,this.withCredentials=!!se.withCredentials,se.responseType&&(this.responseType=se.responseType),se.headers&&(this.headers=se.headers),se.context&&(this.context=se.context),se.params&&(this.params=se.params)),this.headers||(this.headers=new ne),this.context||(this.context=new Ct),this.params){const be=this.params.toString();if(0===be.length)this.urlWithParams=H;else{const Fe=H.indexOf("?");this.urlWithParams=H+(-1===Fe?"?":Fe<H.length-1?"&":"")+be}}else this.params=new Le,this.urlWithParams=H}serializeBody(){return null===this.body?null:De(this.body)||me(this.body)||ze(this.body)||function Xe(K){return typeof URLSearchParams<"u"&&K instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ze(this.body)?null:me(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(N={}){const H=N.method||this.method,ue=N.url||this.url,Ie=N.responseType||this.responseType,se=void 0!==N.body?N.body:this.body,be=void 0!==N.withCredentials?N.withCredentials:this.withCredentials,Fe=void 0!==N.reportProgress?N.reportProgress:this.reportProgress;let ot=N.headers||this.headers,Ye=N.params||this.params;const on=N.context??this.context;return void 0!==N.setHeaders&&(ot=Object.keys(N.setHeaders).reduce((Ne,Oe)=>Ne.set(Oe,N.setHeaders[Oe]),ot)),N.setParams&&(Ye=Object.keys(N.setParams).reduce((Ne,Oe)=>Ne.set(Oe,N.setParams[Oe]),Ye)),new ge(H,ue,se,{params:Ye,headers:ot,context:on,reportProgress:Fe,responseType:Ie,withCredentials:be})}}var Ce=(()=>((Ce=Ce||{})[Ce.Sent=0]="Sent",Ce[Ce.UploadProgress=1]="UploadProgress",Ce[Ce.ResponseHeader=2]="ResponseHeader",Ce[Ce.DownloadProgress=3]="DownloadProgress",Ce[Ce.Response=4]="Response",Ce[Ce.User=5]="User",Ce))();class $e{constructor(N,H=200,ue="OK"){this.headers=N.headers||new ne,this.status=void 0!==N.status?N.status:H,this.statusText=N.statusText||ue,this.url=N.url||null,this.ok=this.status>=200&&this.status<300}}class mt extends $e{constructor(N={}){super(N),this.type=Ce.ResponseHeader}clone(N={}){return new mt({headers:N.headers||this.headers,status:void 0!==N.status?N.status:this.status,statusText:N.statusText||this.statusText,url:N.url||this.url||void 0})}}class nn extends $e{constructor(N={}){super(N),this.type=Ce.Response,this.body=void 0!==N.body?N.body:null}clone(N={}){return new nn({body:void 0!==N.body?N.body:this.body,headers:N.headers||this.headers,status:void 0!==N.status?N.status:this.status,statusText:N.statusText||this.statusText,url:N.url||this.url||void 0})}}class Nt extends $e{constructor(N){super(N,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${N.url||"(unknown url)"}`:`Http failure response for ${N.url||"(unknown url)"}: ${N.status} ${N.statusText}`,this.error=N.error||null}}function rt(K,N){return{body:N,headers:K.headers,context:K.context,observe:K.observe,params:K.params,reportProgress:K.reportProgress,responseType:K.responseType,withCredentials:K.withCredentials}}let ft=(()=>{class K{constructor(H){this.handler=H}request(H,ue,Ie={}){let se;if(H instanceof ge)se=H;else{let ot,Ye;ot=Ie.headers instanceof ne?Ie.headers:new ne(Ie.headers),Ie.params&&(Ye=Ie.params instanceof Le?Ie.params:new Le({fromObject:Ie.params})),se=new ge(H,ue,void 0!==Ie.body?Ie.body:null,{headers:ot,context:Ie.context,params:Ye,reportProgress:Ie.reportProgress,responseType:Ie.responseType||"json",withCredentials:Ie.withCredentials})}const be=(0,Q.of)(se).pipe((0,Ae.b)(ot=>this.handler.handle(ot)));if(H instanceof ge||"events"===Ie.observe)return be;const Fe=be.pipe((0,Se.h)(ot=>ot instanceof nn));switch(Ie.observe||"body"){case"body":switch(se.responseType){case"arraybuffer":return Fe.pipe((0,we.U)(ot=>{if(null!==ot.body&&!(ot.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ot.body}));case"blob":return Fe.pipe((0,we.U)(ot=>{if(null!==ot.body&&!(ot.body instanceof Blob))throw new Error("Response is not a Blob.");return ot.body}));case"text":return Fe.pipe((0,we.U)(ot=>{if(null!==ot.body&&"string"!=typeof ot.body)throw new Error("Response is not a string.");return ot.body}));default:return Fe.pipe((0,we.U)(ot=>ot.body))}case"response":return Fe;default:throw new Error(`Unreachable: unhandled observe type ${Ie.observe}}`)}}delete(H,ue={}){return this.request("DELETE",H,ue)}get(H,ue={}){return this.request("GET",H,ue)}head(H,ue={}){return this.request("HEAD",H,ue)}jsonp(H,ue){return this.request("JSONP",H,{params:(new Le).append(ue,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(H,ue={}){return this.request("OPTIONS",H,ue)}patch(H,ue,Ie={}){return this.request("PATCH",H,rt(Ie,ue))}post(H,ue,Ie={}){return this.request("POST",H,rt(Ie,ue))}put(H,ue,Ie={}){return this.request("PUT",H,rt(Ie,ue))}}return K.\u0275fac=function(H){return new(H||K)(h.LFG(ce))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac}),K})();function Et(K,N){return N(K)}function Mt(K,N){return(H,ue)=>N.intercept(H,{handle:Ie=>K(Ie,ue)})}const kt=new h.OlP("HTTP_INTERCEPTORS"),St=new h.OlP("HTTP_INTERCEPTOR_FNS");function bt(){let K=null;return(N,H)=>(null===K&&(K=((0,h.f3M)(kt,{optional:!0})??[]).reduceRight(Mt,Et)),K(N,H))}let et=(()=>{class K extends ce{constructor(H,ue){super(),this.backend=H,this.injector=ue,this.chain=null}handle(H){if(null===this.chain){const ue=Array.from(new Set(this.injector.get(St)));this.chain=ue.reduceRight((Ie,se)=>function It(K,N,H){return(ue,Ie)=>H.runInContext(()=>N(ue,se=>K(se,Ie)))}(Ie,se,this.injector),Et)}return this.chain(H,ue=>this.backend.handle(ue))}}return K.\u0275fac=function(H){return new(H||K)(h.LFG(xe),h.LFG(h.lqb))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac}),K})();const ri=/^\)\]\}',?\n/;let hi=(()=>{class K{constructor(H){this.xhrFactory=H}handle(H){if("JSONP"===H.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ve.y(ue=>{const Ie=this.xhrFactory.build();if(Ie.open(H.method,H.urlWithParams),H.withCredentials&&(Ie.withCredentials=!0),H.headers.forEach((de,Be)=>Ie.setRequestHeader(de,Be.join(","))),H.headers.has("Accept")||Ie.setRequestHeader("Accept","application/json, text/plain, */*"),!H.headers.has("Content-Type")){const de=H.detectContentTypeHeader();null!==de&&Ie.setRequestHeader("Content-Type",de)}if(H.responseType){const de=H.responseType.toLowerCase();Ie.responseType="json"!==de?de:"text"}const se=H.serializeBody();let be=null;const Fe=()=>{if(null!==be)return be;const de=Ie.statusText||"OK",Be=new ne(Ie.getAllResponseHeaders()),yt=function pi(K){return"responseURL"in K&&K.responseURL?K.responseURL:/^X-Request-URL:/m.test(K.getAllResponseHeaders())?K.getResponseHeader("X-Request-URL"):null}(Ie)||H.url;return be=new mt({headers:Be,status:Ie.status,statusText:de,url:yt}),be},ot=()=>{let{headers:de,status:Be,statusText:yt,url:Lt}=Fe(),rn=null;204!==Be&&(rn=typeof Ie.response>"u"?Ie.responseText:Ie.response),0===Be&&(Be=rn?200:0);let Mn=Be>=200&&Be<300;if("json"===H.responseType&&"string"==typeof rn){const Vt=rn;rn=rn.replace(ri,"");try{rn=""!==rn?JSON.parse(rn):null}catch(Hr){rn=Vt,Mn&&(Mn=!1,rn={error:Hr,text:rn})}}Mn?(ue.next(new nn({body:rn,headers:de,status:Be,statusText:yt,url:Lt||void 0})),ue.complete()):ue.error(new Nt({error:rn,headers:de,status:Be,statusText:yt,url:Lt||void 0}))},Ye=de=>{const{url:Be}=Fe(),yt=new Nt({error:de,status:Ie.status||0,statusText:Ie.statusText||"Unknown Error",url:Be||void 0});ue.error(yt)};let on=!1;const Ne=de=>{on||(ue.next(Fe()),on=!0);let Be={type:Ce.DownloadProgress,loaded:de.loaded};de.lengthComputable&&(Be.total=de.total),"text"===H.responseType&&Ie.responseText&&(Be.partialText=Ie.responseText),ue.next(Be)},Oe=de=>{let Be={type:Ce.UploadProgress,loaded:de.loaded};de.lengthComputable&&(Be.total=de.total),ue.next(Be)};return Ie.addEventListener("load",ot),Ie.addEventListener("error",Ye),Ie.addEventListener("timeout",Ye),Ie.addEventListener("abort",Ye),H.reportProgress&&(Ie.addEventListener("progress",Ne),null!==se&&Ie.upload&&Ie.upload.addEventListener("progress",Oe)),Ie.send(se),ue.next({type:Ce.Sent}),()=>{Ie.removeEventListener("error",Ye),Ie.removeEventListener("abort",Ye),Ie.removeEventListener("load",ot),Ie.removeEventListener("timeout",Ye),H.reportProgress&&(Ie.removeEventListener("progress",Ne),null!==se&&Ie.upload&&Ie.upload.removeEventListener("progress",Oe)),Ie.readyState!==Ie.DONE&&Ie.abort()}})}}return K.\u0275fac=function(H){return new(H||K)(h.LFG(_.JF))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac}),K})();const ci=new h.OlP("XSRF_ENABLED"),vi=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),fi=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class _i{}let Di=(()=>{class K{constructor(H,ue,Ie){this.doc=H,this.platform=ue,this.cookieName=Ie,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const H=this.doc.cookie||"";return H!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_.Mx)(H,this.cookieName),this.lastCookieString=H),this.lastToken}}return K.\u0275fac=function(H){return new(H||K)(h.LFG(_.K0),h.LFG(h.Lbi),h.LFG(vi))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac}),K})();function Sn(K,N){const H=K.url.toLowerCase();if(!(0,h.f3M)(ci)||"GET"===K.method||"HEAD"===K.method||H.startsWith("http://")||H.startsWith("https://"))return N(K);const ue=(0,h.f3M)(_i).getToken(),Ie=(0,h.f3M)(fi);return null!=ue&&!K.headers.has(Ie)&&(K=K.clone({headers:K.headers.set(Ie,ue)})),N(K)}var Dt=(()=>((Dt=Dt||{})[Dt.Interceptors=0]="Interceptors",Dt[Dt.LegacyInterceptors=1]="LegacyInterceptors",Dt[Dt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Dt[Dt.NoXsrfProtection=3]="NoXsrfProtection",Dt[Dt.JsonpSupport=4]="JsonpSupport",Dt[Dt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Dt))();function Un(K,N){return{\u0275kind:K,\u0275providers:N}}function Ot(...K){const N=[ft,hi,et,{provide:ce,useExisting:et},{provide:xe,useExisting:hi},{provide:St,useValue:Sn,multi:!0},{provide:ci,useValue:!0},{provide:_i,useClass:Di}];for(const H of K)N.push(...H.\u0275providers);return(0,h.MR2)(N)}const st=new h.OlP("LEGACY_INTERCEPTOR_FN");let si=(()=>{class K{}return K.\u0275fac=function(H){return new(H||K)},K.\u0275mod=h.oAB({type:K}),K.\u0275inj=h.cJS({providers:[Ot(Un(Dt.LegacyInterceptors,[{provide:st,useFactory:bt},{provide:St,useExisting:st,multi:!0}]))]}),K})()},4650:(Wt,Ge,P)=>{P.d(Ge,{$8M:()=>as,$WT:()=>xs,$Z:()=>X_,AFp:()=>tx,ALo:()=>vc,AaK:()=>ce,BQk:()=>nm,CHM:()=>bi,CRH:()=>Ow,CZH:()=>Fb,CqO:()=>wr,D6c:()=>cC,EJc:()=>oE,EiD:()=>Yn,EpF:()=>op,F$t:()=>Kr,F4k:()=>gy,FYo:()=>ug,FiY:()=>Ml,Gf:()=>Ab,GfV:()=>ba,GkF:()=>Jh,Gpc:()=>_e,Gre:()=>vp,Hsn:()=>Li,Ikx:()=>_d,JOm:()=>Ss,JVY:()=>R_,JZr:()=>ht,KtG:()=>Si,L6k:()=>Ou,LAX:()=>tg,LFG:()=>$t,LSH:()=>Ch,Lbi:()=>nE,Lck:()=>qy,MAs:()=>Jv,MGl:()=>cp,MMx:()=>t,MR2:()=>hc,NdJ:()=>qi,O4$:()=>el,OlP:()=>Qi,Oqu:()=>e_,P3R:()=>Bm,PXZ:()=>pE,Q6J:()=>em,QGY:()=>Yg,QbO:()=>iE,Qsj:()=>L_,R0b:()=>Ed,RDi:()=>kc,Rgc:()=>iv,SBq:()=>va,Sil:()=>lE,Suo:()=>Mb,TTD:()=>ji,TgZ:()=>sp,Udp:()=>Yr,VKq:()=>qr,W1O:()=>j0,WFA:()=>Oi,WLB:()=>fo,X6Q:()=>Vb,XFs:()=>fn,Xpm:()=>Vt,Xts:()=>rg,Y36:()=>Xd,YKP:()=>Eb,YNc:()=>$g,Yjl:()=>ws,Yz7:()=>sn,Z0I:()=>Hn,ZZ4:()=>uw,_Bn:()=>Yy,_UZ:()=>tm,_Vd:()=>Vf,_c5:()=>RE,_uU:()=>om,aQg:()=>hw,c2e:()=>rE,cJS:()=>wn,cg1:()=>ql,d8E:()=>s_,dDg:()=>fE,dqk:()=>Sn,eBb:()=>Nm,eFA:()=>fx,eJc:()=>wc,ekj:()=>ob,eoX:()=>lx,f3M:()=>K,g9A:()=>nx,h0i:()=>pf,hGG:()=>zb,hij:()=>nf,iGM:()=>ov,ifc:()=>Ye,ip1:()=>Z0,jDz:()=>c,kL8:()=>Ep,kcU:()=>zc,lG2:()=>mo,lcZ:()=>B0,lqb:()=>Oc,lri:()=>ax,mCW:()=>od,n5z:()=>ic,n_E:()=>Lp,oAB:()=>hs,oxw:()=>$u,pB0:()=>Yi,q3G:()=>Lr,q4F:()=>Ah,qLn:()=>qd,qOj:()=>Yh,qZA:()=>Gu,qzn:()=>lo,rWj:()=>tw,sBO:()=>XE,s_b:()=>rv,soG:()=>Lb,tBr:()=>fa,tb:()=>iw,tp0:()=>kl,uIk:()=>Hg,vHH:()=>Ze,vpe:()=>th,wAp:()=>Qn,xi3:()=>Iw,xp6:()=>j_,ynx:()=>md,z2F:()=>C_,z3N:()=>Vl,zSh:()=>Na,zs3:()=>Zd});var _=P(7579),h=P(727),Q=P(9751),ve=P(6451),Ae=P(3099);function Se(o){for(let l in o)if(o[l]===Se)return l;throw Error("Could not find renamed property on target object.")}function we(o,l){for(const d in l)l.hasOwnProperty(d)&&!o.hasOwnProperty(d)&&(o[d]=l[d])}function ce(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ce).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function xe(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const ne=Se({__forward_ref__:Se});function _e(o){return o.__forward_ref__=_e,o.toString=function(){return ce(this())},o}function pe(o){return nt(o)?o():o}function nt(o){return"function"==typeof o&&o.hasOwnProperty(ne)&&o.__forward_ref__===_e}function Ke(o){return o&&!!o.\u0275providers}const ht="https://g.co/ng/security#xss";class Ze extends Error{constructor(l,d){super(Le(l,d)),this.code=l}}function Le(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}function Ee(o){return"string"==typeof o?o:null==o?"":String(o)}function ze(o,l){throw new Ze(-201,!1)}function St(o,l){null==o&&function bt(o,l,d,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${d} ${f} ${l} <=Actual]`))}(l,o,null,"!=")}function sn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function wn(o){return{providers:o.providers||[],imports:o.imports||[]}}function On(o){return Ci(o,ri)||Ci(o,hi)}function Hn(o){return null!==On(o)}function Ci(o,l){return o.hasOwnProperty(l)?o[l]:null}function gn(o){return o&&(o.hasOwnProperty(pi)||o.hasOwnProperty(ci))?o[pi]:null}const ri=Se({\u0275prov:Se}),pi=Se({\u0275inj:Se}),hi=Se({ngInjectableDef:Se}),ci=Se({ngInjectorDef:Se});var fn=(()=>((fn=fn||{})[fn.Default=0]="Default",fn[fn.Host=1]="Host",fn[fn.Self=2]="Self",fn[fn.SkipSelf=4]="SkipSelf",fn[fn.Optional=8]="Optional",fn))();let vi;function fi(o){const l=vi;return vi=o,l}function _i(o,l,d){const f=On(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&fn.Optional?null:void 0!==l?l:void ze(ce(o))}const Sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ot={},Yt="__NG_DI_FLAG__",st="ngTempTokenPath",Ft="ngTokenPath",Pn=/\n/gm,xn="\u0275",Vi="__source";let Rn;function Mi(o){const l=Rn;return Rn=o,l}function si(o,l=fn.Default){if(void 0===Rn)throw new Ze(-203,!1);return null===Rn?_i(o,void 0,l):Rn.get(o,l&fn.Optional?null:void 0,l)}function $t(o,l=fn.Default){return(function Gi(){return vi}()||si)(pe(o),l)}function K(o,l=fn.Default){return $t(o,N(l))}function N(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function H(o){const l=[];for(let d=0;d<o.length;d++){const f=pe(o[d]);if(Array.isArray(f)){if(0===f.length)throw new Ze(900,!1);let g,w=fn.Default;for(let I=0;I<f.length;I++){const O=f[I],U=Ie(O);"number"==typeof U?-1===U?g=O.token:w|=U:g=O}l.push($t(g,w))}else l.push($t(f))}return l}function ue(o,l){return o[Yt]=l,o.prototype[Yt]=l,o}function Ie(o){return o[Yt]}function Fe(o){return{toString:o}.toString()}var ot=(()=>((ot=ot||{})[ot.OnPush=0]="OnPush",ot[ot.Default=1]="Default",ot))(),Ye=(()=>{return(o=Ye||(Ye={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Ye;var o})();const on={},Ne=[],Oe=Se({\u0275cmp:Se}),de=Se({\u0275dir:Se}),Be=Se({\u0275pipe:Se}),yt=Se({\u0275mod:Se}),Lt=Se({\u0275fac:Se}),rn=Se({__NG_ELEMENT_ID__:Se});let Mn=0;function Vt(o){return Fe(()=>{const d=!0===o.standalone,f={},g={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ot.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Ne,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ye.Emulated,id:"c"+Mn++,styles:o.styles||Ne,_:null,setInput:null,schemas:o.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},w=o.dependencies,I=o.features;return g.inputs=zs(o.inputs,f),g.outputs=zs(o.outputs),I&&I.forEach(O=>O(g)),g.directiveDefs=w?()=>("function"==typeof w?w():w).map(cr).filter(js):null,g.pipeDefs=w?()=>("function"==typeof w?w():w).map(Zi).filter(js):null,g})}function cr(o){return mi(o)||sr(o)}function js(o){return null!==o}function hs(o){return Fe(()=>({type:o.type,bootstrap:o.bootstrap||Ne,declarations:o.declarations||Ne,imports:o.imports||Ne,exports:o.exports||Ne,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function zs(o,l){if(null==o)return on;const d={};for(const f in o)if(o.hasOwnProperty(f)){let g=o[f],w=g;Array.isArray(g)&&(w=g[1],g=g[0]),d[g]=f,l&&(l[g]=w)}return d}const mo=Vt;function ws(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function mi(o){return o[Oe]||null}function sr(o){return o[de]||null}function Zi(o){return o[Be]||null}function xs(o){const l=mi(o)||sr(o)||Zi(o);return null!==l&&l.standalone}function Jr(o,l){const d=o[yt]||null;if(!d&&!0===l)throw new Error(`Type ${ce(o)} does not have '\u0275mod' property.`);return d}const ki=0,mn=1,Nn=2,Ii=3,Tr=4,es=5,Gn=6,$i=7,Ri=8,xr=9,Er=10,qn=11,Nr=12,na=13,Ia=14,Cr=15,Ji=16,fs=17,Rs=18,Zr=19,Es=20,Dr=21,Hi=22,Qe=1,je=2,lt=7,Ut=8,Zt=9,pn=10;function Wn(o){return Array.isArray(o)&&"object"==typeof o[Qe]}function ni(o){return Array.isArray(o)&&!0===o[Qe]}function or(o){return 0!=(4&o.flags)}function Ar(o){return o.componentOffset>-1}function Mr(o){return 1==(1&o.flags)}function ms(o){return null!==o.template}function Ga(o){return 0!=(256&o[Nn])}function dr(o,l){return o.hasOwnProperty(Lt)?o[Lt]:null}class is{constructor(l,d,f){this.previousValue=l,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function ji(){return Ps}function Ps(o){return o.type.prototype.ngOnChanges&&(o.setInput=Js),_o}function _o(){const o=eo(this),l=o?.current;if(l){const d=o.previous;if(d===on)o.previous=l;else for(let f in l)d[f]=l[f];o.current=null,this.ngOnChanges(l)}}function Js(o,l,d,f){const g=this.declaredInputs[d],w=eo(o)||function Ta(o,l){return o[Ql]=l}(o,{previous:on,current:null}),I=w.current||(w.current={}),O=w.previous,U=O[g];I[g]=new is(U&&U.currentValue,l,O===on),o[f]=l}ji.ngInherit=!0;const Ql="__ngSimpleChanges__";function eo(o){return o[Ql]||null}const zr=function(o,l,d){},Ns="svg";function gi(o){for(;Array.isArray(o);)o=o[ki];return o}function to(o,l){return gi(l[o])}function zi(o,l){return gi(l[o.index])}function sa(o,l){return o.data[l]}function no(o,l){return o[l]}function ur(o,l){const d=l[o];return Wn(d)?d:d[ki]}function To(o){return 64==(64&o[Nn])}function ss(o,l){return null==l?null:o[l]}function vl(o){o[Rs]=0}function aa(o,l){o[es]+=l;let d=o,f=o[Ii];for(;null!==f&&(1===l&&1===d[es]||-1===l&&0===d[es]);)f[es]+=l,d=f,f=f[Ii]}const Ln={lFrame:Ra(null),bindingsEnabled:!0};function z(){return Ln.bindingsEnabled}function dt(){return Ln.lFrame.lView}function Bn(){return Ln.lFrame.tView}function bi(o){return Ln.lFrame.contextLView=o,o[Ri]}function Si(o){return Ln.lFrame.contextLView=null,o}function gr(){let o=Jl();for(;null!==o&&64===o.type;)o=o.parent;return o}function Jl(){return Ln.lFrame.currentTNode}function Ds(o,l){const d=Ln.lFrame;d.currentTNode=o,d.isParent=l}function bl(){return Ln.lFrame.isParent}function wl(){Ln.lFrame.isParent=!1}function tr(){const o=Ln.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function Is(){return Ln.lFrame.bindingIndex++}function Gr(o){const l=Ln.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,d}function El(o,l){const d=Ln.lFrame;d.bindingIndex=d.bindingRootIndex=o,Za(l)}function Za(o){Ln.lFrame.currentDirectiveIndex=o}function Cl(o){const l=Ln.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function Qa(){return Ln.lFrame.currentQueryIndex}function Yo(o){Ln.lFrame.currentQueryIndex=o}function Xa(o){const l=o[mn];return 2===l.type?l.declTNode:1===l.type?o[Gn]:null}function Ja(o,l,d){if(d&fn.SkipSelf){let g=l,w=o;for(;!(g=g.parent,null!==g||d&fn.Host||(g=Xa(w),null===g||(w=w[Cr],10&g.type))););if(null===g)return!1;l=g,o=w}const f=Ln.lFrame=ka();return f.currentTNode=l,f.lView=o,!0}function qo(o){const l=ka(),d=o[mn];Ln.lFrame=l,l.currentTNode=d.firstChild,l.lView=o,l.tView=d,l.contextLView=o,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function ka(){const o=Ln.lFrame,l=null===o?null:o.child;return null===l?Ra(o):l}function Ra(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function ec(){const o=Ln.lFrame;return Ln.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Cc=ec;function jc(){const o=ec();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Qr(){return Ln.lFrame.selectedIndex}function Mo(o){Ln.lFrame.selectedIndex=o}function hr(){const o=Ln.lFrame;return sa(o.tView,o.selectedIndex)}function el(){Ln.lFrame.currentNamespace=Ns}function zc(){!function ca(){Ln.lFrame.currentNamespace=null}()}function gs(o,l){for(let d=l.directiveStart,f=l.directiveEnd;d<f;d++){const w=o.data[d].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:O,ngAfterViewInit:U,ngAfterViewChecked:J,ngOnDestroy:ae}=w;I&&(o.contentHooks||(o.contentHooks=[])).push(-d,I),O&&((o.contentHooks||(o.contentHooks=[])).push(d,O),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(d,O)),U&&(o.viewHooks||(o.viewHooks=[])).push(-d,U),J&&((o.viewHooks||(o.viewHooks=[])).push(d,J),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(d,J)),null!=ae&&(o.destroyHooks||(o.destroyHooks=[])).push(d,ae)}}function Dl(o,l,d){Gc(o,l,3,d)}function Il(o,l,d,f){(3&o[Nn])===d&&Gc(o,l,d,f)}function Id(o,l){let d=o[Nn];(3&d)===l&&(d&=2047,d+=1,o[Nn]=d)}function Gc(o,l,d,f){const w=f??-1,I=l.length-1;let O=0;for(let U=void 0!==f?65535&o[Rs]:0;U<I;U++)if("number"==typeof l[U+1]){if(O=l[U],null!=f&&O>=f)break}else l[U]<0&&(o[Rs]+=65536),(O<w||-1==w)&&(F(o,d,l,U),o[Rs]=(4294901760&o[Rs])+U+2),U++}function F(o,l,d,f){const g=d[f]<0,w=d[f+1],O=o[g?-d[f]:d[f]];if(g){if(o[Nn]>>11<o[Rs]>>16&&(3&o[Nn])===l){o[Nn]+=2048,zr(4,O,w);try{w.call(O)}finally{zr(5,O,w)}}}else{zr(4,O,w);try{w.call(O)}finally{zr(5,O,w)}}}const X=-1;class j{constructor(l,d,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function zn(o,l,d){let f=0;for(;f<d.length;){const g=d[f];if("number"==typeof g){if(0!==g)break;f++;const w=d[f++],I=d[f++],O=d[f++];o.setAttribute(l,I,O,w)}else{const w=g,I=d[++f];Jt(w)?o.setProperty(l,w,I):o.setAttribute(l,w,I),f++}}return f}function yr(o){return 3===o||4===o||6===o}function Jt(o){return 64===o.charCodeAt(0)}function ln(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let d=-1;for(let f=0;f<l.length;f++){const g=l[f];"number"==typeof g?d=g:0===d||io(o,d,g,null,-1===d||2===d?l[++f]:null)}}return o}function io(o,l,d,f,g){let w=0,I=o.length;if(-1===l)I=-1;else for(;w<o.length;){const O=o[w++];if("number"==typeof O){if(O===l){I=-1;break}if(O>l){I=w-1;break}}}for(;w<o.length;){const O=o[w];if("number"==typeof O)break;if(O===d){if(null===f)return void(null!==g&&(o[w+1]=g));if(f===o[w+1])return void(o[w+2]=g)}w++,null!==f&&w++,null!==g&&w++}-1!==I&&(o.splice(I,0,l),w=I+1),o.splice(w++,0,d),null!==f&&o.splice(w++,0,f),null!==g&&o.splice(w++,0,g)}function tn(o){return o!==X}function _t(o){return 32767&o}function nr(o,l){let d=function Ht(o){return o>>16}(o),f=l;for(;d>0;)f=f[Cr],d--;return f}let ko=!0;function Sl(o){const l=ko;return ko=o,l}const $c=255,Tl=5;let ah=0;const Us={};function Ws(o,l){const d=tl(o,l);if(-1!==d)return d;const f=l[mn];f.firstCreatePass&&(o.injectorIndex=l.length,tc(f.data,o),tc(l,null),tc(f.blueprint,null));const g=Xn(o,l),w=o.injectorIndex;if(tn(g)){const I=_t(g),O=nr(g,l),U=O[mn].data;for(let J=0;J<8;J++)l[w+J]=O[I+J]|U[I+J]}return l[w+8]=g,w}function tc(o,l){o.push(0,0,0,0,0,0,0,0,l)}function tl(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Xn(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let d=0,f=null,g=l;for(;null!==g;){if(f=Al(g),null===f)return X;if(d++,g=g[Cr],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return X}function vr(o,l,d){!function Wc(o,l,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(rn)&&(f=d[rn]),null==f&&(f=d[rn]=ah++);const g=f&$c;l.data[o+(g>>Tl)]|=1<<g}(o,l,d)}function Ki(o,l,d){if(d&fn.Optional||void 0!==o)return o;ze()}function kn(o,l,d,f){if(d&fn.Optional&&void 0===f&&(f=null),!(d&(fn.Self|fn.Host))){const g=o[xr],w=fi(void 0);try{return g?g.get(l,f,d&fn.Optional):_i(l,f,d&fn.Optional)}finally{fi(w)}}return Ki(f,0,d)}function nc(o,l,d,f=fn.Default,g){if(null!==o){if(1024&l[Nn]){const I=function ro(o,l,d,f,g){let w=o,I=l;for(;null!==w&&null!==I&&1024&I[Nn]&&!(256&I[Nn]);){const O=oi(w,I,d,f|fn.Self,Us);if(O!==Us)return O;let U=w.parent;if(!U){const J=I[Dr];if(J){const ae=J.get(d,Us,f);if(ae!==Us)return ae}U=Al(I),I=I[Cr]}w=U}return g}(o,l,d,f,Us);if(I!==Us)return I}const w=oi(o,l,d,f,Us);if(w!==Us)return w}return kn(l,d,f,g)}function oi(o,l,d,f,g){const w=function $r(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(rn)?o[rn]:void 0;return"number"==typeof l?l>=0?l&$c:os:l}(d);if("function"==typeof w){if(!Ja(l,o,f))return f&fn.Host?Ki(g,0,f):kn(l,d,f,g);try{const I=w(f);if(null!=I||f&fn.Optional)return I;ze()}finally{Cc()}}else if("number"==typeof w){let I=null,O=tl(o,l),U=X,J=f&fn.Host?l[Ji][Gn]:null;for((-1===O||f&fn.SkipSelf)&&(U=-1===O?Xn(o,l):l[O+8],U!==X&&kr(f,!1)?(I=l[mn],O=_t(U),l=nr(U,l)):O=-1);-1!==O;){const ae=l[mn];if(da(w,O,ae.data)){const Me=lh(O,l,d,I,f,J);if(Me!==Us)return Me}U=l[O+8],U!==X&&kr(f,l[mn].data[O+8]===J)&&da(w,O,l)?(I=ae,O=_t(U),l=nr(U,l)):O=-1}}return g}function lh(o,l,d,f,g,w){const I=l[mn],O=I.data[o+8],ae=fr(O,I,d,null==f?Ar(O)&&ko:f!=I&&0!=(3&O.type),g&fn.Host&&w===O);return null!==ae?cn(l,I,ae,O):Us}function fr(o,l,d,f,g){const w=o.providerIndexes,I=l.data,O=1048575&w,U=o.directiveStart,ae=w>>20,Je=g?O+ae:o.directiveEnd;for(let gt=f?O:O+ae;gt<Je;gt++){const Gt=I[gt];if(gt<U&&d===Gt||gt>=U&&Gt.type===d)return gt}if(g){const gt=I[U];if(gt&&ms(gt)&&gt.type===d)return U}return null}function cn(o,l,d,f){let g=o[d];const w=l.data;if(function oe(o){return o instanceof j}(g)){const I=g;I.resolving&&function Ve(o,l){const d=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${o}${d}`)}(function Ct(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ee(o)}(w[d]));const O=Sl(I.canSeeViewProviders);I.resolving=!0;const U=I.injectImpl?fi(I.injectImpl):null;Ja(o,f,fn.Default);try{g=o[d]=I.factory(void 0,w,o,f),l.firstCreatePass&&d>=f.directiveStart&&function Dd(o,l,d){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:w}=l.type.prototype;if(f){const I=Ps(l);(d.preOrderHooks||(d.preOrderHooks=[])).push(o,I),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(o,I)}g&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-o,g),w&&((d.preOrderHooks||(d.preOrderHooks=[])).push(o,w),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(o,w))}(d,w[d],l)}finally{null!==U&&fi(U),Sl(O),I.resolving=!1,Cc()}}return g}function da(o,l,d){return!!(d[l+(o>>Tl)]&1<<o)}function kr(o,l){return!(o&fn.Self||o&fn.Host&&l)}class Fr{constructor(l,d){this._tNode=l,this._lView=d}get(l,d,f){return nc(this._tNode,this._lView,l,N(f),d)}}function os(){return new Fr(gr(),dt())}function ic(o){return Fe(()=>{const l=o.prototype.constructor,d=l[Lt]||_s(l),f=Object.prototype;let g=Object.getPrototypeOf(o.prototype).constructor;for(;g&&g!==f;){const w=g[Lt]||_s(g);if(w&&w!==d)return w;g=Object.getPrototypeOf(g)}return w=>new w})}function _s(o){return nt(o)?()=>{const l=_s(pe(o));return l&&l()}:dr(o)}function Al(o){const l=o[mn],d=l.type;return 2===d?l.declTNode:1===d?o[Gn]:null}function as(o){return function Wi(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const d=o.attrs;if(d){const f=d.length;let g=0;for(;g<f;){const w=d[g];if(yr(w))break;if(0===w)g+=2;else if("number"==typeof w)for(g++;g<f&&"string"==typeof d[g];)g++;else{if(w===l)return d[g+1];g+=2}}}return null}(gr(),o)}const rc="__parameters__";function pt(o,l,d){return Fe(()=>{const f=function nl(o){return function(...d){if(o){const f=o(...d);for(const g in f)this[g]=f[g]}}}(l);function g(...w){if(this instanceof g)return f.apply(this,w),this;const I=new g(...w);return O.annotation=I,O;function O(U,J,ae){const Me=U.hasOwnProperty(rc)?U[rc]:Object.defineProperty(U,rc,{value:[]})[rc];for(;Me.length<=ae;)Me.push(null);return(Me[ae]=Me[ae]||[]).push(I),U}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}class Qi{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=sn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ls(o,l){o.forEach(d=>Array.isArray(d)?ls(d,l):l(d))}function dc(o,l,d){l>=o.length?o.push(d):o.splice(l,0,d)}function il(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function A(o,l){const d=[];for(let f=0;f<o;f++)d.push(l);return d}function ie(o,l,d){let f=tt(o,l);return f>=0?o[1|f]=d:(f=~f,function L(o,l,d,f){let g=o.length;if(g==l)o.push(d,f);else if(1===g)o.push(f,o[0]),o[0]=d;else{for(g--,o.push(o[g-1],o[g]);g>l;)o[g]=o[g-2],g--;o[l]=d,o[l+1]=f}}(o,f,l,d)),f}function ye(o,l){const d=tt(o,l);if(d>=0)return o[1|d]}function tt(o,l){return function _n(o,l,d){let f=0,g=o.length>>d;for(;g!==f;){const w=f+(g-f>>1),I=o[w<<d];if(l===I)return w<<d;I>l?g=w:f=w+1}return~(g<<d)}(o,l,1)}const fa=ue(pt("Inject",o=>({token:o})),-1),Ml=ue(pt("Optional"),8),kl=ue(pt("SkipSelf"),4);var Ss=(()=>((Ss=Ss||{})[Ss.Important=1]="Important",Ss[Ss.DashCase=2]="DashCase",Ss))();const Or=new Map;let Sc=0;const hh="__ngContext__";function ao(o,l){Wn(l)?(o[hh]=l[Es],function Yp(o){Or.set(o[Es],o)}(l)):o[hh]=l}let Cf;function Cu(o,l){return Cf(o,l)}function Tc(o){const l=o[Ii];return ni(l)?l[Ii]:l}function Pd(o){return Iu(o[na])}function Fl(o){return Iu(o[Tr])}function Iu(o){for(;null!==o&&!ni(o);)o=o[Tr];return o}function Jc(o,l,d,f,g){if(null!=f){let w,I=!1;ni(f)?w=f:Wn(f)&&(I=!0,f=f[ki]);const O=gi(f);0===o&&null!==d?null==g?km(l,d,O):Fo(l,d,O,g||null,!0):1===o&&null!==d?Fo(l,d,O,g||null,!0):2===o?function nd(o,l,d){const f=yh(o,l);f&&function Sf(o,l,d,f){o.removeChild(l,d,f)}(o,f,l,d)}(l,O,I):3===o&&l.destroyNode(O),null!=w&&function bh(o,l,d,f,g){const w=d[lt];w!==gi(d)&&Jc(l,o,f,w,g);for(let O=pn;O<d.length;O++){const U=d[O];Af(U[mn],U,o,l,f,w)}}(l,o,w,d,g)}}function Df(o,l,d){return o.createElement(l,d)}function ph(o,l){const d=o[Zt],f=d.indexOf(l),g=l[Ii];512&l[Nn]&&(l[Nn]&=-513,aa(g,-1)),d.splice(f,1)}function Nd(o,l){if(o.length<=pn)return;const d=pn+l,f=o[d];if(f){const g=f[fs];null!==g&&g!==o&&ph(g,f),l>0&&(o[d-1][Tr]=f[Tr]);const w=il(o,pn+l);!function mh(o,l){Af(o,l,l[qn],2,null,null),l[ki]=null,l[Gn]=null}(f[mn],f);const I=w[Zr];null!==I&&I.detachView(w[mn]),f[Ii]=null,f[Tr]=null,f[Nn]&=-65}return f}function Oa(o,l){if(!(128&l[Nn])){const d=l[qn];d.destroyNode&&Af(o,l,d,3,null,null),function ol(o){let l=o[na];if(!l)return Fd(o[mn],o);for(;l;){let d=null;if(Wn(l))d=l[na];else{const f=l[pn];f&&(d=f)}if(!d){for(;l&&!l[Tr]&&l!==o;)Wn(l)&&Fd(l[mn],l),l=l[Ii];null===l&&(l=o),Wn(l)&&Fd(l[mn],l),d=l&&l[Tr]}l=d}}(l)}}function Fd(o,l){if(!(128&l[Nn])){l[Nn]&=-65,l[Nn]|=128,function Mm(o,l){let d;if(null!=o&&null!=(d=o.destroyHooks))for(let f=0;f<d.length;f+=2){const g=l[d[f]];if(!(g instanceof j)){const w=d[f+1];if(Array.isArray(w))for(let I=0;I<w.length;I+=2){const O=g[w[I]],U=w[I+1];zr(4,O,U);try{U.call(O)}finally{zr(5,O,U)}}else{zr(4,g,w);try{w.call(g)}finally{zr(5,g,w)}}}}}(o,l),function Mc(o,l){const d=o.cleanup,f=l[$i];let g=-1;if(null!==d)for(let w=0;w<d.length-1;w+=2)if("string"==typeof d[w]){const I=d[w+3];I>=0?f[g=I]():f[g=-I].unsubscribe(),w+=2}else{const I=f[g=d[w+1]];d[w].call(I)}if(null!==f){for(let w=g+1;w<f.length;w++)(0,f[w])();l[$i]=null}}(o,l),1===l[mn].type&&l[qn].destroy();const d=l[fs];if(null!==d&&ni(l[Ii])){d!==l[Ii]&&ph(d,l);const f=l[Zr];null!==f&&f.detachView(o)}!function Im(o){Or.delete(o[Es])}(l)}}function gh(o,l,d){return function _h(o,l,d){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return d[ki];{const{componentOffset:g}=f;if(g>-1){const{encapsulation:w}=o.data[f.directiveStart+g];if(w===Ye.None||w===Ye.Emulated)return null}return zi(f,d)}}(o,l.parent,d)}function Fo(o,l,d,f,g){o.insertBefore(l,d,f,g)}function km(o,l,d){o.appendChild(l,d)}function Lo(o,l,d,f,g){null!==f?Fo(o,l,d,f,g):km(o,l,d)}function yh(o,l){return o.parentNode(l)}function Rm(o,l,d){return ed(o,l,d)}let Tu,Bl,Vd,xh,ed=function Ld(o,l,d){return 40&o.type?zi(o,d):null};function td(o,l,d,f){const g=gh(o,f,l),w=l[qn],O=Rm(f.parent||l[Gn],f,l);if(null!=g)if(Array.isArray(d))for(let U=0;U<d.length;U++)Lo(w,g,d[U],O,!1);else Lo(w,g,d,O,!1);void 0!==Tu&&Tu(w,f,l,d,g)}function Ll(o,l){if(null!==l){const d=l.type;if(3&d)return zi(l,o);if(4&d)return Bd(-1,o[l.index]);if(8&d){const f=l.child;if(null!==f)return Ll(o,f);{const g=o[l.index];return ni(g)?Bd(-1,g):gi(g)}}if(32&d)return Cu(l,o)()||gi(o[l.index]);{const f=vh(o,l);return null!==f?Array.isArray(f)?f[0]:Ll(Tc(o[Ji]),f):Ll(o,l.next)}}return null}function vh(o,l){return null!==l?o[Ji][Gn].projection[l.projection]:null}function Bd(o,l){const d=pn+o+1;if(d<l.length){const f=l[d],g=f[mn].firstChild;if(null!==g)return Ll(f,g)}return l[lt]}function Au(o,l,d,f,g,w,I){for(;null!=d;){const O=f[d.index],U=d.type;if(I&&0===l&&(O&&ao(gi(O),f),d.flags|=2),32!=(32&d.flags))if(8&U)Au(o,l,d.child,f,g,w,!1),Jc(l,o,g,O,w);else if(32&U){const J=Cu(d,f);let ae;for(;ae=J();)Jc(l,o,g,ae,w);Jc(l,o,g,O,w)}else 16&U?Om(o,l,f,d,g,w):Jc(l,o,g,O,w);d=I?d.projectionNext:d.next}}function Af(o,l,d,f,g,w){Au(d,f,o.firstChild,l,g,w,!1)}function Om(o,l,d,f,g,w){const I=d[Ji],U=I[Gn].projection[f.projection];if(Array.isArray(U))for(let J=0;J<U.length;J++)Jc(l,o,g,U[J],w);else Au(o,l,U,I[Ii],g,w,!0)}function Ud(o,l,d){""===d?o.removeAttribute(l,"class"):o.setAttribute(l,"class",d)}function ku(o,l,d){const{mergedAttrs:f,classes:g,styles:w}=d;null!==f&&zn(o,l,f),null!==g&&Ud(o,l,g),null!==w&&function k_(o,l,d){o.setAttribute(l,"style",d)}(o,l,w)}function uc(o){return function wh(){if(void 0===Bl&&(Bl=null,Sn.trustedTypes))try{Bl=Sn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Bl}()?.createHTML(o)||o}function kc(o){Vd=o}function Ul(o){return function rd(){if(void 0===xh&&(xh=null,Sn.trustedTypes))try{xh=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return xh}()?.createScriptURL(o)||o}class Bo{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}class eg extends Bo{getTypeName(){return"HTML"}}class kf extends Bo{getTypeName(){return"Style"}}class Ru extends Bo{getTypeName(){return"Script"}}class Rc extends Bo{getTypeName(){return"URL"}}class jd extends Bo{getTypeName(){return"ResourceURL"}}function Vl(o){return o instanceof Bo?o.changingThisBreaksApplicationSecurity:o}function lo(o,l){const d=function zd(o){return o instanceof Bo&&o.getTypeName()||null}(o);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see ${ht})`)}return d===l}function R_(o){return new eg(o)}function Ou(o){return new kf(o)}function Nm(o){return new Ru(o)}function tg(o){return new Rc(o)}function Yi(o){return new jd(o)}class Rf{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(uc(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch{return null}}}class Of{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const d=this.inertDocument.createElement("template");return d.innerHTML=uc(l),d}}const sd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function od(o){return(o=String(o)).match(sd)?o:"unsafe:"+o}function ya(o){const l={};for(const d of o.split(","))l[d]=!0;return l}function ad(...o){const l={};for(const d of o)for(const f in d)d.hasOwnProperty(f)&&(l[f]=!0);return l}const Pf=ya("area,br,col,hr,img,wbr"),ng=ya("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jl=ya("rp,rt"),y=ad(Pf,ad(ng,ya("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ad(jl,ya("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ad(jl,ng)),b=ya("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),re=ad(b,ya("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ya("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),He=ya("script,style,template");class ct{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let d=l.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let g=this.checkClobberedElement(d,d.nextSibling);if(g){d=g;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(l){const d=l.nodeName.toLowerCase();if(!y.hasOwnProperty(d))return this.sanitizedSomething=!0,!He.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=l.attributes;for(let g=0;g<f.length;g++){const w=f.item(g),I=w.name,O=I.toLowerCase();if(!re.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let U=w.value;b[O]&&(U=od(U)),this.buf.push(" ",I,'="',In(U),'"')}return this.buf.push(">"),!0}endElement(l){const d=l.nodeName.toLowerCase();y.hasOwnProperty(d)&&!Pf.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push(In(l))}checkClobberedElement(l,d){if(d&&(l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return d}}const jt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dn=/([^\#-~ |!])/g;function In(o){return o.replace(/&/g,"&amp;").replace(jt,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(dn,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qt;function Yn(o,l){let d=null;try{Qt=Qt||function Fi(o){const l=new Of(o);return function Hl(){try{return!!(new window.DOMParser).parseFromString(uc(""),"text/html")}catch{return!1}}()?new Rf(l):l}(o);let f=l?String(l):"";d=Qt.getInertBodyElement(f);let g=5,w=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=w,w=d.innerHTML,d=Qt.getInertBodyElement(f)}while(f!==w);return uc((new ct).sanitizeChildren(vo(d)||d))}finally{if(d){const f=vo(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function vo(o){return"content"in o&&function Gd(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Lr=(()=>((Lr=Lr||{})[Lr.NONE=0]="NONE",Lr[Lr.HTML=1]="HTML",Lr[Lr.STYLE=2]="STYLE",Lr[Lr.SCRIPT=3]="SCRIPT",Lr[Lr.URL=4]="URL",Lr[Lr.RESOURCE_URL=5]="RESOURCE_URL",Lr))();function Ch(o){const l=Um();return l?l.sanitize(Lr.URL,o)||"":lo(o,"URL")?Vl(o):od(Ee(o))}function Ff(o){const l=Um();if(l)return Ul(l.sanitize(Lr.RESOURCE_URL,o)||"");if(lo(o,"ResourceURL"))return Ul(Vl(o));throw new Ze(904,!1)}function Bm(o,l,d){return function ig(o,l){return"src"===l&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===l&&("base"===o||"link"===o)?Ff:Ch}(l,d)(o)}function Um(){const o=dt();return o&&o[Nr]}const rg=new Qi("ENVIRONMENT_INITIALIZER"),Sh=new Qi("INJECTOR",-1),P_=new Qi("INJECTOR_DEF_TYPES");class N_{get(l,d=Ot){if(d===Ot){const f=new Error(`NullInjectorError: No provider for ${ce(l)}!`);throw f.name="NullInjectorError",f}return d}}function hc(o){return{\u0275providers:o}}function cd(...o){return{\u0275providers:Uo(0,o),\u0275fromNgModule:!0}}function Uo(o,...l){const d=[],f=new Set;let g;return ls(l,w=>{const I=w;sg(I,d,[],f)&&(g||(g=[]),g.push(I))}),void 0!==g&&pv(g,d),d}function pv(o,l){for(let d=0;d<o.length;d++){const{providers:g}=o[d];og(g,w=>{l.push(w)})}}function sg(o,l,d,f){if(!(o=pe(o)))return!1;let g=null,w=gn(o);const I=!w&&mi(o);if(w||I){if(I&&!I.standalone)return!1;g=o}else{const U=o.ngModule;if(w=gn(U),!w)return!1;g=U}const O=f.has(g);if(I){if(O)return!1;if(f.add(g),I.dependencies){const U="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const J of U)sg(J,l,d,f)}}else{if(!w)return!1;{if(null!=w.imports&&!O){let J;f.add(g);try{ls(w.imports,ae=>{sg(ae,l,d,f)&&(J||(J=[]),J.push(ae))})}finally{}void 0!==J&&pv(J,l)}if(!O){const J=dr(g)||(()=>new g);l.push({provide:g,useFactory:J,deps:Ne},{provide:P_,useValue:g,multi:!0},{provide:rg,useValue:()=>$t(g),multi:!0})}const U=w.providers;null==U||O||og(U,ae=>{l.push(ae)})}}return g!==o&&void 0!==o.providers}function og(o,l){for(let d of o)Ke(d)&&(d=d.\u0275providers),Array.isArray(d)?og(d,l):l(d)}const Gb=Se({provide:String,useValue:Se});function ag(o){return null!==o&&"object"==typeof o&&Gb in o}function Pa(o){return"function"==typeof o}const Na=new Qi("Set Injector scope."),Lf={},dd={};let Bf;function Vm(){return void 0===Bf&&(Bf=new N_),Bf}class Oc{}class gv extends Oc{get destroyed(){return this._destroyed}constructor(l,d,f,g){super(),this.parent=d,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fa(l,I=>this.processProvider(I)),this.records.set(Sh,fc(void 0,this)),g.has("environment")&&this.records.set(Oc,fc(void 0,this));const w=this.records.get(Na);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(P_.multi,Ne,fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const d=Mi(this),f=fi(void 0);try{return l()}finally{Mi(d),fi(f)}}get(l,d=Ot,f=fn.Default){this.assertNotDestroyed(),f=N(f);const g=Mi(this),w=fi(void 0);try{if(!(f&fn.SkipSelf)){let O=this.records.get(l);if(void 0===O){const U=function Wb(o){return"function"==typeof o||"object"==typeof o&&o instanceof Qi}(l)&&On(l);O=U&&this.injectableDefInScope(U)?fc(lg(l),Lf):null,this.records.set(l,O)}if(null!=O)return this.hydrate(l,O)}return(f&fn.Self?Vm():this.parent).get(l,d=f&fn.Optional&&d===Ot?null:d)}catch(I){if("NullInjectorError"===I.name){if((I[st]=I[st]||[]).unshift(ce(l)),g)throw I;return function se(o,l,d,f){const g=o[st];throw l[Vi]&&g.unshift(l[Vi]),o.message=function be(o,l,d,f=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==xn?o.slice(2):o;let g=ce(l);if(Array.isArray(l))g=l.map(ce).join(" -> ");else if("object"==typeof l){let w=[];for(let I in l)if(l.hasOwnProperty(I)){let O=l[I];w.push(I+":"+("string"==typeof O?JSON.stringify(O):ce(O)))}g=`{${w.join(", ")}}`}return`${d}${f?"("+f+")":""}[${g}]: ${o.replace(Pn,"\n  ")}`}("\n"+o.message,g,d,f),o[Ft]=g,o[st]=null,o}(I,l,"R3InjectorError",this.source)}throw I}finally{fi(w),Mi(g)}}resolveInjectorInitializers(){const l=Mi(this),d=fi(void 0);try{const f=this.get(rg.multi,Ne,fn.Self);for(const g of f)g()}finally{Mi(l),fi(d)}}toString(){const l=[],d=this.records;for(const f of d.keys())l.push(ce(f));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(l){let d=Pa(l=pe(l))?l:pe(l&&l.provide);const f=function cg(o){return ag(o)?fc(void 0,o.useValue):fc(Uf(o),Lf)}(l);if(Pa(l)||!0!==l.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=fc(void 0,Lf,!0),g.factory=()=>H(g.multi),this.records.set(d,g)),d=l,g.multi.push(l)}this.records.set(d,f)}hydrate(l,d){return d.value===Lf&&(d.value=dd,d.value=d.factory()),"object"==typeof d.value&&d.value&&function yv(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(l){if(!l.providedIn)return!1;const d=pe(l.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function lg(o){const l=On(o),d=null!==l?l.factory:dr(o);if(null!==d)return d;if(o instanceof Qi)throw new Ze(204,!1);if(o instanceof Function)return function _v(o){const l=o.length;if(l>0)throw A(l,"?"),new Ze(204,!1);const d=function jn(o){const l=o&&(o[ri]||o[hi]);return l?(function yi(o){if(o.hasOwnProperty("name"))return o.name;(""+o).match(/^function\s*([^\s(]+)/)}(o),l):null}(o);return null!==d?()=>d.factory(o):()=>new o}(o);throw new Ze(204,!1)}function Uf(o,l,d){let f;if(Pa(o)){const g=pe(o);return dr(g)||lg(g)}if(ag(o))f=()=>pe(o.useValue);else if(function Wd(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...H(o.deps||[]));else if(function Pu(o){return!(!o||!o.useExisting)}(o))f=()=>$t(pe(o.useExisting));else{const g=pe(o&&(o.useClass||o.provide));if(!function $b(o){return!!o.deps}(o))return dr(g)||lg(g);f=()=>new g(...H(o.deps))}return f}function fc(o,l,d=!1){return{factory:o,value:l,multi:d?[]:void 0}}function Fa(o,l){for(const d of o)Array.isArray(d)?Fa(d,l):d&&Ke(d)?Fa(d.\u0275providers,l):l(d)}class F_{}class Nu{}class bv{resolveComponentFactory(l){throw function Fu(o){const l=Error(`No component factory found for ${ce(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let Vf=(()=>{class o{}return o.NULL=new bv,o})();function Kb(){return Lu(gr(),dt())}function Lu(o,l){return new va(zi(o,l))}let va=(()=>{class o{constructor(d){this.nativeElement=d}}return o.__NG_ELEMENT_ID__=Kb,o})();function dg(o){return o instanceof va?o.nativeElement:o}class ug{}let L_=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function B_(){const o=dt(),d=ur(gr().index,o);return(Wn(d)?d:o)[qn]}(),o})(),hg=(()=>{class o{}return o.\u0275prov=sn({token:o,providedIn:"root",factory:()=>null}),o})();class ba{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Ah=new ba("15.2.2"),Hf={},Mh="ngOriginalError";function kh(o){return o[Mh]}class qd{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l);this._console.error("ERROR",l),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(l){let d=l&&kh(l);for(;d&&kh(d);)d=kh(d);return d||null}}function bo(o){return o instanceof Function?o():o}function ud(o,l,d){let f=o.length;for(;;){const g=o.indexOf(l,d);if(-1===g)return g;if(0===g||o.charCodeAt(g-1)<=32){const w=l.length;if(g+w===f||o.charCodeAt(g+w)<=32)return g}d=g+1}}const V_="ng-template";function qb(o,l,d){let f=0;for(;f<o.length;){let g=o[f++];if(d&&"class"===g){if(g=o[f],-1!==ud(g.toLowerCase(),l,0))return!0}else if(1===g){for(;f<o.length&&"string"==typeof(g=o[f++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function Cv(o){return 4===o.type&&o.value!==V_}function Zb(o,l,d){return l===(4!==o.type||d?o.value:V_)}function Dv(o,l,d){let f=4;const g=o.attrs||[],w=function Qb(o){for(let l=0;l<o.length;l++)if(yr(o[l]))return l;return o.length}(g);let I=!1;for(let O=0;O<l.length;O++){const U=l[O];if("number"!=typeof U){if(!I)if(4&f){if(f=2|1&f,""!==U&&!Zb(o,U,d)||""===U&&1===l.length){if(Ba(f))return!1;I=!0}}else{const J=8&f?U:l[++O];if(8&f&&null!==o.attrs){if(!qb(o.attrs,J,d)){if(Ba(f))return!1;I=!0}continue}const Me=jm(8&f?"class":U,g,Cv(o),d);if(-1===Me){if(Ba(f))return!1;I=!0;continue}if(""!==J){let Je;Je=Me>w?"":g[Me+1].toLowerCase();const gt=8&f?Je:null;if(gt&&-1!==ud(gt,J,0)||2&f&&J!==Je){if(Ba(f))return!1;I=!0}}}}else{if(!I&&!Ba(f)&&!Ba(U))return!1;if(I&&Ba(U))continue;I=!1,f=U|1&f}}return Ba(f)||I}function Ba(o){return 0==(1&o)}function jm(o,l,d,f){if(null===l)return-1;let g=0;if(f||!d){let w=!1;for(;g<l.length;){const I=l[g];if(I===o)return g;if(3===I||6===I)w=!0;else{if(1===I||2===I){let O=l[++g];for(;"string"==typeof O;)O=l[++g];continue}if(4===I)break;if(0===I){g+=4;continue}}g+=w?1:2}return-1}return function H_(o,l){let d=o.indexOf(4);if(d>-1)for(d++;d<o.length;){const f=o[d];if("number"==typeof f)return-1;if(f===l)return d;d++}return-1}(l,o)}function gg(o,l,d=!1){for(let f=0;f<l.length;f++)if(Dv(o,l[f],d))return!0;return!1}function Rh(o,l){e:for(let d=0;d<l.length;d++){const f=l[d];if(o.length===f.length){for(let g=0;g<o.length;g++)if(o[g]!==f[g])continue e;return!0}}return!1}function zf(o,l){return o?":not("+l.trim()+")":l}function xa(o){let l=o[0],d=1,f=2,g="",w=!1;for(;d<o.length;){let I=o[d];if("string"==typeof I)if(2&f){const O=o[++d];g+="["+I+(O.length>0?'="'+O+'"':"")+"]"}else 8&f?g+="."+I:4&f&&(g+=" "+I);else""!==g&&!Ba(I)&&(l+=zf(w,g),g=""),f=I,w=w||!Ba(f);d++}return""!==g&&(l+=zf(w,g)),l}const ai={};function j_(o){Sv(Bn(),dt(),Qr()+o,!1)}function Sv(o,l,d,f){if(!f)if(3==(3&l[Nn])){const w=o.preOrderCheckHooks;null!==w&&Dl(l,w,d)}else{const w=o.preOrderHooks;null!==w&&Il(l,w,0,d)}Mo(d)}function Mv(o,l=null,d=null,f){const g=vg(o,l,d,f);return g.resolveInjectorInitializers(),g}function vg(o,l=null,d=null,f,g=new Set){const w=[d||Ne,cd(o)];return f=f||("object"==typeof o?void 0:ce(o)),new gv(w,l||Vm(),f||null,g)}let Zd=(()=>{class o{static create(d,f){if(Array.isArray(d))return Mv({name:""},f,d,"");{const g=d.name??"";return Mv({name:g},d.parent,d.providers,g)}}}return o.THROW_IF_NOT_FOUND=Ot,o.NULL=new N_,o.\u0275prov=sn({token:o,providedIn:"any",factory:()=>$t(Sh)}),o.__NG_ELEMENT_ID__=-1,o})();function Xd(o,l=fn.Default){const d=dt();return null===d?$t(o,l):nc(gr(),d,pe(o),l)}function X_(){throw new Error("invalid")}function J_(o,l){const d=o.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const w=d[f+1];if(-1!==w){const I=o.data[w];Yo(d[f]),I.contentQueries(2,l[w],w)}}}function Ym(o,l,d,f,g,w,I,O,U,J,ae){const Me=l.blueprint.slice();return Me[ki]=g,Me[Nn]=76|f,(null!==ae||o&&1024&o[Nn])&&(Me[Nn]|=1024),vl(Me),Me[Ii]=Me[Cr]=o,Me[Ri]=d,Me[Er]=I||o&&o[Er],Me[qn]=O||o&&o[qn],Me[Nr]=U||o&&o[Nr]||null,Me[xr]=J||o&&o[xr]||null,Me[Gn]=w,Me[Es]=function uh(){return Sc++}(),Me[Dr]=ae,Me[Ji]=2==l.type?o[Ji]:Me,Me}function mc(o,l,d,f,g){let w=o.data[l];if(null===w)w=function $f(o,l,d,f,g){const w=Jl(),I=bl(),U=o.data[l]=function Lv(o,l,d,f,g,w){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?w:w&&w.parent,d,l,f,g);return null===o.firstChild&&(o.firstChild=U),null!==w&&(I?null==w.child&&null!==U.parent&&(w.child=U):null===w.next&&(w.next=U,U.prev=w)),U}(o,l,d,f,g),function la(){return Ln.lFrame.inI18n}()&&(w.flags|=32);else if(64&w.type){w.type=d,w.value=f,w.attrs=g;const I=function Ko(){const o=Ln.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();w.injectorIndex=null===I?-1:I.injectorIndex}return Ds(w,!0),w}function Wf(o,l,d,f){if(0===d)return-1;const g=l.length;for(let w=0;w<d;w++)l.push(f),o.blueprint.push(f),o.data.push(null);return g}function Nc(o,l,d){qo(l);try{const f=o.viewQuery;null!==f&&ll(1,f,d);const g=o.template;null!==g&&ey(o,l,g,1,d),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&J_(o,l),o.staticViewQueries&&ll(2,o.viewQuery,d);const w=o.components;null!==w&&function c0(o,l){for(let d=0;d<l.length;d++)tu(o,l[d])}(l,w)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{l[Nn]&=-5,jc()}}function co(o,l,d,f){const g=l[Nn];if(128!=(128&g)){qo(l);try{vl(l),function qa(o){return Ln.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==d&&ey(o,l,d,2,f);const I=3==(3&g);if(I){const J=o.preOrderCheckHooks;null!==J&&Dl(l,J,null)}else{const J=o.preOrderHooks;null!==J&&Il(l,J,0,null),Id(l,0)}if(function oy(o){for(let l=Pd(o);null!==l;l=Fl(l)){if(!l[je])continue;const d=l[Zt];for(let f=0;f<d.length;f++){const g=d[f];512&g[Nn]||aa(g[Ii],1),g[Nn]|=512}}}(l),function Yf(o){for(let l=Pd(o);null!==l;l=Fl(l))for(let d=pn;d<l.length;d++){const f=l[d],g=f[mn];To(f)&&co(g,f,g.template,f[Ri])}}(l),null!==o.contentQueries&&J_(o,l),I){const J=o.contentCheckHooks;null!==J&&Dl(l,J)}else{const J=o.contentHooks;null!==J&&Il(l,J,1),Id(l,1)}!function Cg(o,l){const d=o.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const g=d[f];if(g<0)Mo(~g);else{const w=g,I=d[++f],O=d[++f];El(I,w),O(2,l[w])}}}finally{Mo(-1)}}(o,l);const O=o.components;null!==O&&function l0(o,l){for(let d=0;d<l.length;d++)ay(o,l[d])}(l,O);const U=o.viewQuery;if(null!==U&&ll(2,U,f),I){const J=o.viewCheckHooks;null!==J&&Dl(l,J)}else{const J=o.viewHooks;null!==J&&Il(l,J,2),Id(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[Nn]&=-41,512&l[Nn]&&(l[Nn]&=-513,aa(l[Ii],-1))}finally{jc()}}}function ey(o,l,d,f,g){const w=Qr(),I=2&f;try{Mo(-1),I&&l.length>Hi&&Sv(o,l,Hi,!1),zr(I?2:0,g),d(f,g)}finally{Mo(w),zr(I?3:1,g)}}function Dg(o,l,d){if(or(l)){const g=l.directiveEnd;for(let w=l.directiveStart;w<g;w++){const I=o.data[w];I.contentQueries&&I.contentQueries(1,d[w],w)}}}function Kf(o,l,d){z()&&(function ry(o,l,d,f){const g=d.directiveStart,w=d.directiveEnd;Ar(d)&&function Qm(o,l,d){const f=zi(l,o),g=Ig(d),w=o[Er],I=zh(o,Ym(o,g,null,d.onPush?32:16,f,l,w,w.createRenderer(f,d),null,null,null));o[l.index]=I}(l,d,o.data[g+d.componentOffset]),o.firstCreatePass||Ws(d,l),ao(f,l);const I=d.initialInputs;for(let O=g;O<w;O++){const U=o.data[O],J=cn(l,o,O,d);ao(J,l),null!==I&&Hh(0,O-g,J,U,0,I),ms(U)&&(ur(d.index,l)[Ri]=cn(l,o,O,d))}}(o,l,d,zi(d,l)),64==(64&d.flags)&&Jd(o,l,d))}function Lh(o,l,d=zi){const f=l.localNames;if(null!==f){let g=l.index+1;for(let w=0;w<f.length;w+=2){const I=f[w+1],O=-1===I?d(l,o):o[I];o[g++]=O}}}function Ig(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=Sg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function Sg(o,l,d,f,g,w,I,O,U,J){const ae=Hi+f,Me=ae+g,Je=function Pv(o,l){const d=[];for(let f=0;f<l;f++)d.push(f<o?null:ai);return d}(ae,Me),gt="function"==typeof J?J():J;return Je[mn]={type:o,blueprint:Je,template:d,queries:null,viewQuery:O,declTNode:l,data:Je.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:U,consts:gt,incompleteFirstPass:!1}}function Fv(o,l,d,f){const g=Og(l);null===d?g.push(f):(g.push(d),o.firstCreatePass&&Gh(o).push(f,g.length-1))}function Bh(o,l,d,f){for(let g in o)if(o.hasOwnProperty(g)){d=null===d?{}:d;const w=o[g];null===f?Bv(d,l,g,w):f.hasOwnProperty(g)&&Bv(d,l,f[g],w)}return d}function Bv(o,l,d,f){o.hasOwnProperty(d)?o[d].push(l,f):o[d]=[l,f]}function Ua(o,l,d,f,g,w,I,O){const U=zi(l,d);let ae,J=l.inputs;!O&&null!=J&&(ae=J[f])?(Vo(o,d,ae,f,g),Ar(l)&&Uh(d,l.index)):3&l.type&&(f=function qm(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),g=null!=I?I(g,l.value||"",f):g,w.setProperty(U,f,g))}function Uh(o,l){const d=ur(l,o);16&d[Nn]||(d[Nn]|=32)}function Vh(o,l,d,f){if(z()){const g=null===f?null:{"":-1},w=function u0(o,l){const d=o.directiveRegistry;let f=null,g=null;if(d)for(let w=0;w<d.length;w++){const I=d[w];if(gg(l,I.selectors,!1))if(f||(f=[]),ms(I))if(null!==I.findHostDirectiveDefs){const O=[];g=g||new Map,I.findHostDirectiveDefs(I,O,g),f.unshift(...O,I),Ag(o,l,O.length)}else f.unshift(I),Ag(o,l,0);else g=g||new Map,I.findHostDirectiveDefs?.(I,f,g),f.push(I)}return null===f?null:[f,g]}(o,d);let I,O;null===w?I=O=null:[I,O]=w,null!==I&&Tg(o,l,d,I,g,O),g&&function sy(o,l,d){if(l){const f=o.localNames=[];for(let g=0;g<l.length;g+=2){const w=d[l[g+1]];if(null==w)throw new Ze(-301,!1);f.push(l[g],w)}}}(d,f,g)}d.mergedAttrs=ln(d.mergedAttrs,d.attrs)}function Tg(o,l,d,f,g,w){for(let J=0;J<f.length;J++)vr(Ws(d,l),o,f[J].type);!function Hv(o,l,d){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+d,o.providerIndexes=l}(d,o.data.length,f.length);for(let J=0;J<f.length;J++){const ae=f[J];ae.providersResolver&&ae.providersResolver(ae)}let I=!1,O=!1,U=Wf(o,l,f.length,null);for(let J=0;J<f.length;J++){const ae=f[J];d.mergedAttrs=ln(d.mergedAttrs,ae.hostAttrs),Zm(o,d,l,U,ae),Mg(U,ae,g),null!==ae.contentQueries&&(d.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(d.flags|=64);const Me=ae.type.prototype;!I&&(Me.ngOnChanges||Me.ngOnInit||Me.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(d.index),I=!0),!O&&(Me.ngOnChanges||Me.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(d.index),O=!0),U++}!function d0(o,l,d){const g=l.directiveEnd,w=o.data,I=l.attrs,O=[];let U=null,J=null;for(let ae=l.directiveStart;ae<g;ae++){const Me=w[ae],Je=d?d.get(Me):null,Gt=Je?Je.outputs:null;U=Bh(Me.inputs,ae,U,Je?Je.inputs:null),J=Bh(Me.outputs,ae,J,Gt);const hn=null===U||null===I||Cv(l)?null:eu(U,ae,I);O.push(hn)}null!==U&&(U.hasOwnProperty("class")&&(l.flags|=8),U.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=O,l.inputs=U,l.outputs=J}(o,d,w)}function Jd(o,l,d){const f=d.directiveStart,g=d.directiveEnd,w=d.index,I=function Ma(){return Ln.lFrame.currentDirectiveIndex}();try{Mo(w);for(let O=f;O<g;O++){const U=o.data[O],J=l[O];Za(O),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&Vv(U,J)}}finally{Mo(-1),Za(I)}}function Vv(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function Ag(o,l,d){l.componentOffset=d,(o.components||(o.components=[])).push(l.index)}function Mg(o,l,d){if(d){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)d[l.exportAs[f]]=o;ms(l)&&(d[""]=o)}}function Zm(o,l,d,f,g){o.data[f]=g;const w=g.factory||(g.factory=dr(g.type)),I=new j(w,ms(g),Xd);o.blueprint[f]=I,d[f]=I,function ny(o,l,d,f,g){const w=g.hostBindings;if(w){let I=o.hostBindingOpCodes;null===I&&(I=o.hostBindingOpCodes=[]);const O=~l.index;(function iy(o){let l=o.length;for(;l>0;){const d=o[--l];if("number"==typeof d&&d<0)return d}return 0})(I)!=O&&I.push(O),I.push(d,f,w)}}(o,l,f,Wf(o,d,g.hostVars,ai),g)}function pc(o,l,d,f,g,w){const I=zi(o,l);!function kg(o,l,d,f,g,w,I){if(null==w)o.removeAttribute(l,g,d);else{const O=null==I?Ee(w):I(w,f||"",g);o.setAttribute(l,g,O,d)}}(l[qn],I,w,o.value,d,f,g)}function Hh(o,l,d,f,g,w){const I=w[l];if(null!==I){const O=f.setInput;for(let U=0;U<I.length;){const J=I[U++],ae=I[U++],Me=I[U++];null!==O?f.setInput(d,Me,J,ae):d[ae]=Me}}}function eu(o,l,d){let f=null,g=0;for(;g<d.length;){const w=d[g];if(0!==w)if(5!==w){if("number"==typeof w)break;if(o.hasOwnProperty(w)){null===f&&(f=[]);const I=o[w];for(let O=0;O<I.length;O+=2)if(I[O]===l){f.push(w,I[O+1],d[g+1]);break}}g+=2}else g+=2;else g+=4}return f}function Rg(o,l,d,f){return[o,!0,!1,l,null,0,f,d,null,null]}function ay(o,l){const d=ur(l,o);if(To(d)){const f=d[mn];48&d[Nn]?co(f,d,f.template,d[Ri]):d[es]>0&&jh(d)}}function jh(o){for(let f=Pd(o);null!==f;f=Fl(f))for(let g=pn;g<f.length;g++){const w=f[g];if(To(w))if(512&w[Nn]){const I=w[mn];co(I,w,I.template,w[Ri])}else w[es]>0&&jh(w)}const d=o[mn].components;if(null!==d)for(let f=0;f<d.length;f++){const g=ur(d[f],o);To(g)&&g[es]>0&&jh(g)}}function tu(o,l){const d=ur(l,o),f=d[mn];(function jv(o,l){for(let d=l.length;d<o.blueprint.length;d++)l.push(o.blueprint[d])})(f,d),Nc(f,d,d[Ri])}function zh(o,l){return o[na]?o[Ia][Tr]=l:o[na]=l,o[Ia]=l,l}function uo(o){for(;o;){o[Nn]|=32;const l=Tc(o);if(Ga(o)&&!l)return o;o=l}return null}function hd(o,l,d,f=!0){const g=l[Er];g.begin&&g.begin();try{co(o,l,o.template,d)}catch(I){throw f&&cl(l,I),I}finally{g.end&&g.end()}}function ll(o,l,d){Yo(0),l(o,d)}function Og(o){return o[$i]||(o[$i]=[])}function Gh(o){return o.cleanup||(o.cleanup=[])}function Pg(o,l,d){return(null===o||ms(o))&&(d=function rs(o){for(;Array.isArray(o);){if("object"==typeof o[Qe])return o;o=o[ki]}return null}(d[l.index])),d[qn]}function cl(o,l){const d=o[xr],f=d?d.get(qd,null):null;f&&f.handleError(l)}function Vo(o,l,d,f,g){for(let w=0;w<d.length;){const I=d[w++],O=d[w++],U=l[I],J=o.data[I];null!==J.setInput?J.setInput(U,g,f,O):U[O]=g}}function nu(o,l,d){let f=d?o.styles:null,g=d?o.classes:null,w=0;if(null!==l)for(let I=0;I<l.length;I++){const O=l[I];"number"==typeof O?w=O:1==w?g=xe(g,O):2==w&&(f=xe(f,O+": "+l[++I]+";"))}d?o.styles=f:o.stylesWithoutHost=f,d?o.classes=g:o.classesWithoutHost=g}function Gl(o,l,d,f,g=!1){for(;null!==d;){const w=l[d.index];if(null!==w&&f.push(gi(w)),ni(w))for(let O=pn;O<w.length;O++){const U=w[O],J=U[mn].firstChild;null!==J&&Gl(U[mn],U,J,f)}const I=d.type;if(8&I)Gl(o,l,d.child,f);else if(32&I){const O=Cu(d,l);let U;for(;U=O();)f.push(U)}else if(16&I){const O=vh(l,d);if(Array.isArray(O))f.push(...O);else{const U=Tc(l[Ji]);Gl(U[mn],U,O,f,!0)}}d=g?d.projectionNext:d.next}return f}class Uu{get rootNodes(){const l=this._lView,d=l[mn];return Gl(d,l,d.firstChild,[])}constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ri]}set context(l){this._lView[Ri]=l}get destroyed(){return 128==(128&this._lView[Nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Ii];if(ni(l)){const d=l[Ut],f=d?d.indexOf(this):-1;f>-1&&(Nd(l,f),il(d,f))}this._attachedToViewContainer=!1}Oa(this._lView[mn],this._lView)}onDestroy(l){Fv(this._lView[mn],this._lView,null,l)}markForCheck(){uo(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nn]&=-65}reattach(){this._lView[Nn]|=64}detectChanges(){hd(this._lView[mn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function If(o,l){Af(o,l,l[qn],2,null,null)}(this._lView[mn],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=l}}class $h extends Uu{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;hd(l[mn],l,l[Ri],!1)}checkNoChanges(){}get context(){return null}}class wo extends Vf{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=mi(l);return new Wh(d,this.ngModule)}}function ly(o){const l=[];for(let d in o)o.hasOwnProperty(d)&&l.push({propName:o[d],templateName:d});return l}class dy{constructor(l,d){this.injector=l,this.parentInjector=d}get(l,d,f){f=N(f);const g=this.injector.get(l,Hf,f);return g!==Hf||d===Hf?g:this.parentInjector.get(l,d,f)}}class Wh extends Nu{get inputs(){return ly(this.componentDef.inputs)}get outputs(){return ly(this.componentDef.outputs)}constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=function _g(o){return o.map(xa).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}create(l,d,f,g){let w=(g=g||this.ngModule)instanceof Oc?g:g?.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const I=w?new dy(l,w):l,O=I.get(ug,null);if(null===O)throw new Ze(407,!1);const U=I.get(hg,null),J=O.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",Me=f?function Nv(o,l,d){return o.selectRootElement(l,d===Ye.ShadowDom)}(J,f,this.componentDef.encapsulation):Df(J,ae,function cy(o){const l=o.toLowerCase();return"svg"===l?Ns:"math"===l?"math":null}(ae)),Je=this.componentDef.onPush?288:272,gt=Sg(0,null,null,1,0,null,null,null,null,null),Gt=Ym(null,gt,null,Je,null,null,O,J,U,I,null);let hn,Cn;qo(Gt);try{const Vn=this.componentDef;let di,Xt=null;Vn.findHostDirectiveDefs?(di=[],Xt=new Map,Vn.findHostDirectiveDefs(Vn,di,Xt),di.push(Vn)):di=[Vn];const Pi=function h0(o,l){const d=o[mn],f=Hi;return o[f]=l,mc(d,f,2,"#host",null)}(Gt,Me),Hs=function Ng(o,l,d,f,g,w,I,O){const U=g[mn];!function Vu(o,l,d,f){for(const g of o)l.mergedAttrs=ln(l.mergedAttrs,g.hostAttrs);null!==l.mergedAttrs&&(nu(l,l.mergedAttrs,!0),null!==d&&ku(f,d,l))}(f,o,l,I);const J=w.createRenderer(l,d),ae=Ym(g,Ig(d),null,d.onPush?32:16,g[o.index],o,w,J,O||null,null,null);return U.firstCreatePass&&Ag(U,o,f.length-1),zh(g,ae),g[o.index]=ae}(Pi,Me,Vn,di,Gt,O,J);Cn=sa(gt,Hi),Me&&function qf(o,l,d,f){if(f)zn(o,d,["ng-version",Ah.full]);else{const{attrs:g,classes:w}=function Xb(o){const l=[],d=[];let f=1,g=2;for(;f<o.length;){let w=o[f];if("string"==typeof w)2===g?""!==w&&l.push(w,o[++f]):8===g&&d.push(w);else{if(!Ba(g))break;g=w}f++}return{attrs:l,classes:d}}(l.selectors[0]);g&&zn(o,d,g),w&&w.length>0&&Ud(o,d,w.join(" "))}}(J,Vn,Me,f),void 0!==d&&function m0(o,l,d){const f=o.projection=[];for(let g=0;g<l.length;g++){const w=d[g];f.push(null!=w?Array.from(w):null)}}(Cn,this.ngContentSelectors,d),hn=function f0(o,l,d,f,g,w){const I=gr(),O=g[mn],U=zi(I,g);Tg(O,g,I,d,null,f);for(let ae=0;ae<d.length;ae++)ao(cn(g,O,I.directiveStart+ae,I),g);Jd(O,g,I),U&&ao(U,g);const J=cn(g,O,I.directiveStart+I.componentOffset,I);if(o[Ri]=g[Ri]=J,null!==w)for(const ae of w)ae(J,l);return Dg(O,I,o),J}(Hs,Vn,di,Xt,Gt,[Gv]),Nc(gt,Gt,null)}finally{jc()}return new uy(this.componentType,hn,Lu(Cn,Gt),Gt,Cn)}}class uy extends F_{constructor(l,d,f,g,w){super(),this.location=f,this._rootLView=g,this._tNode=w,this.instance=d,this.hostView=this.changeDetectorRef=new $h(g),this.componentType=l}setInput(l,d){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[l])){const w=this._rootLView;Vo(w[mn],w,g,l,d),Uh(w,this._tNode.index)}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Gv(){const o=gr();gs(dt()[mn],o)}function Yh(o){let l=function Kh(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),d=!0;const f=[o];for(;l;){let g;if(ms(o))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ze(903,!1);g=l.\u0275dir}if(g){if(d){f.push(g);const I=o;I.inputs=Fg(o.inputs),I.declaredInputs=Fg(o.declaredInputs),I.outputs=Fg(o.outputs);const O=g.hostBindings;O&&Kv(o,O);const U=g.viewQuery,J=g.contentQueries;if(U&&$v(o,U),J&&Wv(o,J),we(o.inputs,g.inputs),we(o.declaredInputs,g.declaredInputs),we(o.outputs,g.outputs),ms(g)&&g.data.animation){const ae=o.data;ae.animation=(ae.animation||[]).concat(g.data.animation)}}const w=g.features;if(w)for(let I=0;I<w.length;I++){const O=w[I];O&&O.ngInherit&&O(o),O===Yh&&(d=!1)}}l=Object.getPrototypeOf(l)}!function hy(o){let l=0,d=null;for(let f=o.length-1;f>=0;f--){const g=o[f];g.hostVars=l+=g.hostVars,g.hostAttrs=ln(g.hostAttrs,d=ln(d,g.hostAttrs))}}(f)}function Fg(o){return o===on?{}:o===Ne?[]:o}function $v(o,l){const d=o.viewQuery;o.viewQuery=d?(f,g)=>{l(f,g),d(f,g)}:l}function Wv(o,l){const d=o.contentQueries;o.contentQueries=d?(f,g,w)=>{l(f,g,w),d(f,g,w)}:l}function Kv(o,l){const d=o.hostBindings;o.hostBindings=d?(f,g)=>{l(f,g),d(f,g)}:l}function Zf(o){return!!tp(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function tp(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function gc(o,l,d){return o[l]=d}function Ho(o,l,d){return!Object.is(o[l],d)&&(o[l]=d,!0)}function Hg(o,l,d,f){const g=dt();return Ho(g,Is(),l)&&(Bn(),pc(hr(),g,o,l,d,f)),Hg}function Qf(o,l,d,f){return Ho(o,Is(),d)?l+Ee(d)+f:ai}function $g(o,l,d,f,g,w,I,O){const U=dt(),J=Bn(),ae=o+Hi,Me=J.firstCreatePass?function g0(o,l,d,f,g,w,I,O,U){const J=l.consts,ae=mc(l,o,4,I||null,ss(J,O));Vh(l,d,ae,ss(J,U)),gs(l,ae);const Me=ae.tView=Sg(2,ae,f,g,w,l.directiveRegistry,l.pipeRegistry,null,l.schemas,J);return null!==l.queries&&(l.queries.template(l,ae),Me.queries=l.queries.embeddedTView(ae)),ae}(ae,J,U,l,d,f,g,w,I):J.data[ae];Ds(Me,!1);const Je=U[qn].createComment("");td(J,U,Je,Me),ao(Je,U),zh(U,U[ae]=Rg(Je,U,Je,Me)),Mr(Me)&&Kf(J,U,Me),null!=I&&Lh(U,Me,O)}function Jv(o){return no(function xl(){return Ln.lFrame.contextLView}(),Hi+o)}function em(o,l,d){const f=dt();return Ho(f,Is(),l)&&Ua(Bn(),hr(),f,o,l,f[qn],d,!1),em}function rp(o,l,d,f,g){const I=g?"class":"style";Vo(o,d,l.inputs[I],I,f)}function sp(o,l,d,f){const g=dt(),w=Bn(),I=Hi+o,O=g[qn],U=w.firstCreatePass?function Kg(o,l,d,f,g,w){const I=l.consts,U=mc(l,o,2,f,ss(I,g));return Vh(l,d,U,ss(I,w)),null!==U.attrs&&nu(U,U.attrs,!1),null!==U.mergedAttrs&&nu(U,U.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,U),U}(I,w,g,l,d,f):w.data[I],J=g[I]=Df(O,l,function _r(){return Ln.lFrame.currentNamespace}()),ae=Mr(U);return Ds(U,!0),ku(O,J,U),32!=(32&U.flags)&&td(w,g,J,U),0===function Ya(){return Ln.lFrame.elementDepthCount}()&&ao(J,g),function Y(){Ln.lFrame.elementDepthCount++}(),ae&&(Kf(w,g,U),Dg(w,U,g)),null!==f&&Lh(g,U),sp}function Gu(){let o=gr();bl()?wl():(o=o.parent,Ds(o,!1));const l=o;!function G(){Ln.lFrame.elementDepthCount--}();const d=Bn();return d.firstCreatePass&&(gs(d,o),or(o)&&d.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Dn(o){return 0!=(8&o.flags)}(l)&&rp(d,l,dt(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Ti(o){return 0!=(16&o.flags)}(l)&&rp(d,l,dt(),l.stylesWithoutHost,!1),Gu}function tm(o,l,d,f){return sp(o,l,d,f),Gu(),tm}function md(o,l,d){const f=dt(),g=Bn(),w=o+Hi,I=g.firstCreatePass?function eb(o,l,d,f,g){const w=l.consts,I=ss(w,f),O=mc(l,o,8,"ng-container",I);return null!==I&&nu(O,I,!0),Vh(l,d,O,ss(w,g)),null!==l.queries&&l.queries.elementStart(l,O),O}(w,g,f,l,d):g.data[w];Ds(I,!0);const O=f[w]=f[qn].createComment("");return td(g,f,O,I),ao(O,f),Mr(I)&&(Kf(g,f,I),Dg(g,I,f)),null!=d&&Lh(f,I),md}function nm(){let o=gr();const l=Bn();return bl()?wl():(o=o.parent,Ds(o,!1)),l.firstCreatePass&&(gs(l,o),or(o)&&l.queries.elementEnd(o)),nm}function Jh(o,l,d){return md(o,l,d),nm(),Jh}function op(){return dt()}function Yg(o){return!!o&&"function"==typeof o.then}function gy(o){return!!o&&"function"==typeof o.subscribe}const wr=gy;function qi(o,l,d,f){const g=dt(),w=Bn(),I=gr();return Ir(w,g,g[qn],I,o,l,f),qi}function Oi(o,l){const d=gr(),f=dt(),g=Bn();return Ir(g,f,Pg(Cl(g.data),d,f),d,o,l),Oi}function Ir(o,l,d,f,g,w,I){const O=Mr(f),J=o.firstCreatePass&&Gh(o),ae=l[Ri],Me=Og(l);let Je=!0;if(3&f.type||I){const hn=zi(f,l),Cn=I?I(hn):hn,Vn=Me.length,di=I?Pi=>I(gi(Pi[f.index])):f.index;let Xt=null;if(!I&&O&&(Xt=function pd(o,l,d,f){const g=o.cleanup;if(null!=g)for(let w=0;w<g.length-1;w+=2){const I=g[w];if(I===d&&g[w+1]===f){const O=l[$i],U=g[w+2];return O.length>U?O[U]:null}"string"==typeof I&&(w+=2)}return null}(o,l,g,f.index)),null!==Xt)(Xt.__ngLastListenerFn__||Xt).__ngNextListenerFn__=w,Xt.__ngLastListenerFn__=w,Je=!1;else{w=qg(f,l,ae,w,!1);const Pi=d.listen(Cn,g,w);Me.push(w,Pi),J&&J.push(g,di,Vn,Vn+1)}}else w=qg(f,l,ae,w,!1);const gt=f.outputs;let Gt;if(Je&&null!==gt&&(Gt=gt[g])){const hn=Gt.length;if(hn)for(let Cn=0;Cn<hn;Cn+=2){const Hs=l[Gt[Cn]][Gt[Cn+1]].subscribe(w),zo=Me.length;Me.push(w,Hs),J&&J.push(g,f.index,zo,-(zo+1))}}}function ap(o,l,d,f){try{return zr(6,l,d),!1!==d(f)}catch(g){return cl(o,g),!1}finally{zr(7,l,d)}}function qg(o,l,d,f,g){return function w(I){if(I===Function)return f;uo(o.componentOffset>-1?ur(o.index,l):l);let U=ap(l,d,f,I),J=w.__ngNextListenerFn__;for(;J;)U=ap(l,d,J,I)&&U,J=J.__ngNextListenerFn__;return g&&!1===U&&(I.preventDefault(),I.returnValue=!1),U}}function $u(o=1){return function Ao(o){return(Ln.lFrame.contextLView=function _u(o,l){for(;o>0;)l=l[Cr],o--;return l}(o,Ln.lFrame.contextLView))[Ri]}(o)}function lp(o,l){let d=null;const f=function Iv(o){const l=o.attrs;if(null!=l){const d=l.indexOf(5);if(!(1&d))return l[d+1]}return null}(o);for(let g=0;g<l.length;g++){const w=l[g];if("*"!==w){if(null===f?gg(o,w,!0):Rh(f,w))return g}else d=g}return d}function Kr(o){const l=dt()[Ji][Gn];if(!l.projection){const f=l.projection=A(o?o.length:1,null),g=f.slice();let w=l.child;for(;null!==w;){const I=o?lp(w,o):0;null!==I&&(g[I]?g[I].projectionNext=w:f[I]=w,g[I]=w),w=w.next}}}function Li(o,l=0,d){const f=dt(),g=Bn(),w=mc(g,Hi+o,16,null,d||null);null===w.projection&&(w.projection=l),wl(),32!=(32&w.flags)&&function mv(o,l,d){Om(l[qn],0,l,d,gh(o,d,l),Rm(d.parent||l[Gn],d,l))}(g,f,w)}function cp(o,l,d,f,g){const w=dt(),I=Qf(w,l,d,f);return I!==ai&&Ua(Bn(),hr(),w,o,I,w[qn],g,!1),cp}function Ku(o,l){return o<<17|l<<2}function ru(o){return o>>17&32767}function yy(o){return 2|o}function tf(o){return(131068&o)>>2}function up(o,l){return-131069&o|l<<2}function Bi(o){return 1|o}function rm(o,l,d,f,g){const w=o[d+1],I=null===l;let O=f?ru(w):tf(w),U=!1;for(;0!==O&&(!1===U||I);){const ae=o[O+1];_c(o[O],l)&&(U=!0,o[O+1]=f?Bi(ae):yy(ae)),O=f?ru(ae):tf(ae)}U&&(o[d+1]=f?yy(w):Bi(w))}function _c(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&tt(o,l)>=0}const As={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ca(o){return o.substring(As.key,As.keyEnd)}function $l(o,l){const d=As.textEnd;return d===l?-1:(l=As.keyEnd=function qu(o,l,d){for(;l<d&&o.charCodeAt(l)>32;)l++;return l}(o,As.key=l,d),Yu(o,l,d))}function Yu(o,l,d){for(;l<d&&o.charCodeAt(l)<=32;)l++;return l}function Yr(o,l,d){return ho(o,l,d,!1),Yr}function ob(o,l){return ho(o,l,null,!0),ob}function Va(o,l){for(let d=function Eo(o){return function sm(o){As.key=0,As.keyEnd=0,As.value=0,As.valueEnd=0,As.textEnd=o.length}(o),$l(o,Yu(o,0,As.textEnd))}(l);d>=0;d=$l(l,d))ie(o,Ca(l),!0)}function ho(o,l,d,f){const g=dt(),w=Bn(),I=Gr(2);w.firstUpdatePass&&ab(w,o,I,f),l!==ai&&Ho(g,I,l)&&gp(w,w.data[Qr()],g,g[qn],o,g[I+1]=function _p(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=ce(Vl(o)))),o}(l,d),f,I)}function Ai(o,l){return l>=o.expandoStartIndex}function ab(o,l,d,f){const g=o.data;if(null===g[d+1]){const w=g[Qr()],I=Ai(o,d);cb(w,f)&&null===l&&!I&&(l=!1),l=function pp(o,l,d,f){const g=Cl(o);let w=f?l.residualClasses:l.residualStyles;if(null===g)0===(f?l.classBindings:l.styleBindings)&&(d=Lc(d=Jg(null,o,l,d,f),l.attrs,f),w=null);else{const I=l.directiveStylingLast;if(-1===I||o[I]!==g)if(d=Jg(g,o,l,d,f),null===w){let U=function yw(o,l,d){const f=d?l.classBindings:l.styleBindings;if(0!==tf(f))return o[ru(f)]}(o,l,f);void 0!==U&&Array.isArray(U)&&(U=Jg(null,o,l,U[1],f),U=Lc(U,l.attrs,f),function Ms(o,l,d,f){o[ru(d?l.classBindings:l.styleBindings)]=f}(o,l,f,U))}else w=function wy(o,l,d){let f;const g=l.directiveEnd;for(let w=1+l.directiveStylingLast;w<g;w++)f=Lc(f,o[w].hostAttrs,d);return Lc(f,l.attrs,d)}(o,l,f)}return void 0!==w&&(f?l.residualClasses=w:l.residualStyles=w),d}(g,w,l,f),function hp(o,l,d,f,g,w){let I=w?l.classBindings:l.styleBindings,O=ru(I),U=tf(I);o[f]=d;let ae,J=!1;if(Array.isArray(d)?(ae=d[1],(null===ae||tt(d,ae)>0)&&(J=!0)):ae=d,g)if(0!==U){const Je=ru(o[O+1]);o[f+1]=Ku(Je,O),0!==Je&&(o[Je+1]=up(o[Je+1],f)),o[O+1]=function _0(o,l){return 131071&o|l<<17}(o[O+1],f)}else o[f+1]=Ku(O,0),0!==O&&(o[O+1]=up(o[O+1],f)),O=f;else o[f+1]=Ku(U,0),0===O?O=f:o[U+1]=up(o[U+1],f),U=f;J&&(o[f+1]=yy(o[f+1])),rm(o,ae,f,!0),rm(o,ae,f,!1),function xi(o,l,d,f,g){const w=g?o.residualClasses:o.residualStyles;null!=w&&"string"==typeof l&&tt(w,l)>=0&&(d[f+1]=Bi(d[f+1]))}(l,ae,o,f,w),I=Ku(O,U),w?l.classBindings=I:l.styleBindings=I}(g,w,l,d,I,f)}}function Jg(o,l,d,f,g){let w=null;const I=d.directiveEnd;let O=d.directiveStylingLast;for(-1===O?O=d.directiveStart:O++;O<I&&(w=l[O],f=Lc(f,w.hostAttrs,g),w!==o);)O++;return null!==o&&(d.directiveStylingLast=O),f}function Lc(o,l,d){const f=d?1:2;let g=-1;if(null!==l)for(let w=0;w<l.length;w++){const I=l[w];"number"==typeof I?g=I:g===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ie(o,I,!!d||l[++w]))}return void 0===o?null:o}function gp(o,l,d,f,g,w,I,O){if(!(3&l.type))return;const U=o.data,J=U[O+1],ae=function su(o){return 1==(1&o)}(J)?Zu(U,l,d,g,tf(J),I):void 0;ou(ae)||(ou(w)||function nb(o){return 2==(2&o)}(J)&&(w=Zu(U,null,d,g,O,I)),function Mu(o,l,d,f,g){if(l)g?o.addClass(d,f):o.removeClass(d,f);else{let w=-1===f.indexOf("-")?void 0:Ss.DashCase;null==g?o.removeStyle(d,f,w):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),w|=Ss.Important),o.setStyle(d,f,g,w))}}(f,I,to(Qr(),d),g,w))}function Zu(o,l,d,f,g,w){const I=null===l;let O;for(;g>0;){const U=o[g],J=Array.isArray(U),ae=J?U[1]:U,Me=null===ae;let Je=d[g+1];Je===ai&&(Je=Me?Ne:void 0);let gt=Me?ye(Je,f):ae===f?Je:void 0;if(J&&!ou(gt)&&(gt=ye(U,f)),ou(gt)&&(O=gt,I))return O;const Gt=o[g+1];g=I?ru(Gt):tf(Gt)}if(null!==l){let U=w?l.residualClasses:l.residualStyles;null!=U&&(O=ye(U,f))}return O}function ou(o){return void 0!==o}function cb(o,l){return 0!=(o.flags&(l?8:16))}function om(o,l=""){const d=dt(),f=Bn(),g=o+Hi,w=f.firstCreatePass?mc(f,g,1,l,null):f.data[g],I=d[g]=function sl(o,l){return o.createText(l)}(d[qn],l);td(f,d,I,w),Ds(w,!1)}function e_(o){return nf("",o,""),e_}function nf(o,l,d){const f=dt(),g=Qf(f,o,l,d);return g!==ai&&function ea(o,l,d){const f=to(l,o);!function Am(o,l,d){o.setValue(l,d)}(o[qn],f,d)}(f,Qr(),g),nf}function vp(o,l,d){!function Ha(o,l,d,f){const g=Bn(),w=Gr(2);g.firstUpdatePass&&ab(g,null,w,f);const I=dt();if(d!==ai&&Ho(I,w,d)){const O=g.data[Qr()];if(cb(O,f)&&!Ai(g,w)){let U=f?O.classesWithoutHost:O.stylesWithoutHost;null!==U&&(d=xe(U,d||"")),rp(g,O,I,d,f)}else!function Wl(o,l,d,f,g,w,I,O){g===ai&&(g=Ne);let U=0,J=0,ae=0<g.length?g[0]:null,Me=0<w.length?w[0]:null;for(;null!==ae||null!==Me;){const Je=U<g.length?g[U+1]:void 0,gt=J<w.length?w[J+1]:void 0;let hn,Gt=null;ae===Me?(U+=2,J+=2,Je!==gt&&(Gt=Me,hn=gt)):null===Me||null!==ae&&ae<Me?(U+=2,Gt=ae):(J+=2,Gt=Me,hn=gt),null!==Gt&&gp(o,l,d,f,Gt,hn,I,O),ae=U<g.length?g[U]:null,Me=J<w.length?w[J]:null}}(g,O,I,I[qn],I[w+1],I[w+1]=function lb(o,l,d){if(null==d||""===d)return Ne;const f=[],g=Vl(d);if(Array.isArray(g))for(let w=0;w<g.length;w++)o(f,g[w],!0);else if("object"==typeof g)for(const w in g)g.hasOwnProperty(w)&&o(f,w,g[w]);else"string"==typeof g&&l(f,g);return f}(o,l,d),f,w)}}(ie,Va,Qf(dt(),o,l,d),!0)}function _d(o,l,d){const f=dt();return Ho(f,Is(),l)&&Ua(Bn(),hr(),f,o,l,f[qn],d,!0),_d}function s_(o,l,d){const f=dt();if(Ho(f,Is(),l)){const w=Bn(),I=hr();Ua(w,I,f,o,l,Pg(Cl(w.data),I,f),d,!0)}return s_}const yd=void 0;var Ty=["en",[["a","p"],["AM","PM"],yd],[["AM","PM"],yd,yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yd,"{1} 'at' {0}",yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vd(o){const d=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let dm={};function ql(o){const l=function My(o){return o.toLowerCase().replace(/_/g,"-")}(o);let d=a_(l);if(d)return d;const f=l.split("-")[0];if(d=a_(f),d)return d;if("en"===f)return Ty;throw new Ze(701,!1)}function Ep(o){return ql(o)[Qn.PluralCase]}function a_(o){return o in dm||(dm[o]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[o]),dm[o]}var Qn=(()=>((Qn=Qn||{})[Qn.LocaleId=0]="LocaleId",Qn[Qn.DayPeriodsFormat=1]="DayPeriodsFormat",Qn[Qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qn[Qn.DaysFormat=3]="DaysFormat",Qn[Qn.DaysStandalone=4]="DaysStandalone",Qn[Qn.MonthsFormat=5]="MonthsFormat",Qn[Qn.MonthsStandalone=6]="MonthsStandalone",Qn[Qn.Eras=7]="Eras",Qn[Qn.FirstDayOfWeek=8]="FirstDayOfWeek",Qn[Qn.WeekendRange=9]="WeekendRange",Qn[Qn.DateFormat=10]="DateFormat",Qn[Qn.TimeFormat=11]="TimeFormat",Qn[Qn.DateTimeFormat=12]="DateTimeFormat",Qn[Qn.NumberSymbols=13]="NumberSymbols",Qn[Qn.NumberFormats=14]="NumberFormats",Qn[Qn.CurrencyCode=15]="CurrencyCode",Qn[Qn.CurrencySymbol=16]="CurrencySymbol",Qn[Qn.CurrencyName=17]="CurrencyName",Qn[Qn.Currencies=18]="Currencies",Qn[Qn.Directionality=19]="Directionality",Qn[Qn.PluralCase=20]="PluralCase",Qn[Qn.ExtraData=21]="ExtraData",Qn))();const fl="en-US";let w0=fl;function Pp(o,l,d,f,g){if(o=pe(o),Array.isArray(o))for(let w=0;w<o.length;w++)Pp(o[w],l,d,f,g);else{const w=Bn(),I=dt();let O=Pa(o)?o:pe(o.provide),U=Uf(o);const J=gr(),ae=1048575&J.providerIndexes,Me=J.directiveStart,Je=J.providerIndexes>>20;if(Pa(o)||!o.multi){const gt=new j(U,g,Xd),Gt=Np(O,l,g?ae:ae+Je,Me);-1===Gt?(vr(Ws(J,I),w,O),ff(w,o,l.length),l.push(O),J.directiveStart++,J.directiveEnd++,g&&(J.providerIndexes+=1048576),d.push(gt),I.push(gt)):(d[Gt]=gt,I[Gt]=gt)}else{const gt=Np(O,l,ae+Je,Me),Gt=Np(O,l,ae,ae+Je),Cn=Gt>=0&&d[Gt];if(g&&!Cn||!g&&!(gt>=0&&d[gt])){vr(Ws(J,I),w,O);const Vn=function Fp(o,l,d,f,g){const w=new j(o,d,Xd);return w.multi=[],w.index=l,w.componentProviders=0,mf(w,g,f&&!d),w}(g?y_:__,d.length,g,f,U);!g&&Cn&&(d[Gt].providerFactory=Vn),ff(w,o,l.length,0),l.push(O),J.directiveStart++,J.directiveEnd++,g&&(J.providerIndexes+=1048576),d.push(Vn),I.push(Vn)}else ff(w,o,gt>-1?gt:Gt,mf(d[g?Gt:gt],U,!g&&f));!g&&f&&Cn&&d[Gt].componentProviders++}}}function ff(o,l,d,f){const g=Pa(l),w=function Kd(o){return!!o.useClass}(l);if(g||w){const U=(w?pe(l.useClass):l).prototype.ngOnDestroy;if(U){const J=o.destroyHooks||(o.destroyHooks=[]);if(!g&&l.multi){const ae=J.indexOf(d);-1===ae?J.push(d,[f,U]):J[ae+1].push(f,U)}else J.push(d,U)}}}function mf(o,l,d){return d&&o.componentProviders++,o.multi.push(l)-1}function Np(o,l,d,f){for(let g=d;g<f;g++)if(l[g]===o)return g;return-1}function __(o,l,d,f){return v_(this.multi,[])}function y_(o,l,d,f){const g=this.multi;let w;if(this.providerFactory){const I=this.providerFactory.componentProviders,O=cn(d,d[mn],this.providerFactory.index,f);w=O.slice(0,I),v_(g,w);for(let U=I;U<O.length;U++)w.push(O[U])}else w=[],v_(g,w);return w}function v_(o,l){for(let d=0;d<o.length;d++)l.push((0,o[d])());return l}function Yy(o,l=[]){return d=>{d.providersResolver=(f,g)=>function Op(o,l,d){const f=Bn();if(f.firstCreatePass){const g=ms(o);Pp(d,f.data,f.blueprint,g,!0),Pp(l,f.data,f.blueprint,g,!1)}}(f,g?g(o):o,l)}}class pf{}class Eb{}function qy(o,l){return new Qy(o,l??null)}class Qy extends pf{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wo(this);const f=Jr(l);this._bootstrapComponents=bo(f.bootstrap),this._r3Injector=vg(l,d,[{provide:pf,useValue:this},{provide:Vf,useValue:this.componentFactoryResolver}],ce(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class b_ extends Eb{constructor(l){super(),this.moduleType=l}create(l){return new Qy(this.moduleType,l)}}class a extends pf{constructor(l,d,f){super(),this.componentFactoryResolver=new wo(this),this.instance=null;const g=new gv([...l,{provide:pf,useValue:this},{provide:Vf,useValue:this.componentFactoryResolver}],d||Vm(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function t(o,l,d=null){return new a(o,l,d).injector}let i=(()=>{class o{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const f=Uo(0,d.type),g=f.length>0?t([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,g)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=sn({token:o,providedIn:"environment",factory:()=>new o($t(Oc))}),o})();function c(o){o.getStandaloneInjector=l=>l.get(i).getOrCreateStandaloneInjector(o)}function qr(o,l,d,f){return Uc(dt(),tr(),o,l,d,f)}function fo(o,l,d,f,g){return F0(dt(),tr(),o,l,d,f,g)}function tv(o,l){const d=o[l];return d===ai?void 0:d}function Uc(o,l,d,f,g,w){const I=l+d;return Ho(o,I,g)?gc(o,I+1,w?f.call(w,g):f(g)):tv(o,I+1)}function F0(o,l,d,f,g,w,I){const O=l+d;return function fd(o,l,d,f){const g=Ho(o,l,d);return Ho(o,l+1,f)||g}(o,O,g,w)?gc(o,O+2,I?f.call(I,g,w):f(g,w)):tv(o,O+2)}function vc(o,l){const d=Bn();let f;const g=o+Hi;d.firstCreatePass?(f=function Dw(o,l){if(l)for(let d=l.length-1;d>=0;d--){const f=l[d];if(o===f.name)return f}}(l,d.pipeRegistry),d.data[g]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(g,f.onDestroy)):f=d.data[g];const w=f.factory||(f.factory=dr(f.type)),I=fi(Xd);try{const O=Sl(!1),U=w();return Sl(O),function Wg(o,l,d,f){d>=o.data.length&&(o.data[d]=null,o.blueprint[d]=null),l[d]=f}(d,dt(),g,U),U}finally{fi(I)}}function B0(o,l,d){const f=o+Hi,g=dt(),w=no(g,f);return gf(g,f)?Uc(g,tr(),l,w.transform,d,w):w.transform(d)}function Iw(o,l,d,f){const g=o+Hi,w=dt(),I=no(w,g);return gf(w,g)?F0(w,tr(),l,I.transform,d,f,I):I.transform(d,f)}function gf(o,l){return o[mn].data[l].pure}function Cb(o){return l=>{setTimeout(o,void 0,l)}}const th=class Tw extends _.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,f){let g=l,w=d||(()=>null),I=f;if(l&&"object"==typeof l){const U=l;g=U.next?.bind(U),w=U.error?.bind(U),I=U.complete?.bind(U)}this.__isAsync&&(w=Cb(w),g&&(g=Cb(g)),I&&(I=Cb(I)));const O=super.subscribe({next:g,error:w,complete:I});return l instanceof h.w0&&l.add(O),O}};function U0(){return this._results[Symbol.iterator]()}class Lp{get changes(){return this._changes||(this._changes=new th)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Lp.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=U0)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const f=this;f.dirty=!1;const g=function oo(o){return o.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function yu(o,l,d){if(o.length!==l.length)return!1;for(let f=0;f<o.length;f++){let g=o[f],w=l[f];if(d&&(g=d(g),w=d(w)),w!==g)return!1}return!0}(f._results,g,d))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let iv=(()=>{class o{}return o.__NG_ELEMENT_ID__=Nx,o})();const V0=iv,Px=class extends V0{constructor(l,d,f){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(l,d){const f=this._declarationTContainer.tView,g=Ym(this._declarationLView,f,l,16,null,f.declTNode,null,null,null,null,d||null);g[fs]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[Zr];return null!==I&&(g[Zr]=I.createEmbeddedView(f)),Nc(f,g,l),new Uu(g)}};function Nx(){return Db(gr(),dt())}function Db(o,l){return 4&o.type?new Px(l,o,Lu(o,l)):null}let rv=(()=>{class o{}return o.__NG_ELEMENT_ID__=Fx,o})();function Fx(){return Mw(gr(),dt())}const Lx=rv,Aw=class extends Lx{constructor(l,d,f){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=f}get element(){return Lu(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){const l=Xn(this._hostTNode,this._hostLView);if(tn(l)){const d=nr(l,this._hostLView),f=_t(l);return new Fr(d[mn].data[f+8],d)}return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=Ib(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(l,d,f){let g,w;"number"==typeof f?g=f:null!=f&&(g=f.index,w=f.injector);const I=l.createEmbeddedView(d||{},w);return this.insert(I,g),I}createComponent(l,d,f,g,w){const I=l&&!function Wr(o){return"function"==typeof o}(l);let O;if(I)O=d;else{const Me=d||{};O=Me.index,f=Me.injector,g=Me.projectableNodes,w=Me.environmentInjector||Me.ngModuleRef}const U=I?l:new Wh(mi(l)),J=f||this.parentInjector;if(!w&&null==U.ngModule){const Je=(I?J:this.parentInjector).get(Oc,null);Je&&(w=Je)}const ae=U.create(J,g,void 0,w);return this.insert(ae.hostView,O),ae}insert(l,d){const f=l._lView,g=f[mn];if(function Fs(o){return ni(o[Ii])}(f)){const ae=this.indexOf(l);if(-1!==ae)this.detach(ae);else{const Me=f[Ii],Je=new Aw(Me,Me[Gn],Me[Ii]);Je.detach(Je.indexOf(l))}}const w=this._adjustIndex(d),I=this._lContainer;!function qs(o,l,d,f){const g=pn+f,w=d.length;f>0&&(d[g-1][Tr]=l),f<w-pn?(l[Tr]=d[g],dc(d,pn+f,l)):(d.push(l),l[Tr]=null),l[Ii]=d;const I=l[fs];null!==I&&d!==I&&function al(o,l){const d=o[Zt];l[Ji]!==l[Ii][Ii][Ji]&&(o[je]=!0),null===d?o[Zt]=[l]:d.push(l)}(I,l);const O=l[Zr];null!==O&&O.insertView(o),l[Nn]|=64}(g,f,I,w);const O=Bd(w,I),U=f[qn],J=yh(U,I[lt]);return null!==J&&function Ac(o,l,d,f,g,w){f[ki]=g,f[Gn]=l,Af(o,f,d,1,g,w)}(g,I[Gn],U,f,J,O),l.attachToViewContainerRef(),dc(Sb(I),w,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=Ib(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),f=Nd(this._lContainer,d);f&&(il(Sb(this._lContainer),d),Oa(f[mn],f))}detach(l){const d=this._adjustIndex(l,-1),f=Nd(this._lContainer,d);return f&&null!=il(Sb(this._lContainer),d)?new Uu(f):null}_adjustIndex(l,d=0){return l??this.length+d}};function Ib(o){return o[Ut]}function Sb(o){return o[Ut]||(o[Ut]=[])}function Mw(o,l){let d;const f=l[o.index];if(ni(f))d=f;else{let g;if(8&o.type)g=gi(f);else{const w=l[qn];g=w.createComment("");const I=zi(o,l);Fo(w,yh(w,I),g,function _a(o,l){return o.nextSibling(l)}(w,I),!1)}l[o.index]=d=Rg(f,l,g,o),zh(l,d)}return new Aw(d,o,l)}class ym{constructor(l){this.queryList=l,this.matches=null}clone(){return new ym(this.queryList)}setDirty(){this.queryList.setDirty()}}class nh{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const f=null!==l.contentQueries?l.contentQueries[0]:d.length,g=[];for(let w=0;w<f;w++){const I=d.getByIndex(w);g.push(this.queries[I.indexInDeclarationView].clone())}return new nh(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==Fw(l,d).matches&&this.queries[d].setDirty()}}class kw{constructor(l,d,f=null){this.predicate=l,this.flags=d,this.read=f}}class sv{constructor(l=[]){this.queries=l}elementStart(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let f=0;f<this.length;f++){const g=null!==d?d.length:0,w=this.getByIndex(f).embeddedTView(l,g);w&&(w.indexInDeclarationView=f,null!==d?d.push(w):d=[w])}return null!==d?new sv(d):null}template(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class w_{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new w_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const w=f[g];this.matchTNodeWithReadOption(l,d,Bx(d,w)),this.matchTNodeWithReadOption(l,d,fr(d,l,w,!1,!1))}else f===iv?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,fr(d,l,f,!1,!1))}matchTNodeWithReadOption(l,d,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===va||g===rv||g===iv&&4&d.type)this.addMatch(d.index,-2);else{const w=fr(d,l,g,!1,!1);null!==w&&this.addMatch(d.index,w)}else this.addMatch(d.index,f)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function Bx(o,l){const d=o.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===l)return d[f+1];return null}function Ux(o,l,d,f){return-1===d?function x_(o,l){return 11&o.type?Lu(o,l):4&o.type?Db(o,l):null}(l,o):-2===d?function Rw(o,l,d){return d===va?Lu(l,o):d===iv?Db(l,o):d===rv?Mw(l,o):void 0}(o,l,f):cn(o,o[mn],d,l)}function H0(o,l,d,f){const g=l[Zr].queries[f];if(null===g.matches){const w=o.data,I=d.matches,O=[];for(let U=0;U<I.length;U+=2){const J=I[U];O.push(J<0?null:Ux(l,w[J],I[U+1],d.metadata.read))}g.matches=O}return g.matches}function Tb(o,l,d,f){const g=o.queries.getByIndex(d),w=g.matches;if(null!==w){const I=H0(o,l,g,d);for(let O=0;O<w.length;O+=2){const U=w[O];if(U>0)f.push(I[O/2]);else{const J=w[O+1],ae=l[-U];for(let Me=pn;Me<ae.length;Me++){const Je=ae[Me];Je[fs]===Je[Ii]&&Tb(Je[mn],Je,J,f)}if(null!==ae[Zt]){const Me=ae[Zt];for(let Je=0;Je<Me.length;Je++){const gt=Me[Je];Tb(gt[mn],gt,J,f)}}}}}return f}function ov(o){const l=dt(),d=Bn(),f=Qa();Yo(f+1);const g=Fw(d,f);if(o.dirty&&function oa(o){return 4==(4&o[Nn])}(l)===(2==(2&g.metadata.flags))){if(null===g.matches)o.reset([]);else{const w=g.crossesNgTemplate?Tb(d,l,f,[]):H0(d,l,g,f);o.reset(w,dg),o.notifyOnChanges()}return!0}return!1}function Ab(o,l,d){const f=Bn();f.firstCreatePass&&(Pw(f,new kw(o,l,d),-1),2==(2&l)&&(f.staticViewQueries=!0)),kb(f,dt(),l)}function Mb(o,l,d,f){const g=Bn();if(g.firstCreatePass){const w=gr();Pw(g,new kw(l,d,f),w.index),function Nw(o,l){const d=o.contentQueries||(o.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(o.queries.length-1,l)}(g,o),2==(2&d)&&(g.staticContentQueries=!0)}kb(g,dt(),d)}function Ow(){return function Vx(o,l){return o[Zr].queries[l].queryList}(dt(),Qa())}function kb(o,l,d){const f=new Lp(4==(4&d));Fv(o,l,f,f.destroy),null===l[Zr]&&(l[Zr]=new nh),l[Zr].queries.push(new ym(f))}function Pw(o,l,d){null===o.queries&&(o.queries=new sv),o.queries.track(new w_(l,d))}function Fw(o,l){return o.queries.getByIndex(l)}function j0(o,l){return Db(o,l)}function wc(o){return!!Jr(o)}function Nb(...o){}const Z0=new Qi("Application Initializer");let Fb=(()=>{class o{constructor(d){this.appInits=d,this.resolve=Nb,this.reject=Nb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const w=this.appInits[g]();if(Yg(w))d.push(w);else if(wr(w)){const I=new Promise((O,U)=>{w.subscribe({complete:O,error:U})});d.push(I)}}Promise.all(d).then(()=>{f()}).catch(g=>{this.reject(g)}),0===d.length&&f(),this.initialized=!0}}return o.\u0275fac=function(d){return new(d||o)($t(Z0,8))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const tx=new Qi("AppId",{providedIn:"root",factory:function eE(){return`${Q0()}${Q0()}${Q0()}`}});function Q0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nx=new Qi("Platform Initializer"),nE=new Qi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iE=new Qi("AnimationModuleType");let rE=(()=>{class o{log(d){console.log(d)}warn(d){console.warn(d)}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Lb=new Qi("LocaleId",{providedIn:"root",factory:()=>K(Lb,fn.Optional|fn.SkipSelf)||function sE(){return typeof $localize<"u"&&$localize.locale||fl}()}),oE=new Qi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class aE{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}let lE=(()=>{class o{compileModuleSync(d){return new b_(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),w=bo(Jr(d).declarations).reduce((I,O)=>{const U=mi(O);return U&&I.push(new Wh(U)),I},[]);return new aE(f,w)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Vc=(()=>Promise.resolve(0))();function zp(o){typeof Zone>"u"?Vc.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ed{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new th(!1),this.onMicrotaskEmpty=new th(!1),this.onStable=new th(!1),this.onError=new th(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&d,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function dE(){let o=Sn.requestAnimationFrame,l=Sn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function ox(o){const l=()=>{!function hE(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Sn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Bb(o),o.isCheckStableRunning=!0,X0(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Bb(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,g,w,I,O)=>{try{return J0(o),d.invokeTask(g,w,I,O)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||o.shouldCoalesceRunChangeDetection)&&l(),ew(o)}},onInvoke:(d,f,g,w,I,O,U)=>{try{return J0(o),d.invoke(g,w,I,O,U)}finally{o.shouldCoalesceRunChangeDetection&&l(),ew(o)}},onHasTask:(d,f,g,w)=>{d.hasTask(g,w),f===g&&("microTask"==w.change?(o._hasPendingMicrotasks=w.microTask,Bb(o),X0(o)):"macroTask"==w.change&&(o.hasPendingMacrotasks=w.macroTask))},onHandleError:(d,f,g,w)=>(d.handleError(g,w),o.runOutsideAngular(()=>o.onError.emit(w)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ed.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(Ed.isInAngularZone())throw new Ze(909,!1)}run(l,d,f){return this._inner.run(l,d,f)}runTask(l,d,f,g){const w=this._inner,I=w.scheduleEventTask("NgZoneEvent: "+g,l,uE,Nb,Nb);try{return w.runTask(I,d,f)}finally{w.cancelTask(I)}}runGuarded(l,d,f){return this._inner.runGuarded(l,d,f)}runOutsideAngular(l){return this._outer.run(l)}}const uE={};function X0(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Bb(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function J0(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function ew(o){o._nesting--,X0(o)}class lv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new th,this.onMicrotaskEmpty=new th,this.onStable=new th,this.onError=new th}run(l,d,f){return l.apply(d,f)}runGuarded(l,d,f){return l.apply(d,f)}runOutsideAngular(l){return l()}runTask(l,d,f,g){return l.apply(d,f)}}const ax=new Qi(""),tw=new Qi("");let Ub,fE=(()=>{class o{constructor(d,f,g){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ub||(function cx(o){Ub=o}(g),g.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ed.assertNotInAngularZone(),zp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zp(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,g){let w=-1;f&&f>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==w),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:w,updateCb:g})}whenStable(d,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,g){return[]}}return o.\u0275fac=function(d){return new(d||o)($t(Ed),$t(lx),$t(tw))},o.\u0275prov=sn({token:o,factory:o.\u0275fac}),o})(),lx=(()=>{class o{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return Ub?.findTestabilityInTree(this,d,f)??null}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const sh=!1;let bm=null;const dx=new Qi("AllowMultipleToken"),nw=new Qi("PlatformDestroyListeners"),iw=new Qi("appBootstrapListener");class pE{constructor(l,d){this.name=l,this.token=d}}function fx(o,l,d=[]){const f=`Platform: ${l}`,g=new Qi(f);return(w=[])=>{let I=px();if(!I||I.injector.get(dx,!1)){const O=[...d,...w,{provide:g,useValue:!0}];o?o(O):function gE(o){if(bm&&!bm.get(dx,!1))throw new Ze(400,!1);bm=o;const l=o.get(vE);(function hx(o){const l=o.get(nx,null);l&&l.forEach(d=>d())})(o)}(function mx(o=[],l){return Zd.create({name:l,providers:[{provide:Na,useValue:"platform"},{provide:nw,useValue:new Set([()=>bm=null])},...o]})}(O,f))}return function yE(o){const l=px();if(!l)throw new Ze(401,!1);return l}()}}function px(){return bm?.get(vE)??null}let vE=(()=>{class o{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const g=function wE(o,l){let d;return d="noop"===o?new lv:("zone.js"===o?void 0:o)||new Ed(l),d}(f?.ngZone,function bE(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(f)),w=[{provide:Ed,useValue:g}];return g.run(()=>{const I=Zd.create({providers:w,parent:this.injector,name:d.moduleType.name}),O=d.create(I),U=O.injector.get(qd,null);if(!U)throw new Ze(402,!1);return g.runOutsideAngular(()=>{const J=g.onError.subscribe({next:ae=>{U.handleError(ae)}});O.onDestroy(()=>{wm(this._modules,O),J.unsubscribe()})}),function xE(o,l,d){try{const f=d();return Yg(f)?f.catch(g=>{throw l.runOutsideAngular(()=>o.handleError(g)),g}):f}catch(f){throw l.runOutsideAngular(()=>o.handleError(f)),f}}(U,g,()=>{const J=O.injector.get(Fb);return J.runInitializers(),J.donePromise.then(()=>(function Xu(o){St(o,"Expected localeId to be defined"),"string"==typeof o&&(w0=o.toLowerCase().replace(/_/g,"-"))}(O.injector.get(Lb,fl)||fl),this._moduleDoBootstrap(O),O))})})}bootstrapModule(d,f=[]){const g=EE({},f);return function mE(o,l,d){const f=new b_(d);return Promise.resolve(f)}(0,0,d).then(w=>this.bootstrapModuleFactory(w,g))}_moduleDoBootstrap(d){const f=d.injector.get(C_);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!d.instance.ngDoBootstrap)throw new Ze(-403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(nw,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(d){return new(d||o)($t(Zd))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function EE(o,l){return Array.isArray(l)?l.reduce(EE,o):{...o,...l}}let C_=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,f,g){this._zone=d,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new Q.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),I=new Q.y(O=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Ed.assertNotInAngularZone(),zp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const J=this._zone.onUnstable.subscribe(()=>{Ed.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{U.unsubscribe(),J.unsubscribe()}});this.isStable=(0,ve.T)(w,I.pipe((0,Ae.B)()))}bootstrap(d,f){const g=d instanceof Nu;if(!this._injector.get(Fb).done){!g&&xs(d);throw new Ze(405,sh)}let I;I=g?d:this._injector.get(Vf).resolveComponentFactory(d),this.componentTypes.push(I.componentType);const O=function ux(o){return o.isBoundToModule}(I)?void 0:this._injector.get(pf),J=I.create(Zd.NULL,[],f||I.selector,O),ae=J.location.nativeElement,Me=J.injector.get(ax,null);return Me?.registerApplication(ae),J.onDestroy(()=>{this.detachView(J.hostView),wm(this.components,J),Me?.unregisterApplication(ae)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;wm(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const f=this._injector.get(iw,[]);f.push(...this._bootstrapListeners),f.forEach(g=>g(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>wm(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new Ze(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(d){return new(d||o)($t(Ed),$t(Oc),$t(qd))},o.\u0275prov=sn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function wm(o,l){const d=o.indexOf(l);d>-1&&o.splice(d,1)}function Vb(){return!1}let XE=(()=>{class o{}return o.__NG_ELEMENT_ID__=dv,o})();function dv(o){return function JE(o,l,d){if(Ar(o)&&!d){const f=ur(o.index,l);return new Uu(f,f)}return 47&o.type?new Uu(l[Ji],l):null}(gr(),dt(),16==(16&o))}class I_{constructor(){}supports(l){return Zf(l)}create(l){return new TE(l)}}const bx=(o,l)=>l;class TE{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||bx}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,f=this._removalsHead,g=0,w=null;for(;d||f;){const I=!f||d&&d.currentIndex<dw(f,g,w)?d:f,O=dw(I,g,w),U=I.currentIndex;if(I===f)g--,f=f._nextRemoved;else if(d=d._next,null==I.previousIndex)g++;else{w||(w=[]);const J=O-g,ae=U-g;if(J!=ae){for(let Je=0;Je<J;Je++){const gt=Je<w.length?w[Je]:w[Je]=0,Gt=gt+Je;ae<=Gt&&Gt<J&&(w[Je]=gt+1)}w[I.previousIndex]=ae-J}}O!==U&&l(I,O,U)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!Zf(l))throw new Ze(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,w,I,d=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let O=0;O<this.length;O++)w=l[O],I=this._trackByFn(O,w),null!==d&&Object.is(d.trackById,I)?(f&&(d=this._verifyReinsertion(d,w,I,O)),Object.is(d.item,w)||this._addIdentityChange(d,w)):(d=this._mismatch(d,w,I,O),f=!0),d=d._next}else g=0,function p0(o,l){if(Array.isArray(o))for(let d=0;d<o.length;d++)l(o[d]);else{const d=o[Symbol.iterator]();let f;for(;!(f=d.next()).done;)l(f.value)}}(l,O=>{I=this._trackByFn(g,O),null!==d&&Object.is(d.trackById,I)?(f&&(d=this._verifyReinsertion(d,O,I,g)),Object.is(d.item,O)||this._addIdentityChange(d,O)):(d=this._mismatch(d,O,I,g),f=!0),d=d._next,g++}),this.length=g;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,f,g){let w;return null===l?w=this._itTail:(w=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,w,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,w,g)):l=this._addAfter(new AE(d,f),w,g),l}_verifyReinsertion(l,d,f,g){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==w?l=this._reinsertAfter(w,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,w=l._nextRemoved;return null===g?this._removalsHead=w:g._nextRemoved=w,null===w?this._removalsTail=g:w._prevRemoved=g,this._insertAfter(l,d,f),this._addToMoves(l,f),l}_moveAfter(l,d,f){return this._unlink(l),this._insertAfter(l,d,f),this._addToMoves(l,f),l}_addAfter(l,d,f){return this._insertAfter(l,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,f){const g=null===d?this._itHead:d._next;return l._next=g,l._prev=d,null===g?this._itTail=l:g._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new cw),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,f=l._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cw),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class AE{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $p{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const d=l._prevDup,f=l._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class cw{constructor(){this.map=new Map}put(l){const d=l.trackById;let f=this.map.get(d);f||(f=new $p,this.map.set(d,f)),f.add(l)}get(l,d){const g=this.map.get(l);return g?g.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dw(o,l,d){const f=o.previousIndex;if(null===f)return f;let g=0;return d&&f<d.length&&(g=d[f]),f+l+g}class ME{constructor(){}supports(l){return l instanceof Map||tp(l)}create(){return new oC}}class oC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||tp(l)))throw new Ze(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,g)=>{if(d&&d.key===g)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const w=this._getOrCreateRecordForKey(g,f);d=this._insertBeforeOrAppend(d,w)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const f=l._prev;return d._next=l,d._prev=f,l._prev=d,f&&(f._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,d);const w=g._prev,I=g._next;return w&&(w._next=I),I&&(I._prev=w),g._next=null,g._prev=null,g}const f=new wx(l);return this._records.set(l,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(f=>d(l[f],f))}}class wx{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xx(){return new uw([new I_])}let uw=(()=>{class o{constructor(d){this.factories=d}static create(d,f){if(null!=f){const g=f.factories.slice();d=d.concat(g)}return new o(d)}static extend(d){return{provide:o,useFactory:f=>o.create(d,f||xx()),deps:[[o,new kl,new Ml]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(null!=f)return f;throw new Ze(901,!1)}}return o.\u0275prov=sn({token:o,providedIn:"root",factory:xx}),o})();function fu(){return new hw([new ME])}let hw=(()=>{class o{constructor(d){this.factories=d}static create(d,f){if(f){const g=f.factories.slice();d=d.concat(g)}return new o(d)}static extend(d){return{provide:o,useFactory:f=>o.create(d,f||fu()),deps:[[o,new kl,new Ml]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(f)return f;throw new Ze(901,!1)}}return o.\u0275prov=sn({token:o,providedIn:"root",factory:fu}),o})();const RE=fx(null,"core",[]);let zb=(()=>{class o{constructor(d){}}return o.\u0275fac=function(d){return new(d||o)($t(C_))},o.\u0275mod=hs({type:o}),o.\u0275inj=wn({}),o})();function cC(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},4006:(Wt,Ge,P)=>{P.d(Ge,{F:()=>Ri,Fj:()=>Ke,JJ:()=>hi,JL:()=>ci,JU:()=>ce,On:()=>Gs,Q7:()=>Ta,UX:()=>Ya,_Y:()=>Qe,a5:()=>yi,kI:()=>Ve,nD:()=>rs,sg:()=>jr,u5:()=>Xl,wO:()=>pr});var _=P(4650),h=P(6895),Q=P(8996),ve=P(4128),Ae=P(4004);let Se=(()=>{class Y{constructor(z,he){this._renderer=z,this._elementRef=he,this.onChange=Tt=>{},this.onTouched=()=>{}}setProperty(z,he){this._renderer.setProperty(this._elementRef.nativeElement,z,he)}registerOnTouched(z){this.onTouched=z}registerOnChange(z){this.onChange=z}setDisabledState(z){this.setProperty("disabled",z)}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(_.Qsj),_.Y36(_.SBq))},Y.\u0275dir=_.lG2({type:Y}),Y})(),we=(()=>{class Y extends Se{}return Y.\u0275fac=function(){let G;return function(he){return(G||(G=_.n5z(Y)))(he||Y)}}(),Y.\u0275dir=_.lG2({type:Y,features:[_.qOj]}),Y})();const ce=new _.OlP("NgValueAccessor"),_e={provide:ce,useExisting:(0,_.Gpc)(()=>Ke),multi:!0},nt=new _.OlP("CompositionEventMode");let Ke=(()=>{class Y extends Se{constructor(z,he,Tt){super(z,he),this._compositionMode=Tt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pe(){const Y=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(z){this.setProperty("value",z??"")}_handleInput(z){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(z)}_compositionStart(){this._composing=!0}_compositionEnd(z){this._composing=!1,this._compositionMode&&this.onChange(z)}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(nt,8))},Y.\u0275dir=_.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(z,he){1&z&&_.NdJ("input",function(dt){return he._handleInput(dt.target.value)})("blur",function(){return he.onTouched()})("compositionstart",function(){return he._compositionStart()})("compositionend",function(dt){return he._compositionEnd(dt.target.value)})},features:[_._Bn([_e]),_.qOj]}),Y})();const xt=!1;function ht(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}function Ze(Y){return null!=Y&&"number"==typeof Y.length}const Le=new _.OlP("NgValidators"),Ee=new _.OlP("NgAsyncValidators"),Ct=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ve{static min(G){return function De(Y){return G=>{if(ht(G.value)||ht(Y))return null;const z=parseFloat(G.value);return!isNaN(z)&&z<Y?{min:{min:Y,actual:G.value}}:null}}(G)}static max(G){return function me(Y){return G=>{if(ht(G.value)||ht(Y))return null;const z=parseFloat(G.value);return!isNaN(z)&&z>Y?{max:{max:Y,actual:G.value}}:null}}(G)}static required(G){return ze(G)}static requiredTrue(G){return function Xe(Y){return!0===Y.value?null:{required:!0}}(G)}static email(G){return function ge(Y){return ht(Y.value)||Ct.test(Y.value)?null:{email:!0}}(G)}static minLength(G){return Ce(G)}static maxLength(G){return $e(G)}static pattern(G){return function mt(Y){if(!Y)return nn;let G,z;return"string"==typeof Y?(z="","^"!==Y.charAt(0)&&(z+="^"),z+=Y,"$"!==Y.charAt(Y.length-1)&&(z+="$"),G=new RegExp(z)):(z=Y.toString(),G=Y),he=>{if(ht(he.value))return null;const Tt=he.value;return G.test(Tt)?null:{pattern:{requiredPattern:z,actualValue:Tt}}}}(G)}static nullValidator(G){return null}static compose(G){return kt(G)}static composeAsync(G){return bt(G)}}function ze(Y){return ht(Y.value)?{required:!0}:null}function Ce(Y){return G=>ht(G.value)||!Ze(G.value)?null:G.value.length<Y?{minlength:{requiredLength:Y,actualLength:G.value.length}}:null}function $e(Y){return G=>Ze(G.value)&&G.value.length>Y?{maxlength:{requiredLength:Y,actualLength:G.value.length}}:null}function nn(Y){return null}function Nt(Y){return null!=Y}function rt(Y){const G=(0,_.QGY)(Y)?(0,Q.D)(Y):Y;if(xt&&!(0,_.CqO)(G)){let z="Expected async validator to return Promise or Observable.";throw"object"==typeof Y&&(z+=" Are you using a synchronous validator where an async validator is expected?"),new _.vHH(-1101,z)}return G}function ft(Y){let G={};return Y.forEach(z=>{G=null!=z?{...G,...z}:G}),0===Object.keys(G).length?null:G}function Et(Y,G){return G.map(z=>z(Y))}function It(Y){return Y.map(G=>function Mt(Y){return!Y.validate}(G)?G:z=>G.validate(z))}function kt(Y){if(!Y)return null;const G=Y.filter(Nt);return 0==G.length?null:function(z){return ft(Et(z,G))}}function St(Y){return null!=Y?kt(It(Y)):null}function bt(Y){if(!Y)return null;const G=Y.filter(Nt);return 0==G.length?null:function(z){const he=Et(z,G).map(rt);return(0,ve.D)(he).pipe((0,Ae.U)(ft))}}function et(Y){return null!=Y?bt(It(Y)):null}function at(Y,G){return null===Y?[G]:Array.isArray(Y)?[...Y,G]:[Y,G]}function bn(Y){return Y._rawValidators}function sn(Y){return Y._rawAsyncValidators}function Tn(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function wn(Y,G){return Array.isArray(Y)?Y.includes(G):Y===G}function On(Y,G){const z=Tn(G);return Tn(Y).forEach(Tt=>{wn(z,Tt)||z.push(Tt)}),z}function Hn(Y,G){return Tn(G).filter(z=>!wn(Y,z))}class Ci{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=St(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=et(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G){this.control&&this.control.reset(G)}hasError(G,z){return!!this.control&&this.control.hasError(G,z)}getError(G,z){return this.control?this.control.getError(G,z):null}}class jn extends Ci{get formDirective(){return null}get path(){return null}}class yi extends Ci{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gn{constructor(G){this._cd=G}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hi=(()=>{class Y extends gn{constructor(z){super(z)}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(yi,2))},Y.\u0275dir=_.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(z,he){2&z&&_.ekj("ng-untouched",he.isUntouched)("ng-touched",he.isTouched)("ng-pristine",he.isPristine)("ng-dirty",he.isDirty)("ng-valid",he.isValid)("ng-invalid",he.isInvalid)("ng-pending",he.isPending)},features:[_.qOj]}),Y})(),ci=(()=>{class Y extends gn{constructor(z){super(z)}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(jn,10))},Y.\u0275dir=_.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(z,he){2&z&&_.ekj("ng-untouched",he.isUntouched)("ng-touched",he.isTouched)("ng-pristine",he.isPristine)("ng-dirty",he.isDirty)("ng-valid",he.isValid)("ng-invalid",he.isInvalid)("ng-pending",he.isPending)("ng-submitted",he.isSubmitted)},features:[_.qOj]}),Y})();function Ft(Y,G){return Y?`with name: '${G}'`:`at index: ${G}`}const Rn=!1,Mi="VALID",si="INVALID",$t="PENDING",Re="DISABLED";function K(Y){return(Ie(Y)?Y.validators:Y)||null}function H(Y,G){return(Ie(G)?G.asyncValidators:Y)||null}function Ie(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}class Fe{constructor(G,z){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(G),this._assignAsyncValidators(z)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get valid(){return this.status===Mi}get invalid(){return this.status===si}get pending(){return this.status==$t}get disabled(){return this.status===Re}get enabled(){return this.status!==Re}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._assignValidators(G)}setAsyncValidators(G){this._assignAsyncValidators(G)}addValidators(G){this.setValidators(On(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(On(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(Hn(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(Hn(G,this._rawAsyncValidators))}hasValidator(G){return wn(this._rawValidators,G)}hasAsyncValidator(G){return wn(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){this.touched=!0,this._parent&&!G.onlySelf&&this._parent.markAsTouched(G)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(G=>G.markAllAsTouched())}markAsUntouched(G={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(z=>{z.markAsUntouched({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}markAsDirty(G={}){this.pristine=!1,this._parent&&!G.onlySelf&&this._parent.markAsDirty(G)}markAsPristine(G={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(z=>{z.markAsPristine({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}markAsPending(G={}){this.status=$t,!1!==G.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!G.onlySelf&&this._parent.markAsPending(G)}disable(G={}){const z=this._parentMarkedDirty(G.onlySelf);this.status=Re,this.errors=null,this._forEachChild(he=>{he.disable({...G,onlySelf:!0})}),this._updateValue(),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...G,skipPristineCheck:z}),this._onDisabledChange.forEach(he=>he(!0))}enable(G={}){const z=this._parentMarkedDirty(G.onlySelf);this.status=Mi,this._forEachChild(he=>{he.enable({...G,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors({...G,skipPristineCheck:z}),this._onDisabledChange.forEach(he=>he(!1))}_updateAncestors(G){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(G){this._parent=G}getRawValue(){return this.value}updateValueAndValidity(G={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mi||this.status===$t)&&this._runAsyncValidator(G.emitEvent)),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity(G)}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild(z=>z._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Re:Mi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G){if(this.asyncValidator){this.status=$t,this._hasOwnPendingAsyncValidator=!0;const z=rt(this.asyncValidator(this));this._asyncValidationSubscription=z.subscribe(he=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(he,{emitEvent:G})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(G,z={}){this.errors=G,this._updateControlsErrors(!1!==z.emitEvent)}get(G){let z=G;return null==z||(Array.isArray(z)||(z=z.split(".")),0===z.length)?null:z.reduce((he,Tt)=>he&&he._find(Tt),this)}getError(G,z){const he=z?this.get(z):this;return he&&he.errors?he.errors[G]:null}hasError(G,z){return!!this.getError(G,z)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(G)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Re:this.errors?si:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($t)?$t:this._anyControlsHaveStatus(si)?si:Mi}_anyControlsHaveStatus(G){return this._anyControls(z=>z.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G={}){this.pristine=!this._anyControlsDirty(),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}_updateTouched(G={}){this.touched=this._anyControlsTouched(),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){Ie(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(G){return null}_assignValidators(G){this._rawValidators=Array.isArray(G)?G.slice():G,this._composedValidatorFn=function N(Y){return Array.isArray(Y)?St(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(G){this._rawAsyncValidators=Array.isArray(G)?G.slice():G,this._composedAsyncValidatorFn=function ue(Y){return Array.isArray(Y)?et(Y):Y||null}(this._rawAsyncValidators)}}class ot extends Fe{constructor(G,z,he){super(K(z),H(he,z)),this.controls=G,this._initObservables(),this._setUpdateStrategy(z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(G,z){return this.controls[G]?this.controls[G]:(this.controls[G]=z,z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange),z)}addControl(G,z,he={}){this.registerControl(G,z),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}removeControl(G,z={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}setControl(G,z,he={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],z&&this.registerControl(G,z),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,z={}){(function be(Y,G,z){Y._forEachChild((he,Tt)=>{if(void 0===z[Tt])throw new _.vHH(1002,Rn?function Vi(Y,G){return`Must supply a value for form control ${Ft(Y,G)}`}(G,Tt):"")})})(this,!0,G),Object.keys(G).forEach(he=>{(function se(Y,G,z){const he=Y.controls;if(!(G?Object.keys(he):he).length)throw new _.vHH(1e3,Rn?function Pn(Y){return`\n    There are no form controls registered with this ${Y?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(G):"");if(!he[z])throw new _.vHH(1001,Rn?function xn(Y,G){return`Cannot find form control ${Ft(Y,G)}`}(G,z):"")})(this,!0,he),this.controls[he].setValue(G[he],{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z)}patchValue(G,z={}){null!=G&&(Object.keys(G).forEach(he=>{const Tt=this.controls[he];Tt&&Tt.patchValue(G[he],{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z))}reset(G={},z={}){this._forEachChild((he,Tt)=>{he.reset(G[Tt],{onlySelf:!0,emitEvent:z.emitEvent})}),this._updatePristine(z),this._updateTouched(z),this.updateValueAndValidity(z)}getRawValue(){return this._reduceChildren({},(G,z,he)=>(G[he]=z.getRawValue(),G))}_syncPendingControls(){let G=this._reduceChildren(!1,(z,he)=>!!he._syncPendingControls()||z);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){Object.keys(this.controls).forEach(z=>{const he=this.controls[z];he&&G(he,z)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const[z,he]of Object.entries(this.controls))if(this.contains(z)&&G(he))return!0;return!1}_reduceValue(){return this._reduceChildren({},(z,he,Tt)=>((he.enabled||this.disabled)&&(z[Tt]=he.value),z))}_reduceChildren(G,z){let he=G;return this._forEachChild((Tt,dt)=>{he=z(he,Tt,dt)}),he}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(G){return this.controls.hasOwnProperty(G)?this.controls[G]:null}}const de=new _.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Be}),Be="always";function Lt(Y,G,z=Be){Hr(Y,G),G.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===z)&&G.valueAccessor.setDisabledState?.(Y.disabled),function js(Y,G){G.valueAccessor.registerOnChange(z=>{Y._pendingValue=z,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&Do(Y,G)})}(Y,G),function zs(Y,G){const z=(he,Tt)=>{G.valueAccessor.writeValue(he),Tt&&G.viewToModelUpdate(he)};Y.registerOnChange(z),G._registerOnDestroy(()=>{Y._unregisterOnChange(z)})}(Y,G),function hs(Y,G){G.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&Do(Y,G),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,G),function Vt(Y,G){if(G.valueAccessor.setDisabledState){const z=he=>{G.valueAccessor.setDisabledState(he)};Y.registerOnDisabledChange(z),G._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(z)})}}(Y,G)}function rn(Y,G,z=!0){const he=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(he),G.valueAccessor.registerOnTouched(he)),cr(Y,G),Y&&(G._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function Mn(Y,G){Y.forEach(z=>{z.registerOnValidatorChange&&z.registerOnValidatorChange(G)})}function Hr(Y,G){const z=bn(Y);null!==G.validator?Y.setValidators(at(z,G.validator)):"function"==typeof z&&Y.setValidators([z]);const he=sn(Y);null!==G.asyncValidator?Y.setAsyncValidators(at(he,G.asyncValidator)):"function"==typeof he&&Y.setAsyncValidators([he]);const Tt=()=>Y.updateValueAndValidity();Mn(G._rawValidators,Tt),Mn(G._rawAsyncValidators,Tt)}function cr(Y,G){let z=!1;if(null!==Y){if(null!==G.validator){const Tt=bn(Y);if(Array.isArray(Tt)&&Tt.length>0){const dt=Tt.filter(Bn=>Bn!==G.validator);dt.length!==Tt.length&&(z=!0,Y.setValidators(dt))}}if(null!==G.asyncValidator){const Tt=sn(Y);if(Array.isArray(Tt)&&Tt.length>0){const dt=Tt.filter(Bn=>Bn!==G.asyncValidator);dt.length!==Tt.length&&(z=!0,Y.setAsyncValidators(dt))}}}const he=()=>{};return Mn(G._rawValidators,he),Mn(G._rawAsyncValidators,he),z}function Do(Y,G){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function mo(Y,G){Hr(Y,G)}function Nn(Y,G){Y._syncPendingControls(),G.forEach(z=>{const he=z.control;"submit"===he.updateOn&&he._pendingChange&&(z.viewToModelUpdate(he._pendingValue),he._pendingChange=!1)})}const Gn={provide:jn,useExisting:(0,_.Gpc)(()=>Ri)},$i=(()=>Promise.resolve())();let Ri=(()=>{class Y extends jn{constructor(z,he,Tt){super(),this.callSetDisabledState=Tt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new _.vpe,this.form=new ot({},St(z),et(he))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(z){$i.then(()=>{const he=this._findContainer(z.path);z.control=he.registerControl(z.name,z.control),Lt(z.control,z,this.callSetDisabledState),z.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(z)})}getControl(z){return this.form.get(z.path)}removeControl(z){$i.then(()=>{const he=this._findContainer(z.path);he&&he.removeControl(z.name),this._directives.delete(z)})}addFormGroup(z){$i.then(()=>{const he=this._findContainer(z.path),Tt=new ot({});mo(Tt,z),he.registerControl(z.name,Tt),Tt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(z){$i.then(()=>{const he=this._findContainer(z.path);he&&he.removeControl(z.name)})}getFormGroup(z){return this.form.get(z.path)}updateModel(z,he){$i.then(()=>{this.form.get(z.path).setValue(he)})}setValue(z){this.control.setValue(z)}onSubmit(z){return this.submitted=!0,Nn(this.form,this._directives),this.ngSubmit.emit(z),"dialog"===z?.target?.method}onReset(){this.resetForm()}resetForm(z){this.form.reset(z),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(z){return z.pop(),z.length?this.form.get(z):this.form}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(Le,10),_.Y36(Ee,10),_.Y36(de,8))},Y.\u0275dir=_.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(z,he){1&z&&_.NdJ("submit",function(dt){return he.onSubmit(dt)})("reset",function(){return he.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Gn]),_.qOj]}),Y})();function xr(Y,G){const z=Y.indexOf(G);z>-1&&Y.splice(z,1)}function Er(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}const qn=class extends Fe{constructor(G=null,z,he){super(K(z),H(he,z)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(G),this._setUpdateStrategy(z),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ie(z)&&(z.nonNullable||z.initialValueIsDefault)&&(this.defaultValue=Er(G)?G.value:G)}setValue(G,z={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==z.emitModelToViewChange&&this._onChange.forEach(he=>he(this.value,!1!==z.emitViewToModelChange)),this.updateValueAndValidity(z)}patchValue(G,z={}){this.setValue(G,z)}reset(G=this.defaultValue,z={}){this._applyFormState(G),this.markAsPristine(z),this.markAsUntouched(z),this.setValue(this.value,z),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){xr(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){xr(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){Er(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}},Dr={provide:yi,useExisting:(0,_.Gpc)(()=>Gs)},Hi=(()=>Promise.resolve())();let Gs=(()=>{class Y extends yi{constructor(z,he,Tt,dt,Bn,bi){super(),this._changeDetectorRef=Bn,this.callSetDisabledState=bi,this.control=new qn,this._registered=!1,this.update=new _.vpe,this._parent=z,this._setValidators(he),this._setAsyncValidators(Tt),this.valueAccessor=function Ii(Y,G){if(!G)return null;let z,he,Tt;return Array.isArray(G),G.forEach(dt=>{dt.constructor===Ke?z=dt:function mn(Y){return Object.getPrototypeOf(Y.constructor)===we}(dt)?he=dt:Tt=dt}),Tt||he||z||null}(0,dt)}ngOnChanges(z){if(this._checkForErrors(),!this._registered||"name"in z){if(this._registered&&(this._checkName(),this.formDirective)){const he=z.name.previousValue;this.formDirective.removeControl({name:he,path:this._getPath(he)})}this._setUpControl()}"isDisabled"in z&&this._updateDisabled(z),function ki(Y,G){if(!Y.hasOwnProperty("model"))return!1;const z=Y.model;return!!z.isFirstChange()||!Object.is(G,z.currentValue)}(z,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(z){Hi.then(()=>{this.control.setValue(z,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(z){const he=z.isDisabled.currentValue,Tt=0!==he&&(0,_.D6c)(he);Hi.then(()=>{Tt&&!this.control.disabled?this.control.disable():!Tt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(z){return this._parent?function yt(Y,G){return[...G.path,Y]}(z,this._parent):[z]}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(jn,9),_.Y36(Le,10),_.Y36(Ee,10),_.Y36(ce,10),_.Y36(_.sBO,8),_.Y36(de,8))},Y.\u0275dir=_.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([Dr]),_.qOj,_.TTD]}),Y})(),Qe=(()=>{class Y{}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275dir=_.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Y})(),pn=(()=>{class Y{}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275mod=_.oAB({type:Y}),Y.\u0275inj=_.cJS({}),Y})();const Ar=new _.OlP("NgModelWithFormControlWarning"),Ga={provide:jn,useExisting:(0,_.Gpc)(()=>jr)};let jr=(()=>{class Y extends jn{constructor(z,he,Tt){super(),this.callSetDisabledState=Tt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(z),this._setAsyncValidators(he)}ngOnChanges(z){this._checkFormPresent(),z.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(z){const he=this.form.get(z.path);return Lt(he,z,this.callSetDisabledState),he.updateValueAndValidity({emitEvent:!1}),this.directives.push(z),he}getControl(z){return this.form.get(z.path)}removeControl(z){rn(z.control||null,z,!1),function Tr(Y,G){const z=Y.indexOf(G);z>-1&&Y.splice(z,1)}(this.directives,z)}addFormGroup(z){this._setUpFormContainer(z)}removeFormGroup(z){this._cleanUpFormContainer(z)}getFormGroup(z){return this.form.get(z.path)}addFormArray(z){this._setUpFormContainer(z)}removeFormArray(z){this._cleanUpFormContainer(z)}getFormArray(z){return this.form.get(z.path)}updateModel(z,he){this.form.get(z.path).setValue(he)}onSubmit(z){return this.submitted=!0,Nn(this.form,this.directives),this.ngSubmit.emit(z),"dialog"===z?.target?.method}onReset(){this.resetForm()}resetForm(z){this.form.reset(z),this.submitted=!1}_updateDomValue(){this.directives.forEach(z=>{const he=z.control,Tt=this.form.get(z.path);he!==Tt&&(rn(he||null,z),(Y=>Y instanceof qn)(Tt)&&(Lt(Tt,z,this.callSetDisabledState),z.control=Tt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(z){const he=this.form.get(z.path);mo(he,z),he.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(z){if(this.form){const he=this.form.get(z.path);he&&function ws(Y,G){return cr(Y,G)}(he,z)&&he.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Hr(this.form,this),this._oldForm&&cr(this._oldForm,this)}_checkFormPresent(){}}return Y.\u0275fac=function(z){return new(z||Y)(_.Y36(Le,10),_.Y36(Ee,10),_.Y36(de,8))},Y.\u0275dir=_.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(z,he){1&z&&_.NdJ("submit",function(dt){return he.onSubmit(dt)})("reset",function(){return he.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Ga]),_.qOj,_.TTD]}),Y})();function Cs(Y){return"number"==typeof Y?Y:parseInt(Y,10)}let is=(()=>{class Y{constructor(){this._validator=nn}ngOnChanges(z){if(this.inputName in z){const he=this.normalizeInput(z[this.inputName].currentValue);this._enabled=this.enabled(he),this._validator=this._enabled?this.createValidator(he):nn,this._onChange&&this._onChange()}}validate(z){return this._validator(z)}registerOnValidatorChange(z){this._onChange=z}enabled(z){return null!=z}}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275dir=_.lG2({type:Y,features:[_.TTD]}),Y})();const Ql={provide:Le,useExisting:(0,_.Gpc)(()=>Ta),multi:!0};let Ta=(()=>{class Y extends is{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_.D6c,this.createValidator=z=>ze}enabled(z){return z}}return Y.\u0275fac=function(){let G;return function(he){return(G||(G=_.n5z(Y)))(he||Y)}}(),Y.\u0275dir=_.lG2({type:Y,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(z,he){2&z&&_.uIk("required",he._enabled?"":null)},inputs:{required:"required"},features:[_._Bn([Ql]),_.qOj]}),Y})();const Ns={provide:Le,useExisting:(0,_.Gpc)(()=>pr),multi:!0};let pr=(()=>{class Y extends is{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=z=>Cs(z),this.createValidator=z=>Ce(z)}}return Y.\u0275fac=function(){let G;return function(he){return(G||(G=_.n5z(Y)))(he||Y)}}(),Y.\u0275dir=_.lG2({type:Y,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(z,he){2&z&&_.uIk("minlength",he._enabled?he.minlength:null)},inputs:{minlength:"minlength"},features:[_._Bn([Ns]),_.qOj]}),Y})();const gi={provide:Le,useExisting:(0,_.Gpc)(()=>rs),multi:!0};let rs=(()=>{class Y extends is{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=z=>Cs(z),this.createValidator=z=>$e(z)}}return Y.\u0275fac=function(){let G;return function(he){return(G||(G=_.n5z(Y)))(he||Y)}}(),Y.\u0275dir=_.lG2({type:Y,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(z,he){2&z&&_.uIk("maxlength",he._enabled?he.maxlength:null)},inputs:{maxlength:"maxlength"},features:[_._Bn([gi]),_.qOj]}),Y})(),ur=(()=>{class Y{}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275mod=_.oAB({type:Y}),Y.\u0275inj=_.cJS({imports:[pn]}),Y})(),Xl=(()=>{class Y{static withConfig(z){return{ngModule:Y,providers:[{provide:de,useValue:z.callSetDisabledState??Be}]}}}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275mod=_.oAB({type:Y}),Y.\u0275inj=_.cJS({imports:[ur]}),Y})(),Ya=(()=>{class Y{static withConfig(z){return{ngModule:Y,providers:[{provide:Ar,useValue:z.warnOnNgModelWithFormControl??"always"},{provide:de,useValue:z.callSetDisabledState??Be}]}}}return Y.\u0275fac=function(z){return new(z||Y)},Y.\u0275mod=_.oAB({type:Y}),Y.\u0275inj=_.cJS({imports:[ur]}),Y})()},9101:(Wt,Ge,P)=>{P.d(Ge,{RK:()=>Mt,cs:()=>Nt,lW:()=>Xe,ot:()=>kt});var _=P(3353),h=P(4650),Q=P(2687),ve=P(3238),Ae=P(1281);const Se=["mat-button",""],we=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ce=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],_e=["mat-fab",""],Ke=["mat-icon-button",""],xt=["*"],Ee=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ct=(0,ve.pj)((0,ve.Id)((0,ve.Kr)(class{constructor(St){this._elementRef=St}})));let Ve=(()=>{class St extends Ct{constructor(et,at,bn,sn){super(et),this._platform=at,this._ngZone=bn,this._animationMode=sn,this._focusMonitor=(0,h.f3M)(Q.tE),this._isFab=!1;const Tn=et.nativeElement.classList;for(const wn of Ee)this._hasHostAttributes(wn.selector)&&wn.mdcClasses.forEach(On=>{Tn.add(On)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(et="program",at){et?this._focusMonitor.focusVia(this._elementRef.nativeElement,et,at):this._elementRef.nativeElement.focus(at)}_hasHostAttributes(...et){return et.some(at=>this._elementRef.nativeElement.hasAttribute(at))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return St.\u0275fac=function(et){h.$Z()},St.\u0275dir=h.lG2({type:St,viewQuery:function(et,at){if(1&et&&h.Gf(ve.wG,5),2&et){let bn;h.iGM(bn=h.CRH())&&(at.ripple=bn.first)}},features:[h.qOj]}),St})(),Xe=(()=>{class St extends Ve{constructor(et,at,bn,sn){super(et,at,bn,sn)}}return St.\u0275fac=function(et){return new(et||St)(h.Y36(h.SBq),h.Y36(_.t4),h.Y36(h.R0b),h.Y36(h.QbO,8))},St.\u0275cmp=h.Xpm({type:St,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(et,at){2&et&&(h.uIk("disabled",at.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===at._animationMode)("mat-unthemed",!at.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:Se,ngContentSelectors:ce,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(et,at){1&et&&(h.F$t(we),h._UZ(0,"span",0),h.Hsn(1),h.TgZ(2,"span",1),h.Hsn(3,1),h.qZA(),h.Hsn(4,2),h._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&et&&(h.ekj("mdc-button__ripple",!at._isFab)("mdc-fab__ripple",at._isFab),h.xp6(6),h.Q6J("matRippleDisabled",at._isRippleDisabled())("matRippleTrigger",at._elementRef.nativeElement))},dependencies:[ve.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),St})();const Ce=new h.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:$e});function $e(){return{color:"accent"}}const mt=$e();let Nt=(()=>{class St extends Ve{get extended(){return this._extended}set extended(et){this._extended=(0,Ae.Ig)(et)}constructor(et,at,bn,sn,Tn){super(et,at,bn,sn),this._options=Tn,this._isFab=!0,this._options=this._options||mt,this.color=this.defaultColor=this._options.color||mt.color}}return St.\u0275fac=function(et){return new(et||St)(h.Y36(h.SBq),h.Y36(_.t4),h.Y36(h.R0b),h.Y36(h.QbO,8),h.Y36(Ce,8))},St.\u0275cmp=h.Xpm({type:St,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(et,at){2&et&&(h.uIk("disabled",at.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===at._animationMode)("mat-unthemed",!at.color)("mat-mdc-button-base",!0)("mdc-fab--extended",at.extended)("mat-mdc-extended-fab",at.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[h.qOj],attrs:_e,ngContentSelectors:ce,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(et,at){1&et&&(h.F$t(we),h._UZ(0,"span",0),h.Hsn(1),h.TgZ(2,"span",1),h.Hsn(3,1),h.qZA(),h.Hsn(4,2),h._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&et&&(h.ekj("mdc-button__ripple",!at._isFab)("mdc-fab__ripple",at._isFab),h.xp6(6),h.Q6J("matRippleDisabled",at._isRippleDisabled())("matRippleTrigger",at._elementRef.nativeElement))},dependencies:[ve.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),St})(),Mt=(()=>{class St extends Ve{constructor(et,at,bn,sn){super(et,at,bn,sn)}}return St.\u0275fac=function(et){return new(et||St)(h.Y36(h.SBq),h.Y36(_.t4),h.Y36(h.R0b),h.Y36(h.QbO,8))},St.\u0275cmp=h.Xpm({type:St,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(et,at){2&et&&(h.uIk("disabled",at.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===at._animationMode)("mat-unthemed",!at.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:Ke,ngContentSelectors:xt,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(et,at){1&et&&(h.F$t(),h._UZ(0,"span",0),h.Hsn(1),h._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&et&&(h.xp6(3),h.Q6J("matRippleDisabled",at._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",at._elementRef.nativeElement))},dependencies:[ve.wG],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),St})(),kt=(()=>{class St{}return St.\u0275fac=function(et){return new(et||St)},St.\u0275mod=h.oAB({type:St}),St.\u0275inj=h.cJS({imports:[ve.BQ,ve.si,ve.BQ]}),St})()},3546:(Wt,Ge,P)=>{P.d(Ge,{QW:()=>Xe,a8:()=>ne,dk:()=>ht,dn:()=>nt,kc:()=>me,n5:()=>_e});var _=P(4650),h=P(6895),Q=P(3238);const ve=["*"],we=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],ce=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],xe=new _.OlP("MAT_CARD_CONFIG");let ne=(()=>{class ge{constructor($e){this.appearance=$e?.appearance||"raised"}}return ge.\u0275fac=function($e){return new($e||ge)(_.Y36(xe,8))},ge.\u0275cmp=_.Xpm({type:ge,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function($e,mt){2&$e&&_.ekj("mat-mdc-card-outlined","outlined"===mt.appearance)("mdc-card--outlined","outlined"===mt.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ve,decls:1,vars:0,template:function($e,mt){1&$e&&(_.F$t(),_.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),ge})(),_e=(()=>{class ge{}return ge.\u0275fac=function($e){return new($e||ge)},ge.\u0275dir=_.lG2({type:ge,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),ge})(),nt=(()=>{class ge{}return ge.\u0275fac=function($e){return new($e||ge)},ge.\u0275dir=_.lG2({type:ge,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),ge})(),ht=(()=>{class ge{}return ge.\u0275fac=function($e){return new($e||ge)},ge.\u0275cmp=_.Xpm({type:ge,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:ce,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function($e,mt){1&$e&&(_.F$t(we),_.Hsn(0),_.TgZ(1,"div",0),_.Hsn(2,1),_.qZA(),_.Hsn(3,2))},encapsulation:2,changeDetection:0}),ge})(),me=(()=>{class ge{}return ge.\u0275fac=function($e){return new($e||ge)},ge.\u0275dir=_.lG2({type:ge,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"]}),ge})(),Xe=(()=>{class ge{}return ge.\u0275fac=function($e){return new($e||ge)},ge.\u0275mod=_.oAB({type:ge}),ge.\u0275inj=_.cJS({imports:[Q.BQ,h.ez,Q.BQ]}),ge})()},3238:(Wt,Ge,P)=>{P.d(Ge,{rD:()=>Tn,K7:()=>st,HF:()=>Dt,Y2:()=>fi,BQ:()=>me,uc:()=>Ci,ey:()=>Rn,Ng:()=>$t,us:()=>an,wG:()=>_i,si:()=>Di,IR:()=>vi,CB:()=>Mi,jH:()=>si,pj:()=>$e,Kr:()=>mt,Id:()=>Ce,FD:()=>Nt,sb:()=>nn});var _=P(4650),h=P(2687),Q=P(445),Ae=P(6895),Se=P(3353),we=P(1281),ce=P(7579),xe=P(9521);const pe=["text"];function nt(Re,K){if(1&Re&&_._UZ(0,"mat-pseudo-checkbox",6),2&Re){const N=_.oxw();_.Q6J("state",N.selected?"checked":"unchecked")("disabled",N.disabled)}}function Ke(Re,K){if(1&Re&&_._UZ(0,"mat-pseudo-checkbox",7),2&Re){const N=_.oxw();_.Q6J("disabled",N.disabled)}}function xt(Re,K){if(1&Re&&(_.TgZ(0,"span",8),_._uU(1),_.qZA()),2&Re){const N=_.oxw();_.xp6(1),_.hij("(",N.group.label,")")}}const ht=[[["mat-icon"]],"*"],Ze=["mat-icon","*"],De=new _.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ve(){return!0}});let me=(()=>{class Re{constructor(N,H,ue){this._sanityChecks=H,this._document=ue,this._hasDoneGlobalChecks=!1,N._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(N){return!(0,Se.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[N])}}return Re.\u0275fac=function(N){return new(N||Re)(_.LFG(h.qm),_.LFG(De,8),_.LFG(Ae.K0))},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({imports:[Q.vT,Q.vT]}),Re})();function Ce(Re){return class extends Re{get disabled(){return this._disabled}set disabled(K){this._disabled=(0,we.Ig)(K)}constructor(...K){super(...K),this._disabled=!1}}}function $e(Re,K){return class extends Re{get color(){return this._color}set color(N){const H=N||this.defaultColor;H!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),H&&this._elementRef.nativeElement.classList.add(`mat-${H}`),this._color=H)}constructor(...N){super(...N),this.defaultColor=K,this.color=K}}}function mt(Re){return class extends Re{get disableRipple(){return this._disableRipple}set disableRipple(K){this._disableRipple=(0,we.Ig)(K)}constructor(...K){super(...K),this._disableRipple=!1}}}function nn(Re,K=0){return class extends Re{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(N){this._tabIndex=null!=N?(0,we.su)(N):this.defaultTabIndex}constructor(...N){super(...N),this._tabIndex=K,this.defaultTabIndex=K}}}function Nt(Re){return class extends Re{updateErrorState(){const K=this.errorState,Ie=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Ie!==K&&(this.errorState=Ie,this.stateChanges.next())}constructor(...K){super(...K),this.errorState=!1}}}let Tn=(()=>{class Re{isErrorState(N,H){return!!(N&&N.invalid&&(N.touched||H&&H.submitted))}}return Re.\u0275fac=function(N){return new(N||Re)},Re.\u0275prov=_.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),Ci=(()=>{class Re{}return Re.\u0275fac=function(N){return new(N||Re)},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({imports:[me,me]}),Re})();class jn{constructor(K,N,H,ue=!1){this._renderer=K,this.element=N,this.config=H,this._animationForciblyDisabledThroughCss=ue,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const yi=(0,Se.i$)({passive:!0,capture:!0});class gn{constructor(){this._events=new Map,this._delegateEventHandler=K=>{const N=(0,Se.sA)(K);N&&this._events.get(K.type)?.forEach((H,ue)=>{(ue===N||ue.contains(N))&&H.forEach(Ie=>Ie.handleEvent(K))})}}addHandler(K,N,H,ue){const Ie=this._events.get(N);if(Ie){const se=Ie.get(H);se?se.add(ue):Ie.set(H,new Set([ue]))}else this._events.set(N,new Map([[H,new Set([ue])]])),K.runOutsideAngular(()=>{document.addEventListener(N,this._delegateEventHandler,yi)})}removeHandler(K,N,H){const ue=this._events.get(K);if(!ue)return;const Ie=ue.get(N);Ie&&(Ie.delete(H),0===Ie.size&&ue.delete(N),0===ue.size&&(this._events.delete(K),document.removeEventListener(K,this._delegateEventHandler,yi)))}}const ri={enterDuration:225,exitDuration:150},hi=(0,Se.i$)({passive:!0,capture:!0}),ci=["mousedown","touchstart"],fn=["mouseup","mouseleave","touchend","touchcancel"];class vi{constructor(K,N,H,ue){this._target=K,this._ngZone=N,this._platform=ue,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ue.isBrowser&&(this._containerElement=(0,we.fI)(H))}fadeInRipple(K,N,H={}){const ue=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ie={...ri,...H.animation};H.centered&&(K=ue.left+ue.width/2,N=ue.top+ue.height/2);const se=H.radius||function Gi(Re,K,N){const H=Math.max(Math.abs(Re-N.left),Math.abs(Re-N.right)),ue=Math.max(Math.abs(K-N.top),Math.abs(K-N.bottom));return Math.sqrt(H*H+ue*ue)}(K,N,ue),be=K-ue.left,Fe=N-ue.top,ot=Ie.enterDuration,Ye=document.createElement("div");Ye.classList.add("mat-ripple-element"),Ye.style.left=be-se+"px",Ye.style.top=Fe-se+"px",Ye.style.height=2*se+"px",Ye.style.width=2*se+"px",null!=H.color&&(Ye.style.backgroundColor=H.color),Ye.style.transitionDuration=`${ot}ms`,this._containerElement.appendChild(Ye);const on=window.getComputedStyle(Ye),Oe=on.transitionDuration,de="none"===on.transitionProperty||"0s"===Oe||"0s, 0s"===Oe||0===ue.width&&0===ue.height,Be=new jn(this,Ye,H,de);Ye.style.transform="scale3d(1, 1, 1)",Be.state=0,H.persistent||(this._mostRecentTransientRipple=Be);let yt=null;return!de&&(ot||Ie.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Lt=()=>this._finishRippleTransition(Be),rn=()=>this._destroyRipple(Be);Ye.addEventListener("transitionend",Lt),Ye.addEventListener("transitioncancel",rn),yt={onTransitionEnd:Lt,onTransitionCancel:rn}}),this._activeRipples.set(Be,yt),(de||!ot)&&this._finishRippleTransition(Be),Be}fadeOutRipple(K){if(2===K.state||3===K.state)return;const N=K.element,H={...ri,...K.config.animation};N.style.transitionDuration=`${H.exitDuration}ms`,N.style.opacity="0",K.state=2,(K._animationForciblyDisabledThroughCss||!H.exitDuration)&&this._finishRippleTransition(K)}fadeOutAll(){this._getActiveRipples().forEach(K=>K.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(K=>{K.config.persistent||K.fadeOut()})}setupTriggerEvents(K){const N=(0,we.fI)(K);!this._platform.isBrowser||!N||N===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=N,ci.forEach(H=>{vi._eventManager.addHandler(this._ngZone,H,N,this)}))}handleEvent(K){"mousedown"===K.type?this._onMousedown(K):"touchstart"===K.type?this._onTouchStart(K):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{fn.forEach(N=>{this._triggerElement.addEventListener(N,this,hi)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(K){0===K.state?this._startFadeOutTransition(K):2===K.state&&this._destroyRipple(K)}_startFadeOutTransition(K){const N=K===this._mostRecentTransientRipple,{persistent:H}=K.config;K.state=1,!H&&(!N||!this._isPointerDown)&&K.fadeOut()}_destroyRipple(K){const N=this._activeRipples.get(K)??null;this._activeRipples.delete(K),this._activeRipples.size||(this._containerRect=null),K===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),K.state=3,null!==N&&(K.element.removeEventListener("transitionend",N.onTransitionEnd),K.element.removeEventListener("transitioncancel",N.onTransitionCancel)),K.element.remove()}_onMousedown(K){const N=(0,h.X6)(K),H=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!N&&!H&&(this._isPointerDown=!0,this.fadeInRipple(K.clientX,K.clientY,this._target.rippleConfig))}_onTouchStart(K){if(!this._target.rippleDisabled&&!(0,h.yG)(K)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const N=K.changedTouches;for(let H=0;H<N.length;H++)this.fadeInRipple(N[H].clientX,N[H].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(K=>{!K.config.persistent&&(1===K.state||K.config.terminateOnPointerUp&&0===K.state)&&K.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const K=this._triggerElement;K&&(ci.forEach(N=>vi._eventManager.removeHandler(N,K,this)),this._pointerUpEventsRegistered&&fn.forEach(N=>K.removeEventListener(N,this,hi)))}}vi._eventManager=new gn;const fi=new _.OlP("mat-ripple-global-options");let _i=(()=>{class Re{get disabled(){return this._disabled}set disabled(N){N&&this.fadeOutAllNonPersistent(),this._disabled=N,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(N){this._trigger=N,this._setupTriggerEventsIfEnabled()}constructor(N,H,ue,Ie,se){this._elementRef=N,this._animationMode=se,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ie||{},this._rippleRenderer=new vi(this,H,N,ue)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(N,H=0,ue){return"number"==typeof N?this._rippleRenderer.fadeInRipple(N,H,{...this.rippleConfig,...ue}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...N})}}return Re.\u0275fac=function(N){return new(N||Re)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(Se.t4),_.Y36(fi,8),_.Y36(_.QbO,8))},Re.\u0275dir=_.lG2({type:Re,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(N,H){2&N&&_.ekj("mat-ripple-unbounded",H.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Re})(),Di=(()=>{class Re{}return Re.\u0275fac=function(N){return new(N||Re)},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({imports:[me,me]}),Re})(),Sn=(()=>{class Re{constructor(N){this._animationMode=N,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return Re.\u0275fac=function(N){return new(N||Re)(_.Y36(_.QbO,8))},Re.\u0275cmp=_.Xpm({type:Re,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(N,H){2&N&&_.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===H.state)("mat-pseudo-checkbox-checked","checked"===H.state)("mat-pseudo-checkbox-disabled",H.disabled)("mat-pseudo-checkbox-minimal","minimal"===H.appearance)("mat-pseudo-checkbox-full","full"===H.appearance)("_mat-animation-noopable","NoopAnimations"===H._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(N,H){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),Re})(),an=(()=>{class Re{}return Re.\u0275fac=function(N){return new(N||Re)},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({imports:[me]}),Re})();const Dt=new _.OlP("MAT_OPTION_PARENT_COMPONENT"),st=new _.OlP("MatOptgroup");let Pn=0;class xn{constructor(K,N=!1){this.source=K,this.isUserInput=N}}let Vi=(()=>{class Re{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(N){this._disabled=(0,we.Ig)(N)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(N,H,ue,Ie){this._element=N,this._changeDetectorRef=H,this._parent=ue,this.group=Ie,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Pn++,this.onSelectionChange=new _.vpe,this._stateChanges=new ce.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(N,H){const ue=this._getHostElement();"function"==typeof ue.focus&&ue.focus(H)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(N){(N.keyCode===xe.K5||N.keyCode===xe.L_)&&!(0,xe.Vb)(N)&&(this._selectViaInteraction(),N.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const N=this.viewValue;N!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=N)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(N=!1){this.onSelectionChange.emit(new xn(this,N))}}return Re.\u0275fac=function(N){_.$Z()},Re.\u0275dir=_.lG2({type:Re,viewQuery:function(N,H){if(1&N&&_.Gf(pe,7),2&N){let ue;_.iGM(ue=_.CRH())&&(H._text=ue.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),Re})(),Rn=(()=>{class Re extends Vi{constructor(N,H,ue,Ie){super(N,H,ue,Ie)}}return Re.\u0275fac=function(N){return new(N||Re)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(Dt,8),_.Y36(st,8))},Re.\u0275cmp=_.Xpm({type:Re,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mat-mdc-focus-indicator","mdc-list-item"],hostVars:12,hostBindings:function(N,H){1&N&&_.NdJ("click",function(){return H._selectViaInteraction()})("keydown",function(Ie){return H._handleKeydown(Ie)}),2&N&&(_.Ikx("id",H.id),_.uIk("tabindex",H._getTabIndex())("aria-selected",H.selected)("aria-disabled",H.disabled.toString()),_.ekj("mdc-list-item--selected",H.selected)("mat-mdc-option-multiple",H.multiple)("mat-mdc-option-active",H.active)("mdc-list-item--disabled",H.disabled))},exportAs:["matOption"],features:[_.qOj],ngContentSelectors:Ze,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(N,H){1&N&&(_.F$t(ht),_.YNc(0,nt,1,2,"mat-pseudo-checkbox",0),_.Hsn(1),_.TgZ(2,"span",1,2),_.Hsn(4,1),_.qZA(),_.YNc(5,Ke,1,1,"mat-pseudo-checkbox",3),_.YNc(6,xt,2,1,"span",4),_._UZ(7,"div",5)),2&N&&(_.Q6J("ngIf",H.multiple),_.xp6(5),_.Q6J("ngIf",!H.multiple&&H.selected&&!H.hideSingleSelectionIndicator),_.xp6(1),_.Q6J("ngIf",H.group&&H.group._inert),_.xp6(1),_.Q6J("matRippleTrigger",H._getHostElement())("matRippleDisabled",H.disabled||H.disableRipple))},dependencies:[_i,Ae.O5,Sn],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active::before{content:""}'],encapsulation:2,changeDetection:0}),Re})();function Mi(Re,K,N){if(N.length){let H=K.toArray(),ue=N.toArray(),Ie=0;for(let se=0;se<Re+1;se++)H[se].group&&H[se].group===ue[Ie]&&Ie++;return Ie}return 0}function si(Re,K,N,H){return Re<N?Re:Re+K>N+H?Math.max(0,Re-H+K):N}let $t=(()=>{class Re{}return Re.\u0275fac=function(N){return new(N||Re)},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({imports:[Di,Ae.ez,me,an]}),Re})()},9549:(Wt,Ge,P)=>{P.d(Ge,{Eo:()=>pi,G_:()=>vi,KE:()=>Dt,hX:()=>It,lN:()=>Un});var _=P(4650),h=P(445),Q=P(3353),ve=P(7579),Ae=P(6451),Se=P(2722),we=P(6895),ce=P(1281),xe=P(7340),ne=P(9643),_e=P(3238);const pe=["matFormFieldNotchedOutline",""],nt=["*"],Ke=["textField"],xt=["iconPrefixContainer"],ht=["textPrefixContainer"];function Ze(Ot,Yt){1&Ot&&_._UZ(0,"span",19)}function Le(Ot,Yt){if(1&Ot){const st=_.EpF();_.TgZ(0,"label",17),_.NdJ("cdkObserveContent",function(){_.CHM(st);const Pn=_.oxw(2);return _.KtG(Pn._refreshOutlineNotchWidth())}),_.Hsn(1,1),_.YNc(2,Ze,1,0,"span",18),_.qZA()}if(2&Ot){const st=_.oxw(2);_.Q6J("floating",st._shouldLabelFloat())("cdkObserveContentDisabled",!st._hasOutline())("id",st._labelId),_.uIk("for",st._control.id)("aria-owns",st._control.id),_.xp6(2),_.Q6J("ngIf",!st.hideRequiredMarker&&st._control.required)}}function Ee(Ot,Yt){if(1&Ot&&_.YNc(0,Le,3,6,"label",16),2&Ot){const st=_.oxw();_.Q6J("ngIf",st._hasFloatingLabel())}}function Ct(Ot,Yt){1&Ot&&_._UZ(0,"div",20)}function Ve(Ot,Yt){}function De(Ot,Yt){if(1&Ot&&_.YNc(0,Ve,0,0,"ng-template",22),2&Ot){_.oxw(2);const st=_.MAs(1);_.Q6J("ngTemplateOutlet",st)}}function me(Ot,Yt){if(1&Ot&&(_.TgZ(0,"div",21),_.YNc(1,De,1,1,"ng-template",9),_.qZA()),2&Ot){const st=_.oxw();_.Q6J("matFormFieldNotchedOutlineOpen",st._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",st._labelWidth),_.xp6(1),_.Q6J("ngIf",!st._forceDisplayInfixLabel())}}function ze(Ot,Yt){1&Ot&&(_.TgZ(0,"div",23,24),_.Hsn(2,2),_.qZA())}function Xe(Ot,Yt){1&Ot&&(_.TgZ(0,"div",25,26),_.Hsn(2,3),_.qZA())}function ge(Ot,Yt){}function Ce(Ot,Yt){if(1&Ot&&_.YNc(0,ge,0,0,"ng-template",22),2&Ot){_.oxw();const st=_.MAs(1);_.Q6J("ngTemplateOutlet",st)}}function $e(Ot,Yt){1&Ot&&(_.TgZ(0,"div",27),_.Hsn(1,4),_.qZA())}function mt(Ot,Yt){1&Ot&&(_.TgZ(0,"div",28),_.Hsn(1,5),_.qZA())}function nn(Ot,Yt){1&Ot&&_._UZ(0,"div",29)}function Nt(Ot,Yt){if(1&Ot&&(_.TgZ(0,"div",30),_.Hsn(1,6),_.qZA()),2&Ot){const st=_.oxw();_.Q6J("@transitionMessages",st._subscriptAnimationState)}}function rt(Ot,Yt){if(1&Ot&&(_.TgZ(0,"mat-hint",34),_._uU(1),_.qZA()),2&Ot){const st=_.oxw(2);_.Q6J("id",st._hintLabelId),_.xp6(1),_.Oqu(st.hintLabel)}}function ft(Ot,Yt){if(1&Ot&&(_.TgZ(0,"div",31),_.YNc(1,rt,2,2,"mat-hint",32),_.Hsn(2,7),_._UZ(3,"div",33),_.Hsn(4,8),_.qZA()),2&Ot){const st=_.oxw();_.Q6J("@transitionMessages",st._subscriptAnimationState),_.xp6(1),_.Q6J("ngIf",st.hintLabel)}}const Et=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Mt=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let It=(()=>{class Ot{}return Ot.\u0275fac=function(st){return new(st||Ot)},Ot.\u0275dir=_.lG2({type:Ot,selectors:[["mat-label"]]}),Ot})();const St=new _.OlP("MatError");let et=0,at=(()=>{class Ot{constructor(){this.align="start",this.id="mat-mdc-hint-"+et++}}return Ot.\u0275fac=function(st){return new(st||Ot)},Ot.\u0275dir=_.lG2({type:Ot,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(st,Ft){2&st&&(_.Ikx("id",Ft.id),_.uIk("align",null),_.ekj("mat-mdc-form-field-hint-end","end"===Ft.align))},inputs:{align:"align",id:"id"}}),Ot})();const bn=new _.OlP("MatPrefix"),Tn=new _.OlP("MatSuffix");let On=(()=>{class Ot{constructor(st){this._elementRef=st,this.floating=!1}getWidth(){return function Hn(Ot){if(null!==Ot.offsetParent)return Ot.scrollWidth;const st=Ot.cloneNode(!0);st.style.setProperty("position","absolute"),st.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(st);const Ft=st.scrollWidth;return st.remove(),Ft}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return Ot.\u0275fac=function(st){return new(st||Ot)(_.Y36(_.SBq))},Ot.\u0275dir=_.lG2({type:Ot,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(st,Ft){2&st&&_.ekj("mdc-floating-label--float-above",Ft.floating)},inputs:{floating:"floating"}}),Ot})();const Ci="mdc-line-ripple--active",jn="mdc-line-ripple--deactivating";let yi=(()=>{class Ot{constructor(st,Ft){this._elementRef=st,this._handleTransitionEnd=Pn=>{const xn=this._elementRef.nativeElement.classList,Vi=xn.contains(jn);"opacity"===Pn.propertyName&&Vi&&xn.remove(Ci,jn)},Ft.runOutsideAngular(()=>{st.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const st=this._elementRef.nativeElement.classList;st.remove(jn),st.add(Ci)}deactivate(){this._elementRef.nativeElement.classList.add(jn)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return Ot.\u0275fac=function(st){return new(st||Ot)(_.Y36(_.SBq),_.Y36(_.R0b))},Ot.\u0275dir=_.lG2({type:Ot,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),Ot})(),gn=(()=>{class Ot{constructor(st,Ft){this._elementRef=st,this._ngZone=Ft,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const st=this._elementRef.nativeElement.querySelector(".mdc-floating-label");st?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(st.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>st.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return Ot.\u0275fac=function(st){return new(st||Ot)(_.Y36(_.SBq),_.Y36(_.R0b))},Ot.\u0275cmp=_.Xpm({type:Ot,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(st,Ft){2&st&&_.ekj("mdc-notched-outline--notched",Ft.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:pe,ngContentSelectors:nt,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(st,Ft){1&st&&(_.F$t(),_._UZ(0,"div",0),_.TgZ(1,"div",1),_.Hsn(2),_.qZA(),_._UZ(3,"div",2)),2&st&&(_.xp6(1),_.Udp("width",Ft._getNotchWidth()))},encapsulation:2,changeDetection:0}),Ot})();const ri={transitionMessages:(0,xe.X$)("transitionMessages",[(0,xe.SB)("enter",(0,xe.oB)({opacity:1,transform:"translateY(0%)"})),(0,xe.eR)("void => enter",[(0,xe.oB)({opacity:0,transform:"translateY(-5px)"}),(0,xe.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let pi=(()=>{class Ot{}return Ot.\u0275fac=function(st){return new(st||Ot)},Ot.\u0275dir=_.lG2({type:Ot}),Ot})();const vi=new _.OlP("MatFormField"),Gi=new _.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let fi=0,Dt=(()=>{class Ot{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(st){this._hideRequiredMarker=(0,ce.Ig)(st)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(st){st!==this._floatLabel&&(this._floatLabel=st,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(st){const Ft=this._appearance;this._appearance=st||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Ft&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(st){this._subscriptSizing=st||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(st){this._hintLabel=st,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(st){this._explicitFormFieldControl=st}constructor(st,Ft,Pn,xn,Vi,Rn,Mi,si){this._elementRef=st,this._changeDetectorRef=Ft,this._ngZone=Pn,this._dir=xn,this._platform=Vi,this._defaults=Rn,this._animationMode=Mi,this._document=si,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+fi++,this._hintLabelId="mat-mdc-hint-"+fi++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new ve.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Rn&&(Rn.appearance&&(this.appearance=Rn.appearance),this._hideRequiredMarker=Boolean(Rn?.hideRequiredMarker),Rn.color&&(this.color=Rn.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const st=this._control;st.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${st.controlType}`),st.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),st.ngControl&&st.ngControl.valueChanges&&st.ngControl.valueChanges.pipe((0,Se.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(st=>!st._isText),this._hasTextPrefix=!!this._prefixChildren.find(st=>st._isText),this._hasIconSuffix=!!this._suffixChildren.find(st=>!st._isText),this._hasTextSuffix=!!this._suffixChildren.find(st=>st._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ae.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Se.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Se.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(st){const Ft=this._control?this._control.ngControl:null;return Ft&&Ft[st]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let st=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&st.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ft=this._hintChildren?this._hintChildren.find(xn=>"start"===xn.align):null,Pn=this._hintChildren?this._hintChildren.find(xn=>"end"===xn.align):null;Ft?st.push(Ft.id):this._hintLabel&&st.push(this._hintLabelId),Pn&&st.push(Pn.id)}else this._errorChildren&&st.push(...this._errorChildren.map(Ft=>Ft.id));this._control.setDescribedByIds(st)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const st=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(st.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const Ft=this._iconPrefixContainer?.nativeElement,Pn=this._textPrefixContainer?.nativeElement,xn=Ft?.getBoundingClientRect().width??0,Vi=Pn?.getBoundingClientRect().width??0;st.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${xn+Vi}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const st=this._elementRef.nativeElement;if(st.getRootNode){const Ft=st.getRootNode();return Ft&&Ft!==st}return document.documentElement.contains(st)}}return Ot.\u0275fac=function(st){return new(st||Ot)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(_.R0b),_.Y36(h.Is),_.Y36(Q.t4),_.Y36(Gi,8),_.Y36(_.QbO,8),_.Y36(we.K0))},Ot.\u0275cmp=_.Xpm({type:Ot,selectors:[["mat-form-field"]],contentQueries:function(st,Ft,Pn){if(1&st&&(_.Suo(Pn,It,5),_.Suo(Pn,It,7),_.Suo(Pn,pi,5),_.Suo(Pn,bn,5),_.Suo(Pn,Tn,5),_.Suo(Pn,St,5),_.Suo(Pn,at,5)),2&st){let xn;_.iGM(xn=_.CRH())&&(Ft._labelChildNonStatic=xn.first),_.iGM(xn=_.CRH())&&(Ft._labelChildStatic=xn.first),_.iGM(xn=_.CRH())&&(Ft._formFieldControl=xn.first),_.iGM(xn=_.CRH())&&(Ft._prefixChildren=xn),_.iGM(xn=_.CRH())&&(Ft._suffixChildren=xn),_.iGM(xn=_.CRH())&&(Ft._errorChildren=xn),_.iGM(xn=_.CRH())&&(Ft._hintChildren=xn)}},viewQuery:function(st,Ft){if(1&st&&(_.Gf(Ke,5),_.Gf(xt,5),_.Gf(ht,5),_.Gf(On,5),_.Gf(gn,5),_.Gf(yi,5)),2&st){let Pn;_.iGM(Pn=_.CRH())&&(Ft._textField=Pn.first),_.iGM(Pn=_.CRH())&&(Ft._iconPrefixContainer=Pn.first),_.iGM(Pn=_.CRH())&&(Ft._textPrefixContainer=Pn.first),_.iGM(Pn=_.CRH())&&(Ft._floatingLabel=Pn.first),_.iGM(Pn=_.CRH())&&(Ft._notchedOutline=Pn.first),_.iGM(Pn=_.CRH())&&(Ft._lineRipple=Pn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(st,Ft){2&st&&_.ekj("mat-mdc-form-field-label-always-float",Ft._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Ft._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Ft._hasIconSuffix)("mat-form-field-invalid",Ft._control.errorState)("mat-form-field-disabled",Ft._control.disabled)("mat-form-field-autofilled",Ft._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Ft._animationMode)("mat-form-field-appearance-fill","fill"==Ft.appearance)("mat-form-field-appearance-outline","outline"==Ft.appearance)("mat-form-field-hide-placeholder",Ft._hasFloatingLabel()&&!Ft._shouldLabelFloat())("mat-focused",Ft._control.focused)("mat-primary","accent"!==Ft.color&&"warn"!==Ft.color)("mat-accent","accent"===Ft.color)("mat-warn","warn"===Ft.color)("ng-untouched",Ft._shouldForward("untouched"))("ng-touched",Ft._shouldForward("touched"))("ng-pristine",Ft._shouldForward("pristine"))("ng-dirty",Ft._shouldForward("dirty"))("ng-valid",Ft._shouldForward("valid"))("ng-invalid",Ft._shouldForward("invalid"))("ng-pending",Ft._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[_._Bn([{provide:vi,useExisting:Ot}])],ngContentSelectors:Mt,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(st,Ft){1&st&&(_.F$t(Et),_.YNc(0,Ee,1,1,"ng-template",null,0,_.W1O),_.TgZ(2,"div",1,2),_.NdJ("click",function(xn){return Ft._control.onContainerClick&&Ft._control.onContainerClick(xn)}),_.YNc(4,Ct,1,0,"div",3),_.TgZ(5,"div",4),_.YNc(6,me,2,3,"div",5),_.YNc(7,ze,3,0,"div",6),_.YNc(8,Xe,3,0,"div",7),_.TgZ(9,"div",8),_.YNc(10,Ce,1,1,"ng-template",9),_.Hsn(11),_.qZA(),_.YNc(12,$e,2,0,"div",10),_.YNc(13,mt,2,0,"div",11),_.qZA(),_.YNc(14,nn,1,0,"div",12),_.qZA(),_.TgZ(15,"div",13),_.YNc(16,Nt,2,1,"div",14),_.YNc(17,ft,5,2,"div",15),_.qZA()),2&st&&(_.xp6(2),_.ekj("mdc-text-field--filled",!Ft._hasOutline())("mdc-text-field--outlined",Ft._hasOutline())("mdc-text-field--no-label",!Ft._hasFloatingLabel())("mdc-text-field--disabled",Ft._control.disabled)("mdc-text-field--invalid",Ft._control.errorState),_.xp6(2),_.Q6J("ngIf",!Ft._hasOutline()&&!Ft._control.disabled),_.xp6(2),_.Q6J("ngIf",Ft._hasOutline()),_.xp6(1),_.Q6J("ngIf",Ft._hasIconPrefix),_.xp6(1),_.Q6J("ngIf",Ft._hasTextPrefix),_.xp6(2),_.Q6J("ngIf",!Ft._hasOutline()||Ft._forceDisplayInfixLabel()),_.xp6(2),_.Q6J("ngIf",Ft._hasTextSuffix),_.xp6(1),_.Q6J("ngIf",Ft._hasIconSuffix),_.xp6(1),_.Q6J("ngIf",!Ft._hasOutline()),_.xp6(1),_.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Ft.subscriptSizing),_.Q6J("ngSwitch",Ft._getDisplayedMessages()),_.xp6(1),_.Q6J("ngSwitchCase","error"),_.xp6(1),_.Q6J("ngSwitchCase","hint"))},dependencies:[we.O5,we.tP,we.RF,we.n9,ne.wD,at,On,gn,yi],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[ri.transitionMessages]},changeDetection:0}),Ot})(),Un=(()=>{class Ot{}return Ot.\u0275fac=function(st){return new(st||Ot)},Ot.\u0275mod=_.oAB({type:Ot}),Ot.\u0275inj=_.cJS({imports:[_e.BQ,we.ez,ne.Q8,_e.BQ]}),Ot})()},4144:(Wt,Ge,P)=>{P.d(Ge,{Nt:()=>Ee,c:()=>Ct});var _=P(1281),h=P(3353),Q=P(4650),ve=P(515),Ae=P(7579);const Se=(0,h.i$)({passive:!0});let we=(()=>{class Ve{constructor(me,ze){this._platform=me,this._ngZone=ze,this._monitoredElements=new Map}monitor(me){if(!this._platform.isBrowser)return ve.E;const ze=(0,_.fI)(me),Xe=this._monitoredElements.get(ze);if(Xe)return Xe.subject;const ge=new Ae.x,Ce="cdk-text-field-autofilled",$e=mt=>{"cdk-text-field-autofill-start"!==mt.animationName||ze.classList.contains(Ce)?"cdk-text-field-autofill-end"===mt.animationName&&ze.classList.contains(Ce)&&(ze.classList.remove(Ce),this._ngZone.run(()=>ge.next({target:mt.target,isAutofilled:!1}))):(ze.classList.add(Ce),this._ngZone.run(()=>ge.next({target:mt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{ze.addEventListener("animationstart",$e,Se),ze.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(ze,{subject:ge,unlisten:()=>{ze.removeEventListener("animationstart",$e,Se)}}),ge}stopMonitoring(me){const ze=(0,_.fI)(me),Xe=this._monitoredElements.get(ze);Xe&&(Xe.unlisten(),Xe.subject.complete(),ze.classList.remove("cdk-text-field-autofill-monitored"),ze.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(ze))}ngOnDestroy(){this._monitoredElements.forEach((me,ze)=>this.stopMonitoring(ze))}}return Ve.\u0275fac=function(me){return new(me||Ve)(Q.LFG(h.t4),Q.LFG(Q.R0b))},Ve.\u0275prov=Q.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})(),ne=(()=>{class Ve{}return Ve.\u0275fac=function(me){return new(me||Ve)},Ve.\u0275mod=Q.oAB({type:Ve}),Ve.\u0275inj=Q.cJS({}),Ve})();var _e=P(4006),pe=P(3238),nt=P(9549);const xt=new Q.OlP("MAT_INPUT_VALUE_ACCESSOR"),ht=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ze=0;const Le=(0,pe.FD)(class{constructor(Ve,De,me,ze){this._defaultErrorStateMatcher=Ve,this._parentForm=De,this._parentFormGroup=me,this.ngControl=ze,this.stateChanges=new Ae.x}});let Ee=(()=>{class Ve extends Le{get disabled(){return this._disabled}set disabled(me){this._disabled=(0,_.Ig)(me),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(me){this._id=me||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(_e.kI.required)??!1}set required(me){this._required=(0,_.Ig)(me)}get type(){return this._type}set type(me){this._type=me||"text",this._validateType(),!this._isTextarea&&(0,h.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(me){me!==this.value&&(this._inputValueAccessor.value=me,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(me){this._readonly=(0,_.Ig)(me)}constructor(me,ze,Xe,ge,Ce,$e,mt,nn,Nt,rt){super($e,ge,Ce,Xe),this._elementRef=me,this._platform=ze,this._autofillMonitor=nn,this._formField=rt,this._uid="mat-input-"+Ze++,this.focused=!1,this.stateChanges=new Ae.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Mt=>(0,h.qK)().has(Mt)),this._iOSKeyupListener=Mt=>{const It=Mt.target;!It.value&&0===It.selectionStart&&0===It.selectionEnd&&(It.setSelectionRange(1,1),It.setSelectionRange(0,0))};const ft=this._elementRef.nativeElement,Et=ft.nodeName.toLowerCase();this._inputValueAccessor=mt||ft,this._previousNativeValue=this.value,this.id=this.id,ze.IOS&&Nt.runOutsideAngular(()=>{me.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Et,this._isTextarea="textarea"===Et,this._isInFormField=!!rt,this._isNativeSelect&&(this.controlType=ft.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(me=>{this.autofilled=me.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(me){this._elementRef.nativeElement.focus(me)}_focusChanged(me){me!==this.focused&&(this.focused=me,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const me=this._elementRef.nativeElement.value;this._previousNativeValue!==me&&(this._previousNativeValue=me,this.stateChanges.next())}_dirtyCheckPlaceholder(){const me=this._getPlaceholder();if(me!==this._previousPlaceholder){const ze=this._elementRef.nativeElement;this._previousPlaceholder=me,me?ze.setAttribute("placeholder",me):ze.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ht.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let me=this._elementRef.nativeElement.validity;return me&&me.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const me=this._elementRef.nativeElement,ze=me.options[0];return this.focused||me.multiple||!this.empty||!!(me.selectedIndex>-1&&ze&&ze.label)}return this.focused||!this.empty}setDescribedByIds(me){me.length?this._elementRef.nativeElement.setAttribute("aria-describedby",me.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const me=this._elementRef.nativeElement;return this._isNativeSelect&&(me.multiple||me.size>1)}}return Ve.\u0275fac=function(me){return new(me||Ve)(Q.Y36(Q.SBq),Q.Y36(h.t4),Q.Y36(_e.a5,10),Q.Y36(_e.F,8),Q.Y36(_e.sg,8),Q.Y36(pe.rD),Q.Y36(xt,10),Q.Y36(we),Q.Y36(Q.R0b),Q.Y36(nt.G_,8))},Ve.\u0275dir=Q.lG2({type:Ve,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(me,ze){1&me&&Q.NdJ("focus",function(){return ze._focusChanged(!0)})("blur",function(){return ze._focusChanged(!1)})("input",function(){return ze._onInput()}),2&me&&(Q.Ikx("id",ze.id)("disabled",ze.disabled)("required",ze.required),Q.uIk("name",ze.name||null)("readonly",ze.readonly&&!ze._isNativeSelect||null)("aria-invalid",ze.empty&&ze.required?null:ze.errorState)("aria-required",ze.required)("id",ze.id),Q.ekj("mat-input-server",ze._isServer)("mat-mdc-form-field-textarea-control",ze._isInFormField&&ze._isTextarea)("mat-mdc-form-field-input-control",ze._isInFormField)("mdc-text-field__input",ze._isInFormField)("mat-mdc-native-select-inline",ze._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Q._Bn([{provide:nt.Eo,useExisting:Ve}]),Q.qOj,Q.TTD]}),Ve})(),Ct=(()=>{class Ve{}return Ve.\u0275fac=function(me){return new(me||Ve)},Ve.\u0275mod=Q.oAB({type:Ve}),Ve.\u0275inj=Q.cJS({imports:[pe.BQ,nt.lN,nt.lN,ne,pe.BQ]}),Ve})()},1481:(Wt,Ge,P)=>{P.d(Ge,{Dx:()=>Sn,H7:()=>Fe,b2:()=>vi,q6:()=>pi,se:()=>Nt});var _=P(6895),h=P(4650);class Q extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends Q{static makeCurrent(){(0,_.HT)(new ve)}onAndCancel(Oe,de,Be){return Oe.addEventListener(de,Be,!1),()=>{Oe.removeEventListener(de,Be,!1)}}dispatchEvent(Oe,de){Oe.dispatchEvent(de)}remove(Oe){Oe.parentNode&&Oe.parentNode.removeChild(Oe)}createElement(Oe,de){return(de=de||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,de){return"window"===de?window:"document"===de?Oe:"body"===de?Oe.body:null}getBaseHref(Oe){const de=function Se(){return Ae=Ae||document.querySelector("base"),Ae?Ae.getAttribute("href"):null}();return null==de?null:function ce(Ne){we=we||document.createElement("a"),we.setAttribute("href",Ne);const Oe=we.pathname;return"/"===Oe.charAt(0)?Oe:`/${Oe}`}(de)}resetBaseElement(){Ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,_.Mx)(document.cookie,Oe)}}let we,Ae=null;const xe=new h.OlP("TRANSITION_ID"),_e=[{provide:h.ip1,useFactory:function ne(Ne,Oe,de){return()=>{de.get(h.CZH).donePromise.then(()=>{const Be=(0,_.q)(),yt=Oe.querySelectorAll(`style[ng-transition="${Ne}"]`);for(let Lt=0;Lt<yt.length;Lt++)Be.remove(yt[Lt])})}},deps:[xe,_.K0,h.zs3],multi:!0}];let nt=(()=>{class Ne{build(){return new XMLHttpRequest}}return Ne.\u0275fac=function(de){return new(de||Ne)},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Ke=new h.OlP("EventManagerPlugins");let xt=(()=>{class Ne{constructor(de,Be){this._zone=Be,this._eventNameToPlugin=new Map,de.forEach(yt=>{yt.manager=this}),this._plugins=de.slice().reverse()}addEventListener(de,Be,yt){return this._findPluginFor(Be).addEventListener(de,Be,yt)}addGlobalEventListener(de,Be,yt){return this._findPluginFor(Be).addGlobalEventListener(de,Be,yt)}getZone(){return this._zone}_findPluginFor(de){const Be=this._eventNameToPlugin.get(de);if(Be)return Be;const yt=this._plugins;for(let Lt=0;Lt<yt.length;Lt++){const rn=yt[Lt];if(rn.supports(de))return this._eventNameToPlugin.set(de,rn),rn}throw new Error(`No event manager plugin found for event ${de}`)}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(Ke),h.LFG(h.R0b))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class ht{constructor(Oe){this._doc=Oe}addGlobalEventListener(Oe,de,Be){const yt=(0,_.q)().getGlobalEventTarget(this._doc,Oe);if(!yt)throw new Error(`Unsupported event target ${yt} for event ${de}`);return this.addEventListener(yt,de,Be)}}let Ze=(()=>{class Ne{constructor(){this.usageCount=new Map}addStyles(de){for(const Be of de)1===this.changeUsageCount(Be,1)&&this.onStyleAdded(Be)}removeStyles(de){for(const Be of de)0===this.changeUsageCount(Be,-1)&&this.onStyleRemoved(Be)}onStyleRemoved(de){}onStyleAdded(de){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(de,Be){const yt=this.usageCount;let Lt=yt.get(de)??0;return Lt+=Be,Lt>0?yt.set(de,Lt):yt.delete(de),Lt}ngOnDestroy(){for(const de of this.getAllStyles())this.onStyleRemoved(de);this.usageCount.clear()}}return Ne.\u0275fac=function(de){return new(de||Ne)},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),Le=(()=>{class Ne extends Ze{constructor(de){super(),this.doc=de,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(de){for(const Be of this.hostNodes)this.addStyleToHost(Be,de)}onStyleRemoved(de){const Be=this.styleRef;Be.get(de)?.forEach(Lt=>Lt.remove()),Be.delete(de)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(de){this.hostNodes.add(de);for(const Be of this.getAllStyles())this.addStyleToHost(de,Be)}removeHost(de){this.hostNodes.delete(de)}addStyleToHost(de,Be){const yt=this.doc.createElement("style");yt.textContent=Be,de.appendChild(yt);const Lt=this.styleRef.get(Be);Lt?Lt.push(yt):this.styleRef.set(Be,[yt])}resetHostNodes(){const de=this.hostNodes;de.clear(),de.add(this.doc.head)}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(_.K0))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Ee={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ct=/%COMP%/g,ge=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function mt(Ne,Oe){return Oe.flat(100).map(de=>de.replace(Ct,Ne))}function nn(Ne){return Oe=>{if("__ngUnwrap__"===Oe)return Ne;!1===Ne(Oe)&&(Oe.preventDefault(),Oe.returnValue=!1)}}let Nt=(()=>{class Ne{constructor(de,Be,yt,Lt){this.eventManager=de,this.sharedStylesHost=Be,this.appId=yt,this.removeStylesOnCompDestory=Lt,this.rendererByCompId=new Map,this.defaultRenderer=new rt(de)}createRenderer(de,Be){if(!de||!Be)return this.defaultRenderer;const yt=this.getOrCreateRenderer(de,Be);return yt instanceof St?yt.applyToHost(de):yt instanceof kt&&yt.applyStyles(),yt}getOrCreateRenderer(de,Be){const yt=this.rendererByCompId;let Lt=yt.get(Be.id);if(!Lt){const rn=this.eventManager,Mn=this.sharedStylesHost,Vt=this.removeStylesOnCompDestory;switch(Be.encapsulation){case h.ifc.Emulated:Lt=new St(rn,Mn,Be,this.appId,Vt);break;case h.ifc.ShadowDom:return new It(rn,Mn,de,Be);default:Lt=new kt(rn,Mn,Be,Vt)}Lt.onDestroy=()=>yt.delete(Be.id),yt.set(Be.id,Lt)}return Lt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(xt),h.LFG(Le),h.LFG(h.AFp),h.LFG(ge))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class rt{constructor(Oe){this.eventManager=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Oe,de){return de?document.createElementNS(Ee[de]||de,Oe):document.createElement(Oe)}createComment(Oe){return document.createComment(Oe)}createText(Oe){return document.createTextNode(Oe)}appendChild(Oe,de){(Mt(Oe)?Oe.content:Oe).appendChild(de)}insertBefore(Oe,de,Be){Oe&&(Mt(Oe)?Oe.content:Oe).insertBefore(de,Be)}removeChild(Oe,de){Oe&&Oe.removeChild(de)}selectRootElement(Oe,de){let Be="string"==typeof Oe?document.querySelector(Oe):Oe;if(!Be)throw new Error(`The selector "${Oe}" did not match any elements`);return de||(Be.textContent=""),Be}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,de,Be,yt){if(yt){de=yt+":"+de;const Lt=Ee[yt];Lt?Oe.setAttributeNS(Lt,de,Be):Oe.setAttribute(de,Be)}else Oe.setAttribute(de,Be)}removeAttribute(Oe,de,Be){if(Be){const yt=Ee[Be];yt?Oe.removeAttributeNS(yt,de):Oe.removeAttribute(`${Be}:${de}`)}else Oe.removeAttribute(de)}addClass(Oe,de){Oe.classList.add(de)}removeClass(Oe,de){Oe.classList.remove(de)}setStyle(Oe,de,Be,yt){yt&(h.JOm.DashCase|h.JOm.Important)?Oe.style.setProperty(de,Be,yt&h.JOm.Important?"important":""):Oe.style[de]=Be}removeStyle(Oe,de,Be){Be&h.JOm.DashCase?Oe.style.removeProperty(de):Oe.style[de]=""}setProperty(Oe,de,Be){Oe[de]=Be}setValue(Oe,de){Oe.nodeValue=de}listen(Oe,de,Be){return"string"==typeof Oe?this.eventManager.addGlobalEventListener(Oe,de,nn(Be)):this.eventManager.addEventListener(Oe,de,nn(Be))}}function Mt(Ne){return"TEMPLATE"===Ne.tagName&&void 0!==Ne.content}class It extends rt{constructor(Oe,de,Be,yt){super(Oe),this.sharedStylesHost=de,this.hostEl=Be,this.shadowRoot=Be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=mt(yt.id,yt.styles);for(const rn of Lt){const Mn=document.createElement("style");Mn.textContent=rn,this.shadowRoot.appendChild(Mn)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}appendChild(Oe,de){return super.appendChild(this.nodeOrShadowRoot(Oe),de)}insertBefore(Oe,de,Be){return super.insertBefore(this.nodeOrShadowRoot(Oe),de,Be)}removeChild(Oe,de){return super.removeChild(this.nodeOrShadowRoot(Oe),de)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kt extends rt{constructor(Oe,de,Be,yt,Lt=Be.id){super(Oe),this.sharedStylesHost=de,this.removeStylesOnCompDestory=yt,this.rendererUsageCount=0,this.styles=mt(Lt,Be.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class St extends kt{constructor(Oe,de,Be,yt,Lt){const rn=yt+"-"+Be.id;super(Oe,de,Be,Lt,rn),this.contentAttr=function Ce(Ne){return"_ngcontent-%COMP%".replace(Ct,Ne)}(rn),this.hostAttr=function $e(Ne){return"_nghost-%COMP%".replace(Ct,Ne)}(rn)}applyToHost(Oe){this.applyStyles(),this.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,de){const Be=super.createElement(Oe,de);return super.setAttribute(Be,this.contentAttr,""),Be}}let bt=(()=>{class Ne extends ht{constructor(de){super(de)}supports(de){return!0}addEventListener(de,Be,yt){return de.addEventListener(Be,yt,!1),()=>this.removeEventListener(de,Be,yt)}removeEventListener(de,Be,yt){return de.removeEventListener(Be,yt)}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(_.K0))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const et=["alt","control","meta","shift"],at={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bn={alt:Ne=>Ne.altKey,control:Ne=>Ne.ctrlKey,meta:Ne=>Ne.metaKey,shift:Ne=>Ne.shiftKey};let sn=(()=>{class Ne extends ht{constructor(de){super(de)}supports(de){return null!=Ne.parseEventName(de)}addEventListener(de,Be,yt){const Lt=Ne.parseEventName(Be),rn=Ne.eventCallback(Lt.fullKey,yt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(de,Lt.domEventName,rn))}static parseEventName(de){const Be=de.toLowerCase().split("."),yt=Be.shift();if(0===Be.length||"keydown"!==yt&&"keyup"!==yt)return null;const Lt=Ne._normalizeKey(Be.pop());let rn="",Mn=Be.indexOf("code");if(Mn>-1&&(Be.splice(Mn,1),rn="code."),et.forEach(Hr=>{const cr=Be.indexOf(Hr);cr>-1&&(Be.splice(cr,1),rn+=Hr+".")}),rn+=Lt,0!=Be.length||0===Lt.length)return null;const Vt={};return Vt.domEventName=yt,Vt.fullKey=rn,Vt}static matchEventFullKeyCode(de,Be){let yt=at[de.key]||de.key,Lt="";return Be.indexOf("code.")>-1&&(yt=de.code,Lt="code."),!(null==yt||!yt)&&(yt=yt.toLowerCase()," "===yt?yt="space":"."===yt&&(yt="dot"),et.forEach(rn=>{rn!==yt&&(0,bn[rn])(de)&&(Lt+=rn+".")}),Lt+=yt,Lt===Be)}static eventCallback(de,Be,yt){return Lt=>{Ne.matchEventFullKeyCode(Lt,de)&&yt.runGuarded(()=>Be(Lt))}}static _normalizeKey(de){return"esc"===de?"escape":de}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(_.K0))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const pi=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:_.bD},{provide:h.g9A,useValue:function jn(){ve.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function gn(){return(0,h.RDi)(document),document},deps:[]}]),hi=new h.OlP(""),ci=[{provide:h.rWj,useClass:class pe{addToWindow(Oe){h.dqk.getAngularTestability=(Be,yt=!0)=>{const Lt=Oe.findTestabilityInTree(Be,yt);if(null==Lt)throw new Error("Could not find testability for element.");return Lt},h.dqk.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>Oe.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(Be=>{const yt=h.dqk.getAllAngularTestabilities();let Lt=yt.length,rn=!1;const Mn=function(Vt){rn=rn||Vt,Lt--,0==Lt&&Be(rn)};yt.forEach(function(Vt){Vt.whenStable(Mn)})})}findTestabilityInTree(Oe,de,Be){return null==de?null:Oe.getTestability(de)??(Be?(0,_.q)().isShadowRoot(de)?this.findTestabilityInTree(Oe,de.host,!0):this.findTestabilityInTree(Oe,de.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],fn=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function yi(){return new h.qLn},deps:[]},{provide:Ke,useClass:bt,multi:!0,deps:[_.K0,h.R0b,h.Lbi]},{provide:Ke,useClass:sn,multi:!0,deps:[_.K0]},{provide:Nt,useClass:Nt,deps:[xt,Le,h.AFp,ge]},{provide:h.FYo,useExisting:Nt},{provide:Ze,useExisting:Le},{provide:Le,useClass:Le,deps:[_.K0]},{provide:xt,useClass:xt,deps:[Ke,h.R0b]},{provide:_.JF,useClass:nt,deps:[]},[]];let vi=(()=>{class Ne{constructor(de){}static withServerTransition(de){return{ngModule:Ne,providers:[{provide:h.AFp,useValue:de.appId},{provide:xe,useExisting:h.AFp},_e]}}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(hi,12))},Ne.\u0275mod=h.oAB({type:Ne}),Ne.\u0275inj=h.cJS({providers:[...fn,...ci],imports:[_.ez,h.hGG]}),Ne})(),Sn=(()=>{class Ne{constructor(de){this._doc=de}getTitle(){return this._doc.title}setTitle(de){this._doc.title=de||""}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(_.K0))},Ne.\u0275prov=h.Yz7({token:Ne,factory:function(de){let Be=null;return Be=de?new de:function Di(){return new Sn((0,h.LFG)(_.K0))}(),Be},providedIn:"root"}),Ne})();typeof window<"u"&&window;let Fe=(()=>{class Ne{}return Ne.\u0275fac=function(de){return new(de||Ne)},Ne.\u0275prov=h.Yz7({token:Ne,factory:function(de){let Be=null;return Be=de?new(de||Ne):h.LFG(Ye),Be},providedIn:"root"}),Ne})(),Ye=(()=>{class Ne extends Fe{constructor(de){super(),this._doc=de}sanitize(de,Be){if(null==Be)return null;switch(de){case h.q3G.NONE:return Be;case h.q3G.HTML:return(0,h.qzn)(Be,"HTML")?(0,h.z3N)(Be):(0,h.EiD)(this._doc,String(Be)).toString();case h.q3G.STYLE:return(0,h.qzn)(Be,"Style")?(0,h.z3N)(Be):Be;case h.q3G.SCRIPT:if((0,h.qzn)(Be,"Script"))return(0,h.z3N)(Be);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(Be,"URL")?(0,h.z3N)(Be):(0,h.mCW)(String(Be));case h.q3G.RESOURCE_URL:if((0,h.qzn)(Be,"ResourceURL"))return(0,h.z3N)(Be);throw new Error(`unsafe value used in a resource URL context (see ${h.JZr})`);default:throw new Error(`Unexpected SecurityContext ${de} (see ${h.JZr})`)}}bypassSecurityTrustHtml(de){return(0,h.JVY)(de)}bypassSecurityTrustStyle(de){return(0,h.L6k)(de)}bypassSecurityTrustScript(de){return(0,h.eBb)(de)}bypassSecurityTrustUrl(de){return(0,h.LAX)(de)}bypassSecurityTrustResourceUrl(de){return(0,h.pB0)(de)}}return Ne.\u0275fac=function(de){return new(de||Ne)(h.LFG(_.K0))},Ne.\u0275prov=h.Yz7({token:Ne,factory:function(de){let Be=null;return Be=de?new de:function ot(Ne){return new Ye(Ne.get(_.K0))}(h.LFG(h.zs3)),Be},providedIn:"root"}),Ne})()},9116:(Wt,Ge,P)=>{P.d(Ge,{F0:()=>vr,rH:()=>Ki,Od:()=>kn,Bz:()=>Kc,lC:()=>is});var _=P(4650),h=P(8996),Q=P(9646),ve=P(1135),Ae=P(6805),Se=P(9841),we=P(7272),ce=P(9770),xe=P(9635),ne=P(2843),_e=P(9751),pe=P(515),nt=P(4033),Ke=P(7579),xt=P(6895),ht=P(4004),Ze=P(3900),Le=P(5698),Ee=P(8675),Ct=P(9300),Ve=P(5577),De=P(590),me=P(4351),ze=P(8505),Xe=P(262),ge=P(5026),Ce=P(4482),$e=P(5403);function mt(A){return A<=0?()=>pe.E:(0,Ce.e)((k,D)=>{let L=[];k.subscribe((0,$e.x)(D,q=>{L.push(q),A<L.length&&L.shift()},()=>{for(const q of L)D.next(q);D.complete()},void 0,()=>{L=null}))})}var nn=P(8068),Nt=P(6590),rt=P(4671);function ft(A,k){const D=arguments.length>=2;return L=>L.pipe(A?(0,Ct.h)((q,ie)=>A(q,ie,L)):rt.y,mt(1),D?(0,Nt.d)(k):(0,nn.T)(()=>new Ae.K))}var Et=P(2529),Mt=P(9718),It=P(8746),kt=P(8343),St=P(8189),bt=P(1481);const et="primary",at=Symbol("RouteTitle");class bn{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const D=this.params[k];return Array.isArray(D)?D[0]:D}return null}getAll(k){if(this.has(k)){const D=this.params[k];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function sn(A){return new bn(A)}function Tn(A,k,D){const L=D.path.split("/");if(L.length>A.length||"full"===D.pathMatch&&(k.hasChildren()||L.length<A.length))return null;const q={};for(let ie=0;ie<L.length;ie++){const ye=L[ie],tt=A[ie];if(ye.startsWith(":"))q[ye.substring(1)]=tt;else if(ye!==tt.path)return null}return{consumed:A.slice(0,L.length),posParams:q}}function On(A,k){const D=A?Object.keys(A):void 0,L=k?Object.keys(k):void 0;if(!D||!L||D.length!=L.length)return!1;let q;for(let ie=0;ie<D.length;ie++)if(q=D[ie],!Hn(A[q],k[q]))return!1;return!0}function Hn(A,k){if(Array.isArray(A)&&Array.isArray(k)){if(A.length!==k.length)return!1;const D=[...A].sort(),L=[...k].sort();return D.every((q,ie)=>L[ie]===q)}return A===k}function Ci(A){return Array.prototype.concat.apply([],A)}function jn(A){return A.length>0?A[A.length-1]:null}function gn(A,k){for(const D in A)A.hasOwnProperty(D)&&k(A[D],D)}function ri(A){return(0,_.CqO)(A)?A:(0,_.QGY)(A)?(0,h.D)(Promise.resolve(A)):(0,Q.of)(A)}const pi=!1,hi={exact:function Gi(A,k,D){if(!Yt(A.segments,k.segments)||!Sn(A.segments,k.segments,D)||A.numberOfChildren!==k.numberOfChildren)return!1;for(const L in k.children)if(!A.children[L]||!Gi(A.children[L],k.children[L],D))return!1;return!0},subset:_i},ci={exact:function vi(A,k){return On(A,k)},subset:function fi(A,k){return Object.keys(k).length<=Object.keys(A).length&&Object.keys(k).every(D=>Hn(A[D],k[D]))},ignored:()=>!0};function fn(A,k,D){return hi[D.paths](A.root,k.root,D.matrixParams)&&ci[D.queryParams](A.queryParams,k.queryParams)&&!("exact"===D.fragment&&A.fragment!==k.fragment)}function _i(A,k,D){return Di(A,k,k.segments,D)}function Di(A,k,D,L){if(A.segments.length>D.length){const q=A.segments.slice(0,D.length);return!(!Yt(q,D)||k.hasChildren()||!Sn(q,D,L))}if(A.segments.length===D.length){if(!Yt(A.segments,D)||!Sn(A.segments,D,L))return!1;for(const q in k.children)if(!A.children[q]||!_i(A.children[q],k.children[q],L))return!1;return!0}{const q=D.slice(0,A.segments.length),ie=D.slice(A.segments.length);return!!(Yt(A.segments,q)&&Sn(A.segments,q,L)&&A.children[et])&&Di(A.children[et],k,ie,L)}}function Sn(A,k,D){return k.every((L,q)=>ci[D](A[q].parameters,L.parameters))}class an{constructor(k=new Dt([],{}),D={},L=null){this.root=k,this.queryParams=D,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return xn.serialize(this)}}class Dt{constructor(k,D){this.segments=k,this.children=D,this.parent=null,gn(D,(L,q)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vi(this)}}class Un{constructor(k,D){this.path=k,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=sn(this.parameters)),this._parameterMap}toString(){return H(this)}}function Yt(A,k){return A.length===k.length&&A.every((D,L)=>D.path===k[L].path)}let Ft=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:function(){return new Pn},providedIn:"root"}),A})();class Pn{parse(k){const D=new Ne(k);return new an(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(k){const D=`/${Rn(k.root,!0)}`,L=function Ie(A){const k=Object.keys(A).map(D=>{const L=A[D];return Array.isArray(L)?L.map(q=>`${si(D)}=${si(q)}`).join("&"):`${si(D)}=${si(L)}`}).filter(D=>!!D);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${D}${L}${"string"==typeof k.fragment?`#${function $t(A){return encodeURI(A)}(k.fragment)}`:""}`}}const xn=new Pn;function Vi(A){return A.segments.map(k=>H(k)).join("/")}function Rn(A,k){if(!A.hasChildren())return Vi(A);if(k){const D=A.children[et]?Rn(A.children[et],!1):"",L=[];return gn(A.children,(q,ie)=>{ie!==et&&L.push(`${ie}:${Rn(q,!1)}`)}),L.length>0?`${D}(${L.join("//")})`:D}{const D=function st(A,k){let D=[];return gn(A.children,(L,q)=>{q===et&&(D=D.concat(k(L,q)))}),gn(A.children,(L,q)=>{q!==et&&(D=D.concat(k(L,q)))}),D}(A,(L,q)=>q===et?[Rn(A.children[et],!1)]:[`${q}:${Rn(L,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[et]?`${Vi(A)}/${D[0]}`:`${Vi(A)}/(${D.join("//")})`}}function Mi(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function si(A){return Mi(A).replace(/%3B/gi,";")}function Re(A){return Mi(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function K(A){return decodeURIComponent(A)}function N(A){return K(A.replace(/\+/g,"%20"))}function H(A){return`${Re(A.path)}${function ue(A){return Object.keys(A).map(k=>`;${Re(k)}=${Re(A[k])}`).join("")}(A.parameters)}`}const se=/^[^\/()?;=#]+/;function be(A){const k=A.match(se);return k?k[0]:""}const Fe=/^[^=?&#]+/,Ye=/^[^&#]+/;class Ne{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(k.length>0||Object.keys(D).length>0)&&(L[et]=new Dt(k,D)),L}parseSegment(){const k=be(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new _.vHH(4009,pi);return this.capture(k),new Un(K(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const D=be(this.remaining);if(!D)return;this.capture(D);let L="";if(this.consumeOptional("=")){const q=be(this.remaining);q&&(L=q,this.capture(L))}k[K(D)]=K(L)}parseQueryParam(k){const D=function ot(A){const k=A.match(Fe);return k?k[0]:""}(this.remaining);if(!D)return;this.capture(D);let L="";if(this.consumeOptional("=")){const ye=function on(A){const k=A.match(Ye);return k?k[0]:""}(this.remaining);ye&&(L=ye,this.capture(L))}const q=N(D),ie=N(L);if(k.hasOwnProperty(q)){let ye=k[q];Array.isArray(ye)||(ye=[ye],k[q]=ye),ye.push(ie)}else k[q]=ie}parseParens(k){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=be(this.remaining),q=this.remaining[L.length];if("/"!==q&&")"!==q&&";"!==q)throw new _.vHH(4010,pi);let ie;L.indexOf(":")>-1?(ie=L.slice(0,L.indexOf(":")),this.capture(ie),this.capture(":")):k&&(ie=et);const ye=this.parseChildren();D[ie]=1===Object.keys(ye).length?ye[et]:new Dt([],ye),this.consumeOptional("//")}return D}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new _.vHH(4011,pi)}}function Oe(A){return A.segments.length>0?new Dt([],{[et]:A}):A}function de(A){const k={};for(const L of Object.keys(A.children)){const ie=de(A.children[L]);(ie.segments.length>0||ie.hasChildren())&&(k[L]=ie)}return function Be(A){if(1===A.numberOfChildren&&A.children[et]){const k=A.children[et];return new Dt(A.segments.concat(k.segments),k.children)}return A}(new Dt(A.segments,k))}function yt(A){return A instanceof an}const Lt=!1;function Hr(A,k,D,L,q){if(0===D.length)return hs(k.root,k.root,k.root,L,q);const ie=function mo(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new zs(!0,0,A);let k=0,D=!1;const L=A.reduce((q,ie,ye)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const tt={};return gn(ie.outlets,(zt,_n)=>{tt[_n]="string"==typeof zt?zt.split("/"):zt}),[...q,{outlets:tt}]}if(ie.segmentPath)return[...q,ie.segmentPath]}return"string"!=typeof ie?[...q,ie]:0===ye?(ie.split("/").forEach((tt,zt)=>{0==zt&&"."===tt||(0==zt&&""===tt?D=!0:".."===tt?k++:""!=tt&&q.push(tt))}),q):[...q,ie]},[]);return new zs(D,k,L)}(D);return ie.toRoot()?hs(k.root,k.root,new Dt([],{}),L,q):function ye(zt){const _n=function sr(A,k,D,L){if(A.isAbsolute)return new ws(k.root,!0,0);if(-1===L)return new ws(D,D===k.root,0);return function Zi(A,k,D){let L=A,q=k,ie=D;for(;ie>q;){if(ie-=q,L=L.parent,!L)throw new _.vHH(4005,Lt&&"Invalid number of '../'");q=L.segments.length}return new ws(L,!1,q-ie)}(D,L+(cr(A.commands[0])?0:1),A.numberOfDoubleDots)}(ie,k,A.snapshot?._urlSegment,zt),yn=_n.processChildren?ki(_n.segmentGroup,_n.index,ie.commands):Jr(_n.segmentGroup,_n.index,ie.commands);return hs(k.root,_n.segmentGroup,yn,L,q)}(A.snapshot?._lastPathIndex)}function cr(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function js(A){return"object"==typeof A&&null!=A&&A.outlets}function hs(A,k,D,L,q){let ye,ie={};L&&gn(L,(zt,_n)=>{ie[_n]=Array.isArray(zt)?zt.map(yn=>`${yn}`):`${zt}`}),ye=A===k?D:Do(A,k,D);const tt=Oe(de(ye));return new an(tt,ie,q)}function Do(A,k,D){const L={};return gn(A.children,(q,ie)=>{L[ie]=q===k?D:Do(q,k,D)}),new Dt(A.segments,L)}class zs{constructor(k,D,L){if(this.isAbsolute=k,this.numberOfDoubleDots=D,this.commands=L,k&&L.length>0&&cr(L[0]))throw new _.vHH(4003,Lt&&"Root segment cannot have matrix parameters");const q=L.find(js);if(q&&q!==jn(L))throw new _.vHH(4004,Lt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ws{constructor(k,D,L){this.segmentGroup=k,this.processChildren=D,this.index=L}}function Jr(A,k,D){if(A||(A=new Dt([],{})),0===A.segments.length&&A.hasChildren())return ki(A,k,D);const L=function mn(A,k,D){let L=0,q=k;const ie={match:!1,pathIndex:0,commandIndex:0};for(;q<A.segments.length;){if(L>=D.length)return ie;const ye=A.segments[q],tt=D[L];if(js(tt))break;const zt=`${tt}`,_n=L<D.length-1?D[L+1]:null;if(q>0&&void 0===zt)break;if(zt&&_n&&"object"==typeof _n&&void 0===_n.outlets){if(!es(zt,_n,ye))return ie;L+=2}else{if(!es(zt,{},ye))return ie;L++}q++}return{match:!0,pathIndex:q,commandIndex:L}}(A,k,D),q=D.slice(L.commandIndex);if(L.match&&L.pathIndex<A.segments.length){const ie=new Dt(A.segments.slice(0,L.pathIndex),{});return ie.children[et]=new Dt(A.segments.slice(L.pathIndex),A.children),ki(ie,0,q)}return L.match&&0===q.length?new Dt(A.segments,{}):L.match&&!A.hasChildren()?Nn(A,k,D):L.match?ki(A,0,q):Nn(A,k,D)}function ki(A,k,D){if(0===D.length)return new Dt(A.segments,{});{const L=function xs(A){return js(A[0])?A[0].outlets:{[et]:A}}(D),q={};return!L[et]&&A.children[et]&&1===A.numberOfChildren&&0===A.children[et].segments.length?ki(A.children[et],k,D):(gn(L,(ie,ye)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(q[ye]=Jr(A.children[ye],k,ie))}),gn(A.children,(ie,ye)=>{void 0===L[ye]&&(q[ye]=ie)}),new Dt(A.segments,q))}}function Nn(A,k,D){const L=A.segments.slice(0,k);let q=0;for(;q<D.length;){const ie=D[q];if(js(ie)){const zt=Ii(ie.outlets);return new Dt(L,zt)}if(0===q&&cr(D[0])){L.push(new Un(A.segments[k].path,Tr(D[0]))),q++;continue}const ye=js(ie)?ie.outlets[et]:`${ie}`,tt=q<D.length-1?D[q+1]:null;ye&&tt&&cr(tt)?(L.push(new Un(ye,Tr(tt))),q+=2):(L.push(new Un(ye,{})),q++)}return new Dt(L,{})}function Ii(A){const k={};return gn(A,(D,L)=>{"string"==typeof D&&(D=[D]),null!==D&&(k[L]=Nn(new Dt([],{}),0,D))}),k}function Tr(A){const k={};return gn(A,(D,L)=>k[L]=`${D}`),k}function es(A,k,D){return A==D.path&&On(k,D.parameters)}const Gn="imperative";class $i{constructor(k,D){this.id=k,this.url=D}}class Ri extends $i{constructor(k,D,L="imperative",q=null){super(k,D),this.type=0,this.navigationTrigger=L,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xr extends $i{constructor(k,D,L){super(k,D),this.urlAfterRedirects=L,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Er extends $i{constructor(k,D,L,q){super(k,D),this.reason=L,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qn extends $i{constructor(k,D,L,q){super(k,D),this.reason=L,this.code=q,this.type=16}}class Nr extends $i{constructor(k,D,L,q){super(k,D),this.error=L,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class na extends $i{constructor(k,D,L,q){super(k,D),this.urlAfterRedirects=L,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ia extends $i{constructor(k,D,L,q){super(k,D),this.urlAfterRedirects=L,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cr extends $i{constructor(k,D,L,q,ie){super(k,D),this.urlAfterRedirects=L,this.state=q,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ji extends $i{constructor(k,D,L,q){super(k,D),this.urlAfterRedirects=L,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fs extends $i{constructor(k,D,L,q){super(k,D),this.urlAfterRedirects=L,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs{constructor(k){this.route=k,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zr{constructor(k){this.route=k,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Es{constructor(k){this.snapshot=k,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(k){this.snapshot=k,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{constructor(k){this.snapshot=k,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gs{constructor(k){this.snapshot=k,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(k,D,L){this.routerEvent=k,this.position=D,this.anchor=L,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ut=(()=>{class A{createUrlTree(D,L,q,ie,ye,tt){return Hr(D||L.root,q,ie,ye,tt)}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac}),A})(),pn=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:function(k){return Ut.\u0275fac(k)},providedIn:"root"}),A})();class ei{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const D=this.pathFromRoot(k);return D.length>1?D[D.length-2]:null}children(k){const D=Wn(k,this._root);return D?D.children.map(L=>L.value):[]}firstChild(k){const D=Wn(k,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(k){const D=ni(k,this._root);return D.length<2?[]:D[D.length-2].children.map(q=>q.value).filter(q=>q!==k)}pathFromRoot(k){return ni(k,this._root).map(D=>D.value)}}function Wn(A,k){if(A===k.value)return k;for(const D of k.children){const L=Wn(A,D);if(L)return L}return null}function ni(A,k){if(A===k.value)return[k];for(const D of k.children){const L=ni(A,D);if(L.length)return L.unshift(k),L}return[]}class or{constructor(k,D){this.value=k,this.children=D}toString(){return`TreeNode(${this.value})`}}function Ar(A){const k={};return A&&A.children.forEach(D=>k[D.value.outlet]=D),k}class Mr extends ei{constructor(k,D){super(k),this.snapshot=D,$a(this,k)}toString(){return this.snapshot.toString()}}function ms(A,k){const D=function Ga(A,k){const ye=new ia([],{},{},"",{},et,k,null,A.root,-1,{});return new Os("",new or(ye,[]))}(A,k),L=new ve.X([new Un("",{})]),q=new ve.X({}),ie=new ve.X({}),ye=new ve.X({}),tt=new ve.X(""),zt=new jr(L,q,ye,tt,ie,et,k,D.root);return zt.snapshot=D.root,new Mr(new or(zt,[]),D)}class jr{constructor(k,D,L,q,ie,ye,tt,zt){this.url=k,this.params=D,this.queryParams=L,this.fragment=q,this.data=ie,this.outlet=ye,this.component=tt,this.title=this.data?.pipe((0,ht.U)(_n=>_n[at]))??(0,Q.of)(void 0),this._futureSnapshot=zt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(k=>sn(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(k=>sn(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ts(A,k="emptyOnly"){const D=A.pathFromRoot;let L=0;if("always"!==k)for(L=D.length-1;L>=1;){const q=D[L],ie=D[L-1];if(q.routeConfig&&""===q.routeConfig.path)L--;else{if(ie.component)break;L--}}return function Io(A){return A.reduce((k,D)=>({params:{...k.params,...D.params},data:{...k.data,...D.data},resolve:{...D.data,...k.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(L))}class ia{get title(){return this.data?.[at]}constructor(k,D,L,q,ie,ye,tt,zt,_n,yn,wi){this.url=k,this.params=D,this.queryParams=L,this.fragment=q,this.data=ie,this.outlet=ye,this.component=tt,this.routeConfig=zt,this._urlSegment=_n,this._lastPathIndex=yn,this._resolve=wi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Os extends ei{constructor(k,D){super(D),this.url=k,$a(this,D)}toString(){return Go(this._root)}}function $a(A,k){k.value._routerState=A,k.children.forEach(D=>$a(A,D))}function Go(A){const k=A.children.length>0?` { ${A.children.map(Go).join(", ")} } `:"";return`${A.value}${k}`}function Sa(A){if(A.snapshot){const k=A.snapshot,D=A._futureSnapshot;A.snapshot=D,On(k.queryParams,D.queryParams)||A.queryParams.next(D.queryParams),k.fragment!==D.fragment&&A.fragment.next(D.fragment),On(k.params,D.params)||A.params.next(D.params),function wn(A,k){if(A.length!==k.length)return!1;for(let D=0;D<A.length;++D)if(!On(A[D],k[D]))return!1;return!0}(k.url,D.url)||A.url.next(D.url),On(k.data,D.data)||A.data.next(D.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function po(A,k){const D=On(A.params,k.params)&&function Ot(A,k){return Yt(A,k)&&A.every((D,L)=>On(D.parameters,k[L].parameters))}(A.url,k.url);return D&&!(!A.parent!=!k.parent)&&(!A.parent||po(A.parent,k.parent))}function ps(A,k,D){if(D&&A.shouldReuseRoute(k.value,D.value.snapshot)){const L=D.value;L._futureSnapshot=k.value;const q=function ra(A,k,D){return k.children.map(L=>{for(const q of D.children)if(A.shouldReuseRoute(L.value,q.value.snapshot))return ps(A,L,q);return ps(A,L)})}(A,k,D);return new or(L,q)}{if(A.shouldAttach(k.value)){const ie=A.retrieve(k.value);if(null!==ie){const ye=ie.route;return ye.value._futureSnapshot=k.value,ye.children=k.children.map(tt=>ps(A,tt)),ye}}const L=function go(A){return new jr(new ve.X(A.url),new ve.X(A.params),new ve.X(A.queryParams),new ve.X(A.fragment),new ve.X(A.data),A.outlet,A.component,A)}(k.value),q=k.children.map(ie=>ps(A,ie));return new or(L,q)}}const Qs="ngNavigationCancelingError";function $o(A,k){const{redirectTo:D,navigationBehaviorOptions:L}=yt(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,q=Xs(!1,0,k);return q.url=D,q.navigationBehaviorOptions=L,q}function Xs(A,k,D){const L=new Error("NavigationCancelingError: "+(A||""));return L[Qs]=!0,L.cancellationCode=k,D&&(L.url=D),L}function er(A){return ns(A)&&yt(A.url)}function ns(A){return A&&A[Qs]}class So{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Cs,this.attachRef=null}}let Cs=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(D,L){const q=this.getOrCreateContext(D);q.outlet=L,this.contexts.set(D,q)}onChildOutletDestroyed(D){const L=this.getContext(D);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let L=this.getContext(D);return L||(L=new So,this.contexts.set(D,L)),L}getContext(D){return this.contexts.get(D)||null}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const dr=!1;let is=(()=>{class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=et,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(Cs),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb)}ngOnChanges(D){if(D.name){const{firstChange:L,previousValue:q}=D.name;if(L)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(D){return this.parentContexts.getContext(D)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);D?.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,dr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,dr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,dr);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,L){this.activated=D,this._activatedRoute=L,this.location.insert(D.hostView),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,L){if(this.isActivated)throw new _.vHH(4013,dr);this._activatedRoute=D;const q=this.location,ye=D.snapshot.component,tt=this.parentContexts.getOrCreateContext(this.name).children,zt=new ji(D,tt,q.injector);if(L&&function Ps(A){return!!A.resolveComponentFactory}(L)){const _n=L.resolveComponentFactory(ye);this.activated=q.createComponent(_n,q.length,zt)}else this.activated=q.createComponent(ye,{index:q.length,injector:zt,environmentInjector:L??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275dir=_.lG2({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]}),A})();class ji{constructor(k,D,L){this.route=k,this.childContexts=D,this.parent=L}get(k,D){return k===jr?this.route:k===Cs?this.childContexts:this.parent.get(k,D)}}let _o=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275cmp=_.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(D,L){1&D&&_._UZ(0,"router-outlet")},dependencies:[is],encapsulation:2}),A})();function Js(A,k){return A.providers&&!A._injector&&(A._injector=(0,_.MMx)(A.providers,k,`Route: ${A.path}`)),A._injector??k}function gi(A){const k=A.children&&A.children.map(gi),D=k?{...A,children:k}:{...A};return!D.component&&!D.loadComponent&&(k||D.loadChildren)&&D.outlet&&D.outlet!==et&&(D.component=_o),D}function rs(A){return A.outlet||et}function to(A,k){const D=A.filter(L=>rs(L)===k);return D.push(...A.filter(L=>rs(L)!==k)),D}function zi(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let k=A.parent;k;k=k.parent){const D=k.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class sa{constructor(k,D,L,q){this.routeReuseStrategy=k,this.futureState=D,this.currState=L,this.forwardEvent=q}activate(k){const D=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,L,k),Sa(this.futureState.root),this.activateChildRoutes(D,L,k)}deactivateChildRoutes(k,D,L){const q=Ar(D);k.children.forEach(ie=>{const ye=ie.value.outlet;this.deactivateRoutes(ie,q[ye],L),delete q[ye]}),gn(q,(ie,ye)=>{this.deactivateRouteAndItsChildren(ie,L)})}deactivateRoutes(k,D,L){const q=k.value,ie=D?D.value:null;if(q===ie)if(q.component){const ye=L.getContext(q.outlet);ye&&this.deactivateChildRoutes(k,D,ye.children)}else this.deactivateChildRoutes(k,D,L);else ie&&this.deactivateRouteAndItsChildren(D,L)}deactivateRouteAndItsChildren(k,D){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,D):this.deactivateRouteAndOutlet(k,D)}detachAndStoreRouteSubtree(k,D){const L=D.getContext(k.value.outlet),q=L&&k.value.component?L.children:D,ie=Ar(k);for(const ye of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[ye],q);if(L&&L.outlet){const ye=L.outlet.detach(),tt=L.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:ye,route:k,contexts:tt})}}deactivateRouteAndOutlet(k,D){const L=D.getContext(k.value.outlet),q=L&&k.value.component?L.children:D,ie=Ar(k);for(const ye of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[ye],q);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(k,D,L){const q=Ar(D);k.children.forEach(ie=>{this.activateRoutes(ie,q[ie.value.outlet],L),this.forwardEvent(new Gs(ie.value.snapshot))}),k.children.length&&this.forwardEvent(new Dr(k.value.snapshot))}activateRoutes(k,D,L){const q=k.value,ie=D?D.value:null;if(Sa(q),q===ie)if(q.component){const ye=L.getOrCreateContext(q.outlet);this.activateChildRoutes(k,D,ye.children)}else this.activateChildRoutes(k,D,L);else if(q.component){const ye=L.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const tt=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),ye.children.onOutletReAttached(tt.contexts),ye.attachRef=tt.componentRef,ye.route=tt.route.value,ye.outlet&&ye.outlet.attach(tt.componentRef,tt.route.value),Sa(tt.route.value),this.activateChildRoutes(k,null,ye.children)}else{const tt=zi(q.snapshot),zt=tt?.get(_._Vd)??null;ye.attachRef=null,ye.route=q,ye.resolver=zt,ye.injector=tt,ye.outlet&&ye.outlet.activateWith(q,ye.injector),this.activateChildRoutes(k,null,ye.children)}}else this.activateChildRoutes(k,null,L)}}class no{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class ur{constructor(k,D){this.component=k,this.route=D}}function oa(A,k,D){const L=A._root;return ss(L,k?k._root:null,D,[L.value])}function Fs(A,k){const D=Symbol(),L=k.get(A,D);return L===D?"function"!=typeof A||(0,_.Z0I)(A)?k.get(A):A:L}function ss(A,k,D,L,q={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Ar(k);return A.children.forEach(ye=>{(function vl(A,k,D,L,q={canDeactivateChecks:[],canActivateChecks:[]}){const ie=A.value,ye=k?k.value:null,tt=D?D.getContext(A.value.outlet):null;if(ye&&ie.routeConfig===ye.routeConfig){const zt=function aa(A,k,D){if("function"==typeof D)return D(A,k);switch(D){case"pathParamsChange":return!Yt(A.url,k.url);case"pathParamsOrQueryParamsChange":return!Yt(A.url,k.url)||!On(A.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!po(A,k)||!On(A.queryParams,k.queryParams);default:return!po(A,k)}}(ye,ie,ie.routeConfig.runGuardsAndResolvers);zt?q.canActivateChecks.push(new no(L)):(ie.data=ye.data,ie._resolvedData=ye._resolvedData),ss(A,k,ie.component?tt?tt.children:null:D,L,q),zt&&tt&&tt.outlet&&tt.outlet.isActivated&&q.canDeactivateChecks.push(new ur(tt.outlet.component,ye))}else ye&&Ln(k,tt,q),q.canActivateChecks.push(new no(L)),ss(A,null,ie.component?tt?tt.children:null:D,L,q)})(ye,ie[ye.value.outlet],D,L.concat([ye.value]),q),delete ie[ye.value.outlet]}),gn(ie,(ye,tt)=>Ln(ye,D.getContext(tt),q)),q}function Ln(A,k,D){const L=Ar(A),q=A.value;gn(L,(ie,ye)=>{Ln(ie,q.component?k?k.children.getContext(ye):null:k,D)}),D.canDeactivateChecks.push(new ur(q.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,q))}function $s(A){return"function"==typeof A}function Bn(A){return A instanceof Ae.K||"EmptyError"===A?.name}const bi=Symbol("INITIAL_VALUE");function Si(){return(0,Ze.w)(A=>(0,Se.a)(A.map(k=>k.pipe((0,Le.q)(1),(0,Ee.O)(bi)))).pipe((0,ht.U)(k=>{for(const D of k)if(!0!==D){if(D===bi)return bi;if(!1===D||D instanceof an)return D}return!0}),(0,Ct.h)(k=>k!==bi),(0,Le.q)(1)))}function tr(A){return(0,xe.z)((0,ze.b)(k=>{if(yt(k))throw $o(0,k)}),(0,ht.U)(k=>!0===k))}const qa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Is(A,k,D,L,q){const ie=Gr(A,k,D);return ie.matched?function Ls(A,k,D,L){const q=k.canMatch;if(!q||0===q.length)return(0,Q.of)(!0);const ie=q.map(ye=>{const tt=Fs(ye,A);return ri(function he(A){return A&&$s(A.canMatch)}(tt)?tt.canMatch(k,D):A.runInContext(()=>tt(k,D)))});return(0,Q.of)(ie).pipe(Si(),tr())}(L=Js(k,L),k,D).pipe((0,ht.U)(ye=>!0===ye?ie:{...qa})):(0,Q.of)(ie)}function Gr(A,k,D){if(""===k.path)return"full"===k.pathMatch&&(A.hasChildren()||D.length>0)?{...qa}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const q=(k.matcher||Tn)(D,A,k);if(!q)return{...qa};const ie={};gn(q.posParams,(tt,zt)=>{ie[zt]=tt.path});const ye=q.consumed.length>0?{...ie,...q.consumed[q.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:q.consumed,remainingSegments:D.slice(q.consumed.length),parameters:ye,positionalParamSegments:q.posParams??{}}}function la(A,k,D,L){if(D.length>0&&function Ma(A,k,D){return D.some(L=>Cl(A,k,L)&&rs(L)!==et)}(A,D,L)){const ie=new Dt(k,function El(A,k,D,L){const q={};q[et]=L,L._sourceSegment=A,L._segmentIndexShift=k.length;for(const ie of D)if(""===ie.path&&rs(ie)!==et){const ye=new Dt([],{});ye._sourceSegment=A,ye._segmentIndexShift=k.length,q[rs(ie)]=ye}return q}(A,k,L,new Dt(D,A.children)));return ie._sourceSegment=A,ie._segmentIndexShift=k.length,{segmentGroup:ie,slicedSegments:[]}}if(0===D.length&&function Za(A,k,D){return D.some(L=>Cl(A,k,L))}(A,D,L)){const ie=new Dt(A.segments,function Ec(A,k,D,L,q){const ie={};for(const ye of L)if(Cl(A,D,ye)&&!q[rs(ye)]){const tt=new Dt([],{});tt._sourceSegment=A,tt._segmentIndexShift=k.length,ie[rs(ye)]=tt}return{...q,...ie}}(A,k,D,L,A.children));return ie._sourceSegment=A,ie._segmentIndexShift=k.length,{segmentGroup:ie,slicedSegments:D}}const q=new Dt(A.segments,A.children);return q._sourceSegment=A,q._segmentIndexShift=k.length,{segmentGroup:q,slicedSegments:D}}function Cl(A,k,D){return(!(A.hasChildren()||k.length>0)||"full"!==D.pathMatch)&&""===D.path}function Qa(A,k,D,L){return!!(rs(A)===L||L!==et&&Cl(k,D,A))&&("**"===A.path||Gr(k,A,D).matched)}function Yo(A,k,D){return 0===k.length&&!A.children[D]}const Xa=!1;class Ja{constructor(k){this.segmentGroup=k||null}}class qo{constructor(k){this.urlTree=k}}function ka(A){return(0,ne._)(new Ja(A))}function Ra(A){return(0,ne._)(new qo(A))}class Ao{constructor(k,D,L,q,ie){this.injector=k,this.configLoader=D,this.urlSerializer=L,this.urlTree=q,this.config=ie,this.allowRedirects=!0}apply(){const k=la(this.urlTree.root,[],[],this.config).segmentGroup,D=new Dt(k.segments,k.children);return this.expandSegmentGroup(this.injector,this.config,D,et).pipe((0,ht.U)(ie=>this.createUrlTree(de(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Xe.K)(ie=>{if(ie instanceof qo)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof Ja?this.noMatchError(ie):ie}))}match(k){return this.expandSegmentGroup(this.injector,this.config,k.root,et).pipe((0,ht.U)(q=>this.createUrlTree(de(q),k.queryParams,k.fragment))).pipe((0,Xe.K)(q=>{throw q instanceof Ja?this.noMatchError(q):q}))}noMatchError(k){return new _.vHH(4002,Xa)}createUrlTree(k,D,L){const q=Oe(k);return new an(q,D,L)}expandSegmentGroup(k,D,L,q){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(k,D,L).pipe((0,ht.U)(ie=>new Dt([],ie))):this.expandSegment(k,L,D,L.segments,q,!0)}expandChildren(k,D,L){const q=[];for(const ie of Object.keys(L.children))"primary"===ie?q.unshift(ie):q.push(ie);return(0,h.D)(q).pipe((0,me.b)(ie=>{const ye=L.children[ie],tt=to(D,ie);return this.expandSegmentGroup(k,tt,ye,ie).pipe((0,ht.U)(zt=>({segment:zt,outlet:ie})))}),(0,ge.R)((ie,ye)=>(ie[ye.outlet]=ye.segment,ie),{}),ft())}expandSegment(k,D,L,q,ie,ye){return(0,h.D)(L).pipe((0,me.b)(tt=>this.expandSegmentAgainstRoute(k,D,L,tt,q,ie,ye).pipe((0,Xe.K)(_n=>{if(_n instanceof Ja)return(0,Q.of)(null);throw _n}))),(0,De.P)(tt=>!!tt),(0,Xe.K)((tt,zt)=>{if(Bn(tt))return Yo(D,q,ie)?(0,Q.of)(new Dt([],{})):ka(D);throw tt}))}expandSegmentAgainstRoute(k,D,L,q,ie,ye,tt){return Qa(q,D,ie,ye)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(k,D,q,ie,ye):tt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(k,D,L,q,ie,ye):ka(D):ka(D)}expandSegmentAgainstRouteUsingRedirect(k,D,L,q,ie,ye){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(k,L,q,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(k,D,L,q,ie,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(k,D,L,q){const ie=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?Ra(ie):this.lineralizeSegments(L,ie).pipe((0,Ve.z)(ye=>{const tt=new Dt(ye,{});return this.expandSegment(k,tt,D,ye,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(k,D,L,q,ie,ye){const{matched:tt,consumedSegments:zt,remainingSegments:_n,positionalParamSegments:yn}=Gr(D,q,ie);if(!tt)return ka(D);const wi=this.applyRedirectCommands(zt,q.redirectTo,yn);return q.redirectTo.startsWith("/")?Ra(wi):this.lineralizeSegments(q,wi).pipe((0,Ve.z)(cs=>this.expandSegment(k,D,L,cs.concat(_n),ye,!1)))}matchSegmentAgainstRoute(k,D,L,q,ie){return"**"===L.path?(k=Js(L,k),L.loadChildren?(L._loadedRoutes?(0,Q.of)({routes:L._loadedRoutes,injector:L._loadedInjector}):this.configLoader.loadChildren(k,L)).pipe((0,ht.U)(tt=>(L._loadedRoutes=tt.routes,L._loadedInjector=tt.injector,new Dt(q,{})))):(0,Q.of)(new Dt(q,{}))):Is(D,L,q,k).pipe((0,Ze.w)(({matched:ye,consumedSegments:tt,remainingSegments:zt})=>ye?this.getChildConfig(k=L._injector??k,L,q).pipe((0,Ve.z)(yn=>{const wi=yn.injector??k,cs=yn.routes,{segmentGroup:rl,slicedSegments:Qo}=la(D,tt,zt,cs),Ks=new Dt(rl.segments,rl.children);if(0===Qo.length&&Ks.hasChildren())return this.expandChildren(wi,cs,Ks).pipe((0,ht.U)(Ml=>new Dt(tt,Ml)));if(0===cs.length&&0===Qo.length)return(0,Q.of)(new Dt(tt,{}));const ys=rs(L)===ie;return this.expandSegment(wi,Ks,cs,Qo,ys?et:ie,!0).pipe((0,ht.U)(fa=>new Dt(tt.concat(fa.segments),fa.children)))})):ka(D)))}getChildConfig(k,D,L){return D.children?(0,Q.of)({routes:D.children,injector:k}):D.loadChildren?void 0!==D._loadedRoutes?(0,Q.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Aa(A,k,D,L){const q=k.canLoad;if(void 0===q||0===q.length)return(0,Q.of)(!0);const ie=q.map(ye=>{const tt=Fs(ye,A);return ri(function Ya(A){return A&&$s(A.canLoad)}(tt)?tt.canLoad(k,D):A.runInContext(()=>tt(k,D)))});return(0,Q.of)(ie).pipe(Si(),tr())}(k,D,L).pipe((0,Ve.z)(q=>q?this.configLoader.loadChildren(k,D).pipe((0,ze.b)(ie=>{D._loadedRoutes=ie.routes,D._loadedInjector=ie.injector})):function Cc(A){return(0,ne._)(Xs(Xa,3))}())):(0,Q.of)({routes:[],injector:k})}lineralizeSegments(k,D){let L=[],q=D.root;for(;;){if(L=L.concat(q.segments),0===q.numberOfChildren)return(0,Q.of)(L);if(q.numberOfChildren>1||!q.children[et])return k.redirectTo,(0,ne._)(new _.vHH(4e3,Xa));q=q.children[et]}}applyRedirectCommands(k,D,L){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),k,L)}applyRedirectCreateUrlTree(k,D,L,q){const ie=this.createSegmentGroup(k,D.root,L,q);return new an(ie,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(k,D){const L={};return gn(k,(q,ie)=>{if("string"==typeof q&&q.startsWith(":")){const tt=q.substring(1);L[ie]=D[tt]}else L[ie]=q}),L}createSegmentGroup(k,D,L,q){const ie=this.createSegments(k,D.segments,L,q);let ye={};return gn(D.children,(tt,zt)=>{ye[zt]=this.createSegmentGroup(k,tt,L,q)}),new Dt(ie,ye)}createSegments(k,D,L,q){return D.map(ie=>ie.path.startsWith(":")?this.findPosParam(k,ie,q):this.findOrReturn(ie,L))}findPosParam(k,D,L){const q=L[D.path.substring(1)];if(!q)throw new _.vHH(4001,Xa);return q}findOrReturn(k,D){let L=0;for(const q of D){if(q.path===k.path)return D.splice(L),q;L++}return k}}class Mo{}class Bs{constructor(k,D,L,q,ie,ye,tt){this.injector=k,this.rootComponentType=D,this.config=L,this.urlTree=q,this.url=ie,this.paramsInheritanceStrategy=ye,this.urlSerializer=tt}recognize(){const k=la(this.urlTree.root,[],[],this.config.filter(D=>void 0===D.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,k,et).pipe((0,ht.U)(D=>{if(null===D)return null;const L=new ia([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},et,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new or(L,D),ie=new Os(this.url,q);return this.inheritParamsAndData(ie._root),ie}))}inheritParamsAndData(k){const D=k.value,L=ts(D,this.paramsInheritanceStrategy);D.params=Object.freeze(L.params),D.data=Object.freeze(L.data),k.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(k,D,L,q){return 0===L.segments.length&&L.hasChildren()?this.processChildren(k,D,L):this.processSegment(k,D,L,L.segments,q)}processChildren(k,D,L){return(0,h.D)(Object.keys(L.children)).pipe((0,me.b)(q=>{const ie=L.children[q],ye=to(D,q);return this.processSegmentGroup(k,ye,ie,q)}),(0,ge.R)((q,ie)=>q&&ie?(q.push(...ie),q):null),(0,Et.o)(q=>null!==q),(0,Nt.d)(null),ft(),(0,ht.U)(q=>{if(null===q)return null;const ie=Dd(q);return function zc(A){A.sort((k,D)=>k.value.outlet===et?-1:D.value.outlet===et?1:k.value.outlet.localeCompare(D.value.outlet))}(ie),ie}))}processSegment(k,D,L,q,ie){return(0,h.D)(D).pipe((0,me.b)(ye=>this.processSegmentAgainstRoute(ye._injector??k,ye,L,q,ie)),(0,De.P)(ye=>!!ye),(0,Xe.K)(ye=>{if(Bn(ye))return Yo(L,q,ie)?(0,Q.of)([]):(0,Q.of)(null);throw ye}))}processSegmentAgainstRoute(k,D,L,q,ie){if(D.redirectTo||!Qa(D,L,q,ie))return(0,Q.of)(null);let ye;if("**"===D.path){const tt=q.length>0?jn(q).parameters:{},zt=Il(L)+q.length,_n=new ia(q,tt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gc(D),rs(D),D.component??D._loadedComponent??null,D,Dl(L),zt,F(D));ye=(0,Q.of)({snapshot:_n,consumedSegments:[],remainingSegments:[]})}else ye=Is(L,D,q,k).pipe((0,ht.U)(({matched:tt,consumedSegments:zt,remainingSegments:_n,parameters:yn})=>{if(!tt)return null;const wi=Il(L)+zt.length;return{snapshot:new ia(zt,yn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gc(D),rs(D),D.component??D._loadedComponent??null,D,Dl(L),wi,F(D)),consumedSegments:zt,remainingSegments:_n}}));return ye.pipe((0,Ze.w)(tt=>{if(null===tt)return(0,Q.of)(null);const{snapshot:zt,consumedSegments:_n,remainingSegments:yn}=tt;k=D._injector??k;const wi=D._loadedInjector??k,cs=function ca(A){return A.children?A.children:A.loadChildren?A._loadedRoutes:[]}(D),{segmentGroup:rl,slicedSegments:Qo}=la(L,_n,yn,cs.filter(ys=>void 0===ys.redirectTo));if(0===Qo.length&&rl.hasChildren())return this.processChildren(wi,cs,rl).pipe((0,ht.U)(ys=>null===ys?null:[new or(zt,ys)]));if(0===cs.length&&0===Qo.length)return(0,Q.of)([new or(zt,[])]);const Ks=rs(D)===ie;return this.processSegment(wi,cs,rl,Qo,Ks?et:ie).pipe((0,ht.U)(ys=>null===ys?null:[new or(zt,ys)]))}))}}function _r(A){const k=A.value.routeConfig;return k&&""===k.path&&void 0===k.redirectTo}function Dd(A){const k=[],D=new Set;for(const L of A){if(!_r(L)){k.push(L);continue}const q=k.find(ie=>L.value.routeConfig===ie.value.routeConfig);void 0!==q?(q.children.push(...L.children),D.add(q)):k.push(L)}for(const L of D){const q=Dd(L.children);k.push(new or(L.value,q))}return k.filter(L=>!D.has(L))}function Dl(A){let k=A;for(;k._sourceSegment;)k=k._sourceSegment;return k}function Il(A){let k=A,D=k._segmentIndexShift??0;for(;k._sourceSegment;)k=k._sourceSegment,D+=k._segmentIndexShift??0;return D-1}function Gc(A){return A.data||{}}function F(A){return A.resolve||{}}function Dn(A){return"string"==typeof A.title||null===A.title}function Ti(A){return(0,Ze.w)(k=>{const D=A(k);return D?(0,h.D)(D).pipe((0,ht.U)(()=>k)):(0,Q.of)(k)})}const zn=new _.OlP("ROUTES");let yr=(()=>{class A{constructor(D,L){this.injector=D,this.compiler=L,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,Q.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const L=ri(D.loadComponent()).pipe((0,ht.U)(ln),(0,ze.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=ie}),(0,It.x)(()=>{this.componentLoaders.delete(D)})),q=new nt.c(L,()=>new Ke.x).pipe((0,kt.x)());return this.componentLoaders.set(D,q),q}loadChildren(D,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,Q.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const ie=this.loadModuleFactoryOrRoutes(L.loadChildren).pipe((0,ht.U)(tt=>{this.onLoadEndListener&&this.onLoadEndListener(L);let zt,_n,yn=!1;Array.isArray(tt)?_n=tt:(zt=tt.create(D).injector,_n=Ci(zt.get(zn,[],_.XFs.Self|_.XFs.Optional)));return{routes:_n.map(gi),injector:zt}}),(0,It.x)(()=>{this.childrenLoaders.delete(L)})),ye=new nt.c(ie,()=>new Ke.x).pipe((0,kt.x)());return this.childrenLoaders.set(L,ye),ye}loadModuleFactoryOrRoutes(D){return ri(D()).pipe((0,ht.U)(ln),(0,Ve.z)(q=>q instanceof _.YKP||Array.isArray(q)?(0,Q.of)(q):(0,h.D)(this.compiler.compileModuleAsync(q))))}}return A.\u0275fac=function(D){return new(D||A)(_.LFG(_.zs3),_.LFG(_.Sil))},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function ln(A){return function Jt(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let tn=(()=>{class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ke.x,this.configLoader=(0,_.f3M)(yr),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(Ft),this.rootContexts=(0,_.f3M)(Cs),this.navigationId=0,this.afterPreactivation=()=>(0,Q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=q=>this.events.next(new Zr(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new Rs(q))}complete(){this.transitions?.complete()}handleNavigationRequest(D){const L=++this.navigationId;this.transitions?.next({...this.transitions.value,...D,id:L})}setupNavigations(D){return this.transitions=new ve.X({id:0,targetPageId:0,currentUrlTree:D.currentUrlTree,currentRawUrl:D.currentUrlTree,extractedUrl:D.urlHandlingStrategy.extract(D.currentUrlTree),urlAfterRedirects:D.urlHandlingStrategy.extract(D.currentUrlTree),rawUrl:D.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gn,restoredState:null,currentSnapshot:D.routerState.snapshot,targetSnapshot:null,currentRouterState:D.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ct.h)(L=>0!==L.id),(0,ht.U)(L=>({...L,extractedUrl:D.urlHandlingStrategy.extract(L.rawUrl)})),(0,Ze.w)(L=>{let q=!1,ie=!1;return(0,Q.of)(L).pipe((0,ze.b)(ye=>{this.currentNavigation={id:ye.id,initialUrl:ye.rawUrl,extractedUrl:ye.extractedUrl,trigger:ye.source,extras:ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ze.w)(ye=>{const tt=D.browserUrlTree.toString(),zt=!D.navigated||ye.extractedUrl.toString()!==tt||tt!==D.currentUrlTree.toString();if(!zt&&"reload"!==(ye.extras.onSameUrlNavigation??D.onSameUrlNavigation)){const yn="";return this.events.next(new qn(ye.id,D.serializeUrl(L.rawUrl),yn,0)),D.rawUrlTree=ye.rawUrl,ye.resolve(null),pe.E}if(D.urlHandlingStrategy.shouldProcessUrl(ye.rawUrl))return _t(ye.source)&&(D.browserUrlTree=ye.extractedUrl),(0,Q.of)(ye).pipe((0,Ze.w)(yn=>{const wi=this.transitions?.getValue();return this.events.next(new Ri(yn.id,this.urlSerializer.serialize(yn.extractedUrl),yn.source,yn.restoredState)),wi!==this.transitions?.getValue()?pe.E:Promise.resolve(yn)}),function _u(A,k,D,L){return(0,Ze.w)(q=>function jc(A,k,D,L,q){return new Ao(A,k,D,L,q).apply()}(A,k,D,q.extractedUrl,L).pipe((0,ht.U)(ie=>({...q,urlAfterRedirects:ie}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,D.config),(0,ze.b)(yn=>{this.currentNavigation={...this.currentNavigation,finalUrl:yn.urlAfterRedirects},L.urlAfterRedirects=yn.urlAfterRedirects}),function X(A,k,D,L,q){return(0,Ve.z)(ie=>function el(A,k,D,L,q,ie,ye="emptyOnly"){return new Bs(A,k,D,L,q,ye,ie).recognize().pipe((0,Ze.w)(tt=>null===tt?function hr(A){return new _e.y(k=>k.error(A))}(new Mo):(0,Q.of)(tt)))}(A,k,D,ie.urlAfterRedirects,L.serialize(ie.urlAfterRedirects),L,q).pipe((0,ht.U)(ye=>({...ie,targetSnapshot:ye}))))}(this.environmentInjector,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,ze.b)(yn=>{if(L.targetSnapshot=yn.targetSnapshot,"eager"===D.urlUpdateStrategy){if(!yn.extras.skipLocationChange){const cs=D.urlHandlingStrategy.merge(yn.urlAfterRedirects,yn.rawUrl);D.setBrowserUrl(cs,yn)}D.browserUrlTree=yn.urlAfterRedirects}const wi=new na(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(wi)}));if(zt&&D.urlHandlingStrategy.shouldProcessUrl(D.rawUrlTree)){const{id:yn,extractedUrl:wi,source:cs,restoredState:rl,extras:Qo}=ye,Ks=new Ri(yn,this.urlSerializer.serialize(wi),cs,rl);this.events.next(Ks);const ys=ms(wi,this.rootComponentType).snapshot;return L={...ye,targetSnapshot:ys,urlAfterRedirects:wi,extras:{...Qo,skipLocationChange:!1,replaceUrl:!1}},(0,Q.of)(L)}{const yn="";return this.events.next(new qn(ye.id,D.serializeUrl(L.extractedUrl),yn,1)),D.rawUrlTree=ye.rawUrl,ye.resolve(null),pe.E}}),(0,ze.b)(ye=>{const tt=new Ia(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot);this.events.next(tt)}),(0,ht.U)(ye=>L={...ye,guards:oa(ye.targetSnapshot,ye.currentSnapshot,this.rootContexts)}),function gr(A,k){return(0,Ve.z)(D=>{const{targetSnapshot:L,currentSnapshot:q,guards:{canActivateChecks:ie,canDeactivateChecks:ye}}=D;return 0===ye.length&&0===ie.length?(0,Q.of)({...D,guardsResult:!0}):function Jl(A,k,D,L){return(0,h.D)(A).pipe((0,Ve.z)(q=>function Cd(A,k,D,L,q){const ie=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,Q.of)(!0);const ye=ie.map(tt=>{const zt=zi(k)??q,_n=Fs(tt,zt);return ri(function z(A){return A&&$s(A.canDeactivate)}(_n)?_n.canDeactivate(A,k,D,L):zt.runInContext(()=>_n(A,k,D,L))).pipe((0,De.P)())});return(0,Q.of)(ye).pipe(Si())}(q.component,q.route,D,k,L)),(0,De.P)(q=>!0!==q,!0))}(ye,L,q,A).pipe((0,Ve.z)(tt=>tt&&function Xl(A){return"boolean"==typeof A}(tt)?function Ko(A,k,D,L){return(0,h.D)(k).pipe((0,me.b)(q=>(0,we.z)(function bl(A,k){return null!==A&&k&&k(new Es(A)),(0,Q.of)(!0)}(q.route.parent,L),function Ds(A,k){return null!==A&&k&&k(new Hi(A)),(0,Q.of)(!0)}(q.route,L),function xl(A,k,D){const L=k[k.length-1],ie=k.slice(0,k.length-1).reverse().map(ye=>function To(A){const k=A.routeConfig?A.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:A,guards:k}:null}(ye)).filter(ye=>null!==ye).map(ye=>(0,ce.P)(()=>{const tt=ye.guards.map(zt=>{const _n=zi(ye.node)??D,yn=Fs(zt,_n);return ri(function G(A){return A&&$s(A.canActivateChild)}(yn)?yn.canActivateChild(L,A):_n.runInContext(()=>yn(L,A))).pipe((0,De.P)())});return(0,Q.of)(tt).pipe(Si())}));return(0,Q.of)(ie).pipe(Si())}(A,q.path,D),function wl(A,k,D){const L=k.routeConfig?k.routeConfig.canActivate:null;if(!L||0===L.length)return(0,Q.of)(!0);const q=L.map(ie=>(0,ce.P)(()=>{const ye=zi(k)??D,tt=Fs(ie,ye);return ri(function Y(A){return A&&$s(A.canActivate)}(tt)?tt.canActivate(k,A):ye.runInContext(()=>tt(k,A))).pipe((0,De.P)())}));return(0,Q.of)(q).pipe(Si())}(A,q.route,D))),(0,De.P)(q=>!0!==q,!0))}(L,ie,A,k):(0,Q.of)(tt)),(0,ht.U)(tt=>({...D,guardsResult:tt})))})}(this.environmentInjector,ye=>this.events.next(ye)),(0,ze.b)(ye=>{if(L.guardsResult=ye.guardsResult,yt(ye.guardsResult))throw $o(0,ye.guardsResult);const tt=new Cr(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot,!!ye.guardsResult);this.events.next(tt)}),(0,Ct.h)(ye=>!!ye.guardsResult||(D.restoreHistory(ye),this.cancelNavigationTransition(ye,"",3),!1)),Ti(ye=>{if(ye.guards.canActivateChecks.length)return(0,Q.of)(ye).pipe((0,ze.b)(tt=>{const zt=new Ji(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(zt)}),(0,Ze.w)(tt=>{let zt=!1;return(0,Q.of)(tt).pipe(function j(A,k){return(0,Ve.z)(D=>{const{targetSnapshot:L,guards:{canActivateChecks:q}}=D;if(!q.length)return(0,Q.of)(D);let ie=0;return(0,h.D)(q).pipe((0,me.b)(ye=>function oe(A,k,D,L){const q=A.routeConfig,ie=A._resolve;return void 0!==q?.title&&!Dn(q)&&(ie[at]=q.title),function ke(A,k,D,L){const q=function wt(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===q.length)return(0,Q.of)({});const ie={};return(0,h.D)(q).pipe((0,Ve.z)(ye=>function Pt(A,k,D,L){const q=zi(k)??L,ie=Fs(A,q);return ri(ie.resolve?ie.resolve(k,D):q.runInContext(()=>ie(k,D)))}(A[ye],k,D,L).pipe((0,De.P)(),(0,ze.b)(tt=>{ie[ye]=tt}))),mt(1),(0,Mt.h)(ie),(0,Xe.K)(ye=>Bn(ye)?pe.E:(0,ne._)(ye)))}(ie,A,k,L).pipe((0,ht.U)(ye=>(A._resolvedData=ye,A.data=ts(A,D).resolve,q&&Dn(q)&&(A.data[at]=q.title),null)))}(ye.route,L,A,k)),(0,ze.b)(()=>ie++),mt(1),(0,Ve.z)(ye=>ie===q.length?(0,Q.of)(D):pe.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,ze.b)({next:()=>zt=!0,complete:()=>{zt||(D.restoreHistory(tt),this.cancelNavigationTransition(tt,"",2))}}))}),(0,ze.b)(tt=>{const zt=new fs(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(zt)}))}),Ti(ye=>{const tt=zt=>{const _n=[];zt.routeConfig?.loadComponent&&!zt.routeConfig._loadedComponent&&_n.push(this.configLoader.loadComponent(zt.routeConfig).pipe((0,ze.b)(yn=>{zt.component=yn}),(0,ht.U)(()=>{})));for(const yn of zt.children)_n.push(...tt(yn));return _n};return(0,Se.a)(tt(ye.targetSnapshot.root)).pipe((0,Nt.d)(),(0,Le.q)(1))}),Ti(()=>this.afterPreactivation()),(0,ht.U)(ye=>{const tt=function Wa(A,k,D){const L=ps(A,k._root,D?D._root:void 0);return new Mr(L,k)}(D.routeReuseStrategy,ye.targetSnapshot,ye.currentRouterState);return L={...ye,targetRouterState:tt}}),(0,ze.b)(ye=>{D.currentUrlTree=ye.urlAfterRedirects,D.rawUrlTree=D.urlHandlingStrategy.merge(ye.urlAfterRedirects,ye.rawUrl),D.routerState=ye.targetRouterState,"deferred"===D.urlUpdateStrategy&&(ye.extras.skipLocationChange||D.setBrowserUrl(D.rawUrlTree,ye),D.browserUrlTree=ye.urlAfterRedirects)}),((A,k,D)=>(0,ht.U)(L=>(new sa(k,L.targetRouterState,L.currentRouterState,D).activate(A),L)))(this.rootContexts,D.routeReuseStrategy,ye=>this.events.next(ye)),(0,ze.b)({next:ye=>{q=!0,this.lastSuccessfulNavigation=this.currentNavigation,D.navigated=!0,this.events.next(new xr(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(D.currentUrlTree))),D.titleStrategy?.updateTitle(ye.targetRouterState.snapshot),ye.resolve(!0)},complete:()=>{q=!0}}),(0,It.x)(()=>{q||ie||this.cancelNavigationTransition(L,"",1),this.currentNavigation?.id===L.id&&(this.currentNavigation=null)}),(0,Xe.K)(ye=>{if(ie=!0,ns(ye)){er(ye)||(D.navigated=!0,D.restoreHistory(L,!0));const tt=new Er(L.id,this.urlSerializer.serialize(L.extractedUrl),ye.message,ye.cancellationCode);if(this.events.next(tt),er(ye)){const zt=D.urlHandlingStrategy.merge(ye.url,D.rawUrlTree),_n={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===D.urlUpdateStrategy||_t(L.source)};D.scheduleNavigation(zt,Gn,null,_n,{resolve:L.resolve,reject:L.reject,promise:L.promise})}else L.resolve(!1)}else{D.restoreHistory(L,!0);const tt=new Nr(L.id,this.urlSerializer.serialize(L.extractedUrl),ye,L.targetSnapshot??void 0);this.events.next(tt);try{L.resolve(D.errorHandler(ye))}catch(zt){L.reject(zt)}}return pe.E}))}))}cancelNavigationTransition(D,L,q){const ie=new Er(D.id,this.urlSerializer.serialize(D.extractedUrl),L,q);this.events.next(ie),D.resolve(!1)}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function _t(A){return A!==Gn}let Ht=(()=>{class A{buildTitle(D){let L,q=D.root;for(;void 0!==q;)L=this.getResolvedTitleForRoute(q)??L,q=q.children.find(ie=>ie.outlet===et);return L}getResolvedTitleForRoute(D){return D.data[at]}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:function(){return(0,_.f3M)(nr)},providedIn:"root"}),A})(),nr=(()=>{class A extends Ht{constructor(D){super(),this.title=D}updateTitle(D){const L=this.buildTitle(D);void 0!==L&&this.title.setTitle(L)}}return A.\u0275fac=function(D){return new(D||A)(_.LFG(bt.Dx))},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),ko=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:function(){return(0,_.f3M)(Sd)},providedIn:"root"}),A})();class Sl{shouldDetach(k){return!1}store(k,D){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,D){return k.routeConfig===D.routeConfig}}let Sd=(()=>{class A extends Sl{}return A.\u0275fac=function(){let k;return function(L){return(k||(k=_.n5z(A)))(L||A)}}(),A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Tl=new _.OlP("",{providedIn:"root",factory:()=>({})});let ah=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:function(){return(0,_.f3M)(Us)},providedIn:"root"}),A})(),Us=(()=>{class A{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,L){return D}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Ws(A){throw A}function tc(A,k,D){return k.parse("/")}const tl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vr=(()=>{class A{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this.options=(0,_.f3M)(Tl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ws,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||tc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(ah),this.routeReuseStrategy=(0,_.f3M)(ko),this.urlCreationStrategy=(0,_.f3M)(pn),this.titleStrategy=(0,_.f3M)(Ht),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ci((0,_.f3M)(zn,{optional:!0})??[]),this.navigationTransitions=(0,_.f3M)(tn),this.urlSerializer=(0,_.f3M)(Ft),this.location=(0,_.f3M)(xt.Ye),this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new an,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ms(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(D=>{this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)})}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gn,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const L="popstate"===D.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,L,D.state)},0)}))}navigateToSyncWithBrowser(D,L,q){const ie={replaceUrl:!0},ye=q?.navigationId?q:null;if(q){const zt={...q};delete zt.navigationId,delete zt.\u0275routerPageId,0!==Object.keys(zt).length&&(ie.state=zt)}const tt=this.parseUrl(D);this.scheduleNavigation(tt,L,ye,ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(D){this.config=D.map(gi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,L={}){const{relativeTo:q,queryParams:ie,fragment:ye,queryParamsHandling:tt,preserveFragment:zt}=L,_n=zt?this.currentUrlTree.fragment:ye;let yn=null;switch(tt){case"merge":yn={...this.currentUrlTree.queryParams,...ie};break;case"preserve":yn=this.currentUrlTree.queryParams;break;default:yn=ie||null}return null!==yn&&(yn=this.removeEmptyProps(yn)),this.urlCreationStrategy.createUrlTree(q,this.routerState,this.currentUrlTree,D,yn,_n??null)}navigateByUrl(D,L={skipLocationChange:!1}){const q=yt(D)?D:this.parseUrl(D),ie=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(ie,Gn,null,L)}navigate(D,L={skipLocationChange:!1}){return function Wi(A){for(let k=0;k<A.length;k++){const D=A[k];if(null==D)throw new _.vHH(4008,false)}}(D),this.navigateByUrl(this.createUrlTree(D,L),L)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let L;try{L=this.urlSerializer.parse(D)}catch(q){L=this.malformedUriErrorHandler(q,this.urlSerializer,D)}return L}isActive(D,L){let q;if(q=!0===L?{...tl}:!1===L?{...Xn}:L,yt(D))return fn(this.currentUrlTree,D,q);const ie=this.parseUrl(D);return fn(this.currentUrlTree,ie,q)}removeEmptyProps(D){return Object.keys(D).reduce((L,q)=>{const ie=D[q];return null!=ie&&(L[q]=ie),L},{})}scheduleNavigation(D,L,q,ie,ye){if(this.disposed)return Promise.resolve(!1);let tt,zt,_n,yn;return ye?(tt=ye.resolve,zt=ye.reject,_n=ye.promise):_n=new Promise((wi,cs)=>{tt=wi,zt=cs}),yn="computed"===this.canceledNavigationResolution?q&&q.\u0275routerPageId?q.\u0275routerPageId:ie.replaceUrl||ie.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:yn,source:L,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:ie,resolve:tt,reject:zt,promise:_n,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_n.catch(wi=>Promise.reject(wi))}setBrowserUrl(D,L){const q=this.urlSerializer.serialize(D),ie={...L.extras.state,...this.generateNgRouterState(L.id,L.targetPageId)};this.location.isCurrentPathEqualTo(q)||L.extras.replaceUrl?this.location.replaceState(q,"",ie):this.location.go(q,"",ie)}restoreHistory(D,L=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===q?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===q&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(q)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,L){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:L}:{navigationId:D}}}return A.\u0275fac=function(D){return new(D||A)},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),Ki=(()=>{class A{constructor(D,L,q,ie,ye,tt){this.router=D,this.route=L,this.tabIndexAttribute=q,this.renderer=ie,this.el=ye,this.locationStrategy=tt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ke.x;const zt=ye.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===zt||"area"===zt,this.isAnchorElement?this.subscription=D.events.subscribe(_n=>{_n instanceof xr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(D){this._preserveFragment=(0,_.D6c)(D)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(D){this._skipLocationChange=(0,_.D6c)(D)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(D){this._replaceUrl=(0,_.D6c)(D)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,L,q,ie,ye){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||L||q||ie||ye||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const D=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(D,L){const q=this.renderer,ie=this.el.nativeElement;null!==L?q.setAttribute(ie,D,L):q.removeAttribute(ie,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(D){return new(D||A)(_.Y36(vr),_.Y36(jr),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(xt.S$))},A.\u0275dir=_.lG2({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,L){1&D&&_.NdJ("click",function(ie){return L.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&D&&_.uIk("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[_.TTD]}),A})(),kn=(()=>{class A{get isActive(){return this._isActive}constructor(D,L,q,ie,ye){this.router=D,this.element=L,this.renderer=q,this.cdr=ie,this.link=ye,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new _.vpe,this.routerEventsSubscription=D.events.subscribe(tt=>{tt instanceof xr&&this.update()})}ngAfterContentInit(){(0,Q.of)(this.links.changes,(0,Q.of)(null)).pipe((0,St.J)()).subscribe(D=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const D=[...this.links.toArray(),this.link].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,h.D)(D).pipe((0,St.J)()).subscribe(L=>{this._isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(D){const L=Array.isArray(D)?D:D.split(" ");this.classes=L.filter(q=>!!q)}ngOnChanges(D){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const D=this.hasActiveLinks();this._isActive!==D&&(this._isActive=D,this.cdr.markForCheck(),this.classes.forEach(L=>{D?this.renderer.addClass(this.element.nativeElement,L):this.renderer.removeClass(this.element.nativeElement,L)}),D&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(D))})}isLinkActive(D){const L=function nc(A){return!!A.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return q=>!!q.urlTree&&D.isActive(q.urlTree,L)}hasActiveLinks(){const D=this.isLinkActive(this.router);return this.link&&D(this.link)||this.links.some(D)}}return A.\u0275fac=function(D){return new(D||A)(_.Y36(vr),_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(_.sBO),_.Y36(Ki,8))},A.\u0275dir=_.lG2({type:A,selectors:[["","routerLinkActive",""]],contentQueries:function(D,L,q){if(1&D&&_.Suo(q,Ki,5),2&D){let ie;_.iGM(ie=_.CRH())&&(L.links=ie)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[_.TTD]}),A})();class oi{}let cn=(()=>{class A{constructor(D,L,q,ie,ye){this.router=D,this.injector=q,this.preloadingStrategy=ie,this.loader=ye}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ct.h)(D=>D instanceof xr),(0,me.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,L){const q=[];for(const ie of L){ie.providers&&!ie._injector&&(ie._injector=(0,_.MMx)(ie.providers,D,`Route: ${ie.path}`));const ye=ie._injector??D,tt=ie._loadedInjector??ye;ie.loadChildren&&!ie._loadedRoutes&&void 0===ie.canLoad||ie.loadComponent&&!ie._loadedComponent?q.push(this.preloadConfig(ye,ie)):(ie.children||ie._loadedRoutes)&&q.push(this.processRoutes(tt,ie.children??ie._loadedRoutes))}return(0,h.D)(q).pipe((0,St.J)())}preloadConfig(D,L){return this.preloadingStrategy.preload(L,()=>{let q;q=L.loadChildren&&void 0===L.canLoad?this.loader.loadChildren(D,L):(0,Q.of)(null);const ie=q.pipe((0,Ve.z)(ye=>null===ye?(0,Q.of)(void 0):(L._loadedRoutes=ye.routes,L._loadedInjector=ye.injector,this.processRoutes(ye.injector??D,ye.routes))));if(L.loadComponent&&!L._loadedComponent){const ye=this.loader.loadComponent(L);return(0,h.D)([ie,ye]).pipe((0,St.J)())}return ie})}}return A.\u0275fac=function(D){return new(D||A)(_.LFG(vr),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(oi),_.LFG(yr))},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const $r=new _.OlP("");let da=(()=>{class A{constructor(D,L,q,ie,ye={}){this.urlSerializer=D,this.transitions=L,this.viewportScroller=q,this.zone=ie,this.options=ye,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ye.scrollPositionRestoration=ye.scrollPositionRestoration||"disabled",ye.anchorScrolling=ye.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Ri?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof xr&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Qe&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,L){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qe(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return A.\u0275fac=function(D){_.$Z()},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac}),A})();var kr=(()=>((kr=kr||{})[kr.COMPLETE=0]="COMPLETE",kr[kr.FAILED=1]="FAILED",kr[kr.REDIRECTING=2]="REDIRECTING",kr))();const os=!1;function ro(A,k){return{\u0275kind:A,\u0275providers:k}}const Al=new _.OlP("",{providedIn:"root",factory:()=>!1});function ua(){const A=(0,_.f3M)(_.zs3);return k=>{const D=A.get(_.z2F);if(k!==D.components[0])return;const L=A.get(vr),q=A.get(ha);1===A.get(nl)&&L.initialNavigation(),A.get(Qi,null,_.XFs.Optional)?.setUpPreloading(),A.get($r,null,_.XFs.Optional)?.init(),L.resetRootComponentType(D.componentTypes[0]),q.closed||(q.next(),q.unsubscribe())}}const ha=new _.OlP(os?"bootstrap done indicator":"",{factory:()=>new Ke.x}),nl=new _.OlP(os?"initial navigation":"",{providedIn:"root",factory:()=>1});function Zo(){let A=[];return A=os?[{provide:_.Xts,multi:!0,useFactory:()=>{const k=(0,_.f3M)(vr);return()=>k.events.subscribe(D=>{console.group?.(`Router Event: ${D.constructor.name}`),console.log(function je(A){if(!("type"in A))return`Unknown Router Event: ${A.constructor.name}`;switch(A.type){case 14:return`ActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state}, shouldActivate: ${A.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 2:return`NavigationCancel(id: ${A.id}, url: '${A.url}')`;case 16:return`NavigationSkipped(id: ${A.id}, url: '${A.url}')`;case 1:return`NavigationEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${A.id}, url: '${A.url}', error: ${A.error})`;case 0:return`NavigationStart(id: ${A.id}, url: '${A.url}')`;case 6:return`ResolveEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 5:return`ResolveStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 10:return`RouteConfigLoadEnd(path: ${A.route.path})`;case 9:return`RouteConfigLoadStart(path: ${A.route.path})`;case 4:return`RoutesRecognized(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 15:return`Scroll(anchor: '${A.anchor}', position: '${A.position?`${A.position[0]}, ${A.position[1]}`:null}')`}}(D)),console.log(D),console.groupEnd?.()})}}]:[],ro(1,A)}const Qi=new _.OlP(os?"router preloader":"");function sc(A){return ro(0,[{provide:Qi,useExisting:cn},{provide:oi,useExisting:A}])}const Dc=!1,lc=new _.OlP(Dc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Ic=[xt.Ye,{provide:Ft,useClass:Pn},vr,Cs,{provide:jr,useFactory:function _s(A){return A.routerState.root},deps:[vr]},yr,Dc?{provide:Al,useValue:!0}:[]];function Oo(){return new _.PXZ("Router",vr)}let Kc=(()=>{class A{constructor(D){}static forRoot(D,L){return{ngModule:A,providers:[Ic,Dc&&L?.enableTracing?Zo().\u0275providers:[],{provide:zn,multi:!0,useValue:D},{provide:lc,useFactory:yu,deps:[[vr,new _.FiY,new _.tp0]]},{provide:Tl,useValue:L||{}},L?.useHash?{provide:xt.S$,useClass:xt.Do}:{provide:xt.S$,useClass:xt.b0},{provide:$r,useFactory:()=>{const A=(0,_.f3M)(xt.EM),k=(0,_.f3M)(_.R0b),D=(0,_.f3M)(Tl),L=(0,_.f3M)(tn),q=(0,_.f3M)(Ft);return D.scrollOffset&&A.setOffset(D.scrollOffset),new da(q,L,A,k,D)}},L?.preloadingStrategy?sc(L.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:Oo},L?.initialNavigation?oo(L):[],[{provide:ls,useFactory:ua},{provide:_.tb,multi:!0,useExisting:ls}]]}}static forChild(D){return{ngModule:A,providers:[{provide:zn,multi:!0,useValue:D}]}}}return A.\u0275fac=function(D){return new(D||A)(_.LFG(lc,8))},A.\u0275mod=_.oAB({type:A}),A.\u0275inj=_.cJS({imports:[_o]}),A})();function yu(A){if(Dc&&A)throw new _.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function oo(A){return["disabled"===A.initialNavigation?ro(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const k=(0,_.f3M)(vr);return()=>{k.setUpLocationChangeListener()}}},{provide:nl,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?ro(2,[{provide:nl,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:k=>{const D=k.get(xt.V_,Promise.resolve());return()=>D.then(()=>new Promise(L=>{const q=k.get(vr),ie=k.get(ha);(function Fr(A,k){A.events.pipe((0,Ct.h)(D=>D instanceof xr||D instanceof Er||D instanceof Nr||D instanceof qn),(0,ht.U)(D=>D instanceof xr||D instanceof qn?kr.COMPLETE:D instanceof Er&&(0===D.code||1===D.code)?kr.REDIRECTING:kr.FAILED),(0,Ct.h)(D=>D!==kr.REDIRECTING),(0,Le.q)(1)).subscribe(()=>{k()})})(q,()=>{L(!0)}),k.get(tn).afterPreactivation=()=>(L(!0),ie.closed?(0,Q.of)(void 0):ie),q.initialNavigation()}))}}]).\u0275providers:[]]}const ls=new _.OlP(Dc?"Router Initializer":"")},3942:(Wt,Ge,P)=>{P.d(Ge,{Z:()=>xt});var _=P(2090),h=P(4859),Q=P(9681),ve=P(1877);class Ae{constructor(Ze,Le){this._delegate=Ze,this.firebase=Le,(0,Q._addComponent)(Ze,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Q.deleteApp)(this._delegate)))}_getService(Ze,Le=Q._DEFAULT_ENTRY_NAME){var Ee;this._delegate.checkDestroyed();const Ct=this._delegate.container.getProvider(Ze);return!Ct.isInitialized()&&"EXPLICIT"===(null===(Ee=Ct.getComponent())||void 0===Ee?void 0:Ee.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:Le})}_removeServiceInstance(Ze,Le=Q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(Le)}_addComponent(Ze){(0,Q._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,Q._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function xe(){const ht=function ce(ht){const Ze={},Le={__esModule:!0,initializeApp:function Ve(Xe,ge={}){const Ce=Q.initializeApp(Xe,ge);if((0,_.r3)(Ze,Ce.name))return Ze[Ce.name];const $e=new ht(Ce,Le);return Ze[Ce.name]=$e,$e},app:Ct,registerVersion:Q.registerVersion,setLogLevel:Q.setLogLevel,onLog:Q.onLog,apps:null,SDK_VERSION:Q.SDK_VERSION,INTERNAL:{registerComponent:function me(Xe){const ge=Xe.name,Ce=ge.replace("-compat","");if(Q._registerComponent(Xe)&&"PUBLIC"===Xe.type){const $e=(mt=Ct())=>{if("function"!=typeof mt[Ce])throw we.create("invalid-app-argument",{appName:ge});return mt[Ce]()};void 0!==Xe.serviceProps&&(0,_.ZB)($e,Xe.serviceProps),Le[Ce]=$e,ht.prototype[Ce]=function(...mt){return this._getService.bind(this,ge).apply(this,Xe.multipleInstances?mt:[])}}return"PUBLIC"===Xe.type?Le[Ce]:null},removeApp:function Ee(Xe){delete Ze[Xe]},useAsService:function ze(Xe,ge){return"serverAuth"===ge?null:ge},modularAPIs:Q}};function Ct(Xe){if(!(0,_.r3)(Ze,Xe=Xe||Q._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Xe});return Ze[Xe]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function De(){return Object.keys(Ze).map(Xe=>Ze[Xe])}}),Ct.App=ht,Le}(Ae);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function Ze(Le){(0,_.ZB)(ht,Le)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),ht}(),_e=new ve.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){_e.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&_e.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xt=ne;!function Ke(ht){(0,Q.registerVersion)("@firebase/app-compat","0.2.8",ht)}()},9681:(Wt,Ge,P)=>{P.r(Ge),P.d(Ge,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>jn,_DEFAULT_ENTRY_NAME:()=>It,_addComponent:()=>et,_addOrOverwriteComponent:()=>at,_apps:()=>St,_clearComponents:()=>wn,_components:()=>bt,_getProvider:()=>sn,_registerComponent:()=>bn,_removeServiceInstance:()=>Tn,deleteApp:()=>pi,getApp:()=>gn,getApps:()=>ri,initializeApp:()=>yi,onLog:()=>fn,registerVersion:()=>ci,setLogLevel:()=>vi});var _=P(5861),h=P(4859),Q=P(1877),ve=P(2090),Ae=P(8766);class Se{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function we($t){return"VERSION"===$t.getComponent()?.type}(K)){const N=K.getImmediate();return`${N.library}/${N.version}`}return null}).filter(K=>K).join(" ")}}const ce="@firebase/app",ne=new Q.Yd("@firebase/app"),It="[DEFAULT]",kt={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},St=new Map,bt=new Map;function et($t,Re){try{$t.container.addComponent(Re)}catch(K){ne.debug(`Component ${Re.name} failed to register with FirebaseApp ${$t.name}`,K)}}function at($t,Re){$t.container.addOrOverwriteComponent(Re)}function bn($t){const Re=$t.name;if(bt.has(Re))return ne.debug(`There were multiple attempts to register component ${Re}.`),!1;bt.set(Re,$t);for(const K of St.values())et(K,$t);return!0}function sn($t,Re){const K=$t.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),$t.container.getProvider(Re)}function Tn($t,Re,K=It){sn($t,Re).clearInstance(K)}function wn(){bt.clear()}const Hn=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ci{constructor(Re,K,N){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=N,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const jn="9.20.0";function yi($t,Re={}){let K=$t;"object"!=typeof Re&&(Re={name:Re});const N=Object.assign({name:It,automaticDataCollectionEnabled:!1},Re),H=N.name;if("string"!=typeof H||!H)throw Hn.create("bad-app-name",{appName:String(H)});if(K||(K=(0,ve.aH)()),!K)throw Hn.create("no-options");const ue=St.get(H);if(ue){if((0,ve.vZ)(K,ue.options)&&(0,ve.vZ)(N,ue.config))return ue;throw Hn.create("duplicate-app",{appName:H})}const Ie=new h.H0(H);for(const be of bt.values())Ie.addComponent(be);const se=new Ci(K,N,Ie);return St.set(H,se),se}function gn($t=It){const Re=St.get($t);if(!Re&&$t===It)return yi();if(!Re)throw Hn.create("no-app",{appName:$t});return Re}function ri(){return Array.from(St.values())}function pi($t){return hi.apply(this,arguments)}function hi(){return(hi=(0,_.Z)(function*($t){const Re=$t.name;St.has(Re)&&(St.delete(Re),yield Promise.all($t.container.getProviders().map(K=>K.delete())),$t.isDeleted=!0)})).apply(this,arguments)}function ci($t,Re,K){var N;let H=null!==(N=kt[$t])&&void 0!==N?N:$t;K&&(H+=`-${K}`);const ue=H.match(/\s|\//),Ie=Re.match(/\s|\//);if(ue||Ie){const se=[`Unable to register library "${H}" with version "${Re}":`];return ue&&se.push(`library name "${H}" contains illegal characters (whitespace or "/")`),ue&&Ie&&se.push("and"),Ie&&se.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void ne.warn(se.join(" "))}bn(new h.wA(`${H}-version`,()=>({library:H,version:Re}),"VERSION"))}function fn($t,Re){if(null!==$t&&"function"!=typeof $t)throw Hn.create("invalid-log-argument");(0,Q.Am)($t,Re)}function vi($t){(0,Q.Ub)($t)}const Gi="firebase-heartbeat-database",fi=1,_i="firebase-heartbeat-store";let Di=null;function Sn(){return Di||(Di=(0,Ae.X3)(Gi,fi,{upgrade:($t,Re)=>{0===Re&&$t.createObjectStore(_i)}}).catch($t=>{throw Hn.create("idb-open",{originalErrorMessage:$t.message})})),Di}function Dt(){return(Dt=(0,_.Z)(function*($t){try{return(yield Sn()).transaction(_i).objectStore(_i).get(Yt($t))}catch(Re){if(Re instanceof ve.ZR)ne.warn(Re.message);else{const K=Hn.create("idb-get",{originalErrorMessage:Re?.message});ne.warn(K.message)}}})).apply(this,arguments)}function Un($t,Re){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,_.Z)(function*($t,Re){try{const N=(yield Sn()).transaction(_i,"readwrite");return yield N.objectStore(_i).put(Re,Yt($t)),N.done}catch(K){if(K instanceof ve.ZR)ne.warn(K.message);else{const N=Hn.create("idb-set",{originalErrorMessage:K?.message});ne.warn(N.message)}}})).apply(this,arguments)}function Yt($t){return`${$t.name}!${$t.options.appId}`}class Pn{constructor(Re){this.container=Re,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new Rn(K),this._heartbeatsCachePromise=this._storage.read().then(N=>(this._heartbeatsCache=N,N))}triggerHeartbeat(){var Re=this;return(0,_.Z)(function*(){const N=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),H=xn();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==H&&!Re._heartbeatsCache.heartbeats.some(ue=>ue.date===H))return Re._heartbeatsCache.heartbeats.push({date:H,agent:N}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(ue=>{const Ie=new Date(ue.date).valueOf();return Date.now()-Ie<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,_.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const K=xn(),{heartbeatsToSend:N,unsentEntries:H}=function Vi($t,Re=1024){const K=[];let N=$t.slice();for(const H of $t){const ue=K.find(Ie=>Ie.agent===H.agent);if(ue){if(ue.dates.push(H.date),Mi(K)>Re){ue.dates.pop();break}}else if(K.push({agent:H.agent,dates:[H.date]}),Mi(K)>Re){K.pop();break}N=N.slice(1)}return{heartbeatsToSend:K,unsentEntries:N}}(Re._heartbeatsCache.heartbeats),ue=(0,ve.L)(JSON.stringify({version:2,heartbeats:N}));return Re._heartbeatsCache.lastSentHeartbeatDate=K,H.length>0?(Re._heartbeatsCache.heartbeats=H,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),ue})()}}function xn(){return(new Date).toISOString().substring(0,10)}class Rn{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,_.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function an($t){return Dt.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var K=this;return(0,_.Z)(function*(){var N;if(yield K._canUseIndexedDBPromise){const ue=yield K.read();return Un(K.app,{lastSentHeartbeatDate:null!==(N=Re.lastSentHeartbeatDate)&&void 0!==N?N:ue.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var K=this;return(0,_.Z)(function*(){var N;if(yield K._canUseIndexedDBPromise){const ue=yield K.read();return Un(K.app,{lastSentHeartbeatDate:null!==(N=Re.lastSentHeartbeatDate)&&void 0!==N?N:ue.lastSentHeartbeatDate,heartbeats:[...ue.heartbeats,...Re.heartbeats]})}})()}}function Mi($t){return(0,ve.L)(JSON.stringify({version:2,heartbeats:$t})).length}!function si($t){bn(new h.wA("platform-logger",Re=>new Se(Re),"PRIVATE")),bn(new h.wA("heartbeat",Re=>new Pn(Re),"PRIVATE")),ci(ce,"0.9.8",$t),ci(ce,"0.9.8","esm2017"),ci("fire-js","")}("")},4859:(Wt,Ge,P)=>{P.d(Ge,{H0:()=>ce,wA:()=>Q,zt:()=>Ae});var _=P(5861),h=P(2090);class Q{constructor(ne,_e,pe){this.name=ne,this.instanceFactory=_e,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const ve="[DEFAULT]";class Ae{constructor(ne,_e){this.name=ne,this.container=_e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const _e=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(_e)){const pe=new h.BH;if(this.instancesDeferred.set(_e,pe),this.isInitialized(_e)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:_e});nt&&pe.resolve(nt)}catch{}}return this.instancesDeferred.get(_e).promise}getImmediate(ne){var _e;const pe=this.normalizeInstanceIdentifier(ne?.identifier),nt=null!==(_e=ne?.optional)&&void 0!==_e&&_e;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Ke){if(nt)return null;throw Ke}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function we(xe){return"EAGER"===xe.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[_e,pe]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(_e);try{const Ke=this.getOrInitializeService({instanceIdentifier:nt});pe.resolve(Ke)}catch{}}}}clearInstance(ne=ve){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,_.Z)(function*(){const _e=Array.from(ne.instances.values());yield Promise.all([..._e.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),..._e.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=ve){return this.instances.has(ne)}getOptions(ne=ve){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:_e={}}=ne,pe=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:pe,options:_e});for(const[Ke,xt]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(Ke)&&xt.resolve(nt);return nt}onInit(ne,_e){var pe;const nt=this.normalizeInstanceIdentifier(_e),Ke=null!==(pe=this.onInitCallbacks.get(nt))&&void 0!==pe?pe:new Set;Ke.add(ne),this.onInitCallbacks.set(nt,Ke);const xt=this.instances.get(nt);return xt&&ne(xt,nt),()=>{Ke.delete(ne)}}invokeOnInitCallbacks(ne,_e){const pe=this.onInitCallbacks.get(_e);if(pe)for(const nt of pe)try{nt(ne,_e)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:_e={}}){let pe=this.instances.get(ne);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=ne,xe===ve?void 0:xe),options:_e}),this.instances.set(ne,pe),this.instancesOptions.set(ne,_e),this.invokeOnInitCallbacks(pe,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,pe)}catch{}var xe;return pe||null}normalizeInstanceIdentifier(ne=ve){return this.component?this.component.multipleInstances?ne:ve:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const _e=this.getProvider(ne.name);if(_e.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);_e.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const _e=new Ae(ne,this);return this.providers.set(ne,_e),_e}getProviders(){return Array.from(this.providers.values())}}},1877:(Wt,Ge,P)=>{P.d(Ge,{Am:()=>xe,Ub:()=>ce,Yd:()=>we,in:()=>h});const _=[];var h=(()=>{return(ne=h||(h={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",h;var ne})();const Q={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},ve=h.INFO,Ae={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},Se=(ne,_e,...pe)=>{if(_e<ne.logLevel)return;const nt=(new Date).toISOString(),Ke=Ae[_e];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`);console[Ke](`[${nt}]  ${ne.name}:`,...pe)};class we{constructor(_e){this.name=_e,this._logLevel=ve,this._logHandler=Se,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in h))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel="string"==typeof _e?Q[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,..._e),this._logHandler(this,h.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,..._e),this._logHandler(this,h.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,h.INFO,..._e),this._logHandler(this,h.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,h.WARN,..._e),this._logHandler(this,h.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,..._e),this._logHandler(this,h.ERROR,..._e)}}function ce(ne){_.forEach(_e=>{_e.setLogLevel(ne)})}function xe(ne,_e){for(const pe of _){let nt=null;_e&&_e.level&&(nt=Q[_e.level]),pe.userLogHandler=null===ne?null:(Ke,xt,...ht)=>{const Ze=ht.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch{return null}}).filter(Le=>Le).join(" ");xt>=(nt??Ke.logLevel)&&ne({level:h[xt].toLowerCase(),message:Ze,args:ht,type:Ke.name})}}}},259:(Wt,Ge,P)=>{P.d(Ge,{C6:()=>_.getApps,Mq:()=>_.getApp});var _=P(9681);(0,_.registerVersion)("firebase","9.20.0","app")},9260:(Wt,Ge,P)=>{P.d(Ge,{Z:()=>_.Z});var _=P(3942);_.Z.registerVersion("firebase","9.20.0","app-compat")},6689:(Wt,Ge,P)=>{P.r(Ge);var _=P(5861),h=P(3942),Q=P(2090),ve=P(9681),Ae=P(655),Se=P(1877),we=P(4859);const xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},pe_EMAIL_SIGNIN="EMAIL_SIGNIN",pe_PASSWORD_RESET="PASSWORD_RESET",pe_RECOVER_EMAIL="RECOVER_EMAIL",pe_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",pe_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",pe_VERIFY_EMAIL="VERIFY_EMAIL";const xt=function nt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ht=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new Se.Yd("@firebase/auth");function Ve(C,...y){Ee.logLevel<=Se.in.ERROR&&Ee.error(`Auth (${ve.SDK_VERSION}): ${C}`,...y)}function De(C,...y){throw ge(C,...y)}function me(C,...y){return ge(C,...y)}function ze(C,y,b){const T=Object.assign(Object.assign({},ht()),{[y]:b});return new Q.LL("auth","Firebase",T).create(y,{appName:C.name})}function Xe(C,y,b){if(!(y instanceof b))throw b.name!==y.constructor.name&&De(C,"argument-error"),ze(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ge(C,...y){if("string"!=typeof C){const b=y[0],T=[...y.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(b,...T)}return Ze.create(C,...y)}function Ce(C,y,...b){if(!C)throw ge(y,...b)}function $e(C){const y="INTERNAL ASSERTION FAILED: "+C;throw Ve(y),new Error(y)}function mt(C,y){C||$e(y)}function nn(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Nt(){return"http:"===rt()||"https:"===rt()}function rt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Mt{constructor(y,b){this.shortDelay=y,this.longDelay=b,mt(b>y,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return function ft(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,Q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function It(C,y){mt(C.emulator,"Emulator should always be set here");const{url:b}=C.emulator;return y?`${b}${y.startsWith("/")?y.slice(1):y}`:b}class kt{static initialize(y,b,T){this.fetchImpl=y,b&&(this.headersImpl=b),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bt=new Mt(3e4,6e4);function et(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function at(C,y,b,T){return bn.apply(this,arguments)}function bn(){return(bn=(0,_.Z)(function*(C,y,b,T,M={}){return sn(C,M,(0,_.Z)(function*(){let re={},He={};T&&("GET"===y?He=T:re={body:JSON.stringify(T)});const ct=(0,Q.xO)(Object.assign({key:C.config.apiKey},He)).slice(1),jt=yield C._getAdditionalHeaders();return jt["Content-Type"]="application/json",C.languageCode&&(jt["X-Firebase-Locale"]=C.languageCode),kt.fetch()(Hn(C,C.config.apiHost,b,ct),Object.assign({method:y,headers:jt,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function sn(C,y,b){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,_.Z)(function*(C,y,b){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},St),y);try{const M=new Ci(C),re=yield Promise.race([b(),M.promise]);M.clearNetworkTimeout();const He=yield re.json();if("needConfirmation"in He)throw jn(C,"account-exists-with-different-credential",He);if(re.ok&&!("errorMessage"in He))return He;{const ct=re.ok?He.errorMessage:He.error.message,[jt,dn]=ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jt)throw jn(C,"credential-already-in-use",He);if("EMAIL_EXISTS"===jt)throw jn(C,"email-already-in-use",He);if("USER_DISABLED"===jt)throw jn(C,"user-disabled",He);const In=T[jt]||jt.toLowerCase().replace(/[_\s]+/g,"-");if(dn)throw ze(C,In,dn);De(C,In)}}catch(M){if(M instanceof Q.ZR)throw M;De(C,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function wn(C,y,b,T){return On.apply(this,arguments)}function On(){return(On=(0,_.Z)(function*(C,y,b,T,M={}){const re=yield at(C,y,b,T,M);return"mfaPendingCredential"in re&&De(C,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function Hn(C,y,b,T){const M=`${y}${b}?${T}`;return C.config.emulator?It(C.config,M):`${C.config.apiScheme}://${M}`}class Ci{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((b,T)=>{this.timer=setTimeout(()=>T(me(this.auth,"network-request-failed")),bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(C,y,b){const T={appName:C.name};b.email&&(T.email=b.email),b.phoneNumber&&(T.phoneNumber=b.phoneNumber);const M=me(C,y,T);return M.customData._tokenResponse=b,M}function gn(){return(gn=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function pi(){return(pi=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ci(){return(ci=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function fn(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function fi(){return(fi=(0,_.Z)(function*(C,y=!1){const b=(0,Q.m9)(C),T=yield b.getIdToken(y),M=Di(T);Ce(M&&M.exp&&M.auth_time&&M.iat,b.auth,"internal-error");const re="object"==typeof M.firebase?M.firebase:void 0,He=re?.sign_in_provider;return{claims:M,token:T,authTime:fn(_i(M.auth_time)),issuedAtTime:fn(_i(M.iat)),expirationTime:fn(_i(M.exp)),signInProvider:He||null,signInSecondFactor:re?.sign_in_second_factor||null}})).apply(this,arguments)}function _i(C){return 1e3*Number(C)}function Di(C){const[y,b,T]=C.split(".");if(void 0===y||void 0===b||void 0===T)return Ve("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,Q.tV)(b);return M?JSON.parse(M):(Ve("Failed to decode base64 JWT payload"),null)}catch(M){return Ve("Caught error parsing JWT payload as JSON",M?.toString()),null}}function an(C,y){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,_.Z)(function*(C,y,b=!1){if(b)return y;try{return yield y}catch(T){throw T instanceof Q.ZR&&function Un({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}class Ot{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var b;if(y){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const M=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(y=!1){var b=this;if(!this.isRunning)return;const T=this.getInterval(y);this.timerId=setTimeout((0,_.Z)(function*(){yield b.iteration()}),T)}iteration(){var y=this;return(0,_.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&y.schedule(!0))}y.schedule()})()}}class Yt{constructor(y,b){this.createdAt=y,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=fn(this.lastLoginAt),this.creationTime=fn(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function st(C){return Ft.apply(this,arguments)}function Ft(){return Ft=(0,_.Z)(function*(C){var y;const b=C.auth,T=yield C.getIdToken(),M=yield an(C,function hi(C,y){return ci.apply(this,arguments)}(b,{idToken:T}));Ce(M?.users.length,b,"internal-error");const re=M.users[0];C._notifyReloadListener(re);const He=null!==(y=re.providerUserInfo)&&void 0!==y&&y.length?function Rn(C){return C.map(y=>{var{providerId:b}=y,T=(0,Ae._T)(y,["providerId"]);return{providerId:b,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(re.providerUserInfo):[],ct=function Vi(C,y){return[...C.filter(T=>!y.some(M=>M.providerId===T.providerId)),...y]}(C.providerData,He),In=!!C.isAnonymous&&!(C.email&&re.passwordHash||ct?.length),Qt={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:ct,metadata:new Yt(re.createdAt,re.lastLoginAt),isAnonymous:In};Object.assign(C,Qt)}),Ft.apply(this,arguments)}function xn(){return(xn=(0,_.Z)(function*(C){const y=(0,Q.m9)(C);yield st(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function si(){return(si=(0,_.Z)(function*(C,y){const b=yield sn(C,{},(0,_.Z)(function*(){const T=(0,Q.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:M,apiKey:re}=C.config,He=Hn(C,M,"/v1/token",`key=${re}`),ct=yield C._getAdditionalHeaders();return ct["Content-Type"]="application/x-www-form-urlencoded",kt.fetch()(He,{method:"POST",headers:ct,body:T})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class $t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ce(y.idToken,"internal-error"),Ce(typeof y.idToken<"u","internal-error"),Ce(typeof y.refreshToken<"u","internal-error");const b="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Sn(C){const y=Di(C);return Ce(y,"internal-error"),Ce(typeof y.exp<"u","internal-error"),Ce(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,b)}getToken(y,b=!1){var T=this;return(0,_.Z)(function*(){return Ce(!T.accessToken||T.refreshToken,y,"user-token-expired"),b||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(y,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,b){var T=this;return(0,_.Z)(function*(){const{accessToken:M,refreshToken:re,expiresIn:He}=yield function Mi(C,y){return si.apply(this,arguments)}(y,b);T.updateTokensAndExpiration(M,re,Number(He))})()}updateTokensAndExpiration(y,b,T){this.refreshToken=b||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(y,b){const{refreshToken:T,accessToken:M,expirationTime:re}=b,He=new $t;return T&&(Ce("string"==typeof T,"internal-error",{appName:y}),He.refreshToken=T),M&&(Ce("string"==typeof M,"internal-error",{appName:y}),He.accessToken=M),re&&(Ce("number"==typeof re,"internal-error",{appName:y}),He.expirationTime=re),He}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new $t,this.toJSON())}_performRefresh(){return $e("not implemented")}}function Re(C,y){Ce("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class K{constructor(y){var{uid:b,auth:T,stsTokenManager:M}=y,re=(0,Ae._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=T,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new Yt(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(y){var b=this;return(0,_.Z)(function*(){const T=yield an(b,b.stsTokenManager.getToken(b.auth,y));return Ce(T,b.auth,"internal-error"),b.accessToken!==T&&(b.accessToken=T,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),T})()}getIdTokenResult(y){return function Gi(C){return fi.apply(this,arguments)}(this,y)}reload(){return function Pn(C){return xn.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ce(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(b=>Object.assign({},b)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const b=new K(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(y){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,b=!1){var T=this;return(0,_.Z)(function*(){let M=!1;y.idToken&&y.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(y),M=!0),b&&(yield st(T)),yield T.auth._persistUserIfCurrent(T),M&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var y=this;return(0,_.Z)(function*(){const b=yield y.getIdToken();return yield an(y,function yi(C,y){return gn.apply(this,arguments)}(y.auth,{idToken:b})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,b){var T,M,re,He,ct,jt,dn,In;const Qt=null!==(T=b.displayName)&&void 0!==T?T:void 0,Yn=null!==(M=b.email)&&void 0!==M?M:void 0,vo=null!==(re=b.phoneNumber)&&void 0!==re?re:void 0,Gd=null!==(He=b.photoURL)&&void 0!==He?He:void 0,Lr=null!==(ct=b.tenantId)&&void 0!==ct?ct:void 0,Nf=null!==(jt=b._redirectEventId)&&void 0!==jt?jt:void 0,Fm=null!==(dn=b.createdAt)&&void 0!==dn?dn:void 0,Ch=null!==(In=b.lastLoginAt)&&void 0!==In?In:void 0,{uid:Ff,emailVerified:Lm,isAnonymous:$d,providerData:Dh,stsTokenManager:ig}=b;Ce(Ff&&ig,y,"internal-error");const Bm=$t.fromJSON(this.name,ig);Ce("string"==typeof Ff,y,"internal-error"),Re(Qt,y.name),Re(Yn,y.name),Ce("boolean"==typeof Lm,y,"internal-error"),Ce("boolean"==typeof $d,y,"internal-error"),Re(vo,y.name),Re(Gd,y.name),Re(Lr,y.name),Re(Nf,y.name),Re(Fm,y.name),Re(Ch,y.name);const Ih=new K({uid:Ff,auth:y,email:Yn,emailVerified:Lm,displayName:Qt,isAnonymous:$d,photoURL:Gd,phoneNumber:vo,tenantId:Lr,stsTokenManager:Bm,createdAt:Fm,lastLoginAt:Ch});return Dh&&Array.isArray(Dh)&&(Ih.providerData=Dh.map(O_=>Object.assign({},O_))),Nf&&(Ih._redirectEventId=Nf),Ih}static _fromIdTokenResponse(y,b,T=!1){return(0,_.Z)(function*(){const M=new $t;M.updateFromServerResponse(b);const re=new K({uid:b.localId,auth:y,stsTokenManager:M,isAnonymous:T});return yield st(re),re})()}}const N=new Map;function H(C){mt(C instanceof Function,"Expected a class definition");let y=N.get(C);return y?(mt(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,N.set(C,y),y)}const Ie=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(b,T){var M=this;return(0,_.Z)(function*(){M.storage[b]=T})()}_get(b){var T=this;return(0,_.Z)(function*(){const M=T.storage[b];return void 0===M?null:M})()}_remove(b){var T=this;return(0,_.Z)(function*(){delete T.storage[b]})()}_addListener(b,T){}_removeListener(b,T){}}return C.type="NONE",C})();function se(C,y,b){return`firebase:${C}:${y}:${b}`}class be{constructor(y,b,T){this.persistence=y,this.auth=b,this.userKey=T;const{config:M,name:re}=this.auth;this.fullUserKey=se(this.userKey,M.apiKey,re),this.fullPersistenceKey=se("persistence",M.apiKey,re),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,_.Z)(function*(){const b=yield y.persistence._get(y.fullUserKey);return b?K._fromJSON(y.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var b=this;return(0,_.Z)(function*(){if(b.persistence===y)return;const T=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=y,T?b.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,b,T="authUser"){return(0,_.Z)(function*(){if(!b.length)return new be(H(Ie),y,T);const M=(yield Promise.all(b.map(function(){var dn=(0,_.Z)(function*(In){if(yield In._isAvailable())return In});return function(In){return dn.apply(this,arguments)}}()))).filter(dn=>dn);let re=M[0]||H(Ie);const He=se(T,y.config.apiKey,y.name);let ct=null;for(const dn of b)try{const In=yield dn._get(He);if(In){const Qt=K._fromJSON(y,In);dn!==re&&(ct=Qt),re=dn;break}}catch{}const jt=M.filter(dn=>dn._shouldAllowMigration);return re._shouldAllowMigration&&jt.length?(re=jt[0],ct&&(yield re._set(He,ct.toJSON())),yield Promise.all(b.map(function(){var dn=(0,_.Z)(function*(In){if(In!==re)try{yield In._remove(He)}catch{}});return function(In){return dn.apply(this,arguments)}}())),new be(re,y,T)):new be(re,y,T)})()}}function Fe(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Ne(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ot(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(de(y))return"Blackberry";if(Be(y))return"Webos";if(Ye(y))return"Safari";if((y.includes("chrome/")||on(y))&&!y.includes("edge/"))return"Chrome";if(Oe(y))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function ot(C=(0,Q.z$)()){return/firefox\//i.test(C)}function Ye(C=(0,Q.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function on(C=(0,Q.z$)()){return/crios\//i.test(C)}function Ne(C=(0,Q.z$)()){return/iemobile/i.test(C)}function Oe(C=(0,Q.z$)()){return/android/i.test(C)}function de(C=(0,Q.z$)()){return/blackberry/i.test(C)}function Be(C=(0,Q.z$)()){return/webos/i.test(C)}function yt(C=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Vt(C=(0,Q.z$)()){return yt(C)||Oe(C)||Be(C)||de(C)||/windows phone/i.test(C)||Ne(C)}function cr(C,y=[]){let b;switch(C){case"Browser":b=Fe((0,Q.z$)());break;case"Worker":b=`${Fe((0,Q.z$)())}-${C}`;break;default:b=C}const T=y.length?y.join(","):"FirebaseCore-web";return`${b}/JsCore/${ve.SDK_VERSION}/${T}`}function hs(){return(hs=(0,_.Z)(function*(C){return(yield at(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Do(C,y){return zs.apply(this,arguments)}function zs(){return(zs=(0,_.Z)(function*(C,y){return at(C,"GET","/v2/recaptchaConfig",et(C,y))})).apply(this,arguments)}function mo(C){return void 0!==C&&void 0!==C.getResponse}function ws(C){return void 0!==C&&void 0!==C.enterprise}class mi{constructor(y){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.emailPasswordEnabled=y.recaptchaEnforcementState.some(b=>"EMAIL_PASSWORD_PROVIDER"===b.provider&&"OFF"!==b.enforcementState)}}function Zi(C){return new Promise((y,b)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=y,T.onerror=M=>{const re=me("internal-error");re.customData=M,b(re)},T.type="text/javascript",T.charset="UTF-8",function sr(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(T)})}function xs(C){return`__${C}${Math.floor(1e6*Math.random())}`}class mn{constructor(y){this.type="recaptcha-enterprise",this.auth=Gn(y)}verify(y="verify",b=!1){var T=this;return(0,_.Z)(function*(){function re(){return re=(0,_.Z)(function*(ct){if(!b){if(null==ct.tenantId&&null!=ct._agentRecaptchaConfig)return ct._agentRecaptchaConfig.siteKey;if(null!=ct.tenantId&&void 0!==ct._tenantRecaptchaConfigs[ct.tenantId])return ct._tenantRecaptchaConfigs[ct.tenantId].siteKey}return new Promise(function(){var jt=(0,_.Z)(function*(dn,In){Do(ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Qt=>{if(void 0!==Qt.recaptchaKey){const Yn=new mi(Qt);return null==ct.tenantId?ct._agentRecaptchaConfig=Yn:ct._tenantRecaptchaConfigs[ct.tenantId]=Yn,dn(Yn.siteKey)}In(new Error("recaptcha Enterprise site key undefined"))}).catch(Qt=>{In(Qt)})});return function(dn,In){return jt.apply(this,arguments)}}())}),re.apply(this,arguments)}function He(ct,jt,dn){const In=window.grecaptcha;ws(In)?In.enterprise.ready(()=>{try{In.enterprise.execute(ct,{action:y}).then(Qt=>{jt(Qt)}).catch(Qt=>{dn(Qt)})}catch(Qt){dn(Qt)}}):dn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ct,jt)=>{(function M(ct){return re.apply(this,arguments)})(T.auth).then(dn=>{if(!b&&ws(window.grecaptcha))He(dn,ct,jt);else{if(typeof window>"u")return void jt(new Error("RecaptchaVerifier is only supported in browser"));Zi("https://www.google.com/recaptcha/enterprise.js?render="+dn).then(()=>{He(dn,ct,jt)}).catch(In=>{jt(In)})}}).catch(dn=>{jt(dn)})})})()}}function Nn(C,y,b){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,_.Z)(function*(C,y,b,T=!1){const M=new mn(C);let re;try{re=yield M.verify(b)}catch{re=yield M.verify(b,!0)}const He=Object.assign({},y);return Object.assign(He,T?{captchaResp:re}:{captchaResponse:re}),Object.assign(He,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(He,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),He})).apply(this,arguments)}class Tr{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,b){const T=re=>new Promise((He,ct)=>{try{He(y(re))}catch(jt){ct(jt)}});T.onAbort=b,this.queue.push(T);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(y){var b=this;return(0,_.Z)(function*(){if(b.auth.currentUser===y)return;const T=[];try{for(const M of b.queue)yield M(y),M.onAbort&&T.push(M.onAbort)}catch(M){T.reverse();for(const re of T)try{re()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class es{constructor(y,b,T,M){this.app=y,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=T,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $i(this),this.idTokenSubscription=new $i(this),this.beforeStateQueue=new Tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(y,b){var T=this;return b&&(this._popupRedirectResolver=H(b)),this._initializationPromise=this.queue((0,_.Z)(function*(){var M,re;if(!T._deleted&&(T.persistenceManager=yield be.create(T,y),!T._deleted)){if(null!==(M=T._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(b),T.lastNotifiedUid=(null===(re=T.currentUser)||void 0===re?void 0:re.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,_.Z)(function*(){if(y._deleted)return;const b=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||b){if(y.currentUser&&b&&y.currentUser.uid===b.uid)return y._currentUser._assign(b),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(b,!0)}})()}initializeCurrentUser(y){var b=this;return(0,_.Z)(function*(){var T;const M=yield b.assertedPersistence.getCurrentUser();let re=M,He=!1;if(y&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const ct=null===(T=b.redirectUser)||void 0===T?void 0:T._redirectEventId,jt=re?._redirectEventId,dn=yield b.tryRedirectSignIn(y);(!ct||ct===jt)&&dn?.user&&(re=dn.user,He=!0)}if(!re)return b.directlySetCurrentUser(null);if(!re._redirectEventId){if(He)try{yield b.beforeStateQueue.runMiddleware(re)}catch(ct){re=M,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(ct))}return re?b.reloadAndSetCurrentUserOrClear(re):b.directlySetCurrentUser(null)}return Ce(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===re._redirectEventId?b.directlySetCurrentUser(re):b.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(y){var b=this;return(0,_.Z)(function*(){let T=null;try{T=yield b._popupRedirectResolver._completeRedirectFn(b,y,!0)}catch{yield b._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(y){var b=this;return(0,_.Z)(function*(){try{yield st(y)}catch(T){if("auth/network-request-failed"!==T?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Et(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,_.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var b=this;return(0,_.Z)(function*(){const T=y?(0,Q.m9)(y):null;return T&&Ce(T.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(T&&T._clone(b))})()}_updateCurrentUser(y,b=!1){var T=this;return(0,_.Z)(function*(){if(!T._deleted)return y&&Ce(T.tenantId===y.tenantId,T,"tenant-id-mismatch"),b||(yield T.beforeStateQueue.runMiddleware(y)),T.queue((0,_.Z)(function*(){yield T.directlySetCurrentUser(y),T.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,_.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var b=this;return this.queue((0,_.Z)(function*(){yield b.assertedPersistence.setPersistence(H(y))}))}initializeRecaptchaConfig(){var y=this;return(0,_.Z)(function*(){const b=yield Do(y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new mi(b);null==y.tenantId?y._agentRecaptchaConfig=T:y._tenantRecaptchaConfigs[y.tenantId]=T,T.emailPasswordEnabled&&new mn(y).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new Q.LL("auth","Firebase",y())}onAuthStateChanged(y,b,T){return this.registerStateListener(this.authStateSubscription,y,b,T)}beforeAuthStateChanged(y,b){return this.beforeStateQueue.pushCallback(y,b)}onIdTokenChanged(y,b,T){return this.registerStateListener(this.idTokenSubscription,y,b,T)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,b){var T=this;return(0,_.Z)(function*(){const M=yield T.getOrInitRedirectPersistenceManager(b);return null===y?M.removeCurrentUser():M.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var b=this;return(0,_.Z)(function*(){if(!b.redirectPersistenceManager){const T=y&&H(y)||b._popupRedirectResolver;Ce(T,b,"argument-error"),b.redirectPersistenceManager=yield be.create(b,[H(T._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(y){var b=this;return(0,_.Z)(function*(){var T,M;return b._isInitialized&&(yield b.queue((0,_.Z)(function*(){}))),(null===(T=b._currentUser)||void 0===T?void 0:T._redirectEventId)===y?b._currentUser:(null===(M=b.redirectUser)||void 0===M?void 0:M._redirectEventId)===y?b.redirectUser:null})()}_persistUserIfCurrent(y){var b=this;return(0,_.Z)(function*(){if(y===b.currentUser)return b.queue((0,_.Z)(function*(){return b.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(b=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,b,T,M){if(this._deleted)return()=>{};const re="function"==typeof b?b:b.next.bind(b),He=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(He,this,"internal-error"),He.then(()=>re(this.currentUser)),"function"==typeof b?y.addObserver(b,T,M):y.addObserver(b)}directlySetCurrentUser(y){var b=this;return(0,_.Z)(function*(){b.currentUser&&b.currentUser!==y&&b._currentUser._stopProactiveRefresh(),y&&b.isProactiveRefreshEnabled&&y._startProactiveRefresh(),b.currentUser=y,y?yield b.assertedPersistence.setCurrentUser(y):yield b.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=cr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,_.Z)(function*(){var b;const T={"X-Client-Version":y.clientVersion};y.app.options.appId&&(T["X-Firebase-gmpid"]=y.app.options.appId);const M=yield null===(b=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();M&&(T["X-Firebase-Client"]=M);const re=yield y._getAppCheckToken();return re&&(T["X-Firebase-AppCheck"]=re),T})()}_getAppCheckToken(){var y=this;return(0,_.Z)(function*(){var b;const T=yield null===(b=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return T?.error&&function Ct(C,...y){Ee.logLevel<=Se.in.WARN&&Ee.warn(`Auth (${ve.SDK_VERSION}): ${C}`,...y)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function Gn(C){return(0,Q.m9)(C)}class $i{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,Q.ne)(b=>this.observer=b)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qn(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function na(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class Cr{constructor(y,b){this.providerId=y,this.signInMethod=b}toJSON(){return $e("not implemented")}_getIdTokenResponse(y){return $e("not implemented")}_linkToIdToken(y,b){return $e("not implemented")}_getReauthenticationResolver(y){return $e("not implemented")}}function Ji(C,y){return fs.apply(this,arguments)}function fs(){return(fs=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:resetPassword",et(C,y))})).apply(this,arguments)}function Rs(C,y){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Dr(){return(Dr=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:update",et(C,y))})).apply(this,arguments)}function Hi(C,y){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,_.Z)(function*(C,y){return wn(C,"POST","/v1/accounts:signInWithPassword",et(C,y))})).apply(this,arguments)}function Qe(C,y){return je.apply(this,arguments)}function je(){return(je=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:sendOobCode",et(C,y))})).apply(this,arguments)}function Ut(){return(Ut=(0,_.Z)(function*(C,y){return Qe(C,y)})).apply(this,arguments)}function Zt(C,y){return pn.apply(this,arguments)}function pn(){return(pn=(0,_.Z)(function*(C,y){return Qe(C,y)})).apply(this,arguments)}function ei(C,y){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,_.Z)(function*(C,y){return Qe(C,y)})).apply(this,arguments)}function or(){return(or=(0,_.Z)(function*(C,y){return Qe(C,y)})).apply(this,arguments)}function Mr(){return(Mr=(0,_.Z)(function*(C,y){return wn(C,"POST","/v1/accounts:signInWithEmailLink",et(C,y))})).apply(this,arguments)}function Ga(){return(Ga=(0,_.Z)(function*(C,y){return wn(C,"POST","/v1/accounts:signInWithEmailLink",et(C,y))})).apply(this,arguments)}class jr extends Cr{constructor(y,b,T,M=null){super("password",T),this._email=y,this._password=b,this._tenantId=M}static _fromEmailAndPassword(y,b){return new jr(y,b,"password")}static _fromEmailAndCode(y,b,T=null){return new jr(y,b,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(y){var b=this;return(0,_.Z)(function*(){var T;switch(b.signInMethod){case"password":const M={returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=y._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const re=yield Nn(y,M,"signInWithPassword");return Hi(y,re)}return Hi(y,M).catch(function(){var re=(0,_.Z)(function*(He){if("auth/missing-recaptcha-token"===He.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ct=yield Nn(y,M,"signInWithPassword");return Hi(y,ct)}return Promise.reject(He)});return function(He){return re.apply(this,arguments)}}());case"emailLink":return function Ar(C,y){return Mr.apply(this,arguments)}(y,{email:b._email,oobCode:b._password});default:De(y,"internal-error")}})()}_linkToIdToken(y,b){var T=this;return(0,_.Z)(function*(){switch(T.signInMethod){case"password":return Rs(y,{idToken:b,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function ms(C,y){return Ga.apply(this,arguments)}(y,{idToken:b,email:T._email,oobCode:T._password});default:De(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function ts(C,y){return Io.apply(this,arguments)}function Io(){return(Io=(0,_.Z)(function*(C,y){return wn(C,"POST","/v1/accounts:signInWithIdp",et(C,y))})).apply(this,arguments)}class Os extends Cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const b=new Os(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(b.idToken=y.idToken),y.accessToken&&(b.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(b.nonce=y.nonce),y.pendingToken&&(b.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(b.accessToken=y.oauthToken,b.secret=y.oauthTokenSecret):De("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:M}=b,re=(0,Ae._T)(b,["providerId","signInMethod"]);if(!T||!M)return null;const He=new Os(T,M);return He.idToken=re.idToken||void 0,He.accessToken=re.accessToken||void 0,He.secret=re.secret,He.nonce=re.nonce,He.pendingToken=re.pendingToken||null,He}_getIdTokenResponse(y){return ts(y,this.buildRequest())}_linkToIdToken(y,b){const T=this.buildRequest();return T.idToken=b,ts(y,T)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,ts(y,b)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),y.postBody=(0,Q.xO)(b)}return y}}function Go(){return(Go=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:sendVerificationCode",et(C,y))})).apply(this,arguments)}function po(){return(po=(0,_.Z)(function*(C,y){return wn(C,"POST","/v1/accounts:signInWithPhoneNumber",et(C,y))})).apply(this,arguments)}function ps(){return(ps=(0,_.Z)(function*(C,y){const b=yield wn(C,"POST","/v1/accounts:signInWithPhoneNumber",et(C,y));if(b.temporaryProof)throw jn(C,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const ra={USER_NOT_FOUND:"user-not-found"};function Qs(){return(Qs=(0,_.Z)(function*(C,y){return wn(C,"POST","/v1/accounts:signInWithPhoneNumber",et(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),ra)})).apply(this,arguments)}class $o extends Cr{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,b){return new $o({verificationId:y,verificationCode:b})}static _fromTokenResponse(y,b){return new $o({phoneNumber:y,temporaryProof:b})}_getIdTokenResponse(y){return function Sa(C,y){return po.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,b){return function Wa(C,y){return ps.apply(this,arguments)}(y,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function go(C,y){return Qs.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:b,verificationId:T,verificationCode:M}=this.params;return y&&b?{temporaryProof:y,phoneNumber:b}:{sessionInfo:T,code:M}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:b,verificationCode:T,phoneNumber:M,temporaryProof:re}=y;return T||b||M||re?new $o({verificationId:b,verificationCode:T,phoneNumber:M,temporaryProof:re}):null}}class ns{constructor(y){var b,T,M,re,He,ct;const jt=(0,Q.zd)((0,Q.pd)(y)),dn=null!==(b=jt.apiKey)&&void 0!==b?b:null,In=null!==(T=jt.oobCode)&&void 0!==T?T:null,Qt=function Xs(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=jt.mode)&&void 0!==M?M:null);Ce(dn&&In&&Qt,"argument-error"),this.apiKey=dn,this.operation=Qt,this.code=In,this.continueUrl=null!==(re=jt.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(He=jt.languageCode)&&void 0!==He?He:null,this.tenantId=null!==(ct=jt.tenantId)&&void 0!==ct?ct:null}static parseLink(y){const b=function er(C){const y=(0,Q.zd)((0,Q.pd)(C)).link,b=y?(0,Q.zd)((0,Q.pd)(y)).deep_link_id:null,T=(0,Q.zd)((0,Q.pd)(C)).deep_link_id;return(T?(0,Q.zd)((0,Q.pd)(T)).link:null)||T||b||y||C}(y);try{return new ns(b)}catch{return null}}}let Cs=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(b,T){return jr._fromEmailAndPassword(b,T)}static credentialWithLink(b,T){const M=ns.parseLink(T);return Ce(M,"argument-error"),jr._fromEmailAndCode(b,M.code,M.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class dr{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class is extends dr{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class ji extends is{static credentialFromJSON(y){const b="string"==typeof y?JSON.parse(y):y;return Ce("providerId"in b&&"signInMethod"in b,"argument-error"),Os._fromParams(b)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Ce(y.idToken||y.accessToken,"argument-error"),Os._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return ji.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return ji.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:b,oauthAccessToken:T,oauthTokenSecret:M,pendingToken:re,nonce:He,providerId:ct}=y;if(!T&&!M&&!b&&!re||!ct)return null;try{return new ji(ct)._credential({idToken:b,accessToken:T,nonce:He,pendingToken:re})}catch{return null}}}let Ps=(()=>{class C extends is{constructor(){super("facebook.com")}static credential(b){return Os._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),_o=(()=>{class C extends is{constructor(){super("google.com"),this.addScope("profile")}static credential(b,T){return Os._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:T})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:T,oauthAccessToken:M}=b;if(!T&&!M)return null;try{return C.credential(T,M)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Js=(()=>{class C extends is{constructor(){super("github.com")}static credential(b){return Os._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class eo extends Cr{constructor(y,b){super(y,y),this.pendingToken=b}_getIdTokenResponse(y){return ts(y,this.buildRequest())}_linkToIdToken(y,b){const T=this.buildRequest();return T.idToken=b,ts(y,T)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,ts(y,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:M,pendingToken:re}=b;return T&&M&&re&&T===M?new eo(T,re):null}static _create(y,b){return new eo(y,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wo extends dr{constructor(y){Ce(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return Wo.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return Wo.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const b=eo.fromJSON(y);return Ce(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:b,providerId:T}=y;if(!b||!T)return null;try{return eo._create(T,b)}catch{return null}}}let Ka=(()=>{class C extends is{constructor(){super("twitter.com")}static credential(b,T){return Os._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:T})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:T,oauthTokenSecret:M}=b;if(!T||!M)return null;try{return C.credential(T,M)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function zr(C,y){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,_.Z)(function*(C,y){return wn(C,"POST","/v1/accounts:signUp",et(C,y))})).apply(this,arguments)}class pr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,b,T,M=!1){return(0,_.Z)(function*(){const re=yield K._fromIdTokenResponse(y,T,M),He=gi(T);return new pr({user:re,providerId:He,_tokenResponse:T,operationType:b})})()}static _forOperation(y,b,T){return(0,_.Z)(function*(){yield y._updateTokensIfNecessary(T,!0);const M=gi(T);return new pr({user:y,providerId:M,_tokenResponse:T,operationType:b})})()}}function gi(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function to(){return(to=(0,_.Z)(function*(C){var y;const b=Gn(C);if(yield b._initializationPromise,null!==(y=b.currentUser)&&void 0!==y&&y.isAnonymous)return new pr({user:b.currentUser,providerId:null,operationType:"signIn"});const T=yield zr(b,{returnSecureToken:!0}),M=yield pr._fromIdTokenResponse(b,"signIn",T,!0);return yield b._updateCurrentUser(M.user),M})).apply(this,arguments)}class zi extends Q.ZR{constructor(y,b,T,M){var re;super(b.code,b.message),this.operationType=T,this.user=M,Object.setPrototypeOf(this,zi.prototype),this.customData={appName:y.name,tenantId:null!==(re=y.tenantId)&&void 0!==re?re:void 0,_serverResponse:b.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(y,b,T,M){return new zi(y,b,T,M)}}function yl(C,y,b,T){return("reauthenticate"===y?b._getReauthenticationResolver(C):b._getIdTokenResponse(C)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?zi._fromErrorAndOperation(C,re,y,T):re})}function sa(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function ur(){return ur=(0,_.Z)(function*(C,y){const b=(0,Q.m9)(C);yield Fs(!0,b,y);const{providerUserInfo:T}=yield function ri(C,y){return pi.apply(this,arguments)}(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[y]}),M=sa(T||[]);return b.providerData=b.providerData.filter(re=>M.has(re.providerId)),M.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b}),ur.apply(this,arguments)}function oa(C,y){return To.apply(this,arguments)}function To(){return(To=(0,_.Z)(function*(C,y,b=!1){const T=yield an(C,y._linkToIdToken(C.auth,yield C.getIdToken()),b);return pr._forOperation(C,"link",T)})).apply(this,arguments)}function Fs(C,y,b){return ss.apply(this,arguments)}function ss(){return(ss=(0,_.Z)(function*(C,y,b){yield st(y);const M=!1===C?"provider-already-linked":"no-such-provider";Ce(sa(y.providerData).has(b)===C,y.auth,M)})).apply(this,arguments)}function vl(C,y){return aa.apply(this,arguments)}function aa(){return(aa=(0,_.Z)(function*(C,y,b=!1){const{auth:T}=C,M="reauthenticate";try{const re=yield an(C,yl(T,M,y,C),b);Ce(re.idToken,T,"internal-error");const He=Di(re.idToken);Ce(He,T,"internal-error");const{sub:ct}=He;return Ce(C.uid===ct,T,"user-mismatch"),pr._forOperation(C,M,re)}catch(re){throw"auth/user-not-found"===re?.code&&De(T,"user-mismatch"),re}})).apply(this,arguments)}function Ln(C,y){return $s.apply(this,arguments)}function $s(){return($s=(0,_.Z)(function*(C,y,b=!1){const T="signIn",M=yield yl(C,T,y),re=yield pr._fromIdTokenResponse(C,T,M);return b||(yield C._updateCurrentUser(re.user)),re})).apply(this,arguments)}function Xl(C,y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,_.Z)(function*(C,y){return Ln(Gn(C),y)})).apply(this,arguments)}function Y(C,y){return G.apply(this,arguments)}function G(){return(G=(0,_.Z)(function*(C,y){const b=(0,Q.m9)(C);return yield Fs(!1,b,y.providerId),oa(b,y)})).apply(this,arguments)}function z(C,y){return he.apply(this,arguments)}function he(){return(he=(0,_.Z)(function*(C,y){return vl((0,Q.m9)(C),y)})).apply(this,arguments)}function dt(){return(dt=(0,_.Z)(function*(C,y){return wn(C,"POST","/v1/accounts:signInWithCustomToken",et(C,y))})).apply(this,arguments)}function bi(){return bi=(0,_.Z)(function*(C,y){const b=Gn(C),T=yield function Tt(C,y){return dt.apply(this,arguments)}(b,{token:y,returnSecureToken:!0}),M=yield pr._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(M.user),M}),bi.apply(this,arguments)}class Si{constructor(y,b){this.factorId=y,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(y,b){return"phoneInfo"in b?gr._fromServerResponse(y,b):"totpInfo"in b?Jl._fromServerResponse(y,b):De(y,"internal-error")}}class gr extends Si{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,b){return new gr(b)}}class Jl extends Si{constructor(y){super("totp",y)}static _fromServerResponse(y,b){return new Jl(b)}}function Ko(C,y,b){var T;Ce((null===(T=b.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),Ce(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=b.url,y.dynamicLinkDomain=b.dynamicLinkDomain,y.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Ce(b.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=b.iOS.bundleId),b.android&&(Ce(b.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=b.android.installApp,y.androidMinimumVersionCode=b.android.minimumVersion,y.androidPackageName=b.android.packageName)}function bl(){return bl=(0,_.Z)(function*(C,y,b){var T;const M=Gn(C),re={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=M._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const He=yield Nn(M,re,"getOobCode",!0);b&&Ko(M,He,b),yield Zt(M,He)}else b&&Ko(M,re,b),yield Zt(M,re).catch(function(){var He=(0,_.Z)(function*(ct){if("auth/missing-recaptcha-token"!==ct.code)return Promise.reject(ct);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const jt=yield Nn(M,re,"getOobCode",!0);b&&Ko(M,jt,b),yield Zt(M,jt)}});return function(ct){return He.apply(this,arguments)}}())}),bl.apply(this,arguments)}function xl(){return(xl=(0,_.Z)(function*(C,y,b){yield Ji((0,Q.m9)(C),{oobCode:y,newPassword:b})})).apply(this,arguments)}function Aa(){return Aa=(0,_.Z)(function*(C,y){yield function Es(C,y){return Dr.apply(this,arguments)}((0,Q.m9)(C),{oobCode:y})}),Aa.apply(this,arguments)}function tr(C,y){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,_.Z)(function*(C,y){const b=(0,Q.m9)(C),T=yield Ji(b,{oobCode:y}),M=T.requestType;switch(Ce(M,b,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(T.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(T.mfaInfo,b,"internal-error");default:Ce(T.email,b,"internal-error")}let re=null;return T.mfaInfo&&(re=Si._fromServerResponse(Gn(b),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:re},operation:M}})).apply(this,arguments)}function Is(){return(Is=(0,_.Z)(function*(C,y){const{data:b}=yield tr((0,Q.m9)(C),y);return b.email})).apply(this,arguments)}function la(){return la=(0,_.Z)(function*(C,y,b){var T;const M=Gn(C),re={returnSecureToken:!0,email:y,password:b,clientType:"CLIENT_TYPE_WEB"};let He;if(null!==(T=M._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const dn=yield Nn(M,re,"signUpPassword");He=zr(M,dn)}else He=zr(M,re).catch(function(){var dn=(0,_.Z)(function*(In){if("auth/missing-recaptcha-token"===In.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Qt=yield Nn(M,re,"signUpPassword");return zr(M,Qt)}return Promise.reject(In)});return function(In){return dn.apply(this,arguments)}}());const ct=yield He.catch(dn=>Promise.reject(dn)),jt=yield pr._fromIdTokenResponse(M,"signIn",ct);return yield M._updateCurrentUser(jt.user),jt}),la.apply(this,arguments)}function Ma(){return Ma=(0,_.Z)(function*(C,y,b){var T;const M=Gn(C),re={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};function He(ct,jt){Ce(jt.handleCodeInApp,M,"argument-error"),jt&&Ko(M,ct,jt)}if(null!==(T=M._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ct=yield Nn(M,re,"getOobCode",!0);He(ct,b),yield ei(M,ct)}else He(re,b),yield ei(M,re).catch(function(){var ct=(0,_.Z)(function*(jt){if("auth/missing-recaptcha-token"!==jt.code)return Promise.reject(jt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const dn=yield Nn(M,re,"getOobCode",!0);He(dn,b),yield ei(M,dn)}});return function(jt){return ct.apply(this,arguments)}}())}),Ma.apply(this,arguments)}function Qa(){return(Qa=(0,_.Z)(function*(C,y,b){const T=(0,Q.m9)(C),M=Cs.credentialWithLink(y,b||nn());return Ce(M._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Xl(T,M)})).apply(this,arguments)}function Xa(){return(Xa=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:createAuthUri",et(C,y))})).apply(this,arguments)}function qo(){return qo=(0,_.Z)(function*(C,y){const T={identifier:y,continueUri:Nt()?nn():"http://localhost"},{signinMethods:M}=yield function Yo(C,y){return Xa.apply(this,arguments)}((0,Q.m9)(C),T);return M||[]}),qo.apply(this,arguments)}function Ra(){return Ra=(0,_.Z)(function*(C,y){const b=(0,Q.m9)(C),M={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&Ko(b.auth,M,y);const{email:re}=yield function lt(C,y){return Ut.apply(this,arguments)}(b.auth,M);re!==C.email&&(yield C.reload())}),Ra.apply(this,arguments)}function Cc(){return Cc=(0,_.Z)(function*(C,y,b){const T=(0,Q.m9)(C),re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};b&&Ko(T.auth,re,b);const{email:He}=yield function ni(C,y){return or.apply(this,arguments)}(T.auth,re);He!==C.email&&(yield C.reload())}),Cc.apply(this,arguments)}function Ao(){return(Ao=(0,_.Z)(function*(C,y){return at(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Qr(){return Qr=(0,_.Z)(function*(C,{displayName:y,photoURL:b}){if(void 0===y&&void 0===b)return;const T=(0,Q.m9)(C),re={idToken:yield T.getIdToken(),displayName:y,photoUrl:b,returnSecureToken:!0},He=yield an(T,function jc(C,y){return Ao.apply(this,arguments)}(T.auth,re));T.displayName=He.displayName||null,T.photoURL=He.photoUrl||null;const ct=T.providerData.find(({providerId:jt})=>"password"===jt);ct&&(ct.displayName=T.displayName,ct.photoURL=T.photoURL),yield T._updateTokensIfNecessary(He)}),Qr.apply(this,arguments)}function el(C,y,b){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,_.Z)(function*(C,y,b){const{auth:T}=C,re={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(re.email=y),b&&(re.password=b);const He=yield an(C,Rs(T,re));yield C._updateTokensIfNecessary(He,!0)})).apply(this,arguments)}class ca{constructor(y,b,T={}){this.isNewUser=y,this.providerId=b,this.profile=T}}class _r extends ca{constructor(y,b,T,M){super(y,b,T),this.username=M}}class Dd extends ca{constructor(y,b){super(y,"facebook.com",b)}}class gs extends _r{constructor(y,b){super(y,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class Dl extends ca{constructor(y,b){super(y,"google.com",b)}}class Il extends _r{constructor(y,b,T){super(y,"twitter.com",b,T)}}function Id(C){const{user:y,_tokenResponse:b}=C;return y.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function zc(C){var y,b;if(!C)return null;const{providerId:T}=C,M=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},re=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&C?.idToken){const He=null===(b=null===(y=Di(C.idToken))||void 0===y?void 0:y.firebase)||void 0===b?void 0:b.sign_in_provider;if(He)return new ca(re,"anonymous"!==He&&"custom"!==He?He:null)}if(!T)return null;switch(T){case"facebook.com":return new Dd(re,M);case"github.com":return new gs(re,M);case"google.com":return new Dl(re,M);case"twitter.com":return new Il(re,M,C.screenName||null);case"custom":case"anonymous":return new ca(re,null);default:return new ca(re,T,M)}}(b)}class Rt{constructor(y,b,T){this.type=y,this.credential=b,this.auth=T}static _fromIdtoken(y,b){return new Rt("enroll",y,b)}static _fromMfaPendingCredential(y){return new Rt("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var b,T;if(y?.multiFactorSession){if(null!==(b=y.multiFactorSession)&&void 0!==b&&b.pendingCredential)return Rt._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(T=y.multiFactorSession)&&void 0!==T&&T.idToken)return Rt._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Kn{constructor(y,b,T){this.session=y,this.hints=b,this.signInResolver=T}static _fromError(y,b){const T=Gn(y),M=b.customData._serverResponse,re=(M.mfaInfo||[]).map(ct=>Si._fromServerResponse(T,ct));Ce(M.mfaPendingCredential,T,"internal-error");const He=Rt._fromMfaPendingCredential(M.mfaPendingCredential);return new Kn(He,re,function(){var ct=(0,_.Z)(function*(jt){const dn=yield jt._process(T,He);delete M.mfaInfo,delete M.mfaPendingCredential;const In=Object.assign(Object.assign({},M),{idToken:dn.idToken,refreshToken:dn.refreshToken});switch(b.operationType){case"signIn":const Qt=yield pr._fromIdTokenResponse(T,b.operationType,In);return yield T._updateCurrentUser(Qt.user),Qt;case"reauthenticate":return Ce(b.user,T,"internal-error"),pr._forOperation(b.user,b.operationType,In);default:De(T,"internal-error")}});return function(jt){return ct.apply(this,arguments)}}())}resolveSignIn(y){var b=this;return(0,_.Z)(function*(){return b.signInResolver(y)})()}}class _t{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(T=>Si._fromServerResponse(y.auth,T)))})}static _fromUser(y){return new _t(y)}getSession(){var y=this;return(0,_.Z)(function*(){return Rt._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,b){var T=this;return(0,_.Z)(function*(){const M=y,re=yield T.getSession(),He=yield an(T.user,M._process(T.user.auth,re,b));return yield T.user._updateTokensIfNecessary(He),T.user.reload()})()}unenroll(y){var b=this;return(0,_.Z)(function*(){const T="string"==typeof y?y:y.uid,M=yield b.user.getIdToken();try{const re=yield an(b.user,function tn(C,y){return at(C,"POST","/v2/accounts/mfaEnrollment:withdraw",et(C,y))}(b.user.auth,{idToken:M,mfaEnrollmentId:T}));b.enrolledFactors=b.enrolledFactors.filter(({uid:He})=>He!==T),yield b.user._updateTokensIfNecessary(re),yield b.user.reload()}catch(re){throw re}})()}}const Ht=new WeakMap,ko="__sak";class Sl{constructor(y,b){this.storageRetriever=y,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(ko,"1"),this.storage.removeItem(ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,b){return this.storage.setItem(y,JSON.stringify(b)),Promise.resolve()}_get(y){const b=this.storage.getItem(y);return Promise.resolve(b?JSON.parse(b):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Us=(()=>{class C extends Sl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,T)=>this.onStorageEvent(b,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Sd(){const C=(0,Q.z$)();return Ye(C)||yt(C)}()&&function Hr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vt(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const T of Object.keys(this.listeners)){const M=this.storage.getItem(T),re=this.localCache[T];M!==re&&b(T,re,M)}}onStorageEvent(b,T=!1){if(!b.key)return void this.forAllChangedKeys((ct,jt,dn)=>{this.notifyListeners(ct,dn)});const M=b.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ct=this.storage.getItem(M);if(b.newValue!==ct)null!==b.newValue?this.storage.setItem(M,b.newValue):this.storage.removeItem(M);else if(this.localCache[M]===b.newValue&&!T)return}const re=()=>{const ct=this.storage.getItem(M);!T&&this.localCache[M]===ct||this.notifyListeners(M,ct)},He=this.storage.getItem(M);!function Mn(){return(0,Q.w1)()&&10===document.documentMode}()||He===b.newValue||b.newValue===b.oldValue?re():setTimeout(re,10)}notifyListeners(b,T){this.localCache[b]=T;const M=this.listeners[b];if(M)for(const re of Array.from(M))re(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,T,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:T,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,T){var M=()=>super._set,re=this;return(0,_.Z)(function*(){yield M().call(re,b,T),re.localCache[b]=JSON.stringify(T)})()}_get(b){var T=()=>super._get,M=this;return(0,_.Z)(function*(){const re=yield T().call(M,b);return M.localCache[b]=JSON.stringify(re),re})()}_remove(b){var T=()=>super._remove,M=this;return(0,_.Z)(function*(){yield T().call(M,b),delete M.localCache[b]})()}}return C.type="LOCAL",C})(),Ws=(()=>{class C extends Sl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,T){}_removeListener(b,T){}}return C.type="SESSION",C})();let tl=(()=>{class C{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const T=this.receivers.find(re=>re.isListeningto(b));if(T)return T;const M=new C(b);return this.receivers.push(M),M}isListeningto(b){return this.eventTarget===b}handleEvent(b){var T=this;return(0,_.Z)(function*(){const M=b,{eventId:re,eventType:He,data:ct}=M.data,jt=T.handlersMap[He];if(!jt?.size)return;M.ports[0].postMessage({status:"ack",eventId:re,eventType:He});const dn=Array.from(jt).map(function(){var Qt=(0,_.Z)(function*(Yn){return Yn(M.origin,ct)});return function(Yn){return Qt.apply(this,arguments)}}()),In=yield function tc(C){return Promise.all(C.map(function(){var y=(0,_.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(T){return{fulfilled:!1,reason:T}}});return function(b){return y.apply(this,arguments)}}()))}(dn);M.ports[0].postMessage({status:"done",eventId:re,eventType:He,response:In})})()}_subscribe(b,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(T)}_unsubscribe(b,T){this.handlersMap[b]&&T&&this.handlersMap[b].delete(T),(!T||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Xn(C="",y=10){let b="";for(let T=0;T<y;T++)b+=Math.floor(10*Math.random());return C+b}class vr{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,b,T=50){var M=this;return(0,_.Z)(function*(){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let He,ct;return new Promise((jt,dn)=>{const In=Xn("",20);re.port1.start();const Qt=setTimeout(()=>{dn(new Error("unsupported_event"))},T);ct={messageChannel:re,onMessage(Yn){const vo=Yn;if(vo.data.eventId===In)switch(vo.data.status){case"ack":clearTimeout(Qt),He=setTimeout(()=>{dn(new Error("timeout"))},3e3);break;case"done":clearTimeout(He),jt(vo.data.response);break;default:clearTimeout(Qt),clearTimeout(He),dn(new Error("invalid_response"))}}},M.handlers.add(ct),re.port1.addEventListener("message",ct.onMessage),M.target.postMessage({eventType:y,eventId:In,data:b},[re.port2])}).finally(()=>{ct&&M.removeMessageHandler(ct)})})()}}function Wi(){return window}function kn(){return typeof Wi().WorkerGlobalScope<"u"&&"function"==typeof Wi().importScripts}function oi(){return(oi=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cn="firebaseLocalStorageDb",$r=1,da="firebaseLocalStorage",kr="fbase_key";class Fr{constructor(y){this.request=y}toPromise(){return new Promise((y,b)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function os(C,y){return C.transaction([da],y?"readwrite":"readonly").objectStore(da)}function _s(){const C=indexedDB.open(cn,$r);return new Promise((y,b)=>{C.addEventListener("error",()=>{b(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(da,{keyPath:kr})}catch(M){b(M)}}),C.addEventListener("success",(0,_.Z)(function*(){const T=C.result;T.objectStoreNames.contains(da)?y(T):(T.close(),yield function ic(){const C=indexedDB.deleteDatabase(cn);return new Fr(C).toPromise()}(),y(yield _s()))}))})}function ro(C,y,b){return Al.apply(this,arguments)}function Al(){return(Al=(0,_.Z)(function*(C,y,b){const T=os(C,!0).put({[kr]:y,value:b});return new Fr(T).toPromise()})).apply(this,arguments)}function Ro(){return(Ro=(0,_.Z)(function*(C,y){const b=os(C,!1).get(y),T=yield new Fr(b).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function rc(C,y){const b=os(C,!0).delete(y);return new Fr(b).toPromise()}const pt=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,_.Z)(function*(){return b.db||(b.db=yield _s()),b.db})()}_withRetries(b){var T=this;return(0,_.Z)(function*(){let M=0;for(;;)try{const re=yield T._openDb();return yield b(re)}catch(re){if(M++>3)throw re;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,_.Z)(function*(){return kn()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,_.Z)(function*(){b.receiver=tl._getInstance(function fr(){return kn()?self:null}()),b.receiver._subscribe("keyChanged",function(){var T=(0,_.Z)(function*(M,re){return{keyProcessed:(yield b._poll()).includes(re.key)}});return function(M,re){return T.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var T=(0,_.Z)(function*(M,re){return["keyChanged"]});return function(M,re){return T.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,_.Z)(function*(){var T,M;if(b.activeServiceWorker=yield function nc(){return oi.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new vr(b.activeServiceWorker);const re=yield b.sender._send("ping",{},800);re&&null!==(T=re[0])&&void 0!==T&&T.fulfilled&&null!==(M=re[0])&&void 0!==M&&M.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var T=this;return(0,_.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function lh(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:b},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const b=yield _s();return yield ro(b,ko,"1"),yield rc(b,ko),!0}catch{}return!1})()}_withPendingWrite(b){var T=this;return(0,_.Z)(function*(){T.pendingWrites++;try{yield b()}finally{T.pendingWrites--}})()}_set(b,T){var M=this;return(0,_.Z)(function*(){return M._withPendingWrite((0,_.Z)(function*(){return yield M._withRetries(re=>ro(re,b,T)),M.localCache[b]=T,M.notifyServiceWorker(b)}))})()}_get(b){var T=this;return(0,_.Z)(function*(){const M=yield T._withRetries(re=>function as(C,y){return Ro.apply(this,arguments)}(re,b));return T.localCache[b]=M,M})()}_remove(b){var T=this;return(0,_.Z)(function*(){return T._withPendingWrite((0,_.Z)(function*(){return yield T._withRetries(M=>rc(M,b)),delete T.localCache[b],T.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,_.Z)(function*(){const T=yield b._withRetries(He=>{const ct=os(He,!1).getAll();return new Fr(ct).toPromise()});if(!T)return[];if(0!==b.pendingWrites)return[];const M=[],re=new Set;for(const{fbase_key:He,value:ct}of T)re.add(He),JSON.stringify(b.localCache[He])!==JSON.stringify(ct)&&(b.notifyListeners(He,ct),M.push(He));for(const He of Object.keys(b.localCache))b.localCache[He]&&!re.has(He)&&(b.notifyListeners(He,null),M.push(He));return M})()}notifyListeners(b,T){this.localCache[b]=T;const M=this.listeners[b];if(M)for(const re of Array.from(M))re(T)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),ch=1e12;class ac{constructor(y){this.auth=y,this.counter=ch,this._widgets=new Map}render(y,b){const T=this.counter;return this._widgets.set(T,new Dc(y,this.auth.name,b||{})),this.counter++,T}reset(y){var b;const T=y||ch;null===(b=this._widgets.get(T))||void 0===b||b.delete(),this._widgets.delete(T)}getResponse(y){var b;return(null===(b=this._widgets.get(y||ch))||void 0===b?void 0:b.getResponse())||""}execute(y){var b=this;return(0,_.Z)(function*(){var T;return null===(T=b._widgets.get(y||ch))||void 0===T||T.execute(),""})()}}class Dc{constructor(y,b,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof y?document.getElementById(y):y;Ce(M,"argument-error",{appName:b}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _f(C){const y=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<C;T++)y.push(b.charAt(Math.floor(Math.random()*b.length)));return y.join("")}(50);const{callback:y,"expired-callback":b}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lc=xs("rcb"),Ic=new Mt(3e4,6e4);class Kc{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Wi().grecaptcha)||void 0===y||!y.render)}load(y,b=""){return Ce(function mr(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(b),y,"argument-error"),this.shouldResolveImmediately(b)&&mo(Wi().grecaptcha)?Promise.resolve(Wi().grecaptcha):new Promise((T,M)=>{const re=Wi().setTimeout(()=>{M(me(y,"network-request-failed"))},Ic.get());Wi()[lc]=()=>{Wi().clearTimeout(re),delete Wi()[lc];const ct=Wi().grecaptcha;if(!ct||!mo(ct))return void M(me(y,"internal-error"));const jt=ct.render;ct.render=(dn,In)=>{const Qt=jt(dn,In);return this.counter++,Qt},this.hostLanguage=b,T(ct)},Zi(`https://www.google.com/recaptcha/api.js??${(0,Q.xO)({onload:lc,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(re),M(me(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var b;return!(null===(b=Wi().grecaptcha)||void 0===b||!b.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cc{load(y){return(0,_.Z)(function*(){return new ac(y)})()}clearedOneInstance(){}}const Wr="recaptcha",yu={theme:"light",type:"image"};class oo{constructor(y,b=Object.assign({},yu),T){this.parameters=b,this.type=Wr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gn(T),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof y?document.getElementById(y):y;Ce(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cc:new Kc,this.validateStartingState()}verify(){var y=this;return(0,_.Z)(function*(){y.assertNotDestroyed();const b=yield y.render(),T=y.getAssertedRecaptcha();return T.getResponse(b)||new Promise(re=>{const He=ct=>{ct&&(y.tokenChangeListeners.delete(He),re(ct))};y.tokenChangeListeners.add(He),y.isInvisible&&T.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return b=>{if(this.tokenChangeListeners.forEach(T=>T(b)),"function"==typeof y)y(b);else if("string"==typeof y){const T=Wi()[y];"function"==typeof T&&T(b)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,_.Z)(function*(){if(yield y.init(),!y.widgetId){let b=y.container;if(!y.isInvisible){const T=document.createElement("div");b.appendChild(T),b=T}y.widgetId=y.getAssertedRecaptcha().render(b,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,_.Z)(function*(){Ce(Nt()&&!kn(),y.auth,"internal-error"),yield function ls(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const b=yield function js(C){return hs.apply(this,arguments)}(y.auth);Ce(b,y.auth,"internal-error"),y.parameters.sitekey=b})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dc{constructor(y,b){this.verificationId=y,this.onConfirmation=b}confirm(y){const b=$o._fromVerification(this.verificationId,y);return this.onConfirmation(b)}}function A(){return(A=(0,_.Z)(function*(C,y,b){const T=Gn(C),M=yield ie(T,y,(0,Q.m9)(b));return new dc(M,re=>Xl(T,re))})).apply(this,arguments)}function D(){return(D=(0,_.Z)(function*(C,y,b){const T=(0,Q.m9)(C);yield Fs(!1,T,"phone");const M=yield ie(T.auth,y,(0,Q.m9)(b));return new dc(M,re=>Y(T,re))})).apply(this,arguments)}function q(){return(q=(0,_.Z)(function*(C,y,b){const T=(0,Q.m9)(C),M=yield ie(T.auth,y,(0,Q.m9)(b));return new dc(M,re=>z(T,re))})).apply(this,arguments)}function ie(C,y,b){return ye.apply(this,arguments)}function ye(){return ye=(0,_.Z)(function*(C,y,b){var T;const M=yield b.verify();try{let re;if(Ce("string"==typeof M,C,"argument-error"),Ce(b.type===Wr,C,"argument-error"),re="string"==typeof y?{phoneNumber:y}:y,"session"in re){const He=re.session;if("phoneNumber"in re)return Ce("enroll"===He.type,C,"internal-error"),(yield function yr(C,y){return at(C,"POST","/v2/accounts/mfaEnrollment:start",et(C,y))}(C,{idToken:He.credential,phoneEnrollmentInfo:{phoneNumber:re.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Ce("signin"===He.type,C,"internal-error");const ct=(null===(T=re.multiFactorHint)||void 0===T?void 0:T.uid)||re.multiFactorUid;return Ce(ct,C,"missing-multi-factor-info"),(yield function so(C,y){return at(C,"POST","/v2/accounts/mfaSignIn:start",et(C,y))}(C,{mfaPendingCredential:He.credential,mfaEnrollmentId:ct,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:He}=yield function $a(C,y){return Go.apply(this,arguments)}(C,{phoneNumber:re.phoneNumber,recaptchaToken:M});return He}}finally{b._reset()}}),ye.apply(this,arguments)}function zt(){return(zt=(0,_.Z)(function*(C,y){yield oa((0,Q.m9)(C),y)})).apply(this,arguments)}let _n=(()=>{class C{constructor(b){this.providerId=C.PROVIDER_ID,this.auth=Gn(b)}verifyPhoneNumber(b,T){return ie(this.auth,b,(0,Q.m9)(T))}static credential(b,T){return $o._fromVerification(b,T)}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:T,temporaryProof:M}=b;return T&&M?$o._fromTokenResponse(T,M):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function yn(C,y){return y?H(y):(Ce(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class wi extends Cr{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return ts(y,this._buildIdpRequest())}_linkToIdToken(y,b){return ts(y,this._buildIdpRequest(b))}_getReauthenticationResolver(y){return ts(y,this._buildIdpRequest())}_buildIdpRequest(y){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(b.idToken=y),b}}function cs(C){return Ln(C.auth,new wi(C),C.bypassAuthState)}function rl(C){const{auth:y,user:b}=C;return Ce(b,y,"internal-error"),vl(b,new wi(C),C.bypassAuthState)}function Qo(C){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,_.Z)(function*(C){const{auth:y,user:b}=C;return Ce(b,y,"internal-error"),oa(b,new wi(C),C.bypassAuthState)})).apply(this,arguments)}class ys{constructor(y,b,T,M,re=!1){this.auth=y,this.resolver=T,this.user=M,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var y=this;return new Promise(function(){var b=(0,_.Z)(function*(T,M){y.pendingPromise={resolve:T,reject:M};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(re){y.reject(re)}});return function(T,M){return b.apply(this,arguments)}}())}onAuthEvent(y){var b=this;return(0,_.Z)(function*(){const{urlResponse:T,sessionId:M,postBody:re,tenantId:He,error:ct,type:jt}=y;if(ct)return void b.reject(ct);const dn={auth:b.auth,requestUri:T,sessionId:M,tenantId:He||void 0,postBody:re||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(jt)(dn))}catch(In){b.reject(In)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return cs;case"linkViaPopup":case"linkViaRedirect":return Qo;case"reauthViaPopup":case"reauthViaRedirect":return rl;default:De(this.auth,"internal-error")}}resolve(y){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xo=new Mt(2e3,1e4);function Ml(){return(Ml=(0,_.Z)(function*(C,y,b){const T=Gn(C);Xe(C,y,dr);const M=yn(T,b);return new V(T,"signInViaPopup",y,M).executeNotNull()})).apply(this,arguments)}function kl(){return(kl=(0,_.Z)(function*(C,y,b){const T=(0,Q.m9)(C);Xe(T.auth,y,dr);const M=yn(T.auth,b);return new V(T.auth,"reauthViaPopup",y,M,T).executeNotNull()})).apply(this,arguments)}function Yc(){return(Yc=(0,_.Z)(function*(C,y,b){const T=(0,Q.m9)(C);Xe(T.auth,y,dr);const M=yn(T.auth,b);return new V(T.auth,"linkViaPopup",y,M,T).executeNotNull()})).apply(this,arguments)}let V=(()=>{class C extends ys{constructor(b,T,M,re,He){super(b,T,re,He),this.provider=M,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var b=this;return(0,_.Z)(function*(){const T=yield b.execute();return Ce(T,b.auth,"internal-error"),T})()}onExecution(){var b=this;return(0,_.Z)(function*(){mt(1===b.filter.length,"Popup operations only handle one event");const T=Xn();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],T),b.authWindow.associatedEvent=T,b.resolver._originValidation(b.auth).catch(M=>{b.reject(M)}),b.resolver._isIframeWebStorageSupported(b.auth,M=>{M||b.reject(me(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const b=()=>{var T,M;this.pollId=null!==(M=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,Xo.get())};b()}}return C.currentPopupAction=null,C})();const W="pendingRedirect",te=new Map;class Pe extends ys{constructor(y,b,T=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,T),this.eventId=null}execute(){var y=()=>super.execute,b=this;return(0,_.Z)(function*(){let T=te.get(b.auth._key());if(!T){try{const re=(yield function qe(C,y){return it.apply(this,arguments)}(b.resolver,b.auth))?yield y().call(b):null;T=()=>Promise.resolve(re)}catch(M){T=()=>Promise.reject(M)}te.set(b.auth._key(),T)}return b.bypassAuthState||te.set(b.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(y){var b=()=>super.onAuthEvent,T=this;return(0,_.Z)(function*(){if("signInViaRedirect"===y.type)return b().call(T,y);if("unknown"!==y.type){if(y.eventId){const M=yield T.auth._redirectUserForId(y.eventId);if(M)return T.user=M,b().call(T,y);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function it(){return(it=(0,_.Z)(function*(C,y){const b=Fn(y),T=Ni(C);if(!(yield T._isAvailable()))return!1;const M="true"===(yield T._get(b));return yield T._remove(b),M})).apply(this,arguments)}function Kt(C,y){return En.apply(this,arguments)}function En(){return(En=(0,_.Z)(function*(C,y){return Ni(C)._set(Fn(y),"true")})).apply(this,arguments)}function Zn(C,y){te.set(C._key(),y)}function Ni(C){return H(C._redirectPersistence)}function Fn(C){return se(W,C.config.apiKey,C.name)}function ma(C,y,b){return function Rr(C,y,b){return br.apply(this,arguments)}(C,y,b)}function br(){return(br=(0,_.Z)(function*(C,y,b){const T=Gn(C);Xe(C,y,dr),yield T._initializationPromise;const M=yn(T,b);return yield Kt(M,T),M._openRedirect(T,y,"signInViaRedirect")})).apply(this,arguments)}function pa(C,y,b){return function Rl(C,y,b){return Po.apply(this,arguments)}(C,y,b)}function Po(){return(Po=(0,_.Z)(function*(C,y,b){const T=(0,Q.m9)(C);Xe(T.auth,y,dr),yield T.auth._initializationPromise;const M=yn(T.auth,b);yield Kt(M,T.auth);const re=yield No(T);return M._openRedirect(T.auth,y,"reauthViaRedirect",re)})).apply(this,arguments)}function yo(C,y,b){return function Em(C,y,b){return Ol.apply(this,arguments)}(C,y,b)}function Ol(){return(Ol=(0,_.Z)(function*(C,y,b){const T=(0,Q.m9)(C);Xe(T.auth,y,dr),yield T.auth._initializationPromise;const M=yn(T.auth,b);yield Fs(!1,T,y.providerId),yield Kt(M,T.auth);const re=yield No(T);return M._openRedirect(T.auth,y,"linkViaRedirect",re)})).apply(this,arguments)}function bu(){return(bu=(0,_.Z)(function*(C,y){return yield Gn(C)._initializationPromise,Pl(C,y,!1)})).apply(this,arguments)}function Pl(C,y){return ga.apply(this,arguments)}function ga(){return(ga=(0,_.Z)(function*(C,y,b=!1){const T=Gn(C),M=yn(T,y),He=yield new Pe(T,M,b).execute();return He&&!b&&(delete He.user._redirectEventId,yield T._persistUserIfCurrent(He.user),yield T._setRedirectUser(null,y)),He})).apply(this,arguments)}function No(C){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,_.Z)(function*(C){const y=Xn(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class Zc{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let b=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(y,T)&&(b=!0,this.sendToConsumer(y,T),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function yf(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ad(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=y,b=!0)),b}sendToConsumer(y,b){var T;if(y.error&&!Ad(y)){const M=(null===(T=y.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";b.onError(me(this.auth,M))}else b.onAuthEvent(y)}isEventForConsumer(y,b){const T=null===b.eventId||!!y.eventId&&y.eventId===b.eventId;return b.filter.includes(y.type)&&T}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cm(y))}saveEventToCache(y){this.cachedEventUids.add(Cm(y)),this.lastProcessedEventTime=Date.now()}}function Cm(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function Ad({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===y?.code}function dh(C){return vf.apply(this,arguments)}function vf(){return(vf=(0,_.Z)(function*(C,y={}){return at(C,"GET","/v1/projects",y)})).apply(this,arguments)}const wu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xu=/^https?/;function Eu(){return(Eu=(0,_.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield dh(C);for(const b of y)try{if(Dm(b))return}catch{}De(C,"unauthorized-domain")})).apply(this,arguments)}function Dm(C){const y=nn(),{protocol:b,hostname:T}=new URL(y);if(C.startsWith("chrome-extension://")){const He=new URL(C);return""===He.hostname&&""===T?"chrome-extension:"===b&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===b&&He.hostname===T}if(!xu.test(b))return!1;if(wu.test(C))return T===C;const M=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(T)}const Ss=new Mt(3e4,6e4);function Qc(){const C=Wi().___jsl;if(C?.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let b=0;b<C.CP.length;b++)C.CP[b]=null}let Ts=null;const Or=new Mt(5e3,15e3),Sc="__/auth/iframe",uh="emulator/auth/iframe",Yp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Im(C){const y=C.config;Ce(y.authDomain,C,"auth-domain-config-required");const b=y.emulator?It(y,uh):`https://${C.config.authDomain}/${Sc}`,T={apiKey:y.apiKey,appName:C.name,v:ve.SDK_VERSION},M=kd.get(C.config.apiHost);M&&(T.eid=M);const re=C._getFrameworks();return re.length&&(T.fw=re.join(",")),`${b}?${(0,Q.xO)(T).slice(1)}`}function ti(){return ti=(0,_.Z)(function*(C){const y=yield function bf(C){return Ts=Ts||function Kp(C){return new Promise((y,b)=>{var T,M,re;function He(){Qc(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Qc(),b(me(C,"network-request-failed"))},timeout:Ss.get()})}if(null!==(M=null===(T=Wi().gapi)||void 0===T?void 0:T.iframes)&&void 0!==M&&M.Iframe)y(gapi.iframes.getContext());else{if(null===(re=Wi().gapi)||void 0===re||!re.load){const ct=xs("iframefcb");return Wi()[ct]=()=>{gapi.load?He():b(me(C,"network-request-failed"))},Zi(`https://apis.google.com/js/api.js?onload=${ct}`).catch(jt=>b(jt))}He()}}).catch(y=>{throw Ts=null,y})}(C),Ts}(C),b=Wi().gapi;return Ce(b,C,"internal-error"),y.open({where:document.body,url:Im(C),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yp,dontclear:!0},T=>new Promise(function(){var M=(0,_.Z)(function*(re,He){yield T.restyle({setHideOnLeave:!1});const ct=me(C,"network-request-failed"),jt=Wi().setTimeout(()=>{He(ct)},Or.get());function dn(){Wi().clearTimeout(jt),re(T)}T.ping(dn).then(dn,()=>{He(ct)})});return function(re,He){return M.apply(this,arguments)}}()))}),ti.apply(this,arguments)}const ar={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rd=500,hh=600,ao="_blank",Od="http://localhost";class Xc{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const xf="__/auth/handler",A_="emulator/auth/handler",Qp=encodeURIComponent("fac");function Sm(C,y,b,T,M,re){return fh.apply(this,arguments)}function fh(){return(fh=(0,_.Z)(function*(C,y,b,T,M,re){Ce(C.config.authDomain,C,"auth-domain-config-required"),Ce(C.config.apiKey,C,"invalid-api-key");const He={apiKey:C.config.apiKey,appName:C.name,authType:b,redirectUrl:T,v:ve.SDK_VERSION,eventId:M};if(y instanceof dr){y.setDefaultLanguage(C.languageCode),He.providerId=y.providerId||"",(0,Q.xb)(y.getCustomParameters())||(He.customParameters=JSON.stringify(y.getCustomParameters()));for(const[In,Qt]of Object.entries(re||{}))He[In]=Qt}if(y instanceof is){const In=y.getScopes().filter(Qt=>""!==Qt);In.length>0&&(He.scopes=In.join(","))}C.tenantId&&(He.tid=C.tenantId);const ct=He;for(const In of Object.keys(ct))void 0===ct[In]&&delete ct[In];const jt=yield C._getAppCheckToken(),dn=jt?`#${Qp}=${encodeURIComponent(jt)}`:"";return`${function M_({config:C}){return C.emulator?It(C,A_):`https://${C.authDomain}/${xf}`}(C)}?${(0,Q.xO)(ct).slice(1)}${dn}`})).apply(this,arguments)}const Ef="webStorageSupport",Cu=class Cf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ws,this._completeRedirectFn=Pl,this._overrideRedirectResult=Zn}_openPopup(y,b,T,M){var re=this;return(0,_.Z)(function*(){var He;mt(null===(He=re.eventManagers[y._key()])||void 0===He?void 0:He.manager,"_initialize() not called before _openPopup()");const ct=yield Sm(y,b,T,nn(),M);return function wf(C,y,b,T=Rd,M=hh){const re=Math.max((window.screen.availHeight-M)/2,0).toString(),He=Math.max((window.screen.availWidth-T)/2,0).toString();let ct="";const jt=Object.assign(Object.assign({},ar),{width:T.toString(),height:M.toString(),top:re,left:He}),dn=(0,Q.z$)().toLowerCase();b&&(ct=on(dn)?ao:b),ot(dn)&&(y=y||Od,jt.scrollbars="yes");const In=Object.entries(jt).reduce((Yn,[vo,Gd])=>`${Yn}${vo}=${Gd},`,"");if(function rn(C=(0,Q.z$)()){var y;return yt(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(dn)&&"_self"!==ct)return function Zp(C,y){const b=document.createElement("a");b.href=C,b.target=y;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(T)}(y||"",ct),new Xc(null);const Qt=window.open(y||"",ct,In);Ce(Qt,C,"popup-blocked");try{Qt.focus()}catch{}return new Xc(Qt)}(y,ct,Xn())})()}_openRedirect(y,b,T,M){var re=this;return(0,_.Z)(function*(){return yield re._originValidation(y),function Ki(C){Wi().location.href=C}(yield Sm(y,b,T,nn(),M)),new Promise(()=>{})})()}_initialize(y){const b=y._key();if(this.eventManagers[b]){const{manager:M,promise:re}=this.eventManagers[b];return M?Promise.resolve(M):(mt(re,"If manager is not set, promise should be"),re)}const T=this.initAndGetManager(y);return this.eventManagers[b]={promise:T},T.catch(()=>{delete this.eventManagers[b]}),T}initAndGetManager(y){var b=this;return(0,_.Z)(function*(){const T=yield function qp(C){return ti.apply(this,arguments)}(y),M=new Zc(y);return T.register("authEvent",re=>(Ce(re?.authEvent,y,"invalid-auth-event"),{status:M.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[y._key()]={manager:M},b.iframes[y._key()]=T,M})()}_isIframeWebStorageSupported(y,b){this.iframes[y._key()].send(Ef,{type:Ef},M=>{var re;const He=null===(re=M?.[0])||void 0===re?void 0:re[Ef];void 0!==He&&b(!!He),De(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Md(C){return Eu.apply(this,arguments)}(y)),this.originValidationPromises[b]}get _shouldInitProactively(){return Vt()||Ye()||yt()}};class Xp{constructor(y){this.factorId=y}_process(y,b,T){switch(b.type){case"enroll":return this._finalizeEnroll(y,b.credential,T);case"signin":return this._finalizeSignIn(y,b.credential);default:return $e("unexpected MultiFactorSessionType")}}}class Tc extends Xp{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Tc(y)}_finalizeEnroll(y,b,T){return function Jt(C,y){return at(C,"POST","/v2/accounts/mfaEnrollment:finalize",et(C,y))}(y,{idToken:b,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,b){return function Zo(C,y){return at(C,"POST","/v2/accounts/mfaSignIn:finalize",et(C,y))}(y,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Du=(()=>{class C{constructor(){}static assertion(b){return Tc._fromCredential(b)}}return C.FACTOR_ID="phone",C})();var Jc="@firebase/auth";class Am{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var b=this;return(0,_.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const b=this.auth.onIdTokenChanged(T=>{y(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,b),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const b=this.internalListeners.get(y);b&&(this.internalListeners.delete(y),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function al(){return window}(0,Q.Pz)("authIdTokenMaxAge"),function Df(C){(0,ve._registerComponent)(new we.wA("auth",(y,{options:b})=>{const T=y.getProvider("app").getImmediate(),M=y.getProvider("heartbeat"),re=y.getProvider("app-check-internal"),{apiKey:He,authDomain:ct}=T.options;Ce(He&&!He.includes(":"),"invalid-api-key",{appName:T.name}),Ce(!ct?.includes(":"),"argument-error",{appName:T.name});const jt={apiKey:He,authDomain:ct,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cr(C)},dn=new es(T,M,re,jt);return function xr(C,y){const b=y?.persistence||[],T=(Array.isArray(b)?b:[b]).map(H);y?.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(T,y?.popupRedirectResolver)}(dn,b),dn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,b,T)=>{y.getProvider("auth-internal").initialize()})),(0,ve._registerComponent)(new we.wA("auth-internal",y=>{const b=Gn(y.getProvider("auth").getImmediate());return new Am(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)(Jc,"0.23.0",function Su(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,ve.registerVersion)(Jc,"0.23.0","esm2017")}("Browser");const ph=2e3;function Oa(){return Oa=(0,_.Z)(function*(C,y,b){var T;const{BuildInfo:M}=al();mt(y.sessionId,"AuthEvent did not contain a session ID");const re=yield function km(C){return Lo.apply(this,arguments)}(y.sessionId),He={};return yt()?He.ibi=M.packageName:Oe()?He.apn=M.packageName:De(C,"operation-not-supported-in-this-environment"),M.displayName&&(He.appDisplayName=M.displayName),He.sessionId=re,Sm(C,b,y.type,void 0,null!==(T=y.eventId)&&void 0!==T?T:void 0,He)}),Oa.apply(this,arguments)}function Mc(){return(Mc=(0,_.Z)(function*(C){const{BuildInfo:y}=al(),b={};yt()?b.iosBundleId=y.packageName:Oe()?b.androidPackageName=y.packageName:De(C,"operation-not-supported-in-this-environment"),yield dh(C,b)})).apply(this,arguments)}function _h(){return(_h=(0,_.Z)(function*(C,y,b){const{cordova:T}=al();let M=()=>{};try{yield new Promise((re,He)=>{let ct=null;function jt(){var Qt;re();const Yn=null===(Qt=T.plugins.browsertab)||void 0===Qt?void 0:Qt.close;"function"==typeof Yn&&Yn(),"function"==typeof b?.close&&b.close()}function dn(){ct||(ct=window.setTimeout(()=>{He(me(C,"redirect-cancelled-by-user"))},ph))}function In(){"visible"===document?.visibilityState&&dn()}y.addPassiveListener(jt),document.addEventListener("resume",dn,!1),Oe()&&document.addEventListener("visibilitychange",In,!1),M=()=>{y.removePassiveListener(jt),document.removeEventListener("resume",dn,!1),document.removeEventListener("visibilitychange",In,!1),ct&&window.clearTimeout(ct)}})}finally{M()}})).apply(this,arguments)}function Lo(){return(Lo=(0,_.Z)(function*(C){const y=function Sf(C){if(mt(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const y=new ArrayBuffer(C.length),b=new Uint8Array(y);for(let T=0;T<C.length;T++)b[T]=C.charCodeAt(T);return b}(C),b=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(b)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Tf=20;class yh extends Zc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(y)),super.onEvent(y)}initialized(){var y=this;return(0,_.Z)(function*(){yield y.initPromise})()}}function Ld(C){return ed.apply(this,arguments)}function ed(){return(ed=(0,_.Z)(function*(C){const y=yield td()._get(Ll(C));return y&&(yield td()._remove(Ll(C))),y})).apply(this,arguments)}function ii(){const C=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<Tf;b++){const T=Math.floor(Math.random()*y.length);C.push(y.charAt(T))}return C.join("")}function td(){return H(Us)}function Ll(C){return se("authEvent",C.config.apiKey,C.name)}function nd(C){if(!C?.includes("?"))return{};const[y,...b]=C.split("?");return(0,Q.zd)(b.join("?"))}const mv=class Af{constructor(){this._redirectPersistence=Ws,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pl,this._overrideRedirectResult=Zn}_initialize(y){var b=this;return(0,_.Z)(function*(){const T=y._key();let M=b.eventManagers.get(T);return M||(M=new yh(y),b.eventManagers.set(T,M),b.attachCallbackListeners(y,M)),M})()}_openPopup(y){De(y,"operation-not-supported-in-this-environment")}_openRedirect(y,b,T,M){var re=this;return(0,_.Z)(function*(){!function Fo(C){var y,b,T,M,re,He,ct,jt,dn,In;const Qt=al();Ce("function"==typeof(null===(y=Qt?.universalLinks)||void 0===y?void 0:y.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(typeof(null===(b=Qt?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce("function"==typeof(null===(re=null===(M=null===(T=Qt?.cordova)||void 0===T?void 0:T.plugins)||void 0===M?void 0:M.browsertab)||void 0===re?void 0:re.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(jt=null===(ct=null===(He=Qt?.cordova)||void 0===He?void 0:He.plugins)||void 0===ct?void 0:ct.browsertab)||void 0===jt?void 0:jt.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(In=null===(dn=Qt?.cordova)||void 0===dn?void 0:dn.InAppBrowser)||void 0===In?void 0:In.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const He=yield re._initialize(y);yield He.initialized(),He.resetRedirect(),function An(){te.clear()}(),yield re._originValidation(y);const ct=function _a(C,y,b=null){return{type:y,eventId:b,urlResponse:null,sessionId:ii(),postBody:null,tenantId:C.tenantId,error:me(C,"no-auth-event")}}(y,T,M);yield function Rm(C,y){return td()._set(Ll(C),y)}(y,ct);const jt=yield function Nd(C,y,b){return Oa.apply(this,arguments)}(y,ct,b),dn=yield function Mm(C){const{cordova:y}=al();return new Promise(b=>{y.plugins.browsertab.isAvailable(T=>{let M=null;T?y.plugins.browsertab.openUrl(C):M=y.InAppBrowser.open(C,function Lt(C=(0,Q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),b(M)})})}(jt);return function gh(C,y,b){return _h.apply(this,arguments)}(y,He,dn)})()}_isIframeWebStorageSupported(y,b){throw new Error("Method not implemented.")}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Fd(C){return Mc.apply(this,arguments)}(y)),this.originValidationPromises[b]}attachCallbackListeners(y,b){const{universalLinks:T,handleOpenURL:M,BuildInfo:re}=al(),He=setTimeout((0,_.Z)(function*(){yield Ld(y),b.onEvent(Om())}),500),ct=function(){var In=(0,_.Z)(function*(Qt){clearTimeout(He);const Yn=yield Ld(y);let vo=null;Yn&&Qt?.url&&(vo=function Tu(C,y){var b,T;const M=function Bd(C){const y=nd(C),b=y.link?decodeURIComponent(y.link):void 0,T=nd(b).link,M=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return nd(M).link||M||T||b||C}(y);if(M.includes("/__/auth/callback")){const re=nd(M),He=re.firebaseError?function vh(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(re.firebaseError)):null,ct=null===(T=null===(b=He?.code)||void 0===b?void 0:b.split("auth/"))||void 0===T?void 0:T[1],jt=ct?me(ct):null;return jt?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:jt,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:M,postBody:null}}return null}(Yn,Qt.url)),b.onEvent(vo||Om())});return function(Yn){return In.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,ct);const jt=M,dn=`${re.packageName.toLowerCase()}://`;al().handleOpenURL=function(){var In=(0,_.Z)(function*(Qt){if(Qt.toLowerCase().startsWith(dn)&&ct({url:Qt}),"function"==typeof jt)try{jt(Qt)}catch(Yn){console.error(Yn)}});return function(Qt){return In.apply(this,arguments)}}()}};function Om(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}const Ud=1e3;function ku(){var C;return(null===(C=self?.location)||void 0===C?void 0:C.protocol)||null}function wh(C=(0,Q.z$)()){return!("file:"!==ku()&&"ionic:"!==ku()&&"capacitor:"!==ku()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xr(){try{const C=self.localStorage,y=Xn();if(C)return C.setItem(y,"1"),C.removeItem(y),!function Pm(C=(0,Q.z$)()){return function id(){return(0,Q.w1)()&&11===document?.documentMode}()||function Mf(C=(0,Q.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,Q.hl)()}catch{return Vd()&&(0,Q.hl)()}return!1}function Vd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kc(){return(function Bl(){return"http:"===ku()||"https:"===ku()}()||(0,Q.ru)()||wh())&&!function uc(){return(0,Q.b$)()||(0,Q.UG)()}()&&Xr()&&!Vd()}function Hd(){return wh()&&typeof document<"u"}function rd(){return(rd=(0,_.Z)(function*(){return!!Hd()&&new Promise(C=>{const y=setTimeout(()=>{C(!1)},Ud);document.addEventListener("deviceready",()=>{clearTimeout(y),C(!0)})})})).apply(this,arguments)}const Jo={LOCAL:"local",NONE:"none",SESSION:"session"},Ul=Ce,Bo="persistence";function kf(C){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,_.Z)(function*(C){yield C._initializationPromise;const y=jd(),b=se(Bo,C.config.apiKey,C.name);y&&y.setItem(b,C._getPersistence())})).apply(this,arguments)}function jd(){var C;try{return(null===(C=function Jp(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const Vl=Ce;class lo{constructor(){this.browserResolver=H(Cu),this.cordovaResolver=H(mv),this.underlyingResolver=null,this._redirectPersistence=Ws,this._completeRedirectFn=Pl,this._overrideRedirectResult=Zn}_initialize(y){var b=this;return(0,_.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,b,T,M){var re=this;return(0,_.Z)(function*(){return yield re.selectUnderlyingResolver(),re.assertedUnderlyingResolver._openPopup(y,b,T,M)})()}_openRedirect(y,b,T,M){var re=this;return(0,_.Z)(function*(){return yield re.selectUnderlyingResolver(),re.assertedUnderlyingResolver._openRedirect(y,b,T,M)})()}_isIframeWebStorageSupported(y,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,b)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return Hd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,_.Z)(function*(){if(y.underlyingResolver)return;const b=yield function xh(){return rd.apply(this,arguments)}();y.underlyingResolver=b?y.cordovaResolver:y.browserResolver})()}}function zd(C){return C.unwrap()}function Ou(C){return tg(C)}function tg(C){const{_tokenResponse:y}=C instanceof Q.ZR?C.customData:C;if(!y)return null;if(!(C instanceof Q.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return _n.credentialFromResult(C);const b=y.providerId;if(!b||b===xe.PASSWORD)return null;let T;switch(b){case xe.GOOGLE:T=_o;break;case xe.FACEBOOK:T=Ps;break;case xe.GITHUB:T=Js;break;case xe.TWITTER:T=Ka;break;default:const{oauthIdToken:M,oauthAccessToken:re,oauthTokenSecret:He,pendingToken:ct,nonce:jt}=y;return re||He||M||ct?ct?b.startsWith("saml.")?eo._create(b,ct):Os._fromParams({providerId:b,signInMethod:b,pendingToken:ct,idToken:M,accessToken:re}):new ji(b).credential({idToken:M,accessToken:re,rawNonce:jt}):null}return C instanceof Q.ZR?T.credentialFromError(C):T.credentialFromResult(C)}function Yi(C,y){return y.catch(b=>{throw b instanceof Q.ZR&&function Nm(C,y){var b;const T=null===(b=y.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===y?.code)y.resolver=new Of(C,function zn(C,y){var b;const T=(0,Q.m9)(C),M=y;return Ce(y.customData.operationType,T,"argument-error"),Ce(null===(b=M.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,T,"argument-error"),Kn._fromError(T,M)}(C,y));else if(T){const M=tg(y),re=y;M&&(re.credential=M,re.tenantId=T.tenantId||void 0,re.email=T.email||void 0,re.phoneNumber=T.phoneNumber||void 0)}}(C,b),b}).then(b=>{const M=b.user;return{operationType:b.operationType,credential:Ou(b),additionalUserInfo:Id(b),user:Hl.getOrCreate(M)}})}function Fi(C,y){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,_.Z)(function*(C,y){const b=yield y;return{verificationId:b.verificationId,confirm:T=>Yi(C,b.confirm(T))}})).apply(this,arguments)}class Of{constructor(y,b){this.resolver=b,this.auth=function R_(C){return C.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return Yi(zd(this.auth),this.resolver.resolveSignIn(y))}}class Hl{constructor(y){this._delegate=y,this.multiFactor=function nr(C){const y=(0,Q.m9)(C);return Ht.has(y)||Ht.set(y,_t._fromUser(y)),Ht.get(y)}(y)}static getOrCreate(y){return Hl.USER_MAP.has(y)||Hl.USER_MAP.set(y,new Hl(y)),Hl.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var b=this;return(0,_.Z)(function*(){return Yi(b.auth,Y(b._delegate,y))})()}linkWithPhoneNumber(y,b){var T=this;return(0,_.Z)(function*(){return Fi(T.auth,function k(C,y,b){return D.apply(this,arguments)}(T._delegate,y,b))})()}linkWithPopup(y){var b=this;return(0,_.Z)(function*(){return Yi(b.auth,function Ys(C,y,b){return Yc.apply(this,arguments)}(b._delegate,y,lo))})()}linkWithRedirect(y){var b=this;return(0,_.Z)(function*(){return yield kf(Gn(b.auth)),yo(b._delegate,y,lo)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var b=this;return(0,_.Z)(function*(){return Yi(b.auth,z(b._delegate,y))})()}reauthenticateWithPhoneNumber(y,b){return Fi(this.auth,function L(C,y,b){return q.apply(this,arguments)}(this._delegate,y,b))}reauthenticateWithPopup(y){return Yi(this.auth,function vu(C,y,b){return kl.apply(this,arguments)}(this._delegate,y,lo))}reauthenticateWithRedirect(y){var b=this;return(0,_.Z)(function*(){return yield kf(Gn(b.auth)),pa(b._delegate,y,lo)})()}sendEmailVerification(y){return function ka(C,y){return Ra.apply(this,arguments)}(this._delegate,y)}unlink(y){var b=this;return(0,_.Z)(function*(){return yield function no(C,y){return ur.apply(this,arguments)}(b._delegate,y),b})()}updateEmail(y){return function Mo(C,y){return el((0,Q.m9)(C),y,null)}(this._delegate,y)}updatePassword(y){return function hr(C,y){return el((0,Q.m9)(C),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function tt(C,y){return zt.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function _u(C,y){return Qr.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,b){return function ec(C,y,b){return Cc.apply(this,arguments)}(this._delegate,y,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hl.USER_MAP=new WeakMap;const sd=Ce;let od=(()=>{class C{constructor(b,T){if(this.app=b,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=b.options;sd(M,"invalid-api-key",{appName:b.name}),sd(M,"invalid-api-key",{appName:b.name});const re=typeof window<"u"?lo:void 0;this._delegate=T.initialize({options:{persistence:ad(M,b.name),popupRedirectResolver:re}}),this._delegate._updateErrorMap(xt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,T){!function Er(C,y,b){const T=Gn(C);Ce(T._canInitEmulator,T,"emulator-config-failed"),Ce(/^https?:\/\//.test(y),T,"invalid-emulator-scheme");const M=!!b?.disableWarnings,re=qn(y),{host:He,port:ct}=function Nr(C){const y=qn(C),b=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!b)return{host:"",port:null};const T=b[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(T);if(M){const re=M[1];return{host:re,port:na(T.substr(re.length+1))}}{const[re,He]=T.split(":");return{host:re,port:na(He)}}}(y);T.config.emulator={url:`${re}//${He}${null===ct?"":`:${ct}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:He,port:ct,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Ia(){function C(){const y=document.createElement("p"),b=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,b,T)}applyActionCode(b){return function Cd(C,y){return Aa.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return tr(this._delegate,b)}confirmPasswordReset(b,T){return function wl(C,y,b){return xl.apply(this,arguments)}(this._delegate,b,T)}createUserWithEmailAndPassword(b,T){var M=this;return(0,_.Z)(function*(){return Yi(M._delegate,function Gr(C,y,b){return la.apply(this,arguments)}(M._delegate,b,T))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function Ja(C,y){return qo.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function Za(C,y){return"EMAIL_SIGNIN"===ns.parseLink(y)?.operation}(0,b)}getRedirectResult(){var b=this;return(0,_.Z)(function*(){sd(kc(),b._delegate,"operation-not-supported-in-this-environment");const T=yield function Td(C,y){return bu.apply(this,arguments)}(b._delegate,lo);return T?Yi(b._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function bh(C,y){Gn(C)._logFramework(y)}(this._delegate,b)}onAuthStateChanged(b,T,M){const{next:re,error:He,complete:ct}=ya(b,T,M);return this._delegate.onAuthStateChanged(re,He,ct)}onIdTokenChanged(b,T,M){const{next:re,error:He,complete:ct}=ya(b,T,M);return this._delegate.onIdTokenChanged(re,He,ct)}sendSignInLinkToEmail(b,T){return function El(C,y,b){return Ma.apply(this,arguments)}(this._delegate,b,T)}sendPasswordResetEmail(b,T){return function Ds(C,y,b){return bl.apply(this,arguments)}(this._delegate,b,T||void 0)}setPersistence(b){var T=this;return(0,_.Z)(function*(){let M;switch(function eg(C,y){Ul(Object.values(Jo).includes(y),C,"invalid-persistence-type"),(0,Q.b$)()?Ul(y!==Jo.SESSION,C,"unsupported-persistence-type"):(0,Q.UG)()?Ul(y===Jo.NONE,C,"unsupported-persistence-type"):Vd()?Ul(y===Jo.NONE||y===Jo.LOCAL&&(0,Q.hl)(),C,"unsupported-persistence-type"):Ul(y===Jo.NONE||Xr(),C,"unsupported-persistence-type")}(T._delegate,b),b){case Jo.SESSION:M=Ws;break;case Jo.LOCAL:M=(yield H(pt)._isAvailable())?pt:Us;break;case Jo.NONE:M=Ie;break;default:return De("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return Yi(this._delegate,function rs(C){return to.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return Yi(this._delegate,Xl(this._delegate,b))}signInWithCustomToken(b){return Yi(this._delegate,function Bn(C,y){return bi.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,T){return Yi(this._delegate,function Ec(C,y,b){return Xl((0,Q.m9)(C),Cs.credential(y,b))}(this._delegate,b,T))}signInWithEmailLink(b,T){return Yi(this._delegate,function Cl(C,y,b){return Qa.apply(this,arguments)}(this._delegate,b,T))}signInWithPhoneNumber(b,T){return Fi(this._delegate,function il(C,y,b){return A.apply(this,arguments)}(this._delegate,b,T))}signInWithPopup(b){var T=this;return(0,_.Z)(function*(){return sd(kc(),T._delegate,"operation-not-supported-in-this-environment"),Yi(T._delegate,function fa(C,y,b){return Ml.apply(this,arguments)}(T._delegate,b,lo))})()}signInWithRedirect(b){var T=this;return(0,_.Z)(function*(){return sd(kc(),T._delegate,"operation-not-supported-in-this-environment"),yield kf(T._delegate),ma(T._delegate,b,lo)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function qa(C,y){return Is.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Jo,C})();function ya(C,y,b){let T=C;"function"!=typeof C&&({next:T,error:y,complete:b}=C);const M=T;return{next:He=>M(He&&Hl.getOrCreate(He)),error:y,complete:b}}function ad(C,y){const b=function Rc(C,y){const b=jd();if(!b)return[];const T=se(Bo,C,y);switch(b.getItem(T)){case Jo.NONE:return[Ie];case Jo.LOCAL:return[pt,Ws];case Jo.SESSION:return[Ws];default:return[]}}(C,y);if(typeof self<"u"&&!b.includes(pt)&&b.push(pt),typeof window<"u")for(const T of[Us,Ws])b.includes(T)||b.push(T);return b.includes(Ie)||b.push(Ie),b}class Pf{constructor(){this.providerId="phone",this._delegate=new _n(zd(h.Z.auth()))}static credential(y,b){return _n.credential(y,b)}verifyPhoneNumber(y,b){return this._delegate.verifyPhoneNumber(y,b)}unwrap(){return this._delegate}}Pf.PHONE_SIGN_IN_METHOD=_n.PHONE_SIGN_IN_METHOD,Pf.PROVIDER_ID=_n.PROVIDER_ID;const ng=Ce;class jl{constructor(y,b,T=h.Z.app()){var M;ng(null===(M=T.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new oo(y,b,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Eh(C){C.INTERNAL.registerComponent(new we.wA("auth-compat",y=>{const b=y.getProvider("app-compat").getImmediate(),T=y.getProvider("auth");return new od(b,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pe_EMAIL_SIGNIN,PASSWORD_RESET:pe_PASSWORD_RESET,RECOVER_EMAIL:pe_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:pe_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:pe_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:pe_VERIFY_EMAIL}},EmailAuthProvider:Cs,FacebookAuthProvider:Ps,GithubAuthProvider:Js,GoogleAuthProvider:_o,OAuthProvider:ji,SAMLAuthProvider:Wo,PhoneAuthProvider:Pf,PhoneMultiFactorGenerator:Du,RecaptchaVerifier:jl,TwitterAuthProvider:Ka,Auth:od,AuthCredential:Cr,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.4.0")}(h.Z)},8766:(Wt,Ge,P)=>{P.d(Ge,{Lj:()=>Ve,X3:()=>Ct});var _=P(5861);const h=(ge,Ce)=>Ce.some($e=>ge instanceof $e);let Q,ve;const we=new WeakMap,ce=new WeakMap,xe=new WeakMap,ne=new WeakMap,_e=new WeakMap;let Ke={get(ge,Ce,$e){if(ge instanceof IDBTransaction){if("done"===Ce)return ce.get(ge);if("objectStoreNames"===Ce)return ge.objectStoreNames||xe.get(ge);if("store"===Ce)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return Le(ge[Ce])},set:(ge,Ce,$e)=>(ge[Ce]=$e,!0),has:(ge,Ce)=>ge instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in ge};function Ze(ge){return"function"==typeof ge?function ht(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...Ce){return ge.apply(Ee(this),Ce),Le(we.get(this))}:function(...Ce){return Le(ge.apply(Ee(this),Ce))}:function(Ce,...$e){const mt=ge.call(Ee(this),Ce,...$e);return xe.set(mt,Ce.sort?Ce.sort():[Ce]),Le(mt)}}(ge):(ge instanceof IDBTransaction&&function nt(ge){if(ce.has(ge))return;const Ce=new Promise(($e,mt)=>{const nn=()=>{ge.removeEventListener("complete",Nt),ge.removeEventListener("error",rt),ge.removeEventListener("abort",rt)},Nt=()=>{$e(),nn()},rt=()=>{mt(ge.error||new DOMException("AbortError","AbortError")),nn()};ge.addEventListener("complete",Nt),ge.addEventListener("error",rt),ge.addEventListener("abort",rt)});ce.set(ge,Ce)}(ge),h(ge,function Ae(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,Ke):ge)}function Le(ge){if(ge instanceof IDBRequest)return function pe(ge){const Ce=new Promise(($e,mt)=>{const nn=()=>{ge.removeEventListener("success",Nt),ge.removeEventListener("error",rt)},Nt=()=>{$e(Le(ge.result)),nn()},rt=()=>{mt(ge.error),nn()};ge.addEventListener("success",Nt),ge.addEventListener("error",rt)});return Ce.then($e=>{$e instanceof IDBCursor&&we.set($e,ge)}).catch(()=>{}),_e.set(Ce,ge),Ce}(ge);if(ne.has(ge))return ne.get(ge);const Ce=Ze(ge);return Ce!==ge&&(ne.set(ge,Ce),_e.set(Ce,ge)),Ce}const Ee=ge=>_e.get(ge);function Ct(ge,Ce,{blocked:$e,upgrade:mt,blocking:nn,terminated:Nt}={}){const rt=indexedDB.open(ge,Ce),ft=Le(rt);return mt&&rt.addEventListener("upgradeneeded",Et=>{mt(Le(rt.result),Et.oldVersion,Et.newVersion,Le(rt.transaction))}),$e&&rt.addEventListener("blocked",()=>$e()),ft.then(Et=>{Nt&&Et.addEventListener("close",()=>Nt()),nn&&Et.addEventListener("versionchange",()=>nn())}).catch(()=>{}),ft}function Ve(ge,{blocked:Ce}={}){const $e=indexedDB.deleteDatabase(ge);return Ce&&$e.addEventListener("blocked",()=>Ce()),Le($e).then(()=>{})}const De=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],ze=new Map;function Xe(ge,Ce){if(!(ge instanceof IDBDatabase)||Ce in ge||"string"!=typeof Ce)return;if(ze.get(Ce))return ze.get(Ce);const $e=Ce.replace(/FromIndex$/,""),mt=Ce!==$e,nn=me.includes($e);if(!($e in(mt?IDBIndex:IDBObjectStore).prototype)||!nn&&!De.includes($e))return;const Nt=function(){var rt=(0,_.Z)(function*(ft,...Et){const Mt=this.transaction(ft,nn?"readwrite":"readonly");let It=Mt.store;return mt&&(It=It.index(Et.shift())),(yield Promise.all([It[$e](...Et),nn&&Mt.done]))[0]});return function(Et){return rt.apply(this,arguments)}}();return ze.set(Ce,Nt),Nt}!function xt(ge){Ke=ge(Ke)}(ge=>({...ge,get:(Ce,$e,mt)=>Xe(Ce,$e)||ge.get(Ce,$e,mt),has:(Ce,$e)=>!!Xe(Ce,$e)||ge.has(Ce,$e)}))},5861:(Wt,Ge,P)=>{function _(Q,ve,Ae,Se,we,ce,xe){try{var ne=Q[ce](xe),_e=ne.value}catch(pe){return void Ae(pe)}ne.done?ve(_e):Promise.resolve(_e).then(Se,we)}function h(Q){return function(){var ve=this,Ae=arguments;return new Promise(function(Se,we){var ce=Q.apply(ve,Ae);function xe(_e){_(ce,Se,we,xe,ne,"next",_e)}function ne(_e){_(ce,Se,we,xe,ne,"throw",_e)}xe(void 0)})}}P.d(Ge,{Z:()=>h})}},Wt=>{Wt(Wt.s=687)}]);